xfs: fix return of uninitialized value in variable error

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Colin Ian King <colin.king@canonical.com>
commit 3b6dd9a9aeeada19d0c820ff68e979243a888bb6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/3b6dd9a9.failed

A previous commit removed a call to xfs_attr3_leaf_read that
assigned an error return code to variable error. We now have
a few early error return paths to label 'out' that return
error if error is set; however error now is uninitialized
so potentially garbage is being returned.  Fix this by setting
error to zero to restore the original behaviour where error
was zero at the label 'restart'.

Addresses-Coverity: ("Uninitialized scalar variable")
Fixes: 07120f1abdff ("xfs: Add xfs_has_attr and subroutines")
	Signed-off-by: Colin Ian King <colin.king@canonical.com>
	Reviewed-by: Brian Foster <bfoster@redhat.com>
	Reviewed-by: Darrick J. Wong <djwong@kernel.org>
	Signed-off-by: Darrick J. Wong <djwong@kernel.org>
(cherry picked from commit 3b6dd9a9aeeada19d0c820ff68e979243a888bb6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/libxfs/xfs_attr.c
diff --cc fs/xfs/libxfs/xfs_attr.c
index 9cb14a5eed33,902e5f7e6642..000000000000
--- a/fs/xfs/libxfs/xfs_attr.c
+++ b/fs/xfs/libxfs/xfs_attr.c
@@@ -807,9 -928,11 +807,15 @@@ restart
  	 * Search to see if name already exists, and get back a pointer
  	 * to where it should go.
  	 */
++<<<<<<< HEAD
 +	error = xfs_da3_node_lookup_int(state, &retval);
 +	if (error)
++=======
+ 	error = 0;
+ 	retval = xfs_attr_node_hasname(args, &state);
+ 	if (retval != -ENOATTR && retval != -EEXIST)
++>>>>>>> 3b6dd9a9aeea (xfs: fix return of uninitialized value in variable error)
  		goto out;
 -
  	blk = &state->path.blk[ state->path.active-1 ];
  	ASSERT(blk->magic == XFS_ATTR_LEAF_MAGIC);
  	if (retval == -ENOATTR && (args->attr_flags & XATTR_REPLACE))
* Unmerged path fs/xfs/libxfs/xfs_attr.c
