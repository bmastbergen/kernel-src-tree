ionic: simplify use of completion types

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Shannon Nelson <snelson@pensando.io>
commit a25edab93b2877f3e20673464286a589678b87c2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/a25edab9.failed

Make better use of our struct types and type checking by passing
the actual Rx or Tx completion type rather than a generic void
pointer type.

	Signed-off-by: Shannon Nelson <snelson@pensando.io>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit a25edab93b2877f3e20673464286a589678b87c2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/pensando/ionic/ionic_txrx.c
diff --cc drivers/net/ethernet/pensando/ionic/ionic_txrx.c
index 8369e1e143a1,c63e6e7aa47b..000000000000
--- a/drivers/net/ethernet/pensando/ionic/ionic_txrx.c
+++ b/drivers/net/ethernet/pensando/ionic/ionic_txrx.c
@@@ -159,11 -125,12 +159,15 @@@ static bool ionic_rx_buf_recycle(struc
  
  static struct sk_buff *ionic_rx_frags(struct ionic_queue *q,
  				      struct ionic_desc_info *desc_info,
- 				      struct ionic_cq_info *cq_info)
+ 				      struct ionic_rxq_comp *comp)
  {
++<<<<<<< HEAD
 +	struct ionic_rxq_comp *comp = cq_info->cq_desc;
 +	struct device *dev = q->lif->ionic->dev;
++=======
+ 	struct net_device *netdev = q->lif->netdev;
++>>>>>>> a25edab93b28 (ionic: simplify use of completion types)
  	struct ionic_buf_info *buf_info;
 -	struct ionic_rx_stats *stats;
 -	struct device *dev = q->dev;
  	struct sk_buff *skb;
  	unsigned int i;
  	u16 frag_len;
@@@ -215,11 -185,12 +216,15 @@@
  
  static struct sk_buff *ionic_rx_copybreak(struct ionic_queue *q,
  					  struct ionic_desc_info *desc_info,
- 					  struct ionic_cq_info *cq_info)
+ 					  struct ionic_rxq_comp *comp)
  {
++<<<<<<< HEAD
 +	struct ionic_rxq_comp *comp = cq_info->cq_desc;
 +	struct device *dev = q->lif->ionic->dev;
++=======
+ 	struct net_device *netdev = q->lif->netdev;
++>>>>>>> a25edab93b28 (ionic: simplify use of completion types)
  	struct ionic_buf_info *buf_info;
 -	struct ionic_rx_stats *stats;
 -	struct device *dev = q->dev;
  	struct sk_buff *skb;
  	u16 len;
  
@@@ -252,10 -229,10 +257,15 @@@ static void ionic_rx_clean(struct ionic
  			   struct ionic_cq_info *cq_info,
  			   void *cb_arg)
  {
++<<<<<<< HEAD
 +	struct ionic_rxq_comp *comp = cq_info->cq_desc;
++=======
+ 	struct ionic_rxq_comp *comp = cq_info->rxcq;
+ 	struct net_device *netdev = q->lif->netdev;
++>>>>>>> a25edab93b28 (ionic: simplify use of completion types)
  	struct ionic_qcq *qcq = q_to_qcq(q);
  	struct ionic_rx_stats *stats;
 +	struct net_device *netdev;
  	struct sk_buff *skb;
  
  	stats = q_to_rx_stats(q);
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_txrx.c
