iommu/arm-smmu-v3: Remove the page 1 fixup

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Robin Murphy <robin.murphy@arm.com>
commit 86d2d9214880c1879cb0ff466cce2fcd9c853e44
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/86d2d921.failed

Since we now keep track of page 1 via a separate pointer that already
encapsulates aliasing to page 0 as necessary, we can remove the clunky
fixup routine and simply use the relevant bases directly. The current
architecture spec (IHI0070D.a) defines SMMU_{EVENTQ,PRIQ}_{PROD,CONS} as
offsets relative to page 1, so the cleanup represents a little bit of
convergence as well as just lines of code saved.

	Signed-off-by: Robin Murphy <robin.murphy@arm.com>
Link: https://lore.kernel.org/r/08d9bda570bb5681f11a2f250a31be9ef763b8c5.1611238182.git.robin.murphy@arm.com
	Signed-off-by: Will Deacon <will@kernel.org>
(cherry picked from commit 86d2d9214880c1879cb0ff466cce2fcd9c853e44)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iommu/arm-smmu-v3.c
#	drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3.h
diff --cc drivers/iommu/arm-smmu-v3.c
index d64028588d13,bca458c00e48..000000000000
--- a/drivers/iommu/arm-smmu-v3.c
+++ b/drivers/iommu/arm-smmu-v3.c
@@@ -740,20 -88,6 +740,23 @@@ static struct arm_smmu_option_prop arm_
  	{ 0, NULL},
  };
  
++<<<<<<< HEAD:drivers/iommu/arm-smmu-v3.c
 +static inline void __iomem *arm_smmu_page1_fixup(unsigned long offset,
 +						 struct arm_smmu_device *smmu)
 +{
 +	if (offset > SZ_64K)
 +		return smmu->page1 + offset - SZ_64K;
 +
 +	return smmu->base + offset;
 +}
 +
 +static struct arm_smmu_domain *to_smmu_domain(struct iommu_domain *dom)
 +{
 +	return container_of(dom, struct arm_smmu_domain, domain);
 +}
 +
++=======
++>>>>>>> 86d2d9214880 (iommu/arm-smmu-v3: Remove the page 1 fixup):drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3.c
  static void parse_driver_options(struct arm_smmu_device *smmu)
  {
  	int i = 0;
* Unmerged path drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3.h
* Unmerged path drivers/iommu/arm-smmu-v3.c
* Unmerged path drivers/iommu/arm/arm-smmu-v3/arm-smmu-v3.h
