xfs: make the btree cursor union members named structure

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Dave Chinner <dchinner@redhat.com>
commit 68422d90dad4fe98f99d6e414aeec9a58d5185d5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/68422d90.failed

we need to name the btree cursor private structures to be able
to pull them out of the deeply nested structure definition they are
in now.

Based on code extracted from a patchset by Darrick Wong.

	Signed-off-by: Dave Chinner <dchinner@redhat.com>
	Reviewed-by: Darrick J. Wong <darrick.wong@oracle.com>
	Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>
	Reviewed-by: Brian Foster <bfoster@redhat.com>
(cherry picked from commit 68422d90dad4fe98f99d6e414aeec9a58d5185d5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/libxfs/xfs_btree.h
diff --cc fs/xfs/libxfs/xfs_btree.h
index 4a1c98bdfaad,8fd458947320..000000000000
--- a/fs/xfs/libxfs/xfs_btree.h
+++ b/fs/xfs/libxfs/xfs_btree.h
@@@ -209,23 -230,9 +230,29 @@@ typedef struct xfs_btree_cu
  	xfs_btnum_t	bc_btnum;	/* identifies which btree type */
  	int		bc_statoff;	/* offset of btre stats array */
  	union {
++<<<<<<< HEAD
 +		struct {			/* needed for BNO, CNT, INO */
 +			struct xfs_buf	*agbp;	/* agf/agi buffer pointer */
 +			xfs_agnumber_t	agno;	/* ag number */
 +			union xfs_btree_cur_private	priv;
 +		} a;
 +		struct {			/* needed for BMAP */
 +			struct xfs_inode *ip;	/* pointer to our inode */
 +			int		allocated;	/* count of alloced */
 +			short		forksize;	/* fork's inode space */
 +			char		whichfork;	/* data or attr fork */
 +			char		flags;		/* flags */
 +#define	XFS_BTCUR_BPRV_WASDEL		(1<<0)		/* was delayed */
 +#define	XFS_BTCUR_BPRV_INVALID_OWNER	(1<<1)		/* for ext swap */
 +		} b;
 +	}		bc_private;	/* per-btree type data */
 +#define bc_ag	bc_private.a
 +#define bc_ino	bc_private.b
++=======
+ 		struct xfs_btree_cur_ag	bc_ag;
+ 		struct xfs_btree_cur_ino bc_ino;
+ 	};
++>>>>>>> 68422d90dad4 (xfs: make the btree cursor union members named structure)
  } xfs_btree_cur_t;
  
  /* cursor flags */
* Unmerged path fs/xfs/libxfs/xfs_btree.h
