net/mlx5: E-switch, Rename functions to follow naming convention.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Chris Mi <cmi@nvidia.com>
commit 0a9e2307870bdb627421b4b0bbac04b1ab8e1688
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/0a9e2307.failed

Public api starts with mlx5 and remove mlx5 for non-public api.

	Signed-off-by: Chris Mi <cmi@nvidia.com>
	Signed-off-by: Saeed Mahameed <saeedm@nvidia.com>
(cherry picked from commit 0a9e2307870bdb627421b4b0bbac04b1ab8e1688)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c
index ff63d3681390,63e22e9e5ad1..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c
@@@ -399,8 -591,9 +399,14 @@@ mlx5_eswitch_add_fwd_rule(struct mlx5_e
  	atomic64_inc(&esw->offloads.num_flows);
  
  	return rule;
++<<<<<<< HEAD
 +add_err:
 +	esw_vport_tbl_put(esw, &fwd_attr);
++=======
+ err_chain_src_rewrite:
+ 	esw_put_dest_tables_loop(esw, attr, 0, i);
+ 	mlx5_esw_vporttbl_put(esw, &fwd_attr);
++>>>>>>> 0a9e2307870b (net/mlx5: E-switch, Rename functions to follow naming convention.)
  err_get_fwd:
  	mlx5_chains_put_table(chains, attr->chain, attr->prio, 0);
  err_get_fast:
@@@ -438,11 -631,12 +444,11 @@@ __mlx5_eswitch_del_rule(struct mlx5_esw
  	}
  
  	if (fwd_rule)  {
- 		esw_vport_tbl_put(esw, &fwd_attr);
+ 		mlx5_esw_vporttbl_put(esw, &fwd_attr);
  		mlx5_chains_put_table(chains, attr->chain, attr->prio, 0);
 -		esw_put_dest_tables_loop(esw, attr, 0, esw_attr->split_count);
  	} else {
  		if (split)
- 			esw_vport_tbl_put(esw, &fwd_attr);
+ 			mlx5_esw_vporttbl_put(esw, &fwd_attr);
  		else if (attr->chain || attr->prio)
  			mlx5_chains_put_table(chains, attr->chain, attr->prio, 0);
  		esw_cleanup_dests(esw, attr);
diff --git a/drivers/net/ethernet/mellanox/mlx5/core/esw/vporttbl.c b/drivers/net/ethernet/mellanox/mlx5/core/esw/vporttbl.c
index 8219c5d50db0..6c4246181615 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/esw/vporttbl.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/esw/vporttbl.c
@@ -66,7 +66,7 @@ esw_vport_tbl_lookup(struct mlx5_eswitch *esw, struct mlx5_vport_key *skey, u32
 }
 
 struct mlx5_flow_table *
-esw_vport_tbl_get(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr)
+mlx5_esw_vporttbl_get(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr)
 {
 	struct mlx5_core_dev *dev = esw->dev;
 	struct mlx5_flow_namespace *ns;
@@ -116,7 +116,7 @@ esw_vport_tbl_get(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr)
 }
 
 void
-esw_vport_tbl_put(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr)
+mlx5_esw_vporttbl_put(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr)
 {
 	struct mlx5_vport_table *e;
 	struct mlx5_vport_key key;
diff --git a/drivers/net/ethernet/mellanox/mlx5/core/eswitch.h b/drivers/net/ethernet/mellanox/mlx5/core/eswitch.h
index 451410599bb1..4d51d9bba5e9 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/eswitch.h
+++ b/drivers/net/ethernet/mellanox/mlx5/core/eswitch.h
@@ -711,9 +711,9 @@ struct mlx5_vport_tbl_attr {
 };
 
 struct mlx5_flow_table *
-esw_vport_tbl_get(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr);
+mlx5_esw_vporttbl_get(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr);
 void
-esw_vport_tbl_put(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr);
+mlx5_esw_vporttbl_put(struct mlx5_eswitch *esw, struct mlx5_vport_tbl_attr *attr);
 
 struct mlx5_flow_handle *
 esw_add_restore_rule(struct mlx5_eswitch *esw, u32 tag);
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/eswitch_offloads.c
