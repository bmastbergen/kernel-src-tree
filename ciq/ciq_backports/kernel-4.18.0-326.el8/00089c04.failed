objtool: Rename frame.h -> objtool.h

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Julien Thierry <jthierry@redhat.com>
commit 00089c048eb4a8250325efb32a2724fd0da68cce
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/00089c04.failed

Header frame.h is getting more code annotations to help objtool analyze
object files.

Rename the file to objtool.h.

[ jpoimboe: add objtool.h to MAINTAINERS ]

	Signed-off-by: Julien Thierry <jthierry@redhat.com>
	Signed-off-by: Josh Poimboeuf <jpoimboe@redhat.com>
(cherry picked from commit 00089c048eb4a8250325efb32a2724fd0da68cce)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/include/asm/nospec-branch.h
#	arch/x86/kernel/kprobes/core.c
#	arch/x86/kernel/kprobes/opt.c
#	arch/x86/kernel/reboot.c
diff --cc arch/x86/include/asm/nospec-branch.h
index ccc3adb43e6c,86651e86289d..000000000000
--- a/arch/x86/include/asm/nospec-branch.h
+++ b/arch/x86/include/asm/nospec-branch.h
@@@ -4,6 -4,7 +4,10 @@@
  #define _ASM_X86_NOSPEC_BRANCH_H_
  
  #include <linux/static_key.h>
++<<<<<<< HEAD
++=======
+ #include <linux/objtool.h>
++>>>>>>> 00089c048eb4 (objtool: Rename frame.h -> objtool.h)
  
  #include <asm/alternative.h>
  #include <asm/alternative-asm.h>
diff --cc arch/x86/kernel/kprobes/core.c
index a715e1da03ed,ae2488643029..000000000000
--- a/arch/x86/kernel/kprobes/core.c
+++ b/arch/x86/kernel/kprobes/core.c
@@@ -50,9 -38,11 +50,14 @@@
  #include <linux/kdebug.h>
  #include <linux/kallsyms.h>
  #include <linux/ftrace.h>
- #include <linux/frame.h>
  #include <linux/kasan.h>
  #include <linux/moduleloader.h>
++<<<<<<< HEAD
++=======
+ #include <linux/objtool.h>
+ #include <linux/vmalloc.h>
+ #include <linux/pgtable.h>
++>>>>>>> 00089c048eb4 (objtool: Rename frame.h -> objtool.h)
  
  #include <asm/text-patching.h>
  #include <asm/cacheflush.h>
diff --cc arch/x86/kernel/kprobes/opt.c
index 58e3ea0b7640,9b1cb8f519b0..000000000000
--- a/arch/x86/kernel/kprobes/opt.c
+++ b/arch/x86/kernel/kprobes/opt.c
@@@ -28,7 -16,9 +28,13 @@@
  #include <linux/kdebug.h>
  #include <linux/kallsyms.h>
  #include <linux/ftrace.h>
++<<<<<<< HEAD
 +#include <linux/frame.h>
++=======
+ #include <linux/objtool.h>
+ #include <linux/pgtable.h>
+ #include <linux/static_call.h>
++>>>>>>> 00089c048eb4 (objtool: Rename frame.h -> objtool.h)
  
  #include <asm/text-patching.h>
  #include <asm/cacheflush.h>
diff --cc arch/x86/kernel/reboot.c
index f60f792b3c4d,db115943e8bd..000000000000
--- a/arch/x86/kernel/reboot.c
+++ b/arch/x86/kernel/reboot.c
@@@ -10,7 -10,8 +10,12 @@@
  #include <linux/sched.h>
  #include <linux/tboot.h>
  #include <linux/delay.h>
++<<<<<<< HEAD
 +#include <linux/frame.h>
++=======
+ #include <linux/objtool.h>
+ #include <linux/pgtable.h>
++>>>>>>> 00089c048eb4 (objtool: Rename frame.h -> objtool.h)
  #include <acpi/reboot.h>
  #include <asm/io.h>
  #include <asm/apic.h>
diff --git a/MAINTAINERS b/MAINTAINERS
index 54f0e2bb6032..af3aec0f5615 100644
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@ -10541,6 +10541,7 @@ M:	Josh Poimboeuf <jpoimboe@redhat.com>
 M:	Peter Zijlstra <peterz@infradead.org>
 S:	Supported
 F:	tools/objtool/
+F:	include/linux/objtool.h
 
 OCXL (Open Coherent Accelerator Processor Interface OpenCAPI) DRIVER
 M:	Frederic Barrat <fbarrat@linux.vnet.ibm.com>
* Unmerged path arch/x86/include/asm/nospec-branch.h
* Unmerged path arch/x86/kernel/kprobes/core.c
* Unmerged path arch/x86/kernel/kprobes/opt.c
* Unmerged path arch/x86/kernel/reboot.c
diff --git a/arch/x86/kvm/svm/svm.c b/arch/x86/kvm/svm/svm.c
index c96b24a58317..7d5dcad2c542 100644
--- a/arch/x86/kvm/svm/svm.c
+++ b/arch/x86/kvm/svm/svm.c
@@ -19,7 +19,7 @@
 #include <linux/trace_events.h>
 #include <linux/slab.h>
 #include <linux/hashtable.h>
-#include <linux/frame.h>
+#include <linux/objtool.h>
 #include <linux/psp-sev.h>
 #include <linux/file.h>
 #include <linux/pagemap.h>
diff --git a/arch/x86/kvm/vmx/nested.c b/arch/x86/kvm/vmx/nested.c
index 883f72177cae..f62556e56450 100644
--- a/arch/x86/kvm/vmx/nested.c
+++ b/arch/x86/kvm/vmx/nested.c
@@ -1,6 +1,6 @@
 // SPDX-License-Identifier: GPL-2.0
 
-#include <linux/frame.h>
+#include <linux/objtool.h>
 #include <linux/percpu.h>
 
 #include <asm/debugreg.h>
diff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.c
index 5c2090163cc9..de837eff461a 100644
--- a/arch/x86/kvm/vmx/vmx.c
+++ b/arch/x86/kvm/vmx/vmx.c
@@ -13,7 +13,6 @@
  *   Yaniv Kamay  <yaniv@qumranet.com>
  */
 
-#include <linux/frame.h>
 #include <linux/highmem.h>
 #include <linux/hrtimer.h>
 #include <linux/kernel.h>
@@ -22,6 +21,7 @@
 #include <linux/moduleparam.h>
 #include <linux/mod_devicetable.h>
 #include <linux/mm.h>
+#include <linux/objtool.h>
 #include <linux/sched.h>
 #include <linux/sched/smt.h>
 #include <linux/slab.h>
diff --git a/arch/x86/xen/enlighten_pv.c b/arch/x86/xen/enlighten_pv.c
index 1479cac309bc..13cbc56afa34 100644
--- a/arch/x86/xen/enlighten_pv.c
+++ b/arch/x86/xen/enlighten_pv.c
@@ -32,7 +32,7 @@
 #include <linux/pci.h>
 #include <linux/gfp.h>
 #include <linux/edd.h>
-#include <linux/frame.h>
+#include <linux/objtool.h>
 
 #include <xen/xen.h>
 #include <xen/events.h>
diff --git a/drivers/gpu/drm/vmwgfx/vmwgfx_msg.c b/drivers/gpu/drm/vmwgfx/vmwgfx_msg.c
index e9f448a5ebb3..15b5bde69324 100644
--- a/drivers/gpu/drm/vmwgfx/vmwgfx_msg.c
+++ b/drivers/gpu/drm/vmwgfx/vmwgfx_msg.c
@@ -24,7 +24,7 @@
  *
  */
 
-#include <linux/frame.h>
+#include <linux/objtool.h>
 #include <linux/kernel.h>
 #include <linux/module.h>
 #include <linux/slab.h>
@@ -599,4 +599,3 @@ int vmw_msg_ioctl(struct drm_device *dev, void *data,
 
 	return -EINVAL;
 }
-
diff --git a/include/linux/frame.h b/include/linux/objtool.h
similarity index 90%
rename from include/linux/frame.h
rename to include/linux/objtool.h
index 02d3ca2d9598..bc34d5399c6f 100644
--- a/include/linux/frame.h
+++ b/include/linux/objtool.h
@@ -1,6 +1,6 @@
 /* SPDX-License-Identifier: GPL-2.0 */
-#ifndef _LINUX_FRAME_H
-#define _LINUX_FRAME_H
+#ifndef _LINUX_OBJTOOL_H
+#define _LINUX_OBJTOOL_H
 
 #ifdef CONFIG_STACK_VALIDATION
 /*
@@ -21,4 +21,4 @@
 
 #endif /* CONFIG_STACK_VALIDATION */
 
-#endif /* _LINUX_FRAME_H */
+#endif /* _LINUX_OBJTOOL_H */
diff --git a/kernel/bpf/core.c b/kernel/bpf/core.c
index 251b511ffb31..a9503abf5d8b 100644
--- a/kernel/bpf/core.c
+++ b/kernel/bpf/core.c
@@ -29,7 +29,7 @@
 #include <linux/moduleloader.h>
 #include <linux/bpf.h>
 #include <linux/btf.h>
-#include <linux/frame.h>
+#include <linux/objtool.h>
 #include <linux/rbtree_latch.h>
 #include <linux/kallsyms.h>
 #include <linux/rcupdate.h>
diff --git a/kernel/kexec_core.c b/kernel/kexec_core.c
index fd5c95ff9251..af6f1873ab4b 100644
--- a/kernel/kexec_core.c
+++ b/kernel/kexec_core.c
@@ -38,7 +38,7 @@
 #include <linux/syscore_ops.h>
 #include <linux/compiler.h>
 #include <linux/hugetlb.h>
-#include <linux/frame.h>
+#include <linux/objtool.h>
 
 #include <asm/page.h>
 #include <asm/sections.h>
