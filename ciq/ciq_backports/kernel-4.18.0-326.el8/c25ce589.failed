tweewide: Fix most Shebang lines

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Finn Behrens <me@kloenk.de>
commit c25ce589dca10d64dde139ae093abc258a32869c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/c25ce589.failed

Change every shebang which does not need an argument to use /usr/bin/env.
This is needed as not every distro has everything under /usr/bin,
sometimes not even bash.

	Signed-off-by: Finn Behrens <me@kloenk.de>
	Signed-off-by: Masahiro Yamada <masahiroy@kernel.org>
(cherry picked from commit c25ce589dca10d64dde139ae093abc258a32869c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/target/tcm_mod_builder.py
#	Documentation/trace/postprocess/decode_msr.py
#	scripts/bloat-o-meter
#	scripts/diffconfig
#	scripts/get_abi.pl
#	scripts/show_delta
#	scripts/sphinx-pre-install
#	scripts/tracing/draw_functrace.py
#	tools/perf/python/twatch.py
#	tools/power/x86/intel_pstate_tracer/intel_pstate_tracer.py
#	tools/testing/selftests/drivers/net/mlxsw/sharedbuffer_configuration.py
diff --cc Documentation/target/tcm_mod_builder.py
index b6d14c37794b,54492aa813b9..000000000000
--- a/Documentation/target/tcm_mod_builder.py
+++ b/Documentation/target/tcm_mod_builder.py
@@@ -1,4 -1,4 +1,8 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
+ #!/usr/bin/env python
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # The TCM v4 multi-protocol fabric module generation script for drivers/target/$NEW_MOD
  #
  # Copyright (c) 2010 Rising Tide Systems
diff --cc Documentation/trace/postprocess/decode_msr.py
index 46f250cfa249,aa9cc7abd5c2..000000000000
--- a/Documentation/trace/postprocess/decode_msr.py
+++ b/Documentation/trace/postprocess/decode_msr.py
@@@ -1,4 -1,4 +1,8 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
+ #!/usr/bin/env python
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # add symbolic names to read_msr / write_msr in trace
  # decode_msr msr-index.h < trace
  import sys
diff --cc scripts/bloat-o-meter
index 3bbb1e2ca706,652e9542043f..000000000000
--- a/scripts/bloat-o-meter
+++ b/scripts/bloat-o-meter
@@@ -1,4 -1,4 +1,8 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
+ #!/usr/bin/env python
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  #
  # Copyright 2004 Matt Mackall <mpm@selenic.com>
  #
diff --cc scripts/diffconfig
index 67b340972752,627eba5849b5..000000000000
--- a/scripts/diffconfig
+++ b/scripts/diffconfig
@@@ -1,4 -1,4 +1,8 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
+ #!/usr/bin/env python
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # SPDX-License-Identifier: GPL-2.0
  #
  # diffconfig - a tool to compare .config files.
diff --cc scripts/show_delta
index 3cc4c9e70d4c,28e67e178194..000000000000
--- a/scripts/show_delta
+++ b/scripts/show_delta
@@@ -1,4 -1,5 +1,9 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
+ #!/usr/bin/env python
+ # SPDX-License-Identifier: GPL-2.0-only
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  #
  # show_deltas: Read list of printk messages instrumented with
  # time data, and format with time deltas.
diff --cc scripts/sphinx-pre-install
index 067459760a7b,828a8615a918..000000000000
--- a/scripts/sphinx-pre-install
+++ b/scripts/sphinx-pre-install
@@@ -1,20 -1,16 +1,25 @@@
++<<<<<<< HEAD
 +#!/usr/bin/perl
++=======
+ #!/usr/bin/env perl
+ # SPDX-License-Identifier: GPL-2.0-or-later
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  use strict;
  
 -# Copyright (c) 2017-2020 Mauro Carvalho Chehab <mchehab@kernel.org>
 +# Copyright (c) 2017 Mauro Carvalho Chehab <mchehab@kernel.org>
  #
 +# This program is free software; you can redistribute it and/or
 +# modify it under the terms of the GNU General Public License
 +# as published by the Free Software Foundation; either version 2
 +# of the License, or (at your option) any later version.
 +#
 +# This program is distributed in the hope that it will be useful,
 +# but WITHOUT ANY WARRANTY; without even the implied warranty of
 +# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 +# GNU General Public License for more details.
  
 -my $prefix = "./";
 -$prefix = "$ENV{'srctree'}/" if ($ENV{'srctree'});
 -
 -my $conf = $prefix . "Documentation/conf.py";
 -my $requirement_file = $prefix . "Documentation/sphinx/requirements.txt";
 -my $virtenv_prefix = "sphinx_";
 +my $virtenv_dir = "sphinx_1.4";
 +my $requirement_file = "Documentation/sphinx/requirements.txt";
  
  #
  # Static vars
diff --cc scripts/tracing/draw_functrace.py
index db40fa04cd51,74f8aadfd4cb..000000000000
--- a/scripts/tracing/draw_functrace.py
+++ b/scripts/tracing/draw_functrace.py
@@@ -1,4 -1,5 +1,9 @@@
++<<<<<<< HEAD
 +#!/usr/bin/python
++=======
+ #!/usr/bin/env python
+ # SPDX-License-Identifier: GPL-2.0-only
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  
  """
  Copyright 2008 (c) Frederic Weisbecker <fweisbec@gmail.com>
diff --cc tools/perf/python/twatch.py
index 0a29c5c3079f,04f3db29b9bc..000000000000
--- a/tools/perf/python/twatch.py
+++ b/tools/perf/python/twatch.py
@@@ -1,4 -1,5 +1,9 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python
++=======
+ #! /usr/bin/env python
+ # SPDX-License-Identifier: GPL-2.0-only
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # -*- python -*-
  # -*- coding: utf-8 -*-
  #   twatch - Experimental use of the perf python interface
diff --cc tools/power/x86/intel_pstate_tracer/intel_pstate_tracer.py
index 84e2b648e622,e15e20696d17..000000000000
--- a/tools/power/x86/intel_pstate_tracer/intel_pstate_tracer.py
+++ b/tools/power/x86/intel_pstate_tracer/intel_pstate_tracer.py
@@@ -1,4 -1,5 +1,9 @@@
++<<<<<<< HEAD
 +#!/usr/bin/python
++=======
+ #!/usr/bin/env python
+ # SPDX-License-Identifier: GPL-2.0-only
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # -*- coding: utf-8 -*-
  #
  """ This utility can be used to debug and tune the performance of the
diff --cc tools/testing/selftests/drivers/net/mlxsw/sharedbuffer_configuration.py
index 087789d0ce20,2223337eed0c..000000000000
--- a/tools/testing/selftests/drivers/net/mlxsw/sharedbuffer_configuration.py
+++ b/tools/testing/selftests/drivers/net/mlxsw/sharedbuffer_configuration.py
@@@ -1,4 -1,4 +1,8 @@@
++<<<<<<< HEAD
 +#!/usr/bin/python3
++=======
+ #!/usr/bin/env python
++>>>>>>> c25ce589dca1 (tweewide: Fix most Shebang lines)
  # SPDX-License-Identifier: GPL-2.0
  
  import subprocess
* Unmerged path scripts/get_abi.pl
diff --git a/Documentation/sphinx/parse-headers.pl b/Documentation/sphinx/parse-headers.pl
index d410f47567e9..006a05df318f 100755
--- a/Documentation/sphinx/parse-headers.pl
+++ b/Documentation/sphinx/parse-headers.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 use strict;
 use Text::Tabs;
 use Getopt::Long;
* Unmerged path Documentation/target/tcm_mod_builder.py
* Unmerged path Documentation/trace/postprocess/decode_msr.py
diff --git a/Documentation/trace/postprocess/trace-pagealloc-postprocess.pl b/Documentation/trace/postprocess/trace-pagealloc-postprocess.pl
index 0a120aae33ce..b9b7d80c2f9d 100644
--- a/Documentation/trace/postprocess/trace-pagealloc-postprocess.pl
+++ b/Documentation/trace/postprocess/trace-pagealloc-postprocess.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 # This is a POC (proof of concept or piece of crap, take your pick) for reading the
 # text representation of trace output related to page allocation. It makes an attempt
 # to extract some high-level information on what is going on. The accuracy of the parser
diff --git a/Documentation/trace/postprocess/trace-vmscan-postprocess.pl b/Documentation/trace/postprocess/trace-vmscan-postprocess.pl
index 995da15b16ca..2f4e39875fb3 100644
--- a/Documentation/trace/postprocess/trace-vmscan-postprocess.pl
+++ b/Documentation/trace/postprocess/trace-vmscan-postprocess.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 # This is a POC for reading the text representation of trace output related to
 # page reclaim. It makes an attempt to extract some high-level information on
 # what is going on. The accuracy of the parser may vary
diff --git a/arch/ia64/scripts/unwcheck.py b/arch/ia64/scripts/unwcheck.py
index c55276e31b6b..bfd1b671e35f 100644
--- a/arch/ia64/scripts/unwcheck.py
+++ b/arch/ia64/scripts/unwcheck.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/env python
 # SPDX-License-Identifier: GPL-2.0
 #
 # Usage: unwcheck.py FILE
* Unmerged path scripts/bloat-o-meter
diff --git a/scripts/config b/scripts/config
index e0e39826dae9..ba11e350e8af 100755
--- a/scripts/config
+++ b/scripts/config
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/usr/bin/env bash
 # SPDX-License-Identifier: GPL-2.0
 # Manipulate options in a .config file from the command line
 
* Unmerged path scripts/diffconfig
* Unmerged path scripts/get_abi.pl
* Unmerged path scripts/show_delta
* Unmerged path scripts/sphinx-pre-install
diff --git a/scripts/split-man.pl b/scripts/split-man.pl
index c3db607ee9ec..96bd99dc977a 100755
--- a/scripts/split-man.pl
+++ b/scripts/split-man.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 # SPDX-License-Identifier: GPL-2.0
 #
 # Author: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>
* Unmerged path scripts/tracing/draw_functrace.py
diff --git a/tools/perf/python/tracepoint.py b/tools/perf/python/tracepoint.py
index eb76f6516247..461848c7f57d 100755
--- a/tools/perf/python/tracepoint.py
+++ b/tools/perf/python/tracepoint.py
@@ -1,4 +1,4 @@
-#! /usr/bin/python
+#! /usr/bin/env python
 # SPDX-License-Identifier: GPL-2.0
 # -*- python -*-
 # -*- coding: utf-8 -*-
* Unmerged path tools/perf/python/twatch.py
* Unmerged path tools/power/x86/intel_pstate_tracer/intel_pstate_tracer.py
diff --git a/tools/testing/ktest/compare-ktest-sample.pl b/tools/testing/ktest/compare-ktest-sample.pl
index 4118eb4a842d..ebea21d0a1be 100755
--- a/tools/testing/ktest/compare-ktest-sample.pl
+++ b/tools/testing/ktest/compare-ktest-sample.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 # SPDX-License-Identifier: GPL-2.0
 
 open (IN,"ktest.pl");
diff --git a/tools/testing/kunit/kunit.py b/tools/testing/kunit/kunit.py
index 21d234d5a15e..d5144fcb03ac 100755
--- a/tools/testing/kunit/kunit.py
+++ b/tools/testing/kunit/kunit.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 # SPDX-License-Identifier: GPL-2.0
 #
 # A thin wrapper on top of the KUnit Kernel
diff --git a/tools/testing/kunit/kunit_tool_test.py b/tools/testing/kunit/kunit_tool_test.py
index d04906d6ac40..1ad3049e9069 100755
--- a/tools/testing/kunit/kunit_tool_test.py
+++ b/tools/testing/kunit/kunit_tool_test.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 # SPDX-License-Identifier: GPL-2.0
 #
 # A collection of tests for tools/testing/kunit/kunit.py
diff --git a/tools/testing/selftests/bpf/test_offload.py b/tools/testing/selftests/bpf/test_offload.py
index b99bb8ed3ed4..edaffd43da83 100755
--- a/tools/testing/selftests/bpf/test_offload.py
+++ b/tools/testing/selftests/bpf/test_offload.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 
 # Copyright (C) 2017 Netronome Systems, Inc.
 # Copyright (c) 2019 Mellanox Technologies. All rights reserved
* Unmerged path tools/testing/selftests/drivers/net/mlxsw/sharedbuffer_configuration.py
diff --git a/tools/testing/selftests/kselftest/prefix.pl b/tools/testing/selftests/kselftest/prefix.pl
index 31f7c2a0a8bd..12a7f4ca2684 100755
--- a/tools/testing/selftests/kselftest/prefix.pl
+++ b/tools/testing/selftests/kselftest/prefix.pl
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/usr/bin/env perl
 # SPDX-License-Identifier: GPL-2.0
 # Prefix all lines with "# ", unbuffered. Command being piped in may need
 # to have unbuffering forced with "stdbuf -i0 -o0 -e0 $cmd".
diff --git a/tools/testing/selftests/net/devlink_port_split.py b/tools/testing/selftests/net/devlink_port_split.py
index 58bb7e9b88ce..834066d465fc 100755
--- a/tools/testing/selftests/net/devlink_port_split.py
+++ b/tools/testing/selftests/net/devlink_port_split.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 # SPDX-License-Identifier: GPL-2.0
 
 from subprocess import PIPE, Popen
diff --git a/tools/testing/selftests/tc-testing/tdc_batch.py b/tools/testing/selftests/tc-testing/tdc_batch.py
index 995f66ce43eb..35d5d9493784 100755
--- a/tools/testing/selftests/tc-testing/tdc_batch.py
+++ b/tools/testing/selftests/tc-testing/tdc_batch.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 
 """
 tdc_batch.py - a script to generate TC batch file
diff --git a/tools/testing/selftests/tc-testing/tdc_multibatch.py b/tools/testing/selftests/tc-testing/tdc_multibatch.py
index 5e7237952e49..48e1f17ff2e8 100755
--- a/tools/testing/selftests/tc-testing/tdc_multibatch.py
+++ b/tools/testing/selftests/tc-testing/tdc_multibatch.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python3
+#!/usr/bin/env python3
 # SPDX-License-Identifier: GPL-2.0
 """
 tdc_multibatch.py - a thin wrapper over tdc_batch.py to generate multiple batch
