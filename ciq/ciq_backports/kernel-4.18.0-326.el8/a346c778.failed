ASoC: codecs/jz4770: Reset interrupt flags in bias PREPARE

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Christophe Branchereau <cbranchereau@gmail.com>
commit a346c77836183f6e3e054c5da022e0fde2773683
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/a346c778.failed

In case a poll for RUP times out, we might be left with some IRQ flags
that should be cleared before the next power on.

	Signed-off-by: Christophe Branchereau <cbranchereau@gmail.com>
	Signed-off-by: Paul Cercueil <paul@crapouillou.net>
Link: https://lore.kernel.org/r/20201207125338.119397-2-paul@crapouillou.net
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit a346c77836183f6e3e054c5da022e0fde2773683)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/codecs/jz4770.c
diff --cc sound/soc/codecs/jz4770.c
index 8e60ca321c82,002f2300e750..000000000000
--- a/sound/soc/codecs/jz4770.c
+++ b/sound/soc/codecs/jz4770.c
@@@ -190,11 -190,14 +190,19 @@@ static int jz4770_codec_set_bias_level(
  
  	switch (level) {
  	case SND_SOC_BIAS_PREPARE:
++<<<<<<< HEAD
 +		regmap_update_bits(regmap, JZ4770_CODEC_REG_CR_VIC,
 +				   REG_CR_VIC_SB, 0);
++=======
+ 		/* Reset all interrupt flags. */
+ 		regmap_write(regmap, JZ4770_CODEC_REG_IFR, REG_IFR_ALL_MASK);
+ 
+ 		regmap_clear_bits(regmap, JZ4770_CODEC_REG_CR_VIC,
+ 				  REG_CR_VIC_SB);
++>>>>>>> a346c7783618 (ASoC: codecs/jz4770: Reset interrupt flags in bias PREPARE)
  		msleep(250);
 -		regmap_clear_bits(regmap, JZ4770_CODEC_REG_CR_VIC,
 -				  REG_CR_VIC_SB_SLEEP);
 +		regmap_update_bits(regmap, JZ4770_CODEC_REG_CR_VIC,
 +				   REG_CR_VIC_SB_SLEEP, 0);
  		msleep(400);
  		break;
  	case SND_SOC_BIAS_STANDBY:
* Unmerged path sound/soc/codecs/jz4770.c
