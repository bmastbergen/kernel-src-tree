cpupower: Condense pstate enabled bit checks in decode_pstates()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-326.el8
commit-author Nathan Fontenot <nathan.fontenot@amd.com>
commit 56a85eebebdba62ebf6c46bd957949cc6e926aa0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-326.el8/56a85eeb.failed

The enabled bit (bit 63) is common for all families so we can remove
the multiple enabled checks based on family and have a common check
for HW pstate enabled.

	Signed-off-by: Nathan Fontenot <nathan.fontenot@amd.com>
	Reviewed-by: Robert Richter <rrichter@amd.com>
	Signed-off-by: Shuah Khan <skhan@linuxfoundation.org>
(cherry picked from commit 56a85eebebdba62ebf6c46bd957949cc6e926aa0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/power/cpupower/utils/helpers/amd.c
diff --cc tools/power/cpupower/utils/helpers/amd.c
index 9607ada5b29a,216240e2b771..000000000000
--- a/tools/power/cpupower/utils/helpers/amd.c
+++ b/tools/power/cpupower/utils/helpers/amd.c
@@@ -119,9 -113,9 +119,15 @@@ int decode_pstates(unsigned int cpu, un
  		}
  		if (read_msr(cpu, MSR_AMD_PSTATE + i, &pstate.val))
  			return -1;
++<<<<<<< HEAD
 +		if ((cpu_family == 0x17) && (!pstate.fam17h_bits.en))
 +			continue;
 +		else if (!pstate.bits.en)
++=======
+ 
+ 		/* The enabled bit (bit 63) is common for all families */
+ 		if (!pstate.pstatedef.en)
++>>>>>>> 56a85eebebdb (cpupower: Condense pstate enabled bit checks in decode_pstates())
  			continue;
  
  		pstates[i] = get_cof(cpu_family, pstate);
* Unmerged path tools/power/cpupower/utils/helpers/amd.c
