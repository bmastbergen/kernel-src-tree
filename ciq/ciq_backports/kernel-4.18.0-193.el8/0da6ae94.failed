perf data: Document directory format header: HEADER_DIR_FORMAT

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 0da6ae94e4102fa145149dd0878b266c932507aa
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/0da6ae94.failed

We forgot to update the perf.data file format document for the
HEADER_DIR_FORMAT header, do it now from comments in the patch
introducing it.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Alexander Shishkin <alexander.shishkin@linux.intel.com>
	Cc: Alexey Budankov <alexey.budankov@linux.intel.com>
	Cc: Andi Kleen <ak@linux.intel.com>
	Cc: Chong Jiang <chongjiang@chromium.org>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Simon Que <sque@chromium.org>
Fixes: 258031c017c3 ("perf header: Add DIR_FORMAT feature to describe directory data")
Link: https://lkml.kernel.org/n/tip-jbrzb7ijb5al33gi8br6f9rr@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 0da6ae94e4102fa145149dd0878b266c932507aa)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/Documentation/perf.data-file-format.txt
diff --cc tools/perf/Documentation/perf.data-file-format.txt
index 593ef49b273c,6375e6fb8bac..000000000000
--- a/tools/perf/Documentation/perf.data-file-format.txt
+++ b/tools/perf/Documentation/perf.data-file-format.txt
@@@ -272,6 -272,82 +272,85 @@@ struct 
  
  Two uint64_t for the time of first sample and the time of last sample.
  
++<<<<<<< HEAD
++=======
+ 	HEADER_SAMPLE_TOPOLOGY = 22,
+ 
+ Physical memory map and its node assignments.
+ 
+ The format of data in MEM_TOPOLOGY is as follows:
+ 
+    0 - version          | for future changes
+    8 - block_size_bytes | /sys/devices/system/memory/block_size_bytes
+   16 - count            | number of nodes
+ 
+ For each node we store map of physical indexes:
+ 
+   32 - node id          | node index
+   40 - size             | size of bitmap
+   48 - bitmap           | bitmap of memory indexes that belongs to node
+                         | /sys/devices/system/node/node<NODE>/memory<INDEX>
+ 
+ The MEM_TOPOLOGY can be displayed with following command:
+ 
+ $ perf report --header-only -I
+ ...
+ # memory nodes (nr 1, block size 0x8000000):
+ #    0 [7G]: 0-23,32-69
+ 
+ 	HEADER_CLOCKID = 23,
+ 
+ One uint64_t for the clockid frequency, specified, for instance, via 'perf
+ record -k' (see clock_gettime()), to enable timestamps derived metrics
+ conversion into wall clock time on the reporting stage.
+ 
+ 	HEADER_DIR_FORMAT = 24,
+ 
+ The data files layout is described by HEADER_DIR_FORMAT feature.  Currently it
+ holds only version number (1):
+ 
+   uint64_t version;
+ 
+ The current version holds only version value (1) means that data files:
+ 
+ - Follow the 'data.*' name format.
+ 
+ - Contain raw events data in standard perf format as read from kernel (and need
+   to be sorted)
+ 
+ Future versions are expected to describe different data files layout according
+ to special needs.
+ 
+         HEADER_BPF_PROG_INFO = 25,
+ 
+ struct bpf_prog_info_linear, which contains detailed information about
+ a BPF program, including type, id, tag, jited/xlated instructions, etc.
+ 
+         HEADER_BPF_BTF = 26,
+ 
+ Contains BPF Type Format (BTF). For more information about BTF, please
+ refer to Documentation/bpf/btf.rst.
+ 
+ struct {
+ 	u32	id;
+ 	u32	data_size;
+ 	char	data[];
+ };
+ 
+         HEADER_COMPRESSED = 27,
+ 
+ struct {
+ 	u32	version;
+ 	u32	type;
+ 	u32	level;
+ 	u32	ratio;
+ 	u32	mmap_len;
+ };
+ 
+ Indicates that trace contains records of PERF_RECORD_COMPRESSED type
+ that have perf_events records in compressed form.
+ 
++>>>>>>> 0da6ae94e410 (perf data: Document directory format header: HEADER_DIR_FORMAT)
  	other bits are reserved and should ignored for now
  	HEADER_FEAT_BITS	= 256,
  
* Unmerged path tools/perf/Documentation/perf.data-file-format.txt
