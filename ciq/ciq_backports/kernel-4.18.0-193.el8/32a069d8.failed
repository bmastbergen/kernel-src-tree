net: phy: realtek: remove setting callback get_features and use phylib fallback

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
Rebuild_CHGLOG: - [netdrv] phy: realtek: remove setting callback get_features and use phylib fallback (Petr Oros) [1772010]
Rebuild_FUZZ: 96.73%
commit-author Heiner Kallweit <hkallweit1@gmail.com>
commit 32a069d807f3cc9d0e09e86d87e654814ea44656
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/32a069d8.failed

Now that phylib uses genphy_read_abilities() as fallback, we don't have
to set callback get_features any longer.

	Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
	Reviewed-by: Andrew Lunn <andrew@lunn.ch>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 32a069d807f3cc9d0e09e86d87e654814ea44656)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/realtek.c
diff --cc drivers/net/phy/realtek.c
index 8040b7f82f98,d6a10f323117..000000000000
--- a/drivers/net/phy/realtek.c
+++ b/drivers/net/phy/realtek.c
@@@ -210,13 -199,9 +210,19 @@@ static struct phy_driver realtek_drvs[
  	{
  		PHY_ID_MATCH_EXACT(0x00008201),
  		.name           = "RTL8201CP Ethernet",
++<<<<<<< HEAD
 +		.features       = PHY_BASIC_FEATURES,
 +		.flags          = PHY_HAS_INTERRUPT,
 +	}, {
 +		PHY_ID_MATCH_EXACT(0x001cc816),
 +		.name		= "RTL8201F Fast Ethernet",
 +		.features	= PHY_BASIC_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
+ 	}, {
+ 		PHY_ID_MATCH_EXACT(0x001cc816),
+ 		.name		= "RTL8201F Fast Ethernet",
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.ack_interrupt	= &rtl8201_ack_interrupt,
  		.config_intr	= &rtl8201_config_intr,
  		.suspend	= genphy_suspend,
@@@ -226,15 -211,12 +232,21 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc910),
  		.name		= "RTL8211 Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.config_aneg	= rtl8211_config_aneg,
  		.read_mmd	= &genphy_read_mmd_unsupported,
  		.write_mmd	= &genphy_write_mmd_unsupported,
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc912),
  		.name		= "RTL8211B Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.ack_interrupt	= &rtl821x_ack_interrupt,
  		.config_intr	= &rtl8211b_config_intr,
  		.read_mmd	= &genphy_read_mmd_unsupported,
@@@ -244,15 -226,12 +256,21 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc913),
  		.name		= "RTL8211C Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.config_init	= rtl8211c_config_init,
  		.read_mmd	= &genphy_read_mmd_unsupported,
  		.write_mmd	= &genphy_write_mmd_unsupported,
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc914),
  		.name		= "RTL8211DN Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.ack_interrupt	= rtl821x_ack_interrupt,
  		.config_intr	= rtl8211e_config_intr,
  		.suspend	= genphy_suspend,
@@@ -260,8 -239,6 +278,11 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc915),
  		.name		= "RTL8211E Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.ack_interrupt	= &rtl821x_ack_interrupt,
  		.config_intr	= &rtl8211e_config_intr,
  		.suspend	= genphy_suspend,
@@@ -269,8 -246,6 +290,11 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc916),
  		.name		= "RTL8211F Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.config_init	= &rtl8211f_config_init,
  		.ack_interrupt	= &rtl8211f_ack_interrupt,
  		.config_intr	= &rtl8211f_config_intr,
@@@ -281,8 -256,6 +305,11 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc800),
  		.name		= "Generic Realtek PHY",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.config_init	= genphy_config_init,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.suspend	= genphy_suspend,
  		.resume		= genphy_resume,
  		.read_page	= rtl821x_read_page,
@@@ -290,8 -263,6 +317,11 @@@
  	}, {
  		PHY_ID_MATCH_EXACT(0x001cc961),
  		.name		= "RTL8366RB Gigabit Ethernet",
++<<<<<<< HEAD
 +		.features	= PHY_GBIT_FEATURES,
 +		.flags		= PHY_HAS_INTERRUPT,
++=======
++>>>>>>> 32a069d807f3 (net: phy: realtek: remove setting callback get_features and use phylib fallback)
  		.config_init	= &rtl8366rb_config_init,
  		/* These interrupts are handled by the irq controller
  		 * embedded inside the RTL8366RB, they get unmasked when the
* Unmerged path drivers/net/phy/realtek.c
