devlink: Return physical port fields only for applicable port flavours

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Parav Pandit <parav@mellanox.com>
commit a2c6b87dd08cdfc2d065d4ae369e4e747b521a7f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/a2c6b87d.failed

Physical port number and split group fields are applicable only to
physical port flavours such as PHYSICAL, CPU and DSA.
Hence limit returning those values in netlink response to such port
flavours.

	Acked-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: Parav Pandit <parav@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit a2c6b87dd08cdfc2d065d4ae369e4e747b521a7f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/core/devlink.c
diff --cc net/core/devlink.c
index d12ffdf1735e,a9c4e5d8a99c..000000000000
--- a/net/core/devlink.c
+++ b/net/core/devlink.c
@@@ -517,7 -515,12 +517,16 @@@ static int devlink_nl_port_attrs_put(st
  		return 0;
  	if (nla_put_u16(msg, DEVLINK_ATTR_PORT_FLAVOUR, attrs->flavour))
  		return -EMSGSIZE;
++<<<<<<< HEAD
 +	if (nla_put_u32(msg, DEVLINK_ATTR_PORT_NUMBER, attrs->port_number))
++=======
+ 	if (devlink_port->attrs.flavour != DEVLINK_PORT_FLAVOUR_PHYSICAL &&
+ 	    devlink_port->attrs.flavour != DEVLINK_PORT_FLAVOUR_CPU &&
+ 	    devlink_port->attrs.flavour != DEVLINK_PORT_FLAVOUR_DSA)
+ 		return 0;
+ 	if (nla_put_u32(msg, DEVLINK_ATTR_PORT_NUMBER,
+ 			attrs->phys.port_number))
++>>>>>>> a2c6b87dd08c (devlink: Return physical port fields only for applicable port flavours)
  		return -EMSGSIZE;
  	if (!attrs->split)
  		return 0;
* Unmerged path net/core/devlink.c
