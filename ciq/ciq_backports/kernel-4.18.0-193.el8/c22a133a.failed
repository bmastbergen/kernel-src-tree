rtnetlink: skip metrics loop for dst_default_metrics

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author David Ahern <dsahern@gmail.com>
commit c22a133a83ce64949dc35156eaefeda5a1e12bc3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/c22a133a.failed

dst_default_metrics has all of the metrics initialized to 0, so nothing
will be added to the skb in rtnetlink_put_metrics. Avoid the loop if
metrics is from dst_default_metrics.

	Signed-off-by: David Ahern <dsahern@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c22a133a83ce64949dc35156eaefeda5a1e12bc3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/core/rtnetlink.c
diff --cc net/core/rtnetlink.c
index 4fdfe8b2c150,1ee6460f8275..000000000000
--- a/net/core/rtnetlink.c
+++ b/net/core/rtnetlink.c
@@@ -756,7 -751,11 +756,15 @@@ int rtnetlink_put_metrics(struct sk_buf
  	struct nlattr *mx;
  	int i, valid = 0;
  
++<<<<<<< HEAD
 +	mx = nla_nest_start(skb, RTA_METRICS);
++=======
+ 	/* nothing is dumped for dst_default_metrics, so just skip the loop */
+ 	if (metrics == dst_default_metrics.metrics)
+ 		return 0;
+ 
+ 	mx = nla_nest_start_noflag(skb, RTA_METRICS);
++>>>>>>> c22a133a83ce (rtnetlink: skip metrics loop for dst_default_metrics)
  	if (mx == NULL)
  		return -ENOBUFS;
  
* Unmerged path net/core/rtnetlink.c
