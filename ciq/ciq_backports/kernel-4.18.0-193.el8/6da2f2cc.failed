PCI/PM: Make power management op coding style consistent

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Bjorn Helgaas <bhelgaas@google.com>
commit 6da2f2ccfd2deb81a63fc23a505ccd72de005c39
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/6da2f2cc.failed

Some of the power management ops use this style:

  struct device_driver *drv = dev->driver;
  if (drv && drv->pm && drv->pm->prepare(dev))
    drv->pm->prepare(dev);

while others use this:

  const struct dev_pm_ops *pm = dev->driver ? dev->driver->pm : NULL;
  if (pm && pm->runtime_resume)
    pm->runtime_resume(dev);

Convert the first style to the second so they're all consistent.  Remove
local "error" variables when unnecessary.  No functional change intended.

Link: https://lore.kernel.org/r/20191014230016.240912-6-helgaas@kernel.org
	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
	Reviewed-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 6da2f2ccfd2deb81a63fc23a505ccd72de005c39)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/pci/pci-driver.c
diff --cc drivers/pci/pci-driver.c
index e6614ab5ceca,dd70ab2519c9..000000000000
--- a/drivers/pci/pci-driver.c
+++ b/drivers/pci/pci-driver.c
@@@ -952,12 -945,10 +951,17 @@@ static int pci_pm_resume_noirq(struct d
  	if (pci_has_legacy_pm_support(pci_dev))
  		return pci_legacy_resume_early(dev);
  
++<<<<<<< HEAD
 +	pcie_pme_root_status_cleanup(pci_dev);
 +
 +	if (drv && drv->pm && drv->pm->resume_noirq)
 +		error = drv->pm->resume_noirq(dev);
++=======
+ 	if (pm && pm->resume_noirq)
+ 		return pm->resume_noirq(dev);
++>>>>>>> 6da2f2ccfd2d (PCI/PM: Make power management op coding style consistent)
  
- 	return error;
+ 	return 0;
  }
  
  static int pci_pm_resume(struct device *dev)
* Unmerged path drivers/pci/pci-driver.c
