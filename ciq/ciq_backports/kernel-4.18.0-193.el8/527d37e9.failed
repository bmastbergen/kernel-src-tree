selftests/livepatch: add test skip handling

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Joe Lawrence <joe.lawrence@redhat.com>
commit 527d37e9e575bc0e9024de9b499385e7bb31f1ad
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/527d37e9.failed

Add a skip() message function that stops the test, logs an explanation,
and sets the "skip" return code (4).

Before loading a livepatch self-test kernel module, first verify that
we've built and installed it by running a 'modprobe --dry-run'.  This
should catch a few environment issues, including !CONFIG_LIVEPATCH and
!CONFIG_TEST_LIVEPATCH.  In these cases, exit gracefully with the new
skip() function.

	Reported-by: Jiri Benc <jbenc@redhat.com>
	Suggested-by: Shuah Khan <shuah@kernel.org>
	Reviewed-by: Petr Mladek <pmladek@suse.com>
	Signed-off-by: Joe Lawrence <joe.lawrence@redhat.com>
	Signed-off-by: Shuah Khan <skhan@linuxfoundation.org>
(cherry picked from commit 527d37e9e575bc0e9024de9b499385e7bb31f1ad)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/livepatch/functions.sh
* Unmerged path tools/testing/selftests/livepatch/functions.sh
* Unmerged path tools/testing/selftests/livepatch/functions.sh
