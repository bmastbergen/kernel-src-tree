bpf: Add an example for bpf_get_listener_sock

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Martin KaFai Lau <kafai@fb.com>
commit 7681e7b2fbe2a78806423810c0d84dd230b96f94
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/7681e7b2.failed

This patch adds an example in using the new helper
bpf_get_listener_sock().

	Signed-off-by: Martin KaFai Lau <kafai@fb.com>
	Signed-off-by: Alexei Starovoitov <ast@kernel.org>
(cherry picked from commit 7681e7b2fbe2a78806423810c0d84dd230b96f94)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/bpf/bpf_helpers.h
#	tools/testing/selftests/bpf/progs/test_sock_fields_kern.c
#	tools/testing/selftests/bpf/test_sock_fields.c
diff --cc tools/testing/selftests/bpf/bpf_helpers.h
index d52237a22612,c81fc350f7ad..000000000000
--- a/tools/testing/selftests/bpf/bpf_helpers.h
+++ b/tools/testing/selftests/bpf/bpf_helpers.h
@@@ -172,6 -172,18 +172,21 @@@ static int (*bpf_skb_vlan_pop)(void *ct
  	(void *) BPF_FUNC_skb_vlan_pop;
  static int (*bpf_rc_pointer_rel)(void *ctx, int rel_x, int rel_y) =
  	(void *) BPF_FUNC_rc_pointer_rel;
++<<<<<<< HEAD
++=======
+ static void (*bpf_spin_lock)(struct bpf_spin_lock *lock) =
+ 	(void *) BPF_FUNC_spin_lock;
+ static void (*bpf_spin_unlock)(struct bpf_spin_lock *lock) =
+ 	(void *) BPF_FUNC_spin_unlock;
+ static struct bpf_sock *(*bpf_sk_fullsock)(struct bpf_sock *sk) =
+ 	(void *) BPF_FUNC_sk_fullsock;
+ static struct bpf_tcp_sock *(*bpf_tcp_sock)(struct bpf_sock *sk) =
+ 	(void *) BPF_FUNC_tcp_sock;
+ static struct bpf_sock *(*bpf_get_listener_sock)(struct bpf_sock *sk) =
+ 	(void *) BPF_FUNC_get_listener_sock;
+ static int (*bpf_skb_ecn_set_ce)(void *ctx) =
+ 	(void *) BPF_FUNC_skb_ecn_set_ce;
++>>>>>>> 7681e7b2fbe2 (bpf: Add an example for bpf_get_listener_sock)
  
  /* llvm builtin functions that eBPF C program may use to
   * emit BPF_LD_ABS and BPF_LD_IND instructions
* Unmerged path tools/testing/selftests/bpf/progs/test_sock_fields_kern.c
* Unmerged path tools/testing/selftests/bpf/test_sock_fields.c
* Unmerged path tools/testing/selftests/bpf/bpf_helpers.h
* Unmerged path tools/testing/selftests/bpf/progs/test_sock_fields_kern.c
* Unmerged path tools/testing/selftests/bpf/test_sock_fields.c
