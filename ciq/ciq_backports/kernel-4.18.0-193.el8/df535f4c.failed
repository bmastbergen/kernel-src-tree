mlxsw: switch_ib: Pass valid HW id down to mlxsw_core_port_init()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Jiri Pirko <jiri@mellanox.com>
commit df535f4c47a60fd6bf8f1327e9f87628e581e136
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/df535f4c.failed

Obtain HW id and pass it down to mlxsw_core_port_init() as it would be
used as switch_id in devlink and exposed to user.

	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit df535f4c47a60fd6bf8f1327e9f87628e581e136)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/switchib.c
diff --cc drivers/net/ethernet/mellanox/mlxsw/switchib.c
index e1e7e0dd808d,0d9356b3f65d..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/switchib.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/switchib.c
@@@ -268,7 -281,8 +281,12 @@@ static int mlxsw_sib_port_create(struc
  	int err;
  
  	err = mlxsw_core_port_init(mlxsw_sib->core, local_port,
++<<<<<<< HEAD
 +				   module + 1, false, 0);
++=======
+ 				   module + 1, false, 0,
+ 				   mlxsw_sib->hw_id, sizeof(mlxsw_sib->hw_id));
++>>>>>>> df535f4c47a6 (mlxsw: switch_ib: Pass valid HW id down to mlxsw_core_port_init())
  	if (err) {
  		dev_err(mlxsw_sib->bus_info->dev, "Port %d: Failed to init core port\n",
  			local_port);
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/switchib.c
