perf data: Document memory topology header: HEADER_MEM_TOPOLOGY

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 835fbf126ce0a359626bc59b8da4e7601f01fc87
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/835fbf12.failed

We forgot to update the perf.data file format document for the
HEADER_MEM_TOPOLOGY header, do it now from comments in the patch
introducing it.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Andi Kleen <ak@linux.intel.com>
	Cc: Chong Jiang <chongjiang@chromium.org>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Simon Que <sque@chromium.org>
Fixes: e2091cedd51b ("perf tools: Add MEM_TOPOLOGY feature to perf data file")
Link: https://lkml.kernel.org/n/tip-h5lcm1nbe9ztxwm61gmadd56@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 835fbf126ce0a359626bc59b8da4e7601f01fc87)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/Documentation/perf.data-file-format.txt
diff --cc tools/perf/Documentation/perf.data-file-format.txt
index 593ef49b273c,99733751695b..000000000000
--- a/tools/perf/Documentation/perf.data-file-format.txt
+++ b/tools/perf/Documentation/perf.data-file-format.txt
@@@ -272,6 -272,59 +272,62 @@@ struct 
  
  Two uint64_t for the time of first sample and the time of last sample.
  
++<<<<<<< HEAD
++=======
+ 	HEADER_SAMPLE_TOPOLOGY = 22,
+ 
+ Physical memory map and its node assignments.
+ 
+ The format of data in MEM_TOPOLOGY is as follows:
+ 
+    0 - version          | for future changes
+    8 - block_size_bytes | /sys/devices/system/memory/block_size_bytes
+   16 - count            | number of nodes
+ 
+ For each node we store map of physical indexes:
+ 
+   32 - node id          | node index
+   40 - size             | size of bitmap
+   48 - bitmap           | bitmap of memory indexes that belongs to node
+                         | /sys/devices/system/node/node<NODE>/memory<INDEX>
+ 
+ The MEM_TOPOLOGY can be displayed with following command:
+ 
+ $ perf report --header-only -I
+ ...
+ # memory nodes (nr 1, block size 0x8000000):
+ #    0 [7G]: 0-23,32-69
+ 
+         HEADER_BPF_PROG_INFO = 25,
+ 
+ struct bpf_prog_info_linear, which contains detailed information about
+ a BPF program, including type, id, tag, jited/xlated instructions, etc.
+ 
+         HEADER_BPF_BTF = 26,
+ 
+ Contains BPF Type Format (BTF). For more information about BTF, please
+ refer to Documentation/bpf/btf.rst.
+ 
+ struct {
+ 	u32	id;
+ 	u32	data_size;
+ 	char	data[];
+ };
+ 
+         HEADER_COMPRESSED = 27,
+ 
+ struct {
+ 	u32	version;
+ 	u32	type;
+ 	u32	level;
+ 	u32	ratio;
+ 	u32	mmap_len;
+ };
+ 
+ Indicates that trace contains records of PERF_RECORD_COMPRESSED type
+ that have perf_events records in compressed form.
+ 
++>>>>>>> 835fbf126ce0 (perf data: Document memory topology header: HEADER_MEM_TOPOLOGY)
  	other bits are reserved and should ignored for now
  	HEADER_FEAT_BITS	= 256,
  
* Unmerged path tools/perf/Documentation/perf.data-file-format.txt
