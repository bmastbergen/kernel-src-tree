scsi: qla2xxx: Change data_dsd into an array

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Bart Van Assche <bvanassche@acm.org>
commit 9e75b5e2c8384080842015d26c9272fd55c0d798
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/9e75b5e2.failed

This patch does not change any functionality but fixes a Coverity complaint
about using a scalar as an array.

	Cc: Himanshu Madhani <hmadhani@marvell.com>
	Signed-off-by: Bart Van Assche <bvanassche@acm.org>
	Tested-by: Himanshu Madhani <hmadhani@marvell.com>
	Reviewed-by: Himanshu Madhani <hmadhani@marvell.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 9e75b5e2c8384080842015d26c9272fd55c0d798)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_def.h
#	drivers/scsi/qla2xxx/qla_iocb.c
#	drivers/scsi/qla2xxx/qla_target.c
diff --cc drivers/scsi/qla2xxx/qla_def.h
index 5f2cf248a015,1c6811bd5625..000000000000
--- a/drivers/scsi/qla2xxx/qla_def.h
+++ b/drivers/scsi/qla2xxx/qla_def.h
@@@ -1877,8 -1852,7 +1877,12 @@@ struct crc_context 
  			uint16_t	reserved_2;
  			uint16_t	reserved_3;
  			uint32_t	reserved_4;
++<<<<<<< HEAD
 +			uint32_t	data_address[2];
 +			uint32_t	data_length;
++=======
+ 			struct dsd64	data_dsd[1];
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  			uint32_t	reserved_5[2];
  			uint32_t	reserved_6;
  		} nobundling;
@@@ -1888,11 -1862,8 +1892,16 @@@
  			uint16_t	reserved_1;
  			__le16	dseg_count;	/* Data segment count */
  			uint32_t	reserved_2;
++<<<<<<< HEAD
 +			uint32_t	data_address[2];
 +			uint32_t	data_length;
 +			uint32_t	dif_address[2];
 +			uint32_t	dif_length;	/* Data segment 0
 +							 * length */
++=======
+ 			struct dsd64	data_dsd[1];
+ 			struct dsd64	dif_dsd;
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  		} bundling;
  	} u;
  
diff --cc drivers/scsi/qla2xxx/qla_iocb.c
index 5df8a0e7599c,6b120254f414..000000000000
--- a/drivers/scsi/qla2xxx/qla_iocb.c
+++ b/drivers/scsi/qla2xxx/qla_iocb.c
@@@ -1548,7 -1516,7 +1548,11 @@@ qla24xx_build_scsi_crc_2_iocbs(srb_t *s
  	}
  
  	if (!bundling) {
++<<<<<<< HEAD
 +		cur_dsd = (uint32_t *) &crc_ctx_pkt->u.nobundling.data_address;
++=======
+ 		cur_dsd = &crc_ctx_pkt->u.nobundling.data_dsd[0];
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  	} else {
  		/*
  		 * Configure Bundling if we need to fetch interlaving
@@@ -1558,7 -1526,7 +1562,11 @@@
  		crc_ctx_pkt->u.bundling.dif_byte_count = cpu_to_le32(dif_bytes);
  		crc_ctx_pkt->u.bundling.dseg_count = cpu_to_le16(tot_dsds -
  							tot_prot_dsds);
++<<<<<<< HEAD
 +		cur_dsd = (uint32_t *) &crc_ctx_pkt->u.bundling.data_address;
++=======
+ 		cur_dsd = &crc_ctx_pkt->u.bundling.data_dsd[0];
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  	}
  
  	/* Finish the common fields of CRC pkt */
diff --cc drivers/scsi/qla2xxx/qla_target.c
index a99c51482e5b,b8241d7b1f8a..000000000000
--- a/drivers/scsi/qla2xxx/qla_target.c
+++ b/drivers/scsi/qla2xxx/qla_target.c
@@@ -3177,7 -3163,7 +3177,11 @@@ qlt_build_ctio_crc2_pkt(struct qla_qpai
  	pkt->crc_context_len = CRC_CONTEXT_LEN_FW;
  
  	if (!bundling) {
++<<<<<<< HEAD
 +		cur_dsd = (uint32_t *) &crc_ctx_pkt->u.nobundling.data_address;
++=======
+ 		cur_dsd = &crc_ctx_pkt->u.nobundling.data_dsd[0];
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  	} else {
  		/*
  		 * Configure Bundling if we need to fetch interlaving
@@@ -3187,7 -3173,7 +3191,11 @@@
  		crc_ctx_pkt->u.bundling.dif_byte_count = cpu_to_le32(dif_bytes);
  		crc_ctx_pkt->u.bundling.dseg_count =
  			cpu_to_le16(prm->tot_dsds - prm->prot_seg_cnt);
++<<<<<<< HEAD
 +		cur_dsd = (uint32_t *) &crc_ctx_pkt->u.bundling.data_address;
++=======
+ 		cur_dsd = &crc_ctx_pkt->u.bundling.data_dsd[0];
++>>>>>>> 9e75b5e2c838 (scsi: qla2xxx: Change data_dsd into an array)
  	}
  
  	/* Finish the common fields of CRC pkt */
* Unmerged path drivers/scsi/qla2xxx/qla_def.h
* Unmerged path drivers/scsi/qla2xxx/qla_iocb.c
* Unmerged path drivers/scsi/qla2xxx/qla_target.c
