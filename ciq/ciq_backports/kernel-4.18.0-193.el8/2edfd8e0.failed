arch: Use asm-generic/socket.h when possible

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Deepa Dinamani <deepa.kernel@gmail.com>
commit 2edfd8e06145da646cb4ec3e6ed2a68dc8b746bb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/2edfd8e0.failed

Many architectures maintain an arch specific copy of the
file even though there are no differences with the asm-generic
one. Allow these architectures to use the generic one instead.

	Signed-off-by: Deepa Dinamani <deepa.kernel@gmail.com>
	Acked-by: Max Filippov <jcmvbkbc@gmail.com>
	Acked-by: Heiko Carstens <heiko.carstens@de.ibm.com>
	Acked-by: Willem de Bruijn <willemb@google.com>
	Cc: chris@zankel.net
	Cc: fenghua.yu@intel.com
	Cc: tglx@linutronix.de
	Cc: schwidefsky@de.ibm.com
	Cc: linux-ia64@vger.kernel.org
	Cc: linux-xtensa@linux-xtensa.org
	Cc: linux-s390@vger.kernel.org
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 2edfd8e06145da646cb4ec3e6ed2a68dc8b746bb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/ia64/include/uapi/asm/Kbuild
#	arch/ia64/include/uapi/asm/socket.h
#	arch/s390/include/uapi/asm/Kbuild
#	arch/s390/include/uapi/asm/socket.h
#	arch/x86/include/uapi/asm/Kbuild
#	arch/xtensa/include/uapi/asm/Kbuild
#	arch/xtensa/include/uapi/asm/socket.h
diff --cc arch/ia64/include/uapi/asm/Kbuild
index 3982e673e967,b71c5f787783..000000000000
--- a/arch/ia64/include/uapi/asm/Kbuild
+++ b/arch/ia64/include/uapi/asm/Kbuild
@@@ -1,10 -1,5 +1,14 @@@
 +# UAPI Header export list
  include include/uapi/asm-generic/Kbuild.asm
  
 -generated-y += unistd_64.h
 +generic-y += bpf_perf_event.h
 +generic-y += ipcbuf.h
  generic-y += kvm_para.h
++<<<<<<< HEAD
 +generic-y += msgbuf.h
 +generic-y += poll.h
 +generic-y += sembuf.h
 +generic-y += shmbuf.h
++=======
+ generic-y += socket.h
++>>>>>>> 2edfd8e06145 (arch: Use asm-generic/socket.h when possible)
diff --cc arch/s390/include/uapi/asm/Kbuild
index dc38a90cf091,6b0f30b14642..000000000000
--- a/arch/s390/include/uapi/asm/Kbuild
+++ b/arch/s390/include/uapi/asm/Kbuild
@@@ -4,18 -3,4 +4,22 @@@ include include/uapi/asm-generic/Kbuild
  
  generated-y += unistd_32.h
  generated-y += unistd_64.h
++<<<<<<< HEAD
 +
 +generic-y += errno.h
 +generic-y += fcntl.h
 +generic-y += ioctl.h
 +generic-y += mman.h
 +generic-y += msgbuf.h
 +generic-y += param.h
 +generic-y += poll.h
 +generic-y += resource.h
 +generic-y += sembuf.h
 +generic-y += shmbuf.h
 +generic-y += sockios.h
 +generic-y += swab.h
 +generic-y += termbits.h
- generic-y += siginfo.h
++generic-y += siginfo.h
++=======
+ generic-y += socket.h
++>>>>>>> 2edfd8e06145 (arch: Use asm-generic/socket.h when possible)
diff --cc arch/x86/include/uapi/asm/Kbuild
index 322681622d1e,efe701b7c6ce..000000000000
--- a/arch/x86/include/uapi/asm/Kbuild
+++ b/arch/x86/include/uapi/asm/Kbuild
@@@ -5,4 -3,4 +5,8 @@@ generic-y += bpf_perf_event.
  generated-y += unistd_32.h
  generated-y += unistd_64.h
  generated-y += unistd_x32.h
++<<<<<<< HEAD
 +generic-y += poll.h
++=======
+ generic-y += socket.h
++>>>>>>> 2edfd8e06145 (arch: Use asm-generic/socket.h when possible)
diff --cc arch/xtensa/include/uapi/asm/Kbuild
index 837d4dd76785,6b43e5049ff7..000000000000
--- a/arch/xtensa/include/uapi/asm/Kbuild
+++ b/arch/xtensa/include/uapi/asm/Kbuild
@@@ -1,13 -1,5 +1,17 @@@
 +# UAPI Header export list
  include include/uapi/asm-generic/Kbuild.asm
  
 -generated-y += unistd_32.h
 +generic-y += bitsperlong.h
 +generic-y += bpf_perf_event.h
 +generic-y += errno.h
 +generic-y += fcntl.h
 +generic-y += ioctl.h
  generic-y += kvm_para.h
++<<<<<<< HEAD
 +generic-y += resource.h
 +generic-y += siginfo.h
 +generic-y += statfs.h
 +generic-y += termios.h
++=======
+ generic-y += socket.h
++>>>>>>> 2edfd8e06145 (arch: Use asm-generic/socket.h when possible)
* Unmerged path arch/ia64/include/uapi/asm/socket.h
* Unmerged path arch/s390/include/uapi/asm/socket.h
* Unmerged path arch/xtensa/include/uapi/asm/socket.h
* Unmerged path arch/ia64/include/uapi/asm/Kbuild
* Unmerged path arch/ia64/include/uapi/asm/socket.h
* Unmerged path arch/s390/include/uapi/asm/Kbuild
* Unmerged path arch/s390/include/uapi/asm/socket.h
* Unmerged path arch/x86/include/uapi/asm/Kbuild
diff --git a/arch/x86/include/uapi/asm/socket.h b/arch/x86/include/uapi/asm/socket.h
deleted file mode 100644
index 6b71384b9d8b..000000000000
--- a/arch/x86/include/uapi/asm/socket.h
+++ /dev/null
@@ -1 +0,0 @@
-#include <asm-generic/socket.h>
diff --git a/arch/xtensa/include/asm/Kbuild b/arch/xtensa/include/asm/Kbuild
index 27031de21afd..dcdcbe250f2a 100644
--- a/arch/xtensa/include/asm/Kbuild
+++ b/arch/xtensa/include/asm/Kbuild
@@ -22,6 +22,7 @@ generic-y += param.h
 generic-y += percpu.h
 generic-y += preempt.h
 generic-y += sections.h
+generic-y += socket.h
 generic-y += topology.h
 generic-y += trace_clock.h
 generic-y += word-at-a-time.h
* Unmerged path arch/xtensa/include/uapi/asm/Kbuild
* Unmerged path arch/xtensa/include/uapi/asm/socket.h
