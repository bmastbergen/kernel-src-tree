RDMA/siw: Fix setting active_mtu attribute

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Kamal Heib <kamalheib1@gmail.com>
commit beb205dd67aaa4315dedf5c40b47c6e9dee5a469
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/beb205dd.failed

Make sure to set the active_mtu attribute to avoid report the following
invalid value:

$ ibv_devinfo -d siw0 | grep active_mtu
			active_mtu:		invalid MTU (0)

Fixes: 303ae1cdfdf7 ("rdma/siw: application interface")
Link: https://lore.kernel.org/r/20200205081354.30438-1-kamalheib1@gmail.com
	Signed-off-by: Kamal Heib <kamalheib1@gmail.com>
	Reviewed-by: Gal Pressman <galpress@amazon.com>
	Reviewed-by: Bernard Metzler <bmt@zurich.ibm.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit beb205dd67aaa4315dedf5c40b47c6e9dee5a469)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/sw/siw/siw_verbs.c
diff --cc drivers/infiniband/sw/siw/siw_verbs.c
index fc6a42e8a64f,73485d0da907..000000000000
--- a/drivers/infiniband/sw/siw/siw_verbs.c
+++ b/drivers/infiniband/sw/siw/siw_verbs.c
@@@ -206,7 -173,9 +205,13 @@@ int siw_query_port(struct ib_device *ba
  	attr->gid_tbl_len = 1;
  	attr->max_msg_sz = -1;
  	attr->max_mtu = ib_mtu_int_to_enum(sdev->netdev->mtu);
++<<<<<<< HEAD
 +	attr->phys_state = sdev->state == IB_PORT_ACTIVE ? 5 : 3;
++=======
+ 	attr->active_mtu = ib_mtu_int_to_enum(sdev->netdev->mtu);
+ 	attr->phys_state = sdev->state == IB_PORT_ACTIVE ?
+ 		IB_PORT_PHYS_STATE_LINK_UP : IB_PORT_PHYS_STATE_DISABLED;
++>>>>>>> beb205dd67aa (RDMA/siw: Fix setting active_mtu attribute)
  	attr->pkey_tbl_len = 1;
  	attr->port_cap_flags = IB_PORT_CM_SUP | IB_PORT_DEVICE_MGMT_SUP;
  	attr->state = sdev->state;
* Unmerged path drivers/infiniband/sw/siw/siw_verbs.c
