perf/x86/cstate: Add Comet Lake CPU support

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Kan Liang <kan.liang@linux.intel.com>
commit 1ffa6c04dae39776a3c222bdf88051e394386c01
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/1ffa6c04.failed

Comet Lake is the new 10th Gen Intel processor. From the perspective of
Intel cstate residency counters, there is nothing changed compared with
Kaby Lake.

Share hswult_cstates with Kaby Lake.
Update the comments for Comet Lake.
Kaby Lake is missed in the comments for some Residency Counters. Update
the comments for Kaby Lake as well.

The External Design Specification (EDS) is not published yet. It comes
from an authoritative internal source.

The patch has been tested on real hardware.

	Signed-off-by: Kan Liang <kan.liang@linux.intel.com>
	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Thomas Gleixner <tglx@linutronix.de>
Link: https://lkml.kernel.org/r/1570549810-25049-5-git-send-email-kan.liang@linux.intel.com
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 1ffa6c04dae39776a3c222bdf88051e394386c01)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/events/intel/cstate.c
diff --cc arch/x86/events/intel/cstate.c
index 2c7dce533d4e,21c65e15c8f8..000000000000
--- a/arch/x86/events/intel/cstate.c
+++ b/arch/x86/events/intel/cstate.c
@@@ -553,29 -595,31 +555,36 @@@ static const struct x86_cpu_id intel_cs
  	X86_CSTATES_MODEL(INTEL_FAM6_IVYBRIDGE,   snb_cstates),
  	X86_CSTATES_MODEL(INTEL_FAM6_IVYBRIDGE_X, snb_cstates),
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL,   snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_X, snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_G, snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_CORE, snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_X,	   snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_GT3E, snb_cstates),
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_L, hswult_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_HASWELL_ULT, hswult_cstates),
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_SILVERMONT,   slm_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_SILVERMONT_D, slm_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_AIRMONT,      slm_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_SILVERMONT, slm_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_SILVERMONT_X, slm_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_AIRMONT,     slm_cstates),
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL,   snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_D, snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_G, snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_X, snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_CORE,   snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_XEON_D, snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_GT3E,   snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_BROADWELL_X,      snb_cstates),
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_SKYLAKE_L, snb_cstates),
 -	X86_CSTATES_MODEL(INTEL_FAM6_SKYLAKE,   snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_SKYLAKE_MOBILE,  snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_SKYLAKE_DESKTOP, snb_cstates),
  	X86_CSTATES_MODEL(INTEL_FAM6_SKYLAKE_X, snb_cstates),
  
++<<<<<<< HEAD
 +	X86_CSTATES_MODEL(INTEL_FAM6_KABYLAKE_MOBILE,  hswult_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_KABYLAKE_DESKTOP, hswult_cstates),
++=======
+ 	X86_CSTATES_MODEL(INTEL_FAM6_KABYLAKE_L, hswult_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_KABYLAKE,   hswult_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_COMETLAKE_L, hswult_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_COMETLAKE, hswult_cstates),
++>>>>>>> 1ffa6c04dae3 (perf/x86/cstate: Add Comet Lake CPU support)
  
 -	X86_CSTATES_MODEL(INTEL_FAM6_CANNONLAKE_L, cnl_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_CANNONLAKE_MOBILE, cnl_cstates),
  
  	X86_CSTATES_MODEL(INTEL_FAM6_XEON_PHI_KNL, knl_cstates),
  	X86_CSTATES_MODEL(INTEL_FAM6_XEON_PHI_KNM, knl_cstates),
* Unmerged path arch/x86/events/intel/cstate.c
