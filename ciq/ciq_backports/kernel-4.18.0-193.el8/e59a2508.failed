drm/bochs: deinit bugfix

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Gerd Hoffmann <kraxel@redhat.com>
commit e59a2508d90f393c8423716349db315e32b67559
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/e59a2508.failed

Check whenever mode_config was actually properly
initialized before trying to clean it up.

	Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
	Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
Link: http://patchwork.freedesktop.org/patch/msgid/20200207124348.21641-1-kraxel@redhat.com
(cherry picked from commit e59a2508d90f393c8423716349db315e32b67559)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/bochs/bochs_kms.c
diff --cc drivers/gpu/drm/bochs/bochs_kms.c
index 9cd82e3631fb,8066d7d370d5..000000000000
--- a/drivers/gpu/drm/bochs/bochs_kms.c
+++ b/drivers/gpu/drm/bochs/bochs_kms.c
@@@ -303,8 -163,9 +303,16 @@@ int bochs_kms_init(struct bochs_device 
  
  void bochs_kms_fini(struct bochs_device *bochs)
  {
++<<<<<<< HEAD
 +	if (bochs->mode_config_initialized) {
 +		drm_mode_config_cleanup(bochs->dev);
 +		bochs->mode_config_initialized = false;
 +	}
++=======
+ 	if (!bochs->dev->mode_config.num_connector)
+ 		return;
+ 
+ 	drm_atomic_helper_shutdown(bochs->dev);
+ 	drm_mode_config_cleanup(bochs->dev);
++>>>>>>> e59a2508d90f (drm/bochs: deinit bugfix)
  }
* Unmerged path drivers/gpu/drm/bochs/bochs_kms.c
