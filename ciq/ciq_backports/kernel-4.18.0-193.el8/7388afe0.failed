cfg80211: Use const more consistently in for_each_element macros

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Jouni Malinen <j@w1.fi>
commit 7388afe09143210f555bdd6c75035e9acc1fab96
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/7388afe0.failed

Enforce the first argument to be a correct type of a pointer to struct
element and avoid unnecessary typecasts from const to non-const pointers
(the change in validate_ie_attr() is needed to make this part work). In
addition, avoid signed/unsigned comparison within for_each_element() and
mark struct element packed just in case.

	Signed-off-by: Jouni Malinen <j@w1.fi>
	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit 7388afe09143210f555bdd6c75035e9acc1fab96)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/wireless/nl80211.c
diff --cc net/wireless/nl80211.c
index 4e1c052bca2e,80878b431584..000000000000
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -205,9 -200,25 +205,30 @@@ cfg80211_get_dev_from_info(struct net *
  	return __cfg80211_rdev_from_attrs(netns, info->attrs);
  }
  
++<<<<<<< HEAD
++=======
+ static int validate_ie_attr(const struct nlattr *attr,
+ 			    struct netlink_ext_ack *extack)
+ {
+ 	const u8 *data = nla_data(attr);
+ 	unsigned int len = nla_len(attr);
+ 	const struct element *elem;
+ 
+ 	for_each_element(elem, data, len) {
+ 		/* nothing */
+ 	}
+ 
+ 	if (for_each_element_completed(elem, data, len))
+ 		return 0;
+ 
+ 	NL_SET_ERR_MSG_ATTR(extack, attr, "malformed information elements");
+ 	return -EINVAL;
+ }
+ 
++>>>>>>> 7388afe09143 (cfg80211: Use const more consistently in for_each_element macros)
  /* policy for the attributes */
 +
 +#if 0 /* Not in RHEL */
  static const struct nla_policy
  nl80211_ftm_responder_policy[NL80211_FTM_RESP_ATTR_MAX + 1] = {
  	[NL80211_FTM_RESP_ATTR_ENABLED] = { .type = NLA_FLAG, },
* Unmerged path net/wireless/nl80211.c
