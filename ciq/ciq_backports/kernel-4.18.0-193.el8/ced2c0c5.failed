HID: logitech-hidpp: add support for the MX5500 keyboard

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
Rebuild_CHGLOG: - [hid] logitech-hidpp: add support for the MX5500 keyboard (Benjamin Tissoires) [1740778]
Rebuild_FUZZ: 95.33%
commit-author Hans de Goede <hdegoede@redhat.com>
commit ced2c0c53d08e44b1443d66620c1a883db53c72f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/ced2c0c5.failed

The MX5500 keyboard needs the HIDPP_CONSUMER_VENDOR_KEYS quirk to report
events for the 'A' - 'D' Smart Keys and for the "Photo Gallery" and
"Gadgets" keys.

In addition to this adding the Bluetooth match, so that hid-logitech-hidpp
is used instead of the generic HID driver, also adds battery monitoring
support when the keyboard is connected over Bluetooth.

	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit ced2c0c53d08e44b1443d66620c1a883db53c72f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/hid-logitech-hidpp.c
diff --cc drivers/hid/hid-logitech-hidpp.c
index 844711d5f9a8,b99619d64080..000000000000
--- a/drivers/hid/hid-logitech-hidpp.c
+++ b/drivers/hid/hid-logitech-hidpp.c
@@@ -3376,11 -3729,43 +3376,30 @@@ static const struct hid_device_id hidpp
  	{ /* Solar Keyboard Logitech K750 */
  	  LDJ_DEVICE(0x4002),
  	  .driver_data = HIDPP_QUIRK_CLASS_K750 },
++<<<<<<< HEAD
++=======
+ 	{ /* Keyboard MX5000 (Bluetooth-receiver in HID proxy mode) */
+ 	  LDJ_DEVICE(0xb305),
+ 	  .driver_data = HIDPP_QUIRK_HIDPP_CONSUMER_VENDOR_KEYS },
+ 	{ /* Keyboard MX5500 (Bluetooth-receiver in HID proxy mode) */
+ 	  LDJ_DEVICE(0xb30b),
+ 	  .driver_data = HIDPP_QUIRK_HIDPP_CONSUMER_VENDOR_KEYS },
++>>>>>>> ced2c0c53d08 (HID: logitech-hidpp: add support for the MX5500 keyboard)
  
  	{ LDJ_DEVICE(HID_ANY_ID) },
  
 -	{ /* Keyboard LX501 (Y-RR53) */
 -	  L27MHZ_DEVICE(0x0049),
 -	  .driver_data = HIDPP_QUIRK_KBD_ZOOM_WHEEL },
 -	{ /* Keyboard MX3000 (Y-RAM74) */
 -	  L27MHZ_DEVICE(0x0057),
 -	  .driver_data = HIDPP_QUIRK_KBD_SCROLL_WHEEL },
 -	{ /* Keyboard MX3200 (Y-RAV80) */
 -	  L27MHZ_DEVICE(0x005c),
 -	  .driver_data = HIDPP_QUIRK_KBD_ZOOM_WHEEL },
 -
 -	{ L27MHZ_DEVICE(HID_ANY_ID) },
 -
 -	{ /* Logitech G403 Gaming Mouse over USB */
 -	  HID_USB_DEVICE(USB_VENDOR_ID_LOGITECH, 0xC082) },
 -	{ /* Logitech G700 Gaming Mouse over USB */
 -	  HID_USB_DEVICE(USB_VENDOR_ID_LOGITECH, 0xC06B) },
 -	{ /* Logitech G900 Gaming Mouse over USB */
 -	  HID_USB_DEVICE(USB_VENDOR_ID_LOGITECH, 0xC081) },
 -	{ /* Logitech G920 Wheel over USB */
 -	  HID_USB_DEVICE(USB_VENDOR_ID_LOGITECH, USB_DEVICE_ID_LOGITECH_G920_WHEEL),
 +	{ HID_USB_DEVICE(USB_VENDOR_ID_LOGITECH, USB_DEVICE_ID_LOGITECH_G920_WHEEL),
  		.driver_data = HIDPP_QUIRK_CLASS_G920 | HIDPP_QUIRK_FORCE_OUTPUT_REPORTS},
++<<<<<<< HEAD
++=======
+ 
+ 	{ /* MX5000 keyboard over Bluetooth */
+ 	  HID_BLUETOOTH_DEVICE(USB_VENDOR_ID_LOGITECH, 0xb305),
+ 	  .driver_data = HIDPP_QUIRK_HIDPP_CONSUMER_VENDOR_KEYS },
+ 	{ /* MX5500 keyboard over Bluetooth */
+ 	  HID_BLUETOOTH_DEVICE(USB_VENDOR_ID_LOGITECH, 0xb30b),
+ 	  .driver_data = HIDPP_QUIRK_HIDPP_CONSUMER_VENDOR_KEYS },
++>>>>>>> ced2c0c53d08 (HID: logitech-hidpp: add support for the MX5500 keyboard)
  	{}
  };
  
* Unmerged path drivers/hid/hid-logitech-hidpp.c
