cfg80211: Add support to set tx power for a station associated

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Ashok Raj Nagarajan <arnagara@codeaurora.org>
commit e96d1cd2635c05efdd01b4eafcfc50c22c40751f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/e96d1cd2.failed

This patch adds support to set transmit power setting type and transmit
power level attributes to NL80211_CMD_SET_STATION in order to facilitate
adjusting the transmit power level of a station associated to the AP.

The added attributes allow selection of automatic and limited transmit
power level, with the level defined in dBm format.

Co-developed-by: Balaji Pothunoori <bpothuno@codeaurora.org>
	Signed-off-by: Ashok Raj Nagarajan <arnagara@codeaurora.org>
	Signed-off-by: Balaji Pothunoori <bpothuno@codeaurora.org>
	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit e96d1cd2635c05efdd01b4eafcfc50c22c40751f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/uapi/linux/nl80211.h
#	net/wireless/nl80211.c
diff --cc include/uapi/linux/nl80211.h
index ce2530138aa4,25f70dd2b583..000000000000
--- a/include/uapi/linux/nl80211.h
+++ b/include/uapi/linux/nl80211.h
@@@ -5443,6 -5447,7 +5443,10 @@@ enum nl80211_ext_feature_index 
  	NL80211_EXT_FEATURE_AIRTIME_FAIRNESS,
  	NL80211_EXT_FEATURE_AP_PMKSA_CACHING,
  	NL80211_EXT_FEATURE_SCHED_SCAN_BAND_SPECIFIC_RSSI_THOLD,
++<<<<<<< HEAD
++=======
+ 	NL80211_EXT_FEATURE_EXT_KEY_ID,
++>>>>>>> e96d1cd2635c (cfg80211: Add support to set tx power for a station associated)
  	NL80211_EXT_FEATURE_STA_TX_PWR,
  
  	/* add new features before the definition below */
diff --cc net/wireless/nl80211.c
index 4e1c052bca2e,0524a6fb84ad..000000000000
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -317,8 -329,12 +317,17 @@@ const struct nla_policy nl80211_policy[
  	[NL80211_ATTR_STA_LISTEN_INTERVAL] = { .type = NLA_U16 },
  	[NL80211_ATTR_STA_SUPPORTED_RATES] = { .type = NLA_BINARY,
  					       .len = NL80211_MAX_SUPP_RATES },
++<<<<<<< HEAD
 +	[NL80211_ATTR_STA_PLINK_ACTION] = { .type = NLA_U8 },
 +	[NL80211_ATTR_STA_TX_POWER_SETTING] = { .type = NLA_S16 },
++=======
+ 	[NL80211_ATTR_STA_PLINK_ACTION] =
+ 		NLA_POLICY_MAX(NLA_U8, NUM_NL80211_PLINK_ACTIONS - 1),
+ 	[NL80211_ATTR_STA_TX_POWER_SETTING] =
+ 		NLA_POLICY_RANGE(NLA_U8,
+ 				 NL80211_TX_POWER_AUTOMATIC,
+ 				 NL80211_TX_POWER_FIXED),
++>>>>>>> e96d1cd2635c (cfg80211: Add support to set tx power for a station associated)
  	[NL80211_ATTR_STA_TX_POWER] = { .type = NLA_S16 },
  	[NL80211_ATTR_STA_VLAN] = { .type = NLA_U32 },
  	[NL80211_ATTR_MNTR_FLAGS] = { /* NLA_NESTED can't be empty */ },
* Unmerged path include/uapi/linux/nl80211.h
* Unmerged path net/wireless/nl80211.c
