cfg80211: use parallel_ops for genl

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
commit-author Johannes Berg <johannes.berg@intel.com>
commit 50508d941c180a105fdba802d5af1abf3d93a625
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/50508d94.failed

Over time, we really need to get rid of all of our global locking.
One of the things needed is to use parallel_ops. This isn't really
the most important (RTNL is much more important) but OTOH we just
keep adding uses of genl_family_attrbuf() now. Use .parallel_ops to
disallow this.

Reviewed-By: Denis Kenzior <denkenz@gmail.com>
Link: https://lore.kernel.org/r/20190729143109.18683-1-johannes@sipsolutions.net
	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit 50508d941c180a105fdba802d5af1abf3d93a625)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/wireless/nl80211.c
diff --cc net/wireless/nl80211.c
index fe7c655c8ec8,1e78ed45a759..000000000000
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -12926,6 -12933,13 +12970,16 @@@ static int nl80211_prepare_vendor_dump(
  	if (attrbuf[NL80211_ATTR_VENDOR_DATA]) {
  		data = nla_data(attrbuf[NL80211_ATTR_VENDOR_DATA]);
  		data_len = nla_len(attrbuf[NL80211_ATTR_VENDOR_DATA]);
++<<<<<<< HEAD
++=======
+ 
+ 		err = nl80211_vendor_check_policy(
+ 				&(*rdev)->wiphy.vendor_commands[vcmd_idx],
+ 				attrbuf[NL80211_ATTR_VENDOR_DATA],
+ 				cb->extack);
+ 		if (err)
+ 			goto out;
++>>>>>>> 50508d941c18 (cfg80211: use parallel_ops for genl)
  	}
  
  	/* 0 is the first index - add 1 to parse only once */
* Unmerged path net/wireless/nl80211.c
