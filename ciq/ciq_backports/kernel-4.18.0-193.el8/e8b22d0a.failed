Input: elantech - enable 3rd button support on Fujitsu CELSIUS H780

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
Rebuild_CHGLOG: - [input] elantech - enable 3rd button support on Fujitsu CELSIUS H780 (Benjamin Tissoires) [1740778]
Rebuild_FUZZ: 94.49%
commit-author Matti Kurkela <Matti.Kurkela@iki.fi>
commit e8b22d0a329f0fb5c7ef95406872d268f01ee3b1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/e8b22d0a.failed

Like Fujitsu CELSIUS H760, the H780 also has a three-button Elantech
touchpad, but the driver needs to be told so to enable the middle touchpad
button.

The elantech_dmi_force_crc_enabled quirk was not necessary with the H780.

Also document the fw_version and caps values detected for both H760 and
H780 models.

	Signed-off-by: Matti Kurkela <Matti.Kurkela@iki.fi>
	Cc: stable@vger.kernel.org
	Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
(cherry picked from commit e8b22d0a329f0fb5c7ef95406872d268f01ee3b1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/input/mouse/elantech.c
diff --cc drivers/input/mouse/elantech.c
index 80afa5040990,a7f8b1614559..000000000000
--- a/drivers/input/mouse/elantech.c
+++ b/drivers/input/mouse/elantech.c
@@@ -1066,6 -1102,47 +1066,50 @@@ static int elantech_get_resolution_v4(s
  	return 0;
  }
  
++<<<<<<< HEAD
++=======
+ /*
+  * Advertise INPUT_PROP_BUTTONPAD for clickpads. The testing of bit 12 in
+  * fw_version for this is based on the following fw_version & caps table:
+  *
+  * Laptop-model:           fw_version:     caps:           buttons:
+  * Acer S3                 0x461f00        10, 13, 0e      clickpad
+  * Acer S7-392             0x581f01        50, 17, 0d      clickpad
+  * Acer V5-131             0x461f02        01, 16, 0c      clickpad
+  * Acer V5-551             0x461f00        ?               clickpad
+  * Asus K53SV              0x450f01        78, 15, 0c      2 hw buttons
+  * Asus G46VW              0x460f02        00, 18, 0c      2 hw buttons
+  * Asus G750JX             0x360f00        00, 16, 0c      2 hw buttons
+  * Asus TP500LN            0x381f17        10, 14, 0e      clickpad
+  * Asus X750JN             0x381f17        10, 14, 0e      clickpad
+  * Asus UX31               0x361f00        20, 15, 0e      clickpad
+  * Asus UX32VD             0x361f02        00, 15, 0e      clickpad
+  * Avatar AVIU-145A2       0x361f00        ?               clickpad
+  * Fujitsu CELSIUS H760    0x570f02        40, 14, 0c      3 hw buttons (**)
+  * Fujitsu CELSIUS H780    0x5d0f02        41, 16, 0d      3 hw buttons (**)
+  * Fujitsu LIFEBOOK E544   0x470f00        d0, 12, 09      2 hw buttons
+  * Fujitsu LIFEBOOK E546   0x470f00        50, 12, 09      2 hw buttons
+  * Fujitsu LIFEBOOK E547   0x470f00        50, 12, 09      2 hw buttons
+  * Fujitsu LIFEBOOK E554   0x570f01        40, 14, 0c      2 hw buttons
+  * Fujitsu LIFEBOOK E557   0x570f01        40, 14, 0c      2 hw buttons
+  * Fujitsu T725            0x470f01        05, 12, 09      2 hw buttons
+  * Fujitsu H730            0x570f00        c0, 14, 0c      3 hw buttons (**)
+  * Gigabyte U2442          0x450f01        58, 17, 0c      2 hw buttons
+  * Lenovo L430             0x350f02        b9, 15, 0c      2 hw buttons (*)
+  * Lenovo L530             0x350f02        b9, 15, 0c      2 hw buttons (*)
+  * Samsung NF210           0x150b00        78, 14, 0a      2 hw buttons
+  * Samsung NP770Z5E        0x575f01        10, 15, 0f      clickpad
+  * Samsung NP700Z5B        0x361f06        21, 15, 0f      clickpad
+  * Samsung NP900X3E-A02    0x575f03        ?               clickpad
+  * Samsung NP-QX410        0x851b00        19, 14, 0c      clickpad
+  * Samsung RC512           0x450f00        08, 15, 0c      2 hw buttons
+  * Samsung RF710           0x450f00        ?               2 hw buttons
+  * System76 Pangolin       0x250f01        ?               2 hw buttons
+  * (*) + 3 trackpoint buttons
+  * (**) + 0 trackpoint buttons
+  * Note: Lenovo L430 and Lenovo L530 have the same fw_version/caps
+  */
++>>>>>>> e8b22d0a329f (Input: elantech - enable 3rd button support on Fujitsu CELSIUS H780)
  static void elantech_set_buttonpad_prop(struct psmouse *psmouse)
  {
  	struct input_dev *dev = psmouse->dev;
* Unmerged path drivers/input/mouse/elantech.c
