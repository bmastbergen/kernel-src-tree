sched/fair: Fix -Wunused-but-set-variable warnings

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
Rebuild_CHGLOG: - [sched] fair: Fix -Wunused-but-set-variable warnings (Phil Auld) [1706247]
Rebuild_FUZZ: 93.62%
commit-author Qian Cai <cai@lca.pw>
commit 763a9ec06c409dcde2a761aac4bb83ff3938e0b3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/763a9ec0.failed

Commit:

   de53fd7aedb1 ("sched/fair: Fix low cpu usage with high throttling by removing expiration of cpu-local slices")

introduced a few compilation warnings:

  kernel/sched/fair.c: In function '__refill_cfs_bandwidth_runtime':
  kernel/sched/fair.c:4365:6: warning: variable 'now' set but not used [-Wunused-but-set-variable]
  kernel/sched/fair.c: In function 'start_cfs_bandwidth':
  kernel/sched/fair.c:4992:6: warning: variable 'overrun' set but not used [-Wunused-but-set-variable]

Also, __refill_cfs_bandwidth_runtime() does no longer update the
expiration time, so fix the comments accordingly.

	Signed-off-by: Qian Cai <cai@lca.pw>
	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Reviewed-by: Ben Segall <bsegall@google.com>
	Reviewed-by: Dave Chiluk <chiluk+linux@indeed.com>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Thomas Gleixner <tglx@linutronix.de>
	Cc: pauld@redhat.com
Fixes: de53fd7aedb1 ("sched/fair: Fix low cpu usage with high throttling by removing expiration of cpu-local slices")
Link: https://lkml.kernel.org/r/1566326455-8038-1-git-send-email-cai@lca.pw
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 763a9ec06c409dcde2a761aac4bb83ff3938e0b3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/sched/fair.c
diff --cc kernel/sched/fair.c
index c74dd8eb49bb,dfdac90fd211..000000000000
--- a/kernel/sched/fair.c
+++ b/kernel/sched/fair.c
@@@ -4296,15 -4361,8 +4296,20 @@@ static inline u64 sched_cfs_bandwidth_s
   */
  void __refill_cfs_bandwidth_runtime(struct cfs_bandwidth *cfs_b)
  {
++<<<<<<< HEAD
 +	u64 now;
 +
 +	if (cfs_b->quota == RUNTIME_INF)
 +		return;
 +
 +	now = sched_clock_cpu(smp_processor_id());
 +	cfs_b->runtime = cfs_b->quota;
 +	cfs_b->runtime_expires = now + ktime_to_ns(cfs_b->period);
 +	cfs_b->expires_seq++;
++=======
+ 	if (cfs_b->quota != RUNTIME_INF)
+ 		cfs_b->runtime = cfs_b->quota;
++>>>>>>> 763a9ec06c40 (sched/fair: Fix -Wunused-but-set-variable warnings)
  }
  
  static inline struct cfs_bandwidth *tg_cfs_bandwidth(struct task_group *tg)
@@@ -4972,9 -4984,7 +4975,13 @@@ void start_cfs_bandwidth(struct cfs_ban
  		return;
  
  	cfs_b->period_active = 1;
++<<<<<<< HEAD
 +	overrun = hrtimer_forward_now(&cfs_b->period_timer, cfs_b->period);
 +	cfs_b->runtime_expires += (overrun + 1) * ktime_to_ns(cfs_b->period);
 +	cfs_b->expires_seq++;
++=======
+ 	hrtimer_forward_now(&cfs_b->period_timer, cfs_b->period);
++>>>>>>> 763a9ec06c40 (sched/fair: Fix -Wunused-but-set-variable warnings)
  	hrtimer_start_expires(&cfs_b->period_timer, HRTIMER_MODE_ABS_PINNED);
  }
  
* Unmerged path kernel/sched/fair.c
