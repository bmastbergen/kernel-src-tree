net/mlx5: Fix error handling in mlx5_load()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-193.el8
Rebuild_CHGLOG: - [netdrv] mlx5: Fix error handling in mlx5_load() (Alaa Hleihel) [1724335]
Rebuild_FUZZ: 95.12%
commit-author Saeed Mahameed <saeedm@mellanox.com>
commit 8788392995e7f1ea87d4efa03c14d872b05f9f25
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-193.el8/87883929.failed

In case mlx5_core_set_hca_defaults fails, it should jump to
mlx5_cleanup_fs, fix that.

Fixes: c85023e153e3 ("IB/mlx5: Add raw ethernet local loopback support")
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
	Reviewed-by: Huy Nguyen <huyn@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 8788392995e7f1ea87d4efa03c14d872b05f9f25)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/main.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/main.c
index 4b92d3cc86db,23d53163ce15..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/main.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/main.c
@@@ -1100,8 -1066,8 +1100,13 @@@ static int mlx5_load_one(struct mlx5_co
  
  	err = mlx5_core_set_hca_defaults(dev);
  	if (err) {
++<<<<<<< HEAD
 +		dev_err(&pdev->dev, "Failed to set hca defaults\n");
 +		goto err_fs;
++=======
+ 		mlx5_core_err(dev, "Failed to set hca defaults\n");
+ 		goto err_sriov;
++>>>>>>> 8788392995e7 (net/mlx5: Fix error handling in mlx5_load())
  	}
  
  	err = mlx5_sriov_attach(dev);
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/main.c
