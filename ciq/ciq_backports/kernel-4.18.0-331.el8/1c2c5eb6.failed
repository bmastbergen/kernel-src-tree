mlxsw: spectrum_router: Fix error handling issue

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Ido Schimmel <idosch@nvidia.com>
commit 1c2c5eb6e10828bcfef1ac5f1f688ff457c04599
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/1c2c5eb6.failed

Return error to the caller instead of suppressing it.

Fixes: e3ddfb45bacd ("mlxsw: spectrum_router: Allow returning errors from mlxsw_sp_nexthop_group_refresh()")
Addresses-Coverity: ("Error handling issues  (CHECKED_RETURN)")
	Signed-off-by: Ido Schimmel <idosch@nvidia.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 1c2c5eb6e10828bcfef1ac5f1f688ff457c04599)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
diff --cc drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
index c1294db6f0b0,118d48d9ff8e..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
@@@ -3552,17 -3605,14 +3552,22 @@@ mlxsw_sp_nexthop_group_refresh(struct m
  	bool offload_change = false;
  	u32 adj_index;
  	bool old_adj_index_valid;
 -	int i, err2, err = 0;
  	u32 old_adj_index;
 +	int i;
 +	int err;
  
++<<<<<<< HEAD
 +	if (!nh_grp->gateway) {
 +		mlxsw_sp_nexthop_fib_entries_update(mlxsw_sp, nh_grp);
 +		return;
 +	}
++=======
+ 	if (!nhgi->gateway)
+ 		return mlxsw_sp_nexthop_fib_entries_update(mlxsw_sp, nh_grp);
++>>>>>>> 1c2c5eb6e108 (mlxsw: spectrum_router: Fix error handling issue)
  
 -	for (i = 0; i < nhgi->count; i++) {
 -		nh = &nhgi->nexthops[i];
 +	for (i = 0; i < nh_grp->count; i++) {
 +		nh = &nh_grp->nexthops[i];
  
  		if (nh->should_offload != nh->offloaded) {
  			offload_change = true;
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
