hwmon: (k10temp) Add Hygon Dhyana support

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Pu Wen <puwen@hygon.cn>
commit d93217d84c6c7ef74bfeb606a1fb1ee28720646b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/d93217d8.failed

Add support for Hygon Dhyana family 18h processor for k10temp to get the
temperature. As Hygon Dhyana shares the same function interface with AMD
family 17h, so add Hygon PCI Vendor ID and reuse the code path of AMD.

	Signed-off-by: Pu Wen <puwen@hygon.cn>
	Acked-by: Borislav Petkov <bp@suse.de>
	Signed-off-by: Guenter Roeck <linux@roeck-us.net>
(cherry picked from commit d93217d84c6c7ef74bfeb606a1fb1ee28720646b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hwmon/k10temp.c
diff --cc drivers/hwmon/k10temp.c
index cea8a44483df,1eb954daa2c8..000000000000
--- a/drivers/hwmon/k10temp.c
+++ b/drivers/hwmon/k10temp.c
@@@ -323,7 -330,7 +323,11 @@@ static int k10temp_probe(struct pci_de
  	     (boot_cpu_data.x86_model & 0xf0) == 0x70)) {
  		data->read_htcreg = read_htcreg_nb_f15;
  		data->read_tempreg = read_tempreg_nb_f15;
++<<<<<<< HEAD
 +	} else if (boot_cpu_data.x86 == 0x17 || boot_cpu_data.x86 == 0x19) {
++=======
+ 	} else if (boot_cpu_data.x86 == 0x17 || boot_cpu_data.x86 == 0x18) {
++>>>>>>> d93217d84c6c (hwmon: (k10temp) Add Hygon Dhyana support)
  		data->temp_adjust_mask = 0x80000;
  		data->read_tempreg = read_tempreg_nb_f17;
  		data->show_tdie = true;
@@@ -360,8 -367,7 +364,12 @@@ static const struct pci_device_id k10te
  	{ PCI_VDEVICE(AMD, PCI_DEVICE_ID_AMD_16H_M30H_NB_F3) },
  	{ PCI_VDEVICE(AMD, PCI_DEVICE_ID_AMD_17H_DF_F3) },
  	{ PCI_VDEVICE(AMD, PCI_DEVICE_ID_AMD_17H_M10H_DF_F3) },
++<<<<<<< HEAD
 +	{ PCI_VDEVICE(AMD, PCI_DEVICE_ID_AMD_17H_M30H_DF_F3) },
 +	{ PCI_VDEVICE(AMD, PCI_DEVICE_ID_AMD_19H_DF_F3) },
++=======
+ 	{ PCI_VDEVICE(HYGON, PCI_DEVICE_ID_AMD_17H_DF_F3) },
++>>>>>>> d93217d84c6c (hwmon: (k10temp) Add Hygon Dhyana support)
  	{}
  };
  MODULE_DEVICE_TABLE(pci, k10temp_id_table);
* Unmerged path drivers/hwmon/k10temp.c
