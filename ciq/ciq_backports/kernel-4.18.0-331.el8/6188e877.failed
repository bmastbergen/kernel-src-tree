gfs2: Some documentation updates

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Andreas Gruenbacher <agruenba@redhat.com>
commit 6188e8777de48c8404b0bcca74a70ac83c37d773
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/6188e877.failed

The calc_reserved description claims that buf_limit is 502 (on 4k
filesystems), but it is actually 503.  Fix / clarify the entire
description.

	Signed-off-by: Andreas Gruenbacher <agruenba@redhat.com>
(cherry picked from commit 6188e8777de48c8404b0bcca74a70ac83c37d773)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/gfs2/log.c
diff --cc fs/gfs2/log.c
index 6e6188b939e3,12e8280f0806..000000000000
--- a/fs/gfs2/log.c
+++ b/fs/gfs2/log.c
@@@ -54,12 -50,13 +54,18 @@@ unsigned int gfs2_struct2blk(struct gfs
  	unsigned int blks;
  	unsigned int first, second;
  
+ 	/* The initial struct gfs2_log_descriptor block */
  	blks = 1;
 -	first = sdp->sd_ldptrs;
 +	first = (sdp->sd_sb.sb_bsize - sizeof(struct gfs2_log_descriptor)) / ssize;
  
  	if (nstruct > first) {
++<<<<<<< HEAD
 +		second = (sdp->sd_sb.sb_bsize -
 +			  sizeof(struct gfs2_meta_header)) / ssize;
++=======
+ 		/* Subsequent struct gfs2_meta_header blocks */
+ 		second = sdp->sd_inptrs;
++>>>>>>> 6188e8777de4 (gfs2: Some documentation updates)
  		blks += DIV_ROUND_UP(nstruct - first, second);
  	}
  
@@@ -960,8 -1004,9 +962,8 @@@ void gfs2_log_flush(struct gfs2_sbd *sd
  		goto out_withdraw;
  
  	if (sdp->sd_log_head != sdp->sd_log_flush_head) {
 -		log_flush_wait(sdp);
  		log_write_header(sdp, flags);
- 	} else if (sdp->sd_log_tail != current_tail(sdp) && !sdp->sd_log_idle){
+ 	} else if (sdp->sd_log_tail != current_tail(sdp) && !sdp->sd_log_idle) {
  		atomic_dec(&sdp->sd_log_blks_free); /* Adjust for unreserved buffer */
  		trace_gfs2_log_blocks(sdp, -1);
  		log_write_header(sdp, flags);
* Unmerged path fs/gfs2/log.c
