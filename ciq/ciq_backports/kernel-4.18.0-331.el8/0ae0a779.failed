bnxt_en: Avoid unnecessary NVM_GET_DEV_INFO cmd error log on VFs.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Vasundhara Volam <vasundhara-v.volam@broadcom.com>
commit 0ae0a779efb8840a0cdb2d6bd9a5d07663ac3ee2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/0ae0a779.failed

VFs do not have access permissions to issue NVM_GET_DEV_INFO
firmware command.

Fixes: 4933f6753b50 ("bnxt_en: Add bnxt_hwrm_nvm_get_dev_info() to query NVM info.")
	Signed-off-by: Vasundhara Volam <vasundhara-v.volam@broadcom.com>
	Signed-off-by: Michael Chan <michael.chan@broadcom.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 0ae0a779efb8840a0cdb2d6bd9a5d07663ac3ee2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c
diff --cc drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c
index ed33f6f1b2ad,1471c9a36238..000000000000
--- a/drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c
+++ b/drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c
@@@ -2072,6 -2072,25 +2072,28 @@@ static u32 bnxt_get_link(struct net_dev
  	return bp->link_info.link_up;
  }
  
++<<<<<<< HEAD
++=======
+ int bnxt_hwrm_nvm_get_dev_info(struct bnxt *bp,
+ 			       struct hwrm_nvm_get_dev_info_output *nvm_dev_info)
+ {
+ 	struct hwrm_nvm_get_dev_info_output *resp = bp->hwrm_cmd_resp_addr;
+ 	struct hwrm_nvm_get_dev_info_input req = {0};
+ 	int rc;
+ 
+ 	if (BNXT_VF(bp))
+ 		return -EOPNOTSUPP;
+ 
+ 	bnxt_hwrm_cmd_hdr_init(bp, &req, HWRM_NVM_GET_DEV_INFO, -1, -1);
+ 	mutex_lock(&bp->hwrm_cmd_lock);
+ 	rc = _hwrm_send_message(bp, &req, sizeof(req), HWRM_CMD_TIMEOUT);
+ 	if (!rc)
+ 		memcpy(nvm_dev_info, resp, sizeof(*resp));
+ 	mutex_unlock(&bp->hwrm_cmd_lock);
+ 	return rc;
+ }
+ 
++>>>>>>> 0ae0a779efb8 (bnxt_en: Avoid unnecessary NVM_GET_DEV_INFO cmd error log on VFs.)
  static void bnxt_print_admin_err(struct bnxt *bp)
  {
  	netdev_info(bp->dev, "PF does not have admin privileges to flash or reset the device\n");
* Unmerged path drivers/net/ethernet/broadcom/bnxt/bnxt_ethtool.c
