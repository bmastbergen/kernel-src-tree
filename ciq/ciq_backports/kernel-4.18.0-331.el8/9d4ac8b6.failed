cifs: make fs_context error logging wrapper

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Aurelien Aptel <aaptel@suse.com>
commit 9d4ac8b6302c60a1949560e501fc1d0b4654b9c6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/9d4ac8b6.failed

This new helper will be used in the fs_context mount option parsing
code. It log errors both in:
* the fs_context log queue for userspace to read
* kernel printk buffer (dmesg, old behaviour)

	Signed-off-by: Aurelien Aptel <aaptel@suse.com>
	Signed-off-by: Steve French <stfrench@microsoft.com>
(cherry picked from commit 9d4ac8b6302c60a1949560e501fc1d0b4654b9c6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/cifs/fs_context.h
diff --cc fs/cifs/fs_context.h
index 3a66199f3cb7,dc0b7c9489f5..000000000000
--- a/fs/cifs/fs_context.h
+++ b/fs/cifs/fs_context.h
@@@ -9,8 -9,16 +9,19 @@@
  #ifndef _FS_CONTEXT_H
  #define _FS_CONTEXT_H
  
 -#include "cifsglob.h"
  #include <linux/parser.h>
++<<<<<<< HEAD
 +#include "cifsglob.h"
++=======
+ #include <linux/fs_parser.h>
+ 
+ /* Log errors in fs_context (new mount api) but also in dmesg (old style) */
+ #define cifs_errorf(fc, fmt, ...)			\
+ 	do {						\
+ 		errorf(fc, fmt, ## __VA_ARGS__);	\
+ 		cifs_dbg(VFS, fmt, ## __VA_ARGS__);	\
+ 	} while (0)
++>>>>>>> 9d4ac8b6302c (cifs: make fs_context error logging wrapper)
  
  enum smb_version {
  	Smb_1 = 1,
* Unmerged path fs/cifs/fs_context.h
