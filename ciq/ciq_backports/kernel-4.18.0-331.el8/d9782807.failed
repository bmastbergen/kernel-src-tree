cpufreq/intel_pstate: Fix wrong macro conversion

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Thomas Gleixner <tglx@linutronix.de>
commit d97828072d0bcecb6655f0966efc38a2647d3dfb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/d9782807.failed

The feature flag hwp_support_ids are supposed to match on is
X86_FEATURE_HWP, not X86_FEATURE_APERFMPERF. Fix it.

 [ bp: Write commit message. ]

Fixes: b11d77fa300d ("cpufreq: Convert to new X86 CPU match macros")
	Reported-by: kernel test robot <rong.a.chen@intel.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Signed-off-by: Borislav Petkov <bp@suse.de>
Link: https://lkml.kernel.org/r/20200324060124.GC11705@shao2-debian
(cherry picked from commit d97828072d0bcecb6655f0966efc38a2647d3dfb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/cpufreq/intel_pstate.c
diff --cc drivers/cpufreq/intel_pstate.c
index c219d09851c5,46bce09e5aff..000000000000
--- a/drivers/cpufreq/intel_pstate.c
+++ b/drivers/cpufreq/intel_pstate.c
@@@ -3047,13 -2725,14 +3047,19 @@@ static inline void intel_pstate_request
  
  #define INTEL_PSTATE_HWP_BROADWELL	0x01
  
++<<<<<<< HEAD
 +#define ICPU_HWP(model, hwp_mode) \
 +	{ X86_VENDOR_INTEL, 6, model, X86_FEATURE_HWP, hwp_mode }
++=======
+ #define X86_MATCH_HWP(model, hwp_mode)					\
+ 	X86_MATCH_VENDOR_FAM_MODEL_FEATURE(INTEL, 6, INTEL_FAM6_##model, \
+ 					   X86_FEATURE_HWP, hwp_mode)
++>>>>>>> d97828072d0b (cpufreq/intel_pstate: Fix wrong macro conversion)
  
  static const struct x86_cpu_id hwp_support_ids[] __initconst = {
 -	X86_MATCH_HWP(BROADWELL_X,	INTEL_PSTATE_HWP_BROADWELL),
 -	X86_MATCH_HWP(BROADWELL_D,	INTEL_PSTATE_HWP_BROADWELL),
 -	X86_MATCH_HWP(ANY,		0),
 +	ICPU_HWP(INTEL_FAM6_BROADWELL_X, INTEL_PSTATE_HWP_BROADWELL),
 +	ICPU_HWP(INTEL_FAM6_BROADWELL_D, INTEL_PSTATE_HWP_BROADWELL),
 +	ICPU_HWP(X86_MODEL_ANY, 0),
  	{}
  };
  
* Unmerged path drivers/cpufreq/intel_pstate.c
