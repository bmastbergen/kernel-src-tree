tipc: Return the correct errno code

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-331.el8
commit-author Zheng Yongjun <zhengyongjun3@huawei.com>
commit 0efea3c649f0a50d473a4afe2d17c2bbcee639e1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-331.el8/0efea3c6.failed

When kalloc or kmemdup failed, should return ENOMEM rather than ENOBUF.

	Signed-off-by: Zheng Yongjun <zhengyongjun3@huawei.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 0efea3c649f0a50d473a4afe2d17c2bbcee639e1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/tipc/link.c
diff --cc net/tipc/link.c
index ad504afd9320,5b6181277cc5..000000000000
--- a/net/tipc/link.c
+++ b/net/tipc/link.c
@@@ -999,8 -1029,8 +999,12 @@@ void tipc_link_reset(struct tipc_link *
   * @xmitq: returned list of packets to be sent by caller
   *
   * Consumes the buffer chain.
 + * Returns 0 if success, or errno: -ELINKCONG, -EMSGSIZE or -ENOBUFS
   * Messages at TIPC_SYSTEM_IMPORTANCE are always accepted
++<<<<<<< HEAD
++=======
+  * Return: 0 if success, or errno: -ELINKCONG, -EMSGSIZE or -ENOBUFS or -ENOMEM
++>>>>>>> 0efea3c649f0 (tipc: Return the correct errno code)
   */
  int tipc_link_xmit(struct tipc_link *l, struct sk_buff_head *list,
  		   struct sk_buff_head *xmitq)
* Unmerged path net/tipc/link.c
