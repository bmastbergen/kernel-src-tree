net: phy: realtek: read actual speed on rtl8211f to detect downshift

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-315.el8
commit-author Antonio Borneo <antonio.borneo@st.com>
commit 4826d2c4fcbfcc3ba7887a197143ffe4d444a3d3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-315.el8/4826d2c4.failed

The rtl8211f supports downshift and before commit 5502b218e001
("net: phy: use phy_resolve_aneg_linkmode in genphy_read_status")
the read-back of register MII_CTRL1000 was used to detect the
negotiated link speed.
The code added in commit d445dff2df60 ("net: phy: realtek: read
actual speed to detect downshift") is working fine also for this
phy and it's trivial re-using it to restore the downshift
detection on rtl8211f.

Add the phy specific read_status() pointing to the existing
function rtlgen_read_status().

	Signed-off-by: Antonio Borneo <antonio.borneo@st.com>
Link: https://lore.kernel.org/r/478f871a-583d-01f1-9cc5-2eea56d8c2a7@huawei.com
	Tested-by: Yonglong Liu <liuyonglong@huawei.com>
Link: https://lore.kernel.org/r/20201124230756.887925-1-antonio.borneo@st.com
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 4826d2c4fcbfcc3ba7887a197143ffe4d444a3d3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/realtek.c
diff --cc drivers/net/phy/realtek.c
index 5844cf2d3323,99ecd6c4c15a..000000000000
--- a/drivers/net/phy/realtek.c
+++ b/drivers/net/phy/realtek.c
@@@ -621,8 -729,9 +621,12 @@@ static struct phy_driver realtek_drvs[
  		PHY_ID_MATCH_EXACT(0x001cc916),
  		.name		= "RTL8211F Gigabit Ethernet",
  		.config_init	= &rtl8211f_config_init,
++<<<<<<< HEAD
 +		.ack_interrupt	= &rtl8211f_ack_interrupt,
++=======
+ 		.read_status	= rtlgen_read_status,
++>>>>>>> 4826d2c4fcbf (net: phy: realtek: read actual speed on rtl8211f to detect downshift)
  		.config_intr	= &rtl8211f_config_intr,
 -		.handle_interrupt = rtl8211f_handle_interrupt,
  		.suspend	= genphy_suspend,
  		.resume		= genphy_resume,
  		.read_page	= rtl821x_read_page,
* Unmerged path drivers/net/phy/realtek.c
