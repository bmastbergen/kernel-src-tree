mt76: mt7921: add mt7921_dma_cleanup in mt7921_unregister_device

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-315.el8
commit-author Lorenzo Bianconi <lorenzo@kernel.org>
commit 2b9ea5a8cf1bdc82f494da5a90191aa8b042980d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-315.el8/2b9ea5a8.failed

In order to avoid memory leaks, clean the dma engine unloading the
module

	Signed-off-by: Lorenzo Bianconi <lorenzo@kernel.org>
	Signed-off-by: Felix Fietkau <nbd@nbd.name>
(cherry picked from commit 2b9ea5a8cf1bdc82f494da5a90191aa8b042980d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/mediatek/mt76/mt7921/init.c
diff --cc drivers/net/wireless/mediatek/mt76/mt7921/init.c
index b88101a7ddbd,94fe2eadf285..000000000000
--- a/drivers/net/wireless/mediatek/mt76/mt7921/init.c
+++ b/drivers/net/wireless/mediatek/mt76/mt7921/init.c
@@@ -259,10 -272,9 +259,15 @@@ int mt7921_register_device(struct mt792
  void mt7921_unregister_device(struct mt7921_dev *dev)
  {
  	mt76_unregister_device(&dev->mt76);
++<<<<<<< HEAD
 +	mt7921_mcu_exit(dev);
 +	mt7921_dma_cleanup(dev);
 +
++=======
++>>>>>>> 2b9ea5a8cf1b (mt76: mt7921: add mt7921_dma_cleanup in mt7921_unregister_device)
  	mt7921_tx_token_put(dev);
+ 	mt7921_dma_cleanup(dev);
+ 	mt7921_mcu_exit(dev);
  
  	tasklet_disable(&dev->irq_tasklet);
  	mt76_free_device(&dev->mt76);
* Unmerged path drivers/net/wireless/mediatek/mt76/mt7921/init.c
