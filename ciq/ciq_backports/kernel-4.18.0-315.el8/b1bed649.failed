mt76: mt7915: check mcu returned values in mt7915_ops

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-315.el8
commit-author Ryder Lee <ryder.lee@mediatek.com>
commit b1bed649ad0378afc01226c89d7e89f0580788ba
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-315.el8/b1bed649.failed

Properly check returned values from mcu utility routines in
mt7915_ops.

	Signed-off-by: Ryder Lee <ryder.lee@mediatek.com>
	Signed-off-by: Felix Fietkau <nbd@nbd.name>
(cherry picked from commit b1bed649ad0378afc01226c89d7e89f0580788ba)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/mediatek/mt76/mt7915/main.c
diff --cc drivers/net/wireless/mediatek/mt76/mt7915/main.c
index 8d404f548bca,255f87aa1830..000000000000
--- a/drivers/net/wireless/mediatek/mt76/mt7915/main.c
+++ b/drivers/net/wireless/mediatek/mt76/mt7915/main.c
@@@ -33,21 -34,44 +34,61 @@@ static int mt7915_start(struct ieee8021
  	running = mt7915_dev_running(dev);
  
  	if (!running) {
++<<<<<<< HEAD
 +		mt7915_mcu_set_pm(dev, 0, 0);
 +		mt7915_mcu_set_mac(dev, 0, true, false);
 +		mt7915_mcu_set_scs(dev, 0, true);
++=======
+ 		ret = mt7915_mcu_set_pm(dev, 0, 0);
+ 		if (ret)
+ 			goto out;
+ 
+ 		ret = mt7915_mcu_set_mac(dev, 0, true, true);
+ 		if (ret)
+ 			goto out;
+ 
+ 		ret = mt7915_mcu_set_scs(dev, 0, true);
+ 		if (ret)
+ 			goto out;
+ 
++>>>>>>> b1bed649ad03 (mt76: mt7915: check mcu returned values in mt7915_ops)
  		mt7915_mac_enable_nf(dev, 0);
  	}
  
  	if (phy != &dev->phy) {
++<<<<<<< HEAD
 +		mt7915_mcu_set_pm(dev, 1, 0);
 +		mt7915_mcu_set_mac(dev, 1, true, false);
 +		mt7915_mcu_set_scs(dev, 1, true);
 +		mt7915_mac_enable_nf(dev, 1);
 +	}
 +
 +	mt7915_mcu_set_sku_en(phy, !mt76_testmode_enabled(&dev->mt76));
 +	mt7915_mcu_set_chan_info(phy, MCU_EXT_CMD_SET_RX_PATH);
++=======
+ 		ret = mt7915_mcu_set_pm(dev, 1, 0);
+ 		if (ret)
+ 			goto out;
+ 
+ 		ret = mt7915_mcu_set_mac(dev, 1, true, true);
+ 		if (ret)
+ 			goto out;
+ 
+ 		ret = mt7915_mcu_set_scs(dev, 1, true);
+ 		if (ret)
+ 			goto out;
+ 
+ 		mt7915_mac_enable_nf(dev, 1);
+ 	}
+ 
+ 	ret = mt7915_mcu_set_sku_en(phy, true);
+ 	if (ret)
+ 		goto out;
+ 
+ 	ret = mt7915_mcu_set_chan_info(phy, MCU_EXT_CMD(SET_RX_PATH));
+ 	if (ret)
+ 		goto out;
++>>>>>>> b1bed649ad03 (mt76: mt7915: check mcu returned values in mt7915_ops)
  
  	set_bit(MT76_STATE_RUNNING, &phy->mt76->state);
  
* Unmerged path drivers/net/wireless/mediatek/mt76/mt7915/main.c
