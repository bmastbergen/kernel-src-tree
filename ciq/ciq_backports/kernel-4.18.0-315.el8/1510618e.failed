netfilter: nf_log_netdev: merge with nf_log_syslog

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-315.el8
commit-author Florian Westphal <fw@strlen.de>
commit 1510618e45cb9fb77aede5544f8309b64f8b7400
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-315.el8/1510618e.failed

Provide netdev family support from the nf_log_syslog module.

	Signed-off-by: Florian Westphal <fw@strlen.de>
	Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
(cherry picked from commit 1510618e45cb9fb77aede5544f8309b64f8b7400)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/netfilter/Kconfig
#	net/netfilter/nf_log_netdev.c
#	net/netfilter/nf_log_syslog.c
diff --cc net/netfilter/Kconfig
index 79b1a23cb51b,6aef981a8446..000000000000
--- a/net/netfilter/Kconfig
+++ b/net/netfilter/Kconfig
@@@ -65,9 -74,17 +65,23 @@@ config NF_CONNTRAC
  config NF_LOG_COMMON
  	tristate
  
++<<<<<<< HEAD
 +config NF_LOG_NETDEV
 +	tristate "Netdev packet logging"
 +	select NF_LOG_COMMON
++=======
+ config NF_LOG_SYSLOG
+ 	tristate "Syslog packet logging"
+ 	default m if NETFILTER_ADVANCED=n
+ 	select NF_LOG_COMMON
+ 	help
+ 	  This option enable support for packet logging via syslog.
+ 	  It supports IPv4 and common transport protocols such as TCP and UDP.
+ 	  This is a simpler but less flexible logging method compared to
+ 	  CONFIG_NETFILTER_NETLINK_LOG.
+ 	  If both are enabled the backend to use can be configured at run-time
+ 	  by means of per-address-family sysctl tunables.
++>>>>>>> 1510618e45cb (netfilter: nf_log_netdev: merge with nf_log_syslog)
  
  if NF_CONNTRACK
  config NETFILTER_CONNCOUNT
* Unmerged path net/netfilter/nf_log_netdev.c
* Unmerged path net/netfilter/nf_log_syslog.c
* Unmerged path net/netfilter/Kconfig
diff --git a/net/netfilter/Makefile b/net/netfilter/Makefile
index a45cbb35948c..02e02dc810d3 100644
--- a/net/netfilter/Makefile
+++ b/net/netfilter/Makefile
@@ -50,9 +50,6 @@ nf_nat-y	:= nf_nat_core.o nf_nat_proto.o nf_nat_helper.o
 # generic transport layer logging
 obj-$(CONFIG_NF_LOG_COMMON) += nf_log_common.o
 
-# packet logging for netdev family
-obj-$(CONFIG_NF_LOG_NETDEV) += nf_log_netdev.o
-
 obj-$(CONFIG_NF_NAT) += nf_nat.o
 nf_nat-$(CONFIG_NF_NAT_REDIRECT) += nf_nat_redirect.o
 nf_nat-$(CONFIG_NF_NAT_MASQUERADE) += nf_nat_masquerade.o
* Unmerged path net/netfilter/nf_log_netdev.c
* Unmerged path net/netfilter/nf_log_syslog.c
