xfs: fix unused variable warning in xfs_buf_set_ref()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Brian Foster <bfoster@redhat.com>
commit 4eadcf9a417a4689e596e3c2a99857c2e3603049
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/4eadcf9a.failed

Fix an unused variable warning on non-DEBUG builds introduced by
commit 7561d27e90 ("xfs: buffer lru reference count error injection
tag").

	Signed-off-by: Brian Foster <bfoster@redhat.com>
	Reviewed-by: Darrick J. Wong <darrick.wong@oracle.com>
	Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>
(cherry picked from commit 4eadcf9a417a4689e596e3c2a99857c2e3603049)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/xfs_buf.c
diff --cc fs/xfs/xfs_buf.c
index 8d45b964cd22,db786bce7c03..000000000000
--- a/fs/xfs/xfs_buf.c
+++ b/fs/xfs/xfs_buf.c
@@@ -2152,3 -2130,17 +2152,20 @@@ xfs_buf_terminate(void
  {
  	kmem_zone_destroy(xfs_buf_zone);
  }
++<<<<<<< HEAD
++=======
+ 
+ void xfs_buf_set_ref(struct xfs_buf *bp, int lru_ref)
+ {
+ 	/*
+ 	 * Set the lru reference count to 0 based on the error injection tag.
+ 	 * This allows userspace to disrupt buffer caching for debug/testing
+ 	 * purposes.
+ 	 */
+ 	if (XFS_TEST_ERROR(false, bp->b_target->bt_mount,
+ 			   XFS_ERRTAG_BUF_LRU_REF))
+ 		lru_ref = 0;
+ 
+ 	atomic_set(&bp->b_lru_ref, lru_ref);
+ }
++>>>>>>> 4eadcf9a417a (xfs: fix unused variable warning in xfs_buf_set_ref())
* Unmerged path fs/xfs/xfs_buf.c
