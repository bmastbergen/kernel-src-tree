drm/vmwgfx: Return 0 when gmrid::get_node runs out of ID's

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Deepak Rawat <drawat@vmware.com>
commit 4b9ce3a651a37c60527101db4451a315a8b9588f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/4b9ce3a6.failed

If it's not a system error and get_node implementation accommodate the
buffer object then it should return 0 with memm::mm_node set to NULL.

v2: Test for id != -ENOMEM instead of id == -ENOSPC.

	Cc: <stable@vger.kernel.org>
Fixes: 4eb085e42fde ("drm/vmwgfx: Convert to new IDA API")
	Signed-off-by: Deepak Rawat <drawat@vmware.com>
	Reviewed-by: Thomas Hellstrom <thellstrom@vmware.com>
	Signed-off-by: Thomas Hellstrom <thellstrom@vmware.com>
(cherry picked from commit 4b9ce3a651a37c60527101db4451a315a8b9588f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/vmwgfx/vmwgfx_gmrid_manager.c
diff --cc drivers/gpu/drm/vmwgfx/vmwgfx_gmrid_manager.c
index f2f9d88131f2,7da752ca1c34..000000000000
--- a/drivers/gpu/drm/vmwgfx/vmwgfx_gmrid_manager.c
+++ b/drivers/gpu/drm/vmwgfx/vmwgfx_gmrid_manager.c
@@@ -56,6 -55,10 +56,13 @@@ static int vmw_gmrid_man_get_node(struc
  
  	mem->mm_node = NULL;
  
++<<<<<<< HEAD
++=======
+ 	id = ida_alloc_max(&gman->gmr_ida, gman->max_gmr_ids - 1, GFP_KERNEL);
+ 	if (id < 0)
+ 		return (id != -ENOMEM ? 0 : id);
+ 
++>>>>>>> 4b9ce3a651a3 (drm/vmwgfx: Return 0 when gmrid::get_node runs out of ID's)
  	spin_lock(&gman->lock);
  
  	if (gman->max_gmr_pages > 0) {
* Unmerged path drivers/gpu/drm/vmwgfx/vmwgfx_gmrid_manager.c
