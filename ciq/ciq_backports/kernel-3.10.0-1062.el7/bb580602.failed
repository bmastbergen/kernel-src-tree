ALSA: pcm: Define snd_pcm_lib_preallocate_*() as returning void

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Takashi Iwai <tiwai@suse.de>
commit bb580602f3924976d8bc36c171266de73e92cbf7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/bb580602.failed

Now all callers no longer check the return value from
snd_pcm_lib_preallocate_pages() and co, let's make them to return
void, so that any new code won't fall into the same pitfall.

	Reviewed-by: Jaroslav Kysela <perex@perex.cz>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit bb580602f3924976d8bc36c171266de73e92cbf7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/core/pcm_memory.c
diff --cc sound/core/pcm_memory.c
index ae33e456708c,ed73be80bd29..000000000000
--- a/sound/core/pcm_memory.c
+++ b/sound/core/pcm_memory.c
@@@ -87,19 -87,10 +87,20 @@@ static void snd_pcm_lib_preallocate_dma
   * @substream: the pcm substream instance
   *
   * Releases the pre-allocated buffer of the given substream.
-  *
-  * Return: Zero if successful, or a negative error code on failure.
   */
- int snd_pcm_lib_preallocate_free(struct snd_pcm_substream *substream)
+ void snd_pcm_lib_preallocate_free(struct snd_pcm_substream *substream)
  {
  	snd_pcm_lib_preallocate_dma_free(substream);
++<<<<<<< HEAD
 +#ifdef CONFIG_SND_VERBOSE_PROCFS
 +	snd_info_free_entry(substream->proc_prealloc_max_entry);
 +	substream->proc_prealloc_max_entry = NULL;
 +	snd_info_free_entry(substream->proc_prealloc_entry);
 +	substream->proc_prealloc_entry = NULL;
 +#endif
 +	return 0;
++=======
++>>>>>>> bb580602f392 (ALSA: pcm: Define snd_pcm_lib_preallocate_*() as returning void)
  }
  
  /**
diff --git a/include/sound/pcm.h b/include/sound/pcm.h
index dca47ca9a020..f96f1432a2db 100644
--- a/include/sound/pcm.h
+++ b/include/sound/pcm.h
@@ -1200,12 +1200,12 @@ static inline void snd_pcm_gettime(struct snd_pcm_runtime *runtime,
  *  Memory
  */
 
-int snd_pcm_lib_preallocate_free(struct snd_pcm_substream *substream);
-int snd_pcm_lib_preallocate_free_for_all(struct snd_pcm *pcm);
-int snd_pcm_lib_preallocate_pages(struct snd_pcm_substream *substream,
+void snd_pcm_lib_preallocate_free(struct snd_pcm_substream *substream);
+void snd_pcm_lib_preallocate_free_for_all(struct snd_pcm *pcm);
+void snd_pcm_lib_preallocate_pages(struct snd_pcm_substream *substream,
 				  int type, struct device *data,
 				  size_t size, size_t max);
-int snd_pcm_lib_preallocate_pages_for_all(struct snd_pcm *pcm,
+void snd_pcm_lib_preallocate_pages_for_all(struct snd_pcm *pcm,
 					  int type, void *data,
 					  size_t size, size_t max);
 int snd_pcm_lib_malloc_pages(struct snd_pcm_substream *substream, size_t size);
* Unmerged path sound/core/pcm_memory.c
