rdma/cxgb4: Fix SRQ endianness annotations

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Bart Van Assche <bart.vanassche@wdc.com>
commit eb2463bab4bce46b0482a0e7e74575771a32fcf0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/eb2463ba.failed

This patch avoids that sparse complains about casts to restricted __be32.

Fixes: a3cdaa69e4ae ("cxgb4: Adds CPL support for Shared Receive Queues")
	Signed-off-by: Bart Van Assche <bart.vanassche@wdc.com>
	Acked-by: Steve Wise <swise@opengridcomputing.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit eb2463bab4bce46b0482a0e7e74575771a32fcf0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/hw/cxgb4/cm.c
diff --cc drivers/infiniband/hw/cxgb4/cm.c
index fafc5fe10471,9e1463080c22..000000000000
--- a/drivers/infiniband/hw/cxgb4/cm.c
+++ b/drivers/infiniband/hw/cxgb4/cm.c
@@@ -1853,6 -1853,29 +1853,32 @@@ static int rx_data(struct c4iw_dev *dev
  	return 0;
  }
  
++<<<<<<< HEAD
++=======
+ static void complete_cached_srq_buffers(struct c4iw_ep *ep,
+ 					__be32 srqidx_status)
+ {
+ 	enum chip_type adapter_type;
+ 	u32 srqidx;
+ 
+ 	adapter_type = ep->com.dev->rdev.lldi.adapter_type;
+ 	srqidx = ABORT_RSS_SRQIDX_G(be32_to_cpu(srqidx_status));
+ 
+ 	/*
+ 	 * If this TCB had a srq buffer cached, then we must complete
+ 	 * it. For user mode, that means saving the srqidx in the
+ 	 * user/kernel status page for this qp.  For kernel mode, just
+ 	 * synthesize the CQE now.
+ 	 */
+ 	if (CHELSIO_CHIP_VERSION(adapter_type) > CHELSIO_T5 && srqidx) {
+ 		if (ep->com.qp->ibqp.uobject)
+ 			t4_set_wq_in_error(&ep->com.qp->wq, srqidx);
+ 		else
+ 			c4iw_flush_srqidx(ep->com.qp, srqidx);
+ 	}
+ }
+ 
++>>>>>>> eb2463bab4bc (rdma/cxgb4: Fix SRQ endianness annotations)
  static int abort_rpl(struct c4iw_dev *dev, struct sk_buff *skb)
  {
  	struct c4iw_ep *ep;
* Unmerged path drivers/infiniband/hw/cxgb4/cm.c
diff --git a/drivers/net/ethernet/chelsio/cxgb4/t4_msg.h b/drivers/net/ethernet/chelsio/cxgb4/t4_msg.h
index 0da3fe36a360..bdc61508caa5 100644
--- a/drivers/net/ethernet/chelsio/cxgb4/t4_msg.h
+++ b/drivers/net/ethernet/chelsio/cxgb4/t4_msg.h
@@ -750,7 +750,7 @@ struct cpl_abort_req_rss {
 
 struct cpl_abort_req_rss6 {
 	union opcode_tid ot;
-	__u32 srqidx_status;
+	__be32 srqidx_status;
 };
 
 #define ABORT_RSS_STATUS_S    0
@@ -780,7 +780,7 @@ struct cpl_abort_rpl_rss {
 
 struct cpl_abort_rpl_rss6 {
 	union opcode_tid ot;
-	__u32 srqidx_status;
+	__be32 srqidx_status;
 };
 
 struct cpl_abort_rpl {
