scsi: qla2xxx: Update rscn_rcvd field to more meaningful scan_needed

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Update rscn_rcvd field to more meaningful scan_needed (Himanshu Madhani) [1628301]
Rebuild_FUZZ: 95.38%
commit-author Quinn Tran <quinn.tran@cavium.com>
commit cb873ba4002095d1e2fc60521bc4d860c7b72b92
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/cb873ba4.failed

Rename rscn_rcvd field to scan_needed to be more meaningful.

	Signed-off-by: Quinn Tran <quinn.tran@cavium.com>
	Signed-off-by: Himanshu Madhani <himanshu.madhani@cavium.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit cb873ba4002095d1e2fc60521bc4d860c7b72b92)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_gs.c
diff --cc drivers/scsi/qla2xxx/qla_gs.c
index 909352439cd2,c0c738bbdace..000000000000
--- a/drivers/scsi/qla2xxx/qla_gs.c
+++ b/drivers/scsi/qla2xxx/qla_gs.c
@@@ -3976,9 -4005,17 +3976,21 @@@ void qla24xx_async_gnnft_done(scsi_qla_
  				}
  			}
  		} else {
- 			if (fcport->rscn_rcvd ||
+ 			if (fcport->scan_needed ||
  			    fcport->disc_state != DSC_LOGIN_COMPLETE) {
++<<<<<<< HEAD
 +				fcport->rscn_rcvd = 0;
++=======
+ 				if (fcport->login_retry == 0) {
+ 					fcport->login_retry =
+ 						vha->hw->login_retry_count;
+ 					ql_dbg(ql_dbg_disc, vha, 0x20a3,
+ 					    "Port login retry %8phN, lid 0x%04x retry cnt=%d.\n",
+ 					    fcport->port_name, fcport->loop_id,
+ 					    fcport->login_retry);
+ 				}
+ 				fcport->scan_needed = 0;
++>>>>>>> cb873ba40020 (scsi: qla2xxx: Update rscn_rcvd field to more meaningful scan_needed)
  				qla24xx_fcport_handle_login(vha, fcport);
  			}
  		}
diff --git a/drivers/scsi/qla2xxx/qla_def.h b/drivers/scsi/qla2xxx/qla_def.h
index 905abd1beed0..2846ffdde1e4 100644
--- a/drivers/scsi/qla2xxx/qla_def.h
+++ b/drivers/scsi/qla2xxx/qla_def.h
@@ -2357,7 +2357,7 @@ typedef struct fc_port {
 	unsigned int login_succ:1;
 	unsigned int query:1;
 	unsigned int id_changed:1;
-	unsigned int rscn_rcvd:1;
+	unsigned int scan_needed:1;
 
 	struct work_struct nvme_del_work;
 	struct completion nvme_del_done;
* Unmerged path drivers/scsi/qla2xxx/qla_gs.c
diff --git a/drivers/scsi/qla2xxx/qla_init.c b/drivers/scsi/qla2xxx/qla_init.c
index 85e01e2b7e3b..d7c83f19e9e6 100644
--- a/drivers/scsi/qla2xxx/qla_init.c
+++ b/drivers/scsi/qla2xxx/qla_init.c
@@ -1381,7 +1381,7 @@ void qla2x00_fcport_event_handler(scsi_qla_host_t *vha, struct event_arg *ea)
 			fcport = qla2x00_find_fcport_by_nportid
 				(vha, &ea->id, 1);
 			if (fcport)
-				fcport->rscn_rcvd = 1;
+				fcport->scan_needed = 1;
 
 			spin_lock_irqsave(&vha->work_lock, flags);
 			if (vha->scan.scan_flags == 0) {
