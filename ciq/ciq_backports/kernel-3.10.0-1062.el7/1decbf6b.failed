drm/sched: Fix entities with 0 rqs.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [gpu] drm/sched: Fix entities with 0 rqs (Dave Airlie) [1680275]
Rebuild_FUZZ: 98.55%
commit-author Bas Nieuwenhuizen <bas@basnieuwenhuizen.nl>
commit 1decbf6bb0b4dc56c9da6c5e57b994ebfc2be3aa
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/1decbf6b.failed

Some blocks in amdgpu can have 0 rqs.

Job creation already fails with -ENOENT when entity->rq is NULL,
so jobs cannot be pushed. Without a rq there is no scheduler to
pop jobs, and rq selection already does the right thing with a
list of length 0.

So the operations we need to fix are:
  - Creation, do not set rq to rq_list[0] if the list can have length 0.
  - Do not flush any jobs when there is no rq.
  - On entity destruction handle the rq = NULL case.
  - on set_priority, do not try to change the rq if it is NULL.

	Signed-off-by: Bas Nieuwenhuizen <bas@basnieuwenhuizen.nl>
	Reviewed-by: Christian KÃ¶nig <christian.koenig@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 1decbf6bb0b4dc56c9da6c5e57b994ebfc2be3aa)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/scheduler/sched_entity.c
* Unmerged path drivers/gpu/drm/scheduler/sched_entity.c
* Unmerged path drivers/gpu/drm/scheduler/sched_entity.c
