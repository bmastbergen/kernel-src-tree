net/mlx5e: Fix wrong error code return on FEC query failure

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [netdrv] mlx5e: Fix wrong error code return on FEC query failure (Alaa Hleihel) [1642498]
Rebuild_FUZZ: 96.49%
commit-author Shay Agroskin <shayag@mellanox.com>
commit 2eb1e42551a8128d9182480dfaea52fa861e26e8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/2eb1e425.failed

Advertised and configured FEC query failure resulted in printing
wrong error code.

Fixes: 6cfa94605091 ("net/mlx5e: Ethtool driver callback for query/set FEC policy")
	Signed-off-by: Shay Agroskin <shayag@mellanox.com>
	Reported-by: Or Gerlitz <ogerlitz@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 2eb1e42551a8128d9182480dfaea52fa861e26e8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
index 889e7668b711,3bbccead2f63..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
@@@ -913,9 -844,12 +913,17 @@@ static int mlx5e_get_link_ksettings(str
  	ethtool_link_ksettings_add_link_mode(link_ksettings, supported,
  					     Autoneg);
  
++<<<<<<< HEAD
 +	if (get_fec_supported_advertised(mdev, link_ksettings))
 +		netdev_dbg(netdev, "%s: FEC caps query failed: %d\n",
++=======
+ 	err = get_fec_supported_advertised(mdev, link_ksettings);
+ 	if (err) {
+ 		netdev_dbg(priv->netdev, "%s: FEC caps query failed: %d\n",
++>>>>>>> 2eb1e42551a8 (net/mlx5e: Fix wrong error code return on FEC query failure)
  			   __func__, err);
+ 		err = 0; /* don't fail caps query because of FEC error */
+ 	}
  
  	if (!an_disable_admin)
  		ethtool_link_ksettings_add_link_mode(link_ksettings,
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
