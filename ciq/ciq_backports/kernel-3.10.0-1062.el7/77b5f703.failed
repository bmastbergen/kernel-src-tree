powerpc/powernv/opal: Use standard interrupts property when available

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [powerpc] powernv/opal: Use standard interrupts property when available (Gustavo Duarte) [1577105]
Rebuild_FUZZ: 93.85%
commit-author Benjamin Herrenschmidt <benh@kernel.crashing.org>
commit 77b5f703dcc859915f0f20d92bc538e4a99ef149
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/77b5f703.failed

For (bad) historical reasons, OPAL used to create a non-standard pair
of properties "opal-interrupts" and "opal-interrupts-names" for
representing the list of interrupts it wants Linux to request on its
behalf.

Among other issues, the opal-interrupts doesn't have a way to carry
the type of interrupts, and they were assumed to be all level
sensitive.

This is wrong on some recent systems where some of them are edge
sensitive causing warnings in the XIVE code and possible misbehaviours
if they need to be retriggered (typically the NPU2 TCE error
interrupts).

This makes Linux switch to using the standard "interrupts" and
"interrupt-names" properties instead when they are available, using
standard of_irq helpers, which can carry all the desired type
information.

Newer versions of OPAL will generate those properties in addition to
the legacy ones.

	Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
[mpe: Fixup prefix logic to check strlen(r->name). Reinstate setting
 of start = 0 in opal_event_shutdown() to avoid double free warnings]
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit 77b5f703dcc859915f0f20d92bc538e4a99ef149)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/powernv/opal-irqchip.c
* Unmerged path arch/powerpc/platforms/powernv/opal-irqchip.c
* Unmerged path arch/powerpc/platforms/powernv/opal-irqchip.c
