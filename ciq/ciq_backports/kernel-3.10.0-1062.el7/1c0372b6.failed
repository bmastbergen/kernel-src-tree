nfp: encapsulate NSP command arguments into structs

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Jakub Kicinski <jakub.kicinski@netronome.com>
commit 1c0372b67ccaf1b1fa0709475f4a53619e407e61
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/1c0372b6.failed

There is already a fair number of arguments to nfp_nsp_command()
family of functions.  Encapsulate them into structures to make
adding new ones easier.  No functional changes.

	Signed-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>
	Reviewed-by: Dirk van der Merwe <dirk.vandermerwe@netronome.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1c0372b67ccaf1b1fa0709475f4a53619e407e61)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.c
diff --cc drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.c
index 99aae7a1e6b0,e1a14f4e5e71..000000000000
--- a/drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.c
+++ b/drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.c
@@@ -540,6 -592,29 +591,32 @@@ int nfp_nsp_write_eth_table(struct nfp_
  
  int nfp_nsp_read_identify(struct nfp_nsp *state, void *buf, unsigned int size)
  {
- 	return nfp_nsp_command_buf(state, SPCODE_NSP_IDENTIFY, size, NULL, 0,
- 				   buf, size);
+ 	struct nfp_nsp_command_buf_arg identify = {
+ 		{
+ 			.code		= SPCODE_NSP_IDENTIFY,
+ 			.option		= size,
+ 		},
+ 		.out_buf	= buf,
+ 		.out_size	= size,
+ 	};
+ 
+ 	return nfp_nsp_command_buf(state, &identify);
+ }
++<<<<<<< HEAD
++=======
+ 
+ int nfp_nsp_read_sensors(struct nfp_nsp *state, unsigned int sensor_mask,
+ 			 void *buf, unsigned int size)
+ {
+ 	struct nfp_nsp_command_buf_arg sensors = {
+ 		{
+ 			.code		= SPCODE_NSP_SENSORS,
+ 			.option		= sensor_mask,
+ 		},
+ 		.out_buf	= buf,
+ 		.out_size	= size,
+ 	};
+ 
+ 	return nfp_nsp_command_buf(state, &sensors);
  }
++>>>>>>> 1c0372b67cca (nfp: encapsulate NSP command arguments into structs)
* Unmerged path drivers/net/ethernet/netronome/nfp/nfpcore/nfp_nsp.c
