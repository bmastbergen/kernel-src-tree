perf script: Use thread__find_symbol() instead of ad-hoc equivalent

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit cc5f02f2be8d3354986bad5703ee8a983872f140
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/cc5f02f2.failed

In dc323ce8e72d ("perf script: Enable printing of branch stack") it
first tries to find the map for an address, then the symbol in the DSO
backing that map, for that address, well, this is what
thread__find_symbol() does, so just use it and make the code shorter.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Stephane Eranian <eranian@google.com>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: https://lkml.kernel.org/n/tip-03nx3aod955yqnf9l06im28j@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit cc5f02f2be8d3354986bad5703ee8a983872f140)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-script.c
diff --cc tools/perf/builtin-script.c
index a9b367022c45,ffd02faee87b..000000000000
--- a/tools/perf/builtin-script.c
+++ b/tools/perf/builtin-script.c
@@@ -703,13 -764,8 +703,18 @@@ static int perf_sample__fprintf_brstack
  		from = br->entries[i].from;
  		to   = br->entries[i].to;
  
++<<<<<<< HEAD
 +		thread__find_addr_map(thread, sample->cpumode, MAP__FUNCTION, from, &alf);
 +		if (alf.map)
 +			alf.sym = map__find_symbol(alf.map, alf.addr);
 +
 +		thread__find_addr_map(thread, sample->cpumode, MAP__FUNCTION, to, &alt);
 +		if (alt.map)
 +			alt.sym = map__find_symbol(alt.map, alt.addr);
++=======
+ 		thread__find_symbol(thread, sample->cpumode, from, &alf);
+ 		thread__find_symbol(thread, sample->cpumode, to, &alt);
++>>>>>>> cc5f02f2be8d (perf script: Use thread__find_symbol() instead of ad-hoc equivalent)
  
  		printed += symbol__fprintf_symname_offs(alf.sym, &alf, fp);
  		if (PRINT_FIELD(DSO)) {
* Unmerged path tools/perf/builtin-script.c
