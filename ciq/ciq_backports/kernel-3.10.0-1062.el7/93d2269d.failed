fuse: fuse: fallocate: use file_update_time()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Miklos Szeredi <mszeredi@suse.cz>
commit 93d2269d2ffb871fdfc5555cb5d4a7c0fc56e7fe
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/93d2269d.failed

in preparation for getting rid of FUSE_I_MTIME_DIRTY.

	Signed-off-by: Miklos Szeredi <mszeredi@suse.cz>
(cherry picked from commit 93d2269d2ffb871fdfc5555cb5d4a7c0fc56e7fe)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/fuse/file.c
diff --cc fs/fuse/file.c
index 109621a5f183,3391f6a840bd..000000000000
--- a/fs/fuse/file.c
+++ b/fs/fuse/file.c
@@@ -3067,8 -3027,12 +3067,17 @@@ static long fuse_file_fallocate(struct 
  		goto out;
  
  	/* we could have extended the file */
++<<<<<<< HEAD
 +	if (!(mode & FALLOC_FL_KEEP_SIZE))
 +		fuse_write_update_size(inode, offset + length);
++=======
+ 	if (!(mode & FALLOC_FL_KEEP_SIZE)) {
+ 		bool changed = fuse_write_update_size(inode, offset + length);
+ 
+ 		if (changed && fc->writeback_cache)
+ 			file_update_time(file);
+ 	}
++>>>>>>> 93d2269d2ffb (fuse: fuse: fallocate: use file_update_time())
  
  	if (mode & FALLOC_FL_PUNCH_HOLE)
  		truncate_pagecache_range(inode, offset, offset + length - 1);
* Unmerged path fs/fuse/file.c
