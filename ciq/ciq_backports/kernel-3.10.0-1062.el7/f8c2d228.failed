RDMA/core: Remove set-but-not-used variables

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Bart Van Assche <bart.vanassche@wdc.com>
commit f8c2d2280cf67cd85cff6b42c989bbf1c7d0af61
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/f8c2d228.failed

	Signed-off-by: Bart Van Assche <bart.vanassche@wdc.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit f8c2d2280cf67cd85cff6b42c989bbf1c7d0af61)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/core/cache.c
diff --cc drivers/infiniband/core/cache.c
index 36d3478f5cc1,0bee1f4b914e..000000000000
--- a/drivers/infiniband/core/cache.c
+++ b/drivers/infiniband/core/cache.c
@@@ -633,15 -822,14 +633,24 @@@ void ib_cache_gid_set_default_gid(struc
  				  unsigned long gid_type_mask,
  				  enum ib_cache_gid_default_mode mode)
  {
 -	union ib_gid gid = { };
 +	union ib_gid gid;
  	struct ib_gid_attr gid_attr;
++<<<<<<< HEAD
 +	struct ib_gid_attr zattr_type = zattr;
 +	struct ib_gid_table *table;
++=======
++>>>>>>> f8c2d2280cf6 (RDMA/core: Remove set-but-not-used variables)
  	unsigned int gid_type;
 -	unsigned long mask;
  
++<<<<<<< HEAD
 +	table = ib_dev->cache.ports[port - rdma_start_port(ib_dev)].gid;
 +
 +	make_default_gid(ndev, &gid);
++=======
+ 	mask = GID_ATTR_FIND_MASK_GID_TYPE |
+ 	       GID_ATTR_FIND_MASK_DEFAULT |
+ 	       GID_ATTR_FIND_MASK_NETDEV;
++>>>>>>> f8c2d2280cf6 (RDMA/core: Remove set-but-not-used variables)
  	memset(&gid_attr, 0, sizeof(gid_attr));
  	gid_attr.ndev = ndev;
  
@@@ -1098,21 -1288,12 +1107,27 @@@ static void ib_cache_update(struct ib_d
  {
  	struct ib_port_attr       *tprops = NULL;
  	struct ib_pkey_cache      *pkey_cache = NULL, *old_pkey_cache;
 +	struct ib_gid_cache {
 +		int             table_len;
 +		union ib_gid    table[0];
 +	}			  *gid_cache = NULL;
  	int                        i;
  	int                        ret;
++<<<<<<< HEAD
 +	struct ib_gid_table	  *table;
 +	bool			   use_roce_gid_table;
++=======
++>>>>>>> f8c2d2280cf6 (RDMA/core: Remove set-but-not-used variables)
  
  	if (!rdma_is_port_valid(device, port))
  		return;
  
++<<<<<<< HEAD
 +	use_roce_gid_table = rdma_protocol_roce(device, port);
 +	table = device->cache.ports[port - rdma_start_port(device)].gid;
 +
++=======
++>>>>>>> f8c2d2280cf6 (RDMA/core: Remove set-but-not-used variables)
  	tprops = kmalloc(sizeof *tprops, GFP_KERNEL);
  	if (!tprops)
  		return;
* Unmerged path drivers/infiniband/core/cache.c
