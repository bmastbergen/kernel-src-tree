net: phy: realtek: load driver for all PHYs with a Realtek OUI

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [netdrv] phy: realtek: load driver for all PHYs with a Realtek OUI (Corinna Vinschen) [1706531]
Rebuild_FUZZ: 95.80%
commit-author Heiner Kallweit <hkallweit1@gmail.com>
commit 3b73e842c7265a645f373a2de956ad36292f819d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/3b73e842.failed

Instead of listing every single PHYID, load the driver for every PHYID
with a Realtek OUI, independent of model number and revision.

This patch also improves two further aspects:
- constify realtek_tbl[]
- the mask should have been 0xffffffff instead of 0x001fffff so far,
  by masking out some bits a PHY from another vendor could have been
  matched

	Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 3b73e842c7265a645f373a2de956ad36292f819d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/realtek.c
diff --cc drivers/net/phy/realtek.c
index 174f9f8cfb9f,7b1c89b3833c..000000000000
--- a/drivers/net/phy/realtek.c
+++ b/drivers/net/phy/realtek.c
@@@ -303,27 -303,10 +303,32 @@@ static struct phy_driver realtek_drvs[
  	},
  };
  
 -module_phy_driver(realtek_drvs);
 +static int __init realtek_init(void)
 +{
 +	return phy_drivers_register(realtek_drvs, ARRAY_SIZE(realtek_drvs));
 +}
 +
 +static void __exit realtek_exit(void)
 +{
 +	phy_drivers_unregister(realtek_drvs, ARRAY_SIZE(realtek_drvs));
 +}
  
 +module_init(realtek_init);
 +module_exit(realtek_exit);
 +
++<<<<<<< HEAD
 +static struct mdio_device_id __maybe_unused realtek_tbl[] = {
 +	{ 0x001cc816, 0x001fffff },
 +	{ 0x001cc910, 0x001fffff },
 +	{ 0x001cc912, 0x001fffff },
 +	{ 0x001cc913, 0x001fffff },
 +	{ 0x001cc914, 0x001fffff },
 +	{ 0x001cc915, 0x001fffff },
 +	{ 0x001cc916, 0x001fffff },
++=======
+ static const struct mdio_device_id __maybe_unused realtek_tbl[] = {
+ 	{ 0x001cc800, GENMASK(31, 10) },
++>>>>>>> 3b73e842c726 (net: phy: realtek: load driver for all PHYs with a Realtek OUI)
  	{ }
  };
  
* Unmerged path drivers/net/phy/realtek.c
