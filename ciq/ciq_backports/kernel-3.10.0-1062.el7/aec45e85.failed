s390/qeth: use vzalloc for QUERY OAT buffer

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [s390] qeth: use vzalloc for QUERY OAT buffer (Hendrik Brueckner) [1629864]
Rebuild_FUZZ: 93.83%
commit-author Wenjia Zhang <wenjia@linux.ibm.com>
commit aec45e857c5538664edb76a60dd452e3265f37d1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/aec45e85.failed

qeth_query_oat_command() currently allocates the kernel buffer for
the SIOC_QETH_QUERY_OAT ioctl with kzalloc. So on systems with
fragmented memory, large allocations may fail (eg. the qethqoat tool by
default uses 132KB).

Solve this issue by using vzalloc, backing the allocation with
non-contiguous memory.

	Signed-off-by: Wenjia Zhang <wenjia@linux.ibm.com>
	Reviewed-by: Julian Wiedmann <jwi@linux.ibm.com>
	Signed-off-by: Julian Wiedmann <jwi@linux.ibm.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit aec45e857c5538664edb76a60dd452e3265f37d1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/s390/net/qeth_core_main.c
diff --cc drivers/s390/net/qeth_core_main.c
index be57ae3c04e8,de8282420f96..000000000000
--- a/drivers/s390/net/qeth_core_main.c
+++ b/drivers/s390/net/qeth_core_main.c
@@@ -19,6 -21,12 +19,15 @@@
  #include <linux/mii.h>
  #include <linux/kthread.h>
  #include <linux/slab.h>
++<<<<<<< HEAD
++=======
+ #include <linux/if_vlan.h>
+ #include <linux/netdevice.h>
+ #include <linux/netdev_features.h>
+ #include <linux/skbuff.h>
+ #include <linux/vmalloc.h>
+ 
++>>>>>>> aec45e857c55 (s390/qeth: use vzalloc for QUERY OAT buffer)
  #include <net/iucv/af_iucv.h>
  #include <net/dsfield.h>
  
* Unmerged path drivers/s390/net/qeth_core_main.c
