xsk: i40e: get rid of useless struct xdp_umem_props

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Magnus Karlsson <magnus.karlsson@intel.com>
commit 93ee30f3e8b412c5fc2d2f7d9d002529d9a209ad
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/93ee30f3.failed

This commit gets rid of the structure xdp_umem_props. It was there to
be able to break a dependency at one point, but this is no longer
needed. The values in the struct are instead stored directly in the
xdp_umem structure. This simplifies the xsk code as well as af_xdp
zero-copy drivers and as a bonus gets rid of one internal header file.

The i40e driver is also adapted to the new interface in this commit.

	Signed-off-by: Magnus Karlsson <magnus.karlsson@intel.com>
	Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
(cherry picked from commit 93ee30f3e8b412c5fc2d2f7d9d002529d9a209ad)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/net/xdp_sock.h
#	net/xdp/xdp_umem.c
#	net/xdp/xsk.c
#	net/xdp/xsk_queue.c
#	net/xdp/xsk_queue.h
* Unmerged path include/net/xdp_sock.h
* Unmerged path net/xdp/xdp_umem.c
* Unmerged path net/xdp/xsk.c
* Unmerged path net/xdp/xsk_queue.c
* Unmerged path net/xdp/xsk_queue.h
diff --git a/drivers/net/ethernet/intel/i40e/i40e_xsk.c b/drivers/net/ethernet/intel/i40e/i40e_xsk.c
index bf502f2307c2..98b3cfba9431 100644
--- a/drivers/net/ethernet/intel/i40e/i40e_xsk.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_xsk.c
@@ -442,7 +442,7 @@ static void i40e_reuse_rx_buffer_zc(struct i40e_ring *rx_ring,
 				    struct i40e_rx_buffer *old_bi)
 {
 	struct i40e_rx_buffer *new_bi = &rx_ring->rx_bi[rx_ring->next_to_alloc];
-	unsigned long mask = (unsigned long)rx_ring->xsk_umem->props.chunk_mask;
+	unsigned long mask = (unsigned long)rx_ring->xsk_umem->chunk_mask;
 	u64 hr = rx_ring->xsk_umem->headroom + XDP_PACKET_HEADROOM;
 	u16 nta = rx_ring->next_to_alloc;
 
@@ -477,7 +477,7 @@ void i40e_zca_free(struct zero_copy_allocator *alloc, unsigned long handle)
 
 	rx_ring = container_of(alloc, struct i40e_ring, zca);
 	hr = rx_ring->xsk_umem->headroom + XDP_PACKET_HEADROOM;
-	mask = rx_ring->xsk_umem->props.chunk_mask;
+	mask = rx_ring->xsk_umem->chunk_mask;
 
 	nta = rx_ring->next_to_alloc;
 	bi = &rx_ring->rx_bi[nta];
* Unmerged path include/net/xdp_sock.h
* Unmerged path net/xdp/xdp_umem.c
* Unmerged path net/xdp/xsk.c
* Unmerged path net/xdp/xsk_queue.c
* Unmerged path net/xdp/xsk_queue.h
