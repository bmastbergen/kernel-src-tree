ovl: Use PTR_ERR_OR_ZERO()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Vasyl Gomonovych <gomonovych@gmail.com>
commit 7879cb43f9a75710af439c6bd81c94de1aa3d740
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/7879cb43.failed

Fix ptr_ret.cocci warnings:
fs/overlayfs/overlayfs.h:179:11-17: WARNING: PTR_ERR_OR_ZERO can be used

Use PTR_ERR_OR_ZERO rather than if(IS_ERR(...)) + PTR_ERR

Generated by: scripts/coccinelle/api/ptr_ret.cocci

	Signed-off-by: Vasyl Gomonovych <gomonovych@gmail.com>
	Signed-off-by: Miklos Szeredi <mszeredi@redhat.com>
(cherry picked from commit 7879cb43f9a75710af439c6bd81c94de1aa3d740)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/overlayfs/overlayfs.h
diff --cc fs/overlayfs/overlayfs.h
index 79baeaeaf3d6,b489099ccd49..000000000000
--- a/fs/overlayfs/overlayfs.h
+++ b/fs/overlayfs/overlayfs.h
@@@ -179,8 -179,11 +179,16 @@@ static inline int ovl_do_whiteout(struc
  
  static inline struct dentry *ovl_do_tmpfile(struct dentry *dentry, umode_t mode)
  {
++<<<<<<< HEAD
 +	/* No tmpfile in rhel7 yet */
 +	return ERR_PTR(-EOPNOTSUPP);
++=======
+ 	struct dentry *ret = vfs_tmpfile(dentry, mode, 0);
+ 	int err = PTR_ERR_OR_ZERO(ret);
+ 
+ 	pr_debug("tmpfile(%pd2, 0%o) = %i\n", dentry, mode, err);
+ 	return ret;
++>>>>>>> 7879cb43f9a7 (ovl: Use PTR_ERR_OR_ZERO())
  }
  
  /* util.c */
* Unmerged path fs/overlayfs/overlayfs.h
