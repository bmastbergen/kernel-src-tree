genirq: Introduce helper function irq_data_get_affinity_mask()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Jiang Liu <jiang.liu@linux.intel.com>
commit c64301a230a64dfc2fcf4581cd98a2d703f3c057
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/c64301a2.failed

Introduce helper function irq_data_get_affinity_mask() and
irq_get_affinity_mask() to hide implementation details,
so we could move field 'affinity' from struct irq_data into
struct irq_common_data later.

	Signed-off-by: Jiang Liu <jiang.liu@linux.intel.com>
	Acked-by: Russell King <rmk+kernel@arm.linux.org.uk>
	Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
	Cc: Tony Luck <tony.luck@intel.com>
	Cc: Bjorn Helgaas <bhelgaas@google.com>
	Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
	Cc: Randy Dunlap <rdunlap@infradead.org>
	Cc: Yinghai Lu <yinghai@kernel.org>
	Cc: Borislav Petkov <bp@alien8.de>
	Cc: Jason Cooper <jason@lakedaemon.net>
	Cc: Kevin Cernekee <cernekee@gmail.com>
	Cc: Arnd Bergmann <arnd@arndb.de>
Link: http://lkml.kernel.org/r/1433145945-789-15-git-send-email-jiang.liu@linux.intel.com
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
(cherry picked from commit c64301a230a64dfc2fcf4581cd98a2d703f3c057)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/irq.h
diff --cc include/linux/irq.h
index 42e292079a51,1e0ccef205ed..000000000000
--- a/include/linux/irq.h
+++ b/include/linux/irq.h
@@@ -596,6 -640,23 +596,26 @@@ static inline u32 irq_get_trigger_type(
  	return d ? irqd_get_trigger_type(d) : 0;
  }
  
++<<<<<<< HEAD
++=======
+ static inline int irq_data_get_node(struct irq_data *d)
+ {
+ 	return d->node;
+ }
+ 
+ static inline struct cpumask *irq_get_affinity_mask(int irq)
+ {
+ 	struct irq_data *d = irq_get_irq_data(irq);
+ 
+ 	return d ? d->affinity : NULL;
+ }
+ 
+ static inline struct cpumask *irq_data_get_affinity_mask(struct irq_data *d)
+ {
+ 	return d->affinity;
+ }
+ 
++>>>>>>> c64301a230a6 (genirq: Introduce helper function irq_data_get_affinity_mask())
  unsigned int arch_dynirq_lower_bound(unsigned int from);
  
  int __irq_alloc_descs(int irq, unsigned int from, unsigned int cnt, int node,
* Unmerged path include/linux/irq.h
