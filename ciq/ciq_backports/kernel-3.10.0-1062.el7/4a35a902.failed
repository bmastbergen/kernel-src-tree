Revert "perf pmu: Fix pmu events parsing rule"

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 4a35a9027f64d588d2fd9436dda4126e8d5647d7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/4a35a902.failed

As reported by Adrian Hunter, this breaks intel_pt event parsing:

  # perf record -e intel_pt//u uname
  event syntax error: 'intel_pt//u'
                               \___ parser error
  Run 'perf list' for a list of valid events

   Usage: perf record [<options>] [<command>]
      or: perf record [<options>] -- <command> [<options>]

      -e, --event <event>   event selector. use 'perf list' to list available events
  #

This reverts commit 9a4a931ce847f4aaa12edf11b2e050e18bf45910.

	Reported-by: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Alexander Shishkin <alexander.shishkin@linux.intel.com>
	Cc: Andi Kleen <ak@linux.intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Kan Liang <kan.liang@linux.intel.com>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: https://lkml.kernel.org/n/tip-ye1o2mji7x68xotiot1tn1gp@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 4a35a9027f64d588d2fd9436dda4126e8d5647d7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/parse-events.y
diff --cc tools/perf/util/parse-events.y
index b7975dc972b1,7afeb80cc39e..000000000000
--- a/tools/perf/util/parse-events.y
+++ b/tools/perf/util/parse-events.y
@@@ -221,9 -232,13 +221,13 @@@ PE_NAME opt_event_confi
  		YYABORT;
  
  	ALLOC_LIST(list);
++<<<<<<< HEAD
 +	if (parse_events_add_pmu(_parse_state, list, $1, $2)) {
++=======
+ 	if (parse_events_add_pmu(_parse_state, list, $1, $2, false)) {
++>>>>>>> 4a35a9027f64 (Revert "perf pmu: Fix pmu events parsing rule")
  		struct perf_pmu *pmu = NULL;
  		int ok = 0;
 -		char *pattern;
 -
 -		if (asprintf(&pattern, "%s*", $1) < 0)
 -			YYABORT;
  
  		while ((pmu = perf_pmu__scan(pmu)) != NULL) {
  			char *name = pmu->name;
* Unmerged path tools/perf/util/parse-events.y
