net/mlx5e: Issue direct lookup on vxlan ports by vport representors

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [netdrv] mlx5e: Issue direct lookup on vxlan ports by vport representors (Alaa Hleihel) [1642498]
Rebuild_FUZZ: 96.92%
commit-author Saeed Mahameed <saeedm@mellanox.com>
commit a3e673660bc3fca3e9e0cbab871b2fb100e9ed64
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/a3e67366.failed

Remove uplink representor netdevice private structure lookup, and use
mlx5 core handle directly from representor private structure to lookup
vxlan ports.

	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
	Reviewed-by: Or Gerlitz <ogerlitz@mellanox.com>
(cherry picked from commit a3e673660bc3fca3e9e0cbab871b2fb100e9ed64)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index 34f949800898,c28fe469b04a..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -1103,7 -1129,7 +1099,11 @@@ static int parse_tunnel_attr(struct mlx
  		if (memchr_inv(&mask->dst, 0xff, sizeof(mask->dst)))
  			goto vxlan_match_offload_err;
  
++<<<<<<< HEAD
 +		if (mlx5e_vxlan_lookup_port(up_priv, be16_to_cpu(key->dst)) &&
++=======
+ 		if (mlx5_vxlan_lookup_port(priv->mdev->vxlan, be16_to_cpu(key->dst)) &&
++>>>>>>> a3e673660bc3 (net/mlx5e: Issue direct lookup on vxlan ports by vport representors)
  		    MLX5_CAP_ESW(priv->mdev, vxlan_encap_decap))
  			parse_vxlan_attr(spec, f);
  		else {
@@@ -2512,7 -2549,7 +2508,11 @@@ vxlan_encap_offload_err
  		return -EOPNOTSUPP;
  	}
  
++<<<<<<< HEAD
 +	if (mlx5e_vxlan_lookup_port(up_priv, be16_to_cpu(key->tp_dst)) &&
++=======
+ 	if (mlx5_vxlan_lookup_port(priv->mdev->vxlan, be16_to_cpu(key->tp_dst)) &&
++>>>>>>> a3e673660bc3 (net/mlx5e: Issue direct lookup on vxlan ports by vport representors)
  	    MLX5_CAP_ESW(priv->mdev, vxlan_encap_decap)) {
  		tunnel_type = MLX5_HEADER_TYPE_VXLAN;
  	} else {
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
