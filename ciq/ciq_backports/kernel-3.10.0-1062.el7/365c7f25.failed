ALSA: hda/ca0132: Restore behavior of QUIRK_ALIENWARE

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Alastair Bridgewater <alastair.bridgewater@gmail.com>
commit 365c7f25cd0a72b16979ba948e6c389a9a89818b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/365c7f25.failed

Commit e93ac30a32a6ba7ac3b4b2a4379af1dadb91e505 (ALSA: HDA/ca0132:
add extra init functions for r3di + sbz) introduced an extra
initialization function that was improperly guarded, taking effect
on systems with QUIRK_ALIENWARE, even though such systems were
supposedly not affected.

It may be that this piece of initialization should be done for all
systems, but that's not a call that I can make.

Fixes: e93ac30a32a6 ("ALSA: HDA/ca0132: add extra init functions for r3di + sbz")
	Signed-off-by: Alastair Bridgewater <alastair.bridgewater@gmail.com>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 365c7f25cd0a72b16979ba948e6c389a9a89818b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/patch_ca0132.c
diff --cc sound/pci/hda/patch_ca0132.c
index 2b8dca7fa057,25fccce1eff1..000000000000
--- a/sound/pci/hda/patch_ca0132.c
+++ b/sound/pci/hda/patch_ca0132.c
@@@ -4726,15 -7215,35 +4726,22 @@@ static int ca0132_init(struct hda_code
  	snd_hda_power_up_pm(codec);
  
  	ca0132_init_unsol(codec);
 +
  	ca0132_init_params(codec);
  	ca0132_init_flags(codec);
 -
  	snd_hda_sequence_write(codec, spec->base_init_verbs);
++<<<<<<< HEAD
++=======
+ 
+ 	if (spec->use_alt_functions)
+ 		ca0132_alt_init(codec);
+ 
++>>>>>>> 365c7f25cd0a (ALSA: hda/ca0132: Restore behavior of QUIRK_ALIENWARE)
  	ca0132_download_dsp(codec);
 -
  	ca0132_refresh_widget_caps(codec);
 -
 -	if (spec->quirk == QUIRK_SBZ)
 -		writew(0x0107, spec->mem_base + 0x320);
 -
 -	switch (spec->quirk) {
 -	case QUIRK_R3DI:
 -		r3di_setup_defaults(codec);
 -		break;
 -	case QUIRK_NONE:
 -	case QUIRK_ALIENWARE:
 -		ca0132_setup_defaults(codec);
 -		ca0132_init_analog_mic2(codec);
 -		ca0132_init_dmic(codec);
 -		break;
 -	}
 +	ca0132_setup_defaults(codec);
 +	ca0132_init_analog_mic2(codec);
 +	ca0132_init_dmic(codec);
  
  	for (i = 0; i < spec->num_outputs; i++)
  		init_output(codec, spec->out_pins[i], spec->dacs[0]);
* Unmerged path sound/pci/hda/patch_ca0132.c
