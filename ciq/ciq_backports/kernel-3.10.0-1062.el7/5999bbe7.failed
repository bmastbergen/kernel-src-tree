Documentation: Add MDS vulnerability documentation

jira LE-1907
cve CVE-2019-11091
cve CVE-2018-12130
cve CVE-2018-12127
cve CVE-2018-12126
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Thomas Gleixner <tglx@linutronix.de>
commit 5999bbe7a6ea3c62029532ec84dc06003a1fa258
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/5999bbe7.failed

Add the initial MDS vulnerability documentation.

	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Reviewed-by: Jon Masters <jcm@redhat.com>
(cherry picked from commit 5999bbe7a6ea3c62029532ec84dc06003a1fa258)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/ABI/testing/sysfs-devices-system-cpu
#	Documentation/admin-guide/hw-vuln/index.rst
#	Documentation/admin-guide/mds.rst
#	Documentation/kernel-parameters.txt
diff --cc Documentation/ABI/testing/sysfs-devices-system-cpu
index ff65f15670cd,141a7bb58b80..000000000000
--- a/Documentation/ABI/testing/sysfs-devices-system-cpu
+++ b/Documentation/ABI/testing/sysfs-devices-system-cpu
@@@ -286,10 -495,9 +286,14 @@@ Description:	Information about CPU vuln
  
  		"Not affected"	  CPU is not affected by the vulnerability
  		"Vulnerable"	  CPU is affected and no mitigation in effect
 -		"Mitigation: $M"  CPU is affected and mitigation $M is in effect
 +		"Mitigation: $M"  CPU is affetcted and mitigation $M is in effect
  
++<<<<<<< HEAD
 +		Details about the l1tf file can be found in
 +		Documentation/admin-guide/l1tf.rst
++=======
+ 		See also: Documentation/admin-guide/hw-vuln/index.rst
++>>>>>>> 5999bbe7a6ea (Documentation: Add MDS vulnerability documentation)
  
  What:		/sys/devices/system/cpu/smt
  		/sys/devices/system/cpu/smt/active
diff --cc Documentation/kernel-parameters.txt
index f6852ae416ce,7325319c2c23..000000000000
--- a/Documentation/kernel-parameters.txt
+++ b/Documentation/kernel-parameters.txt
@@@ -1855,6 -2356,30 +1855,33 @@@ bytes respectively. Such letter suffixe
  			Format: <first>,<last>
  			Specifies range of consoles to be captured by the MDA.
  
++<<<<<<< HEAD:Documentation/kernel-parameters.txt
++=======
+ 	mds=		[X86,INTEL]
+ 			Control mitigation for the Micro-architectural Data
+ 			Sampling (MDS) vulnerability.
+ 
+ 			Certain CPUs are vulnerable to an exploit against CPU
+ 			internal buffers which can forward information to a
+ 			disclosure gadget under certain conditions.
+ 
+ 			In vulnerable processors, the speculatively
+ 			forwarded data can be used in a cache side channel
+ 			attack, to access data to which the attacker does
+ 			not have direct access.
+ 
+ 			This parameter controls the MDS mitigation. The
+ 			options are:
+ 
+ 			full    - Enable MDS mitigation on vulnerable CPUs
+ 			off     - Unconditionally disable MDS mitigation
+ 
+ 			Not specifying this option is equivalent to
+ 			mds=full.
+ 
+ 			For details see: Documentation/admin-guide/hw-vuln/mds.rst
+ 
++>>>>>>> 5999bbe7a6ea (Documentation: Add MDS vulnerability documentation):Documentation/admin-guide/kernel-parameters.txt
  	mem=nn[KMG]	[KNL,BOOT] Force usage of a specific amount of memory
  			Amount of memory to be used when the kernel is not able
  			to see the whole system memory or for test.
* Unmerged path Documentation/admin-guide/hw-vuln/index.rst
* Unmerged path Documentation/admin-guide/mds.rst
* Unmerged path Documentation/ABI/testing/sysfs-devices-system-cpu
* Unmerged path Documentation/admin-guide/hw-vuln/index.rst
diff --git a/Documentation/admin-guide/l1tf.rst b/Documentation/admin-guide/l1tf.rst
index ccf649cabdcd..5884645faae5 100644
--- a/Documentation/admin-guide/l1tf.rst
+++ b/Documentation/admin-guide/l1tf.rst
@@ -444,6 +444,7 @@ The default is 'cond'. If 'l1tf=full,force' is given on the kernel command
 line, then 'always' is enforced and the kvm-intel.vmentry_l1d_flush
 module parameter is ignored and writes to the sysfs file are rejected.
 
+.. _mitigation_selection:
 
 Mitigation selection guide
 --------------------------
* Unmerged path Documentation/admin-guide/mds.rst
* Unmerged path Documentation/kernel-parameters.txt
