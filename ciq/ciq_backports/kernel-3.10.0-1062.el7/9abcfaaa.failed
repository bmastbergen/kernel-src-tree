ipmi:dmi: Use pr_fmt in the IPMI DMI code

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Corey Minyard <cminyard@mvista.com>
commit 9abcfaaa7c77e5884322b710dbf6c25905ce3376
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/9abcfaaa.failed

It make things a little neater and saves some memory.

	Signed-off-by: Corey Minyard <cminyard@mvista.com>
(cherry picked from commit 9abcfaaa7c77e5884322b710dbf6c25905ce3376)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/char/ipmi/ipmi_dmi.c
diff --cc drivers/char/ipmi/ipmi_dmi.c
index 7449d9fc89c0,736ebbbc2fcd..000000000000
--- a/drivers/char/ipmi/ipmi_dmi.c
+++ b/drivers/char/ipmi/ipmi_dmi.c
@@@ -3,7 -4,9 +3,13 @@@
   * allow autoloading of the IPMI drive based on SMBIOS entries.
   */
  
++<<<<<<< HEAD
 +#include <linux/slab.h>
++=======
+ #define pr_fmt(fmt) "%s" fmt, "ipmi:dmi: "
+ #define dev_fmt pr_fmt
+ 
++>>>>>>> 9abcfaaa7c77 (ipmi:dmi: Use pr_fmt in the IPMI DMI code)
  #include <linux/ipmi.h>
  #include <linux/init.h>
  #include <linux/dmi.h>
@@@ -92,9 -98,13 +98,9 @@@ static void __init dmi_add_platform_ipm
  
  	pdev = platform_device_alloc(name, ipmi_dmi_nr);
  	if (!pdev) {
- 		pr_err("ipmi:dmi: Error allocation IPMI platform device\n");
+ 		pr_err("Error allocation IPMI platform device\n");
  		return;
  	}
 -	pdev->driver_override = kasprintf(GFP_KERNEL, "%s",
 -					  override);
 -	if (!pdev->driver_override)
 -		goto err;
  
  	if (type == IPMI_DMI_TYPE_SSIF) {
  		p[pidx++] = PROPERTY_ENTRY_U16("i2c-addr", base_addr);
* Unmerged path drivers/char/ipmi/ipmi_dmi.c
