perf buildid-cache: Warn --purge-all failures

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Ravi Bangoria <ravi.bangoria@linux.ibm.com>
commit d8ed87bc171946313b2e6d26e1fec494da9154bc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/d8ed87bc.failed

Warn perf buildid-cache --purge-all failures in non verbose mode.

Ex.:

  $ sudo chown root:root /home/ravi/.debug -R
  $ sudo chmod 700 /home/ravi/.debug/ -R
  $ ./perf buildid-cache -P
    Couldn't remove some caches. Error: Permission denied.

	Suggested-by: Masami Hiramatsu <mhiramat@kernel.org>
	Signed-off-by: Ravi Bangoria <ravi.bangoria@linux.ibm.com>
	Acked-by: Masami Hiramatsu <mhiramat@kernel.org>
	Cc: Jiri Olsa <jolsa@redhat.com>
	Cc: Namhyung Kim <namhyung@kernel.org>
Link: http://lkml.kernel.org/r/20180510043651.12189-1-ravi.bangoria@linux.ibm.com
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit d8ed87bc171946313b2e6d26e1fec494da9154bc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-buildid-cache.c
diff --cc tools/perf/builtin-buildid-cache.c
index 76cff7bc13f3,115110a4796a..000000000000
--- a/tools/perf/builtin-buildid-cache.c
+++ b/tools/perf/builtin-buildid-cache.c
@@@ -398,6 -488,13 +398,16 @@@ int cmd_buildid_cache(int argc, const c
  		}
  	}
  
++<<<<<<< HEAD
++=======
+ 	if (purge_all) {
+ 		if (build_id_cache__purge_all()) {
+ 			pr_warning("Couldn't remove some caches. Error: %s.\n",
+ 				str_error_r(errno, sbuf, sizeof(sbuf)));
+ 		}
+ 	}
+ 
++>>>>>>> d8ed87bc1719 (perf buildid-cache: Warn --purge-all failures)
  	if (missing_filename)
  		ret = build_id_cache__fprintf_missing(session, stdout);
  
* Unmerged path tools/perf/builtin-buildid-cache.c
