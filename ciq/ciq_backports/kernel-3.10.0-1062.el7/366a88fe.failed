bpf, ixgbe: add meta data support

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Daniel Borkmann <daniel@iogearbox.net>
commit 366a88fe2f40d6772985ec78cdd34df7f109bb88
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/366a88fe.failed

Implement support for transferring XDP meta data into skb for
ixgbe driver; before calling into the program, xdp.data_meta points
to xdp.data, where on program return with pass verdict, we call
into skb_metadata_set().

We implement this for the default ixgbe_build_skb() variant. For the
ixgbe_construct_skb() that is used when legacy-rx buffer mananagement
mode is turned on via ethtool, I found that XDP gets 0 headroom, so
neither xdp_adjust_head() nor xdp_adjust_meta() can be used with this.
Just add a comment with explanation for this operating mode.

	Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
	Acked-by: Alexei Starovoitov <ast@kernel.org>
	Acked-by: John Fastabend <john.fastabend@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 366a88fe2f40d6772985ec78cdd34df7f109bb88)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
diff --cc drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
index 3497b22f2764,3942c6208745..000000000000
--- a/drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
+++ b/drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
@@@ -2339,6 -2348,7 +2361,10 @@@ static int ixgbe_clean_rx_irq(struct ix
  		if (!skb) {
  			xdp.data = page_address(rx_buffer->page) +
  				   rx_buffer->page_offset;
++<<<<<<< HEAD
++=======
+ 			xdp.data_meta = xdp.data;
++>>>>>>> 366a88fe2f40 (bpf, ixgbe: add meta data support)
  			xdp.data_hard_start = xdp.data -
  					      ixgbe_rx_offset(rx_ring);
  			xdp.data_end = xdp.data + size;
* Unmerged path drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
