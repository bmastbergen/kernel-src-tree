net: phy: realtek: add generic Realtek PHY driver

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
Rebuild_CHGLOG: - [netdrv] phy: realtek: add generic Realtek PHY driver (Corinna Vinschen) [1706531]
Rebuild_FUZZ: 94.62%
commit-author Heiner Kallweit <hkallweit1@gmail.com>
commit f66ebd14a71bd50a46801a7cabd779a1a324bf76
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/f66ebd14.failed

The integrated PHY's of later RTL8168 network chips report the generic
PHYID 0x001cc800 (Realtek OUI, model and revision number both set to
zero) and therefore currently the genphy driver is used.

To be able to use the paged version of e.g. phy_write() we need a
PHY driver with the read_page and write_page callbacks implemented.
So basically make a copy of the genphy driver, just with the
read_page and write_page callbacks being set.

	Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit f66ebd14a71bd50a46801a7cabd779a1a324bf76)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/realtek.c
diff --cc drivers/net/phy/realtek.c
index 174f9f8cfb9f,d8c4b9ae0fa4..000000000000
--- a/drivers/net/phy/realtek.c
+++ b/drivers/net/phy/realtek.c
@@@ -299,7 -270,24 +299,28 @@@ static struct phy_driver realtek_drvs[
  		.config_intr	= &rtl8211f_config_intr,
  		.suspend	= genphy_suspend,
  		.resume		= genphy_resume,
++<<<<<<< HEAD
 +		.driver		= { .owner = THIS_MODULE },
++=======
+ 		.read_page	= rtl821x_read_page,
+ 		.write_page	= rtl821x_write_page,
+ 	}, {
+ 		PHY_ID_MATCH_EXACT(0x001cc800),
+ 		.name		= "Generic Realtek PHY",
+ 		.features	= PHY_GBIT_FEATURES,
+ 		.config_init	= genphy_config_init,
+ 		.suspend	= genphy_suspend,
+ 		.resume		= genphy_resume,
+ 		.read_page	= rtl821x_read_page,
+ 		.write_page	= rtl821x_write_page,
+ 	}, {
+ 		PHY_ID_MATCH_EXACT(0x001cc961),
+ 		.name		= "RTL8366RB Gigabit Ethernet",
+ 		.features	= PHY_GBIT_FEATURES,
+ 		.config_init	= &rtl8366rb_config_init,
+ 		.suspend	= genphy_suspend,
+ 		.resume		= genphy_resume,
++>>>>>>> f66ebd14a71b (net: phy: realtek: add generic Realtek PHY driver)
  	},
  };
  
* Unmerged path drivers/net/phy/realtek.c
