IB/rxe: Removed GID add/del dummy routines

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Parav Pandit <parav@mellanox.com>
commit 39e00b6cf65831469a57333a929b8ca986892798
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/39e00b6c.failed

rxe driver's add_gid() and del_gid() callbacks are doing simple
checks which are already done by the ib core before invoking these
callback routines.
Therefore, code is simplified to skip implementing add_gid() and
del_gid() callback functions.
They are only invoked by ib_core if they are implemented.

	Signed-off-by: Parav Pandit <parav@mellanox.com>
	Reviewed-by: Leon Romanovsky <leonro@mellanox.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit 39e00b6cf65831469a57333a929b8ca986892798)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/sw/rxe/rxe_verbs.c
diff --cc drivers/infiniband/sw/rxe/rxe_verbs.c
index 4666b56cf646,a65550d6a849..000000000000
--- a/drivers/infiniband/sw/rxe/rxe_verbs.c
+++ b/drivers/infiniband/sw/rxe/rxe_verbs.c
@@@ -77,40 -77,6 +77,43 @@@ out
  	return rc;
  }
  
++<<<<<<< HEAD
 +static int rxe_query_gid(struct ib_device *device,
 +			 u8 port_num, int index, union ib_gid *gid)
 +{
 +	int ret;
 +
 +	if (index > RXE_PORT_GID_TBL_LEN)
 +		return -EINVAL;
 +
 +	ret = ib_get_cached_gid(device, port_num, index, gid, NULL);
 +	if (ret == -EAGAIN) {
 +		memcpy(gid, &zgid, sizeof(*gid));
 +		return 0;
 +	}
 +
 +	return ret;
 +}
 +
 +static int rxe_add_gid(struct ib_device *device, u8 port_num, unsigned int
 +		       index, const union ib_gid *gid,
 +		       const struct ib_gid_attr *attr, void **context)
 +{
 +	if (index >= RXE_PORT_GID_TBL_LEN)
 +		return -EINVAL;
 +	return 0;
 +}
 +
 +static int rxe_del_gid(struct ib_device *device, u8 port_num, unsigned int
 +		       index, void **context)
 +{
 +	if (index >= RXE_PORT_GID_TBL_LEN)
 +		return -EINVAL;
 +	return 0;
 +}
 +
++=======
++>>>>>>> 39e00b6cf658 (IB/rxe: Removed GID add/del dummy routines)
  static struct net_device *rxe_get_netdev(struct ib_device *device,
  					 u8 port_num)
  {
@@@ -1285,10 -1249,7 +1288,8 @@@ int rxe_register_device(struct rxe_dev 
  	dev->query_port = rxe_query_port;
  	dev->modify_port = rxe_modify_port;
  	dev->get_link_layer = rxe_get_link_layer;
 +	dev->query_gid = rxe_query_gid;
  	dev->get_netdev = rxe_get_netdev;
- 	dev->add_gid = rxe_add_gid;
- 	dev->del_gid = rxe_del_gid;
  	dev->query_pkey = rxe_query_pkey;
  	dev->alloc_ucontext = rxe_alloc_ucontext;
  	dev->dealloc_ucontext = rxe_dealloc_ucontext;
* Unmerged path drivers/infiniband/sw/rxe/rxe_verbs.c
