nfp: prefix vNIC phys_port_name with 'n'

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1062.el7
commit-author Jakub Kicinski <jakub.kicinski@netronome.com>
commit ca14573272e8cedb947426654992ae4d7c20c985
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1062.el7/ca145732.failed

Some drivers are using a bare number inside phys_port_name
as VF id and OpenStack's regexps will pick it up.  We can't
use a bare number for your vNICs, prefix the names with 'n'.

	Signed-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit ca14573272e8cedb947426654992ae4d7c20c985)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/netronome/nfp/nfp_net_common.c
diff --cc drivers/net/ethernet/netronome/nfp/nfp_net_common.c
index 1b191a368eb3,75110c8d6a90..000000000000
--- a/drivers/net/ethernet/netronome/nfp/nfp_net_common.c
+++ b/drivers/net/ethernet/netronome/nfp/nfp_net_common.c
@@@ -3285,6 -3277,25 +3285,28 @@@ nfp_net_features_check(struct sk_buff *
  	return features;
  }
  
++<<<<<<< HEAD
++=======
+ static int
+ nfp_net_get_phys_port_name(struct net_device *netdev, char *name, size_t len)
+ {
+ 	struct nfp_net *nn = netdev_priv(netdev);
+ 	int n;
+ 
+ 	if (nn->port)
+ 		return nfp_port_get_phys_port_name(netdev, name, len);
+ 
+ 	if (nn->dp.is_vf)
+ 		return -EOPNOTSUPP;
+ 
+ 	n = snprintf(name, len, "n%d", nn->id);
+ 	if (n >= len)
+ 		return -EINVAL;
+ 
+ 	return 0;
+ }
+ 
++>>>>>>> ca14573272e8 (nfp: prefix vNIC phys_port_name with 'n')
  /**
   * nfp_net_set_vxlan_port() - set vxlan port in SW and reconfigure HW
   * @nn:   NFP Net device to reconfigure
* Unmerged path drivers/net/ethernet/netronome/nfp/nfp_net_common.c
