gfs2: Additional information when gfs2_ail1_flush withdraws

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.53.1.el7
commit-author Bob Peterson <rpeterso@redhat.com>
commit 490031281d5a33fbdab59e98e165c2cd30fc841b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.53.1.el7/49003128.failed

Before this patch, if gfs2_ail1_flush gets an error from function
gfs2_ail1_start_one (which comes indirectly from generic_writepages)
the file system is withdrawn, but without any explanation why.

This patch adds an error message if gfs2_ail1_flush gets an error
from gfs2_ail1_start_one.

	Signed-off-by: Bob Peterson <rpeterso@redhat.com>
(cherry picked from commit 490031281d5a33fbdab59e98e165c2cd30fc841b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/gfs2/log.c
diff --cc fs/gfs2/log.c
index 78f81ccc8357,87f3e892be3e..000000000000
--- a/fs/gfs2/log.c
+++ b/fs/gfs2/log.c
@@@ -152,10 -163,20 +152,19 @@@ restart
  	list_for_each_entry_reverse(tr, head, tr_list) {
  		if (wbc->nr_to_write <= 0)
  			break;
 -		ret = gfs2_ail1_start_one(sdp, wbc, tr);
 -		if (ret) {
 -			if (ret == -EBUSY)
 -				goto restart;
 -			break;
 -		}
 +		if (gfs2_ail1_start_one(sdp, wbc, tr))
 +			goto restart;
  	}
  	spin_unlock(&sdp->sd_ail_lock);
++<<<<<<< HEAD
++=======
+ 	blk_finish_plug(&plug);
+ 	if (ret) {
+ 		gfs2_lm(sdp, "gfs2_ail1_start_one (generic_writepages) "
+ 			"returned: %d\n", ret);
+ 		gfs2_withdraw(sdp);
+ 	}
++>>>>>>> 490031281d5a (gfs2: Additional information when gfs2_ail1_flush withdraws)
  	trace_gfs2_ail_flush(sdp, wbc, 0);
  }
  
* Unmerged path fs/gfs2/log.c
