virtio: introduce virtio_is_little_endian() helper

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [virtio] introduce virtio_is_little_endian() helper (Thomas Huth) [1213658]
Rebuild_FUZZ: 91.30%
commit-author Greg Kurz <gkurz@linux.vnet.ibm.com>
commit cf561f0d2eb74574ad9985a2feab134267a9d298
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/cf561f0d.failed

	Signed-off-by: Greg Kurz <gkurz@linux.vnet.ibm.com>

	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>
	Acked-by: Cornelia Huck <cornelia.huck@de.ibm.com>
	Reviewed-by: David Gibson <david@gibson.dropbear.id.au>
(cherry picked from commit cf561f0d2eb74574ad9985a2feab134267a9d298)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/virtio_config.h
diff --cc include/linux/virtio_config.h
index d0d06abddd7b,170947eb11b5..000000000000
--- a/include/linux/virtio_config.h
+++ b/include/linux/virtio_config.h
@@@ -213,6 -205,42 +213,45 @@@ int virtqueue_set_affinity(struct virtq
  	return 0;
  }
  
++<<<<<<< HEAD
++=======
+ static inline bool virtio_is_little_endian(struct virtio_device *vdev)
+ {
+ 	return virtio_has_feature(vdev, VIRTIO_F_VERSION_1);
+ }
+ 
+ /* Memory accessors */
+ static inline u16 virtio16_to_cpu(struct virtio_device *vdev, __virtio16 val)
+ {
+ 	return __virtio16_to_cpu(virtio_is_little_endian(vdev), val);
+ }
+ 
+ static inline __virtio16 cpu_to_virtio16(struct virtio_device *vdev, u16 val)
+ {
+ 	return __cpu_to_virtio16(virtio_is_little_endian(vdev), val);
+ }
+ 
+ static inline u32 virtio32_to_cpu(struct virtio_device *vdev, __virtio32 val)
+ {
+ 	return __virtio32_to_cpu(virtio_is_little_endian(vdev), val);
+ }
+ 
+ static inline __virtio32 cpu_to_virtio32(struct virtio_device *vdev, u32 val)
+ {
+ 	return __cpu_to_virtio32(virtio_is_little_endian(vdev), val);
+ }
+ 
+ static inline u64 virtio64_to_cpu(struct virtio_device *vdev, __virtio64 val)
+ {
+ 	return __virtio64_to_cpu(virtio_is_little_endian(vdev), val);
+ }
+ 
+ static inline __virtio64 cpu_to_virtio64(struct virtio_device *vdev, u64 val)
+ {
+ 	return __cpu_to_virtio64(virtio_is_little_endian(vdev), val);
+ }
+ 
++>>>>>>> cf561f0d2eb7 (virtio: introduce virtio_is_little_endian() helper)
  /* Config space accessors. */
  #define virtio_cread(vdev, structname, member, ptr)			\
  	do {								\
* Unmerged path include/linux/virtio_config.h
