i2c: i801: Add Device IDs for Intel Sunrise Point PCH

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [i2c] i801: Add Device IDs for Intel Sunrise Point PCH (David Milburn) [1082114]
Rebuild_FUZZ: 95.05%
commit-author james.d.ralston@intel.com <james.d.ralston@intel.com>
commit 3e27a8445c21f8056517f188303827450590d868
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/3e27a844.failed

This patch adds the I2C/SMBus Device IDs for the Intel Sunrise Point PCH.

	Signed-off-by: James Ralston <james.d.ralston@intel.com>
	Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
(cherry picked from commit 3e27a8445c21f8056517f188303827450590d868)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/i2c/busses/i2c-i801
#	drivers/i2c/busses/Kconfig
#	drivers/i2c/busses/i2c-i801.c
diff --cc Documentation/i2c/busses/i2c-i801
index 7b0dcdb57173,793c83dac738..000000000000
--- a/Documentation/i2c/busses/i2c-i801
+++ b/Documentation/i2c/busses/i2c-i801
@@@ -25,7 -25,10 +25,12 @@@ Supported adapters
    * Intel Avoton (SOC)
    * Intel Wellsburg (PCH)
    * Intel Coleto Creek (PCH)
 -  * Intel Wildcat Point (PCH)
    * Intel Wildcat Point-LP (PCH)
++<<<<<<< HEAD
++=======
+   * Intel BayTrail (SOC)
+   * Intel Sunrise Point-H (PCH)
++>>>>>>> 3e27a8445c21 (i2c: i801: Add Device IDs for Intel Sunrise Point PCH)
     Datasheets: Publicly available at the Intel website
  
  On Intel Patsburg and later chipsets, both the normal host SMBus controller
diff --cc drivers/i2c/busses/Kconfig
index 0c1db5c344d1,fd5f10a86209..000000000000
--- a/drivers/i2c/busses/Kconfig
+++ b/drivers/i2c/busses/Kconfig
@@@ -109,7 -119,10 +109,12 @@@ config I2C_I80
  	    Avoton (SOC)
  	    Wellsburg (PCH)
  	    Coleto Creek (PCH)
 -	    Wildcat Point (PCH)
  	    Wildcat Point-LP (PCH)
++<<<<<<< HEAD
++=======
+ 	    BayTrail (SOC)
+ 	    Sunrise Point-H (PCH)
++>>>>>>> 3e27a8445c21 (i2c: i801: Add Device IDs for Intel Sunrise Point PCH)
  
  	  This driver can also be built as a module.  If so, the module
  	  will be called i2c-i801.
diff --cc drivers/i2c/busses/i2c-i801.c
index 25766b74fa02,7cfc183b3d63..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -22,56 -22,59 +22,112 @@@
  */
  
  /*
++<<<<<<< HEAD
 +  Supports the following Intel I/O Controller Hubs (ICH):
 +
 +                                  I/O                     Block   I2C
 +                                  region  SMBus   Block   proc.   block
 +  Chip name             PCI ID    size    PEC     buffer  call    read
 +  ----------------------------------------------------------------------
 +  82801AA  (ICH)        0x2413     16      no      no      no      no
 +  82801AB  (ICH0)       0x2423     16      no      no      no      no
 +  82801BA  (ICH2)       0x2443     16      no      no      no      no
 +  82801CA  (ICH3)       0x2483     32     soft     no      no      no
 +  82801DB  (ICH4)       0x24c3     32     hard     yes     no      no
 +  82801E   (ICH5)       0x24d3     32     hard     yes     yes     yes
 +  6300ESB               0x25a4     32     hard     yes     yes     yes
 +  82801F   (ICH6)       0x266a     32     hard     yes     yes     yes
 +  6310ESB/6320ESB       0x269b     32     hard     yes     yes     yes
 +  82801G   (ICH7)       0x27da     32     hard     yes     yes     yes
 +  82801H   (ICH8)       0x283e     32     hard     yes     yes     yes
 +  82801I   (ICH9)       0x2930     32     hard     yes     yes     yes
 +  EP80579 (Tolapai)     0x5032     32     hard     yes     yes     yes
 +  ICH10                 0x3a30     32     hard     yes     yes     yes
 +  ICH10                 0x3a60     32     hard     yes     yes     yes
 +  5/3400 Series (PCH)   0x3b30     32     hard     yes     yes     yes
 +  6 Series (PCH)        0x1c22     32     hard     yes     yes     yes
 +  Patsburg (PCH)        0x1d22     32     hard     yes     yes     yes
 +  Patsburg (PCH) IDF    0x1d70     32     hard     yes     yes     yes
 +  Patsburg (PCH) IDF    0x1d71     32     hard     yes     yes     yes
 +  Patsburg (PCH) IDF    0x1d72     32     hard     yes     yes     yes
 +  DH89xxCC (PCH)        0x2330     32     hard     yes     yes     yes
 +  Panther Point (PCH)   0x1e22     32     hard     yes     yes     yes
 +  Lynx Point (PCH)      0x8c22     32     hard     yes     yes     yes
 +  Lynx Point-LP (PCH)   0x9c22     32     hard     yes     yes     yes
 +  Avoton (SOC)          0x1f3c     32     hard     yes     yes     yes
 +  Wellsburg (PCH)       0x8d22     32     hard     yes     yes     yes
 +  Wellsburg (PCH) MS    0x8d7d     32     hard     yes     yes     yes
 +  Wellsburg (PCH) MS    0x8d7e     32     hard     yes     yes     yes
 +  Wellsburg (PCH) MS    0x8d7f     32     hard     yes     yes     yes
 +  Coleto Creek (PCH)    0x23b0     32     hard     yes     yes     yes
 +  Wildcat Point-LP (PCH)   0x9ca2     32     hard     yes     yes     yes
 +
 +  Features supported by this driver:
 +  Software PEC                     no
 +  Hardware PEC                     yes
 +  Block buffer                     yes
 +  Block process call transaction   no
 +  I2C block read transaction       yes  (doesn't use the block buffer)
 +  Slave mode                       no
 +  Interrupt processing             yes
 +
 +  See the file Documentation/i2c/busses/i2c-i801 for details.
 +*/
++=======
+  * Supports the following Intel I/O Controller Hubs (ICH):
+  *
+  *					I/O			Block	I2C
+  *					region	SMBus	Block	proc.	block
+  * Chip name			PCI ID	size	PEC	buffer	call	read
+  * ---------------------------------------------------------------------------
+  * 82801AA (ICH)		0x2413	16	no	no	no	no
+  * 82801AB (ICH0)		0x2423	16	no	no	no	no
+  * 82801BA (ICH2)		0x2443	16	no	no	no	no
+  * 82801CA (ICH3)		0x2483	32	soft	no	no	no
+  * 82801DB (ICH4)		0x24c3	32	hard	yes	no	no
+  * 82801E (ICH5)		0x24d3	32	hard	yes	yes	yes
+  * 6300ESB			0x25a4	32	hard	yes	yes	yes
+  * 82801F (ICH6)		0x266a	32	hard	yes	yes	yes
+  * 6310ESB/6320ESB		0x269b	32	hard	yes	yes	yes
+  * 82801G (ICH7)		0x27da	32	hard	yes	yes	yes
+  * 82801H (ICH8)		0x283e	32	hard	yes	yes	yes
+  * 82801I (ICH9)		0x2930	32	hard	yes	yes	yes
+  * EP80579 (Tolapai)		0x5032	32	hard	yes	yes	yes
+  * ICH10			0x3a30	32	hard	yes	yes	yes
+  * ICH10			0x3a60	32	hard	yes	yes	yes
+  * 5/3400 Series (PCH)		0x3b30	32	hard	yes	yes	yes
+  * 6 Series (PCH)		0x1c22	32	hard	yes	yes	yes
+  * Patsburg (PCH)		0x1d22	32	hard	yes	yes	yes
+  * Patsburg (PCH) IDF		0x1d70	32	hard	yes	yes	yes
+  * Patsburg (PCH) IDF		0x1d71	32	hard	yes	yes	yes
+  * Patsburg (PCH) IDF		0x1d72	32	hard	yes	yes	yes
+  * DH89xxCC (PCH)		0x2330	32	hard	yes	yes	yes
+  * Panther Point (PCH)		0x1e22	32	hard	yes	yes	yes
+  * Lynx Point (PCH)		0x8c22	32	hard	yes	yes	yes
+  * Lynx Point-LP (PCH)		0x9c22	32	hard	yes	yes	yes
+  * Avoton (SOC)			0x1f3c	32	hard	yes	yes	yes
+  * Wellsburg (PCH)		0x8d22	32	hard	yes	yes	yes
+  * Wellsburg (PCH) MS		0x8d7d	32	hard	yes	yes	yes
+  * Wellsburg (PCH) MS		0x8d7e	32	hard	yes	yes	yes
+  * Wellsburg (PCH) MS		0x8d7f	32	hard	yes	yes	yes
+  * Coleto Creek (PCH)		0x23b0	32	hard	yes	yes	yes
+  * Wildcat Point (PCH)		0x8ca2	32	hard	yes	yes	yes
+  * Wildcat Point-LP (PCH)	0x9ca2	32	hard	yes	yes	yes
+  * BayTrail (SOC)		0x0f12	32	hard	yes	yes	yes
+  * Sunrise Point-H (PCH) 	0xa123  32	hard	yes	yes	yes
+  *
+  * Features supported by this driver:
+  * Software PEC				no
+  * Hardware PEC				yes
+  * Block buffer				yes
+  * Block process call transaction	no
+  * I2C block read transaction		yes (doesn't use the block buffer)
+  * Slave mode				no
+  * Interrupt processing			yes
+  *
+  * See the file Documentation/i2c/busses/i2c-i801 for details.
+  */
++>>>>>>> 3e27a8445c21 (i2c: i801: Add Device IDs for Intel Sunrise Point PCH)
  
  #include <linux/interrupt.h>
  #include <linux/module.h>
@@@ -162,24 -164,28 +218,25 @@@
  				 STATUS_ERROR_FLAGS)
  
  /* Older devices have their ID defined in <linux/pci_ids.h> */
 -#define PCI_DEVICE_ID_INTEL_BAYTRAIL_SMBUS		0x0f12
 -#define PCI_DEVICE_ID_INTEL_BRASWELL_SMBUS		0x2292
 -#define PCI_DEVICE_ID_INTEL_COUGARPOINT_SMBUS		0x1c22
 -#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS		0x1d22
 +#define PCI_DEVICE_ID_INTEL_COUGARPOINT_SMBUS	0x1c22
 +#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS	0x1d22
  /* Patsburg also has three 'Integrated Device Function' SMBus controllers */
 -#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF0		0x1d70
 -#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF1		0x1d71
 -#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF2		0x1d72
 -#define PCI_DEVICE_ID_INTEL_PANTHERPOINT_SMBUS		0x1e22
 -#define PCI_DEVICE_ID_INTEL_AVOTON_SMBUS		0x1f3c
 -#define PCI_DEVICE_ID_INTEL_DH89XXCC_SMBUS		0x2330
 -#define PCI_DEVICE_ID_INTEL_COLETOCREEK_SMBUS		0x23b0
 -#define PCI_DEVICE_ID_INTEL_5_3400_SERIES_SMBUS		0x3b30
 -#define PCI_DEVICE_ID_INTEL_LYNXPOINT_SMBUS		0x8c22
 -#define PCI_DEVICE_ID_INTEL_WILDCATPOINT_SMBUS		0x8ca2
 -#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS		0x8d22
 -#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS0		0x8d7d
 -#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS1		0x8d7e
 -#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS2		0x8d7f
 -#define PCI_DEVICE_ID_INTEL_LYNXPOINT_LP_SMBUS		0x9c22
 +#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF0	0x1d70
 +#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF1	0x1d71
 +#define PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF2	0x1d72
 +#define PCI_DEVICE_ID_INTEL_PANTHERPOINT_SMBUS	0x1e22
 +#define PCI_DEVICE_ID_INTEL_AVOTON_SMBUS	0x1f3c
 +#define PCI_DEVICE_ID_INTEL_DH89XXCC_SMBUS	0x2330
 +#define PCI_DEVICE_ID_INTEL_COLETOCREEK_SMBUS	0x23b0
 +#define PCI_DEVICE_ID_INTEL_5_3400_SERIES_SMBUS	0x3b30
 +#define PCI_DEVICE_ID_INTEL_LYNXPOINT_SMBUS	0x8c22
 +#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS	0x8d22
 +#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS0	0x8d7d
 +#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS1	0x8d7e
 +#define PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS2	0x8d7f
 +#define PCI_DEVICE_ID_INTEL_LYNXPOINT_LP_SMBUS	0x9c22
  #define PCI_DEVICE_ID_INTEL_WILDCATPOINT_LP_SMBUS	0x9ca2
+ #define PCI_DEVICE_ID_INTEL_SUNRISEPOINT_H_SMBUS	0xa123
  
  struct i801_mux_config {
  	char *gpio_chip;
@@@ -822,7 -828,11 +879,13 @@@ static DEFINE_PCI_DEVICE_TABLE(i801_ids
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS1) },
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_WELLSBURG_SMBUS_MS2) },
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_COLETOCREEK_SMBUS) },
 -	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_WILDCATPOINT_SMBUS) },
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_WILDCATPOINT_LP_SMBUS) },
++<<<<<<< HEAD
++=======
+ 	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_BAYTRAIL_SMBUS) },
+ 	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_BRASWELL_SMBUS) },
+ 	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_SUNRISEPOINT_H_SMBUS) },
++>>>>>>> 3e27a8445c21 (i2c: i801: Add Device IDs for Intel Sunrise Point PCH)
  	{ 0, }
  };
  
* Unmerged path Documentation/i2c/busses/i2c-i801
* Unmerged path drivers/i2c/busses/Kconfig
* Unmerged path drivers/i2c/busses/i2c-i801.c
