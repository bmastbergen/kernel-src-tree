ALSA: hda - Drop unused fields from struct hda_codec_preset

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] hda - Drop unused fields from struct hda_codec_preset (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 94.64%
commit-author Takashi Iwai <tiwai@suse.de>
commit 18fe73ef7c96e98668f84c02ebb9ac626f062b67
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/18fe73ef.failed

It's very unlikely that we'd need these fields out of sudden.
Let's drop them.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 18fe73ef7c96e98668f84c02ebb9ac626f062b67)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/hda_bind.c
diff --cc sound/pci/hda/hda_bind.c
index a49bc45c2ea5,d5ac25cc7fee..000000000000
--- a/sound/pci/hda/hda_bind.c
+++ b/sound/pci/hda/hda_bind.c
@@@ -46,26 -17,18 +46,31 @@@ static struct hda_vendor_id hda_vendor_
  /*
   * find a matching codec preset
   */
 -static int hda_codec_match(struct hdac_device *dev, struct hdac_driver *drv)
 +static int hda_bus_match(struct device *dev, struct device_driver *drv)
  {
 -	struct hda_codec *codec = container_of(dev, struct hda_codec, core);
 +	struct hda_codec *codec = container_of(dev, struct hda_codec, dev);
  	struct hda_codec_driver *driver =
 -		container_of(drv, struct hda_codec_driver, core);
 +		container_of(drv, struct hda_codec_driver, driver);
  	const struct hda_codec_preset *preset;
  	/* check probe_id instead of vendor_id if set */
 -	u32 id = codec->probe_id ? codec->probe_id : codec->core.vendor_id;
 +	u32 id = codec->probe_id ? codec->probe_id : codec->vendor_id;
  
  	for (preset = driver->preset; preset->id; preset++) {
++<<<<<<< HEAD
 +		u32 mask = preset->mask;
 +
 +		if (preset->afg && preset->afg != codec->afg)
 +			continue;
 +		if (preset->mfg && preset->mfg != codec->mfg)
 +			continue;
 +		if (!mask)
 +			mask = ~0;
 +		if (preset->id == (id & mask) &&
 +		    (!preset->rev || preset->rev == codec->revision_id)) {
++=======
+ 		if (preset->id == id &&
+ 		    (!preset->rev || preset->rev == codec->core.revision_id)) {
++>>>>>>> 18fe73ef7c96 (ALSA: hda - Drop unused fields from struct hda_codec_preset)
  			codec->preset = preset;
  			return 1;
  		}
* Unmerged path sound/pci/hda/hda_bind.c
diff --git a/sound/pci/hda/hda_codec.h b/sound/pci/hda/hda_codec.h
index 00c6f394c5ce..2ad873f52627 100644
--- a/sound/pci/hda/hda_codec.h
+++ b/sound/pci/hda/hda_codec.h
@@ -161,11 +161,7 @@ struct hda_bus {
  */
 struct hda_codec_preset {
 	unsigned int id;
-	unsigned int mask;
-	unsigned int subs;
-	unsigned int subs_mask;
 	unsigned int rev;
-	hda_nid_t afg, mfg;
 	const char *name;
 	int (*patch)(struct hda_codec *codec);
 };
