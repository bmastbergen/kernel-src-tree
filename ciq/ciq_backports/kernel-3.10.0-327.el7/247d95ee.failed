ALSA: line6: Handle error from line6_pcm_acquire()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] line6: Handle error from line6_pcm_acquire() (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 93.62%
commit-author Takashi Iwai <tiwai@suse.de>
commit 247d95ee6dd22e5323ecf7a73ff64110ef2fa2da
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/247d95ee.failed

	Tested-by: Chris Rorvick <chris@rorvick.com>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 247d95ee6dd22e5323ecf7a73ff64110ef2fa2da)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/staging/line6/toneport.c
#	sound/usb/line6/pcm.c
diff --cc drivers/staging/line6/toneport.c
index 4f8fc09cde1e,819e06b3f3db..000000000000
--- a/drivers/staging/line6/toneport.c
+++ b/drivers/staging/line6/toneport.c
@@@ -194,10 -189,16 +195,23 @@@ static int snd_toneport_monitor_put(str
  
  	line6pcm->volume_monitor = ucontrol->value.integer.value[0];
  
++<<<<<<< HEAD:drivers/staging/line6/toneport.c
 +	if (line6pcm->volume_monitor > 0)
 +		line6_pcm_acquire(line6pcm, LINE6_BITS_PCM_MONITOR);
 +	else
 +		line6_pcm_release(line6pcm, LINE6_BITS_PCM_MONITOR);
++=======
+ 	if (line6pcm->volume_monitor > 0) {
+ 		err = line6_pcm_acquire(line6pcm, LINE6_STREAM_MONITOR);
+ 		if (err < 0) {
+ 			line6pcm->volume_monitor = 0;
+ 			line6_pcm_release(line6pcm, LINE6_STREAM_MONITOR);
+ 			return err;
+ 		}
+ 	} else {
+ 		line6_pcm_release(line6pcm, LINE6_STREAM_MONITOR);
+ 	}
++>>>>>>> 247d95ee6dd2 (ALSA: line6: Handle error from line6_pcm_acquire()):sound/usb/line6/toneport.c
  
  	return 1;
  }
* Unmerged path sound/usb/line6/pcm.c
* Unmerged path drivers/staging/line6/toneport.c
* Unmerged path sound/usb/line6/pcm.c
