powerpc/pseries: Cleanup on pci_dn_reconfig_notifier()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [powerpc] pseries: Cleanup on pci_dn_reconfig_notifier() (Laurent Vivier) [1254200]
Rebuild_FUZZ: 92.00%
commit-author Gavin Shan <gwshan@linux.vnet.ibm.com>
commit ea0f8acf4d44727f7d3a38072566029bf5e17b44
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/ea0f8acf.failed

This applies cleanup on pci_dn_reconfig_notifier(), no functional
changes:

   * Rename variable "pci" to "pdn" to indicate its purpose clearly.
   * The parent node can be released at any time. So it should be
     hold with of_get_parent() before accessing it.
   * The device node doesn't have to have parent node in theory.
     More check on this.

	Signed-off-by: Gavin Shan <gwshan@linux.vnet.ibm.com>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit ea0f8acf4d44727f7d3a38072566029bf5e17b44)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/pseries/setup.c
diff --cc arch/powerpc/platforms/pseries/setup.c
index 0ac174ccabe5,39a74fad3e04..000000000000
--- a/arch/powerpc/platforms/pseries/setup.c
+++ b/arch/powerpc/platforms/pseries/setup.c
@@@ -253,10 -251,11 +253,16 @@@ static void __init pseries_discover_pic
  	       " interrupt-controller\n");
  }
  
 -static int pci_dn_reconfig_notifier(struct notifier_block *nb, unsigned long action, void *data)
 +static int pci_dn_reconfig_notifier(struct notifier_block *nb, unsigned long action, void *node)
  {
++<<<<<<< HEAD
 +	struct device_node *np = node;
 +	struct pci_dn *pci = NULL;
++=======
+ 	struct of_reconfig_data *rd = data;
+ 	struct device_node *parent, *np = rd->dn;
+ 	struct pci_dn *pdn;
++>>>>>>> ea0f8acf4d44 (powerpc/pseries: Cleanup on pci_dn_reconfig_notifier())
  	int err = NOTIFY_OK;
  
  	switch (action) {
* Unmerged path arch/powerpc/platforms/pseries/setup.c
