crypto: testmgr - fix RNG return code enforcement

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [crypto] testmgr: fix RNG return code enforcement (Herbert Xu) [1198978]
Rebuild_FUZZ: 87.64%
commit-author Stephan Mueller <smueller@chronox.de>
commit 19e60e1392d110be03d794e2286dd6cfd779cbe3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/19e60e13.failed

Due to the change to RNGs to always return zero in success case, the
invocation of the RNGs in the test manager must be updated as otherwise
the RNG self tests are not properly executed any more.

	Signed-off-by: Stephan Mueller <smueller@chronox.de>
	Signed-off-by: Alexander Bergmann <abergmann@suse.com>
	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit 19e60e1392d110be03d794e2286dd6cfd779cbe3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	crypto/testmgr.c
diff --cc crypto/testmgr.c
index 055dba992988,1f879adf495a..000000000000
--- a/crypto/testmgr.c
+++ b/crypto/testmgr.c
@@@ -1673,8 -1759,8 +1673,13 @@@ static int drbg_cavs_test(struct drbg_t
  		ret = crypto_drbg_get_bytes_addtl(drng,
  			buf, test->expectedlen, &addtl);
  	}
++<<<<<<< HEAD
 +	if (ret <= 0) {
 +		printk(KERN_ERR "alg: drbg: could not obtain random data for"
++=======
+ 	if (ret < 0) {
+ 		printk(KERN_ERR "alg: drbg: could not obtain random data for "
++>>>>>>> 19e60e1392d1 (crypto: testmgr - fix RNG return code enforcement)
  		       "driver %s\n", driver);
  		goto outbuf;
  	}
@@@ -1688,8 -1774,8 +1693,13 @@@
  		ret = crypto_drbg_get_bytes_addtl(drng,
  			buf, test->expectedlen, &addtl);
  	}
++<<<<<<< HEAD
 +	if (ret <= 0) {
 +		printk(KERN_ERR "alg: drbg: could not obtain random data for"
++=======
+ 	if (ret < 0) {
+ 		printk(KERN_ERR "alg: drbg: could not obtain random data for "
++>>>>>>> 19e60e1392d1 (crypto: testmgr - fix RNG return code enforcement)
  		       "driver %s\n", driver);
  		goto outbuf;
  	}
* Unmerged path crypto/testmgr.c
