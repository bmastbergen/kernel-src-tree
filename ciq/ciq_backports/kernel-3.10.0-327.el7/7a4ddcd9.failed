bonding: remove no longer needed lock for bond_xxx_info_query()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author dingtianhong <dingtianhong@huawei.com>
commit 7a4ddcd92ea72fdc54ebf671f3d3fcc8ba3a1ea8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/7a4ddcd9.failed

The bond_xxx_info_query() was already in RTNL, so no need to use
bond lock to protect the bond slave list, so remove it.

	Cc: Jay Vosburgh <fubar@us.ibm.com>
	Cc: Veaceslav Falico <vfalico@redhat.com>
	Cc: Andy Gospodarek <andy@greyhouse.net>
	Signed-off-by: Ding Tianhong <dingtianhong@huawei.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 7a4ddcd92ea72fdc54ebf671f3d3fcc8ba3a1ea8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/bonding/bond_main.c
diff --cc drivers/net/bonding/bond_main.c
index a013179836f0,12948b33451a..000000000000
--- a/drivers/net/bonding/bond_main.c
+++ b/drivers/net/bonding/bond_main.c
@@@ -2128,13 -1824,12 +2126,18 @@@ static int bond_info_query(struct net_d
  static int bond_slave_info_query(struct net_device *bond_dev, struct ifslave *info)
  {
  	struct bonding *bond = netdev_priv(bond_dev);
 -	struct list_head *iter;
 -	int i = 0, res = -ENODEV;
  	struct slave *slave;
 +	int i, res = -ENODEV;
  
++<<<<<<< HEAD
 +	read_lock(&bond->lock);
 +
 +	bond_for_each_slave(bond, slave, i) {
 +		if (i == (int)info->slave_id) {
++=======
+ 	bond_for_each_slave(bond, slave, iter) {
+ 		if (i++ == (int)info->slave_id) {
++>>>>>>> 7a4ddcd92ea7 (bonding: remove no longer needed lock for bond_xxx_info_query())
  			res = 0;
  			strcpy(info->slave_name, slave->dev->name);
  			info->link = slave->link;
@@@ -2143,8 -1838,6 +2146,11 @@@
  			break;
  		}
  	}
++<<<<<<< HEAD
 +
 +	read_unlock(&bond->lock);
++=======
++>>>>>>> 7a4ddcd92ea7 (bonding: remove no longer needed lock for bond_xxx_info_query())
  
  	return res;
  }
* Unmerged path drivers/net/bonding/bond_main.c
