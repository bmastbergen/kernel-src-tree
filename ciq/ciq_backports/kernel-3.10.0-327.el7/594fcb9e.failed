powerpc/powernv: Expose OPAL APIs required by PRD interface

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [powerpc] powernv: Expose OPAL APIs required by PRD interface (Gustavo Duarte) [1221110 1229224]
Rebuild_FUZZ: 92.73%
commit-author Jeremy Kerr <jk@ozlabs.org>
commit 594fcb9ec9e17215b4f98b5d40ba5e3af618ba82
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/594fcb9e.failed

The (upcoming) opal-prd driver needs to access the message notifier and
xscom code, so add EXPORT_SYMBOL_GPL macros for these.

	Signed-off-by: Jeremy Kerr <jk@ozlabs.org>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit 594fcb9ec9e17215b4f98b5d40ba5e3af618ba82)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/powernv/opal.c
diff --cc arch/powerpc/platforms/powernv/opal.c
index b32c77b1797c,0379068e1c10..000000000000
--- a/arch/powerpc/platforms/powernv/opal.c
+++ b/arch/powerpc/platforms/powernv/opal.c
@@@ -296,8 -235,9 +296,9 @@@ int opal_message_notifier_register(enu
  	return atomic_notifier_chain_register(
  				&opal_msg_notifier_head[msg_type], nb);
  }
+ EXPORT_SYMBOL_GPL(opal_message_notifier_register);
  
 -int opal_message_notifier_unregister(enum opal_msg_type msg_type,
 +int opal_message_notifier_unregister(enum OpalMessageType msg_type,
  				     struct notifier_block *nb)
  {
  	return atomic_notifier_chain_unregister(
@@@ -691,6 -745,13 +693,16 @@@ void opal_shutdown(void
  
  /* Export this so that test modules can use it */
  EXPORT_SYMBOL_GPL(opal_invalid_call);
++<<<<<<< HEAD
++=======
+ EXPORT_SYMBOL_GPL(opal_xscom_read);
+ EXPORT_SYMBOL_GPL(opal_xscom_write);
+ EXPORT_SYMBOL_GPL(opal_ipmi_send);
+ EXPORT_SYMBOL_GPL(opal_ipmi_recv);
+ EXPORT_SYMBOL_GPL(opal_flash_read);
+ EXPORT_SYMBOL_GPL(opal_flash_write);
+ EXPORT_SYMBOL_GPL(opal_flash_erase);
++>>>>>>> 594fcb9ec9e1 (powerpc/powernv: Expose OPAL APIs required by PRD interface)
  
  /* Convert a region of vmalloc memory to an opal sg list */
  struct opal_sg_list *opal_vmalloc_to_sg_list(void *vmalloc_addr,
* Unmerged path arch/powerpc/platforms/powernv/opal.c
