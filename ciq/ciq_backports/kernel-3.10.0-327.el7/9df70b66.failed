i40e: Remove incorrect #ifdef's

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Carolyn Wyborny <carolyn.wyborny@intel.com>
commit 9df70b66418e284dc1e7f272ac445c1d1e990b97
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/9df70b66.failed

This patch removes some #ifdef's that should not be there. They
were stopping code that is needed from being compiled in.

With these #ifdef's removed, changes are needed in the driver
to fix some compile errors: adding missing parameters to
the definition of ndo_bridge_setlink and a ndo_dflt_brige_getlink call.

Change-ID: I5516614e1bc50b6bca0647cef971bc96161ba2de
	Signed-off-by: Carolyn Wyborny <carolyn.wyborny@intel.com>
	Signed-off-by: Catherine Sullivan <catherine.sullivan@intel.com>
	Tested-by: Jim Young <james.m.young@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 9df70b66418e284dc1e7f272ac445c1d1e990b97)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_main.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_main.c
index 74a05e9c84ef,c7f2a0a74dcf..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@@ -8026,14 -8078,9 +8026,17 @@@ static int i40e_ndo_bridge_setlink(stru
   * Return the mode in which the hardware bridge is operating in
   * i.e VEB or VEPA.
   **/
- #ifdef HAVE_BRIDGE_FILTER
  static int i40e_ndo_bridge_getlink(struct sk_buff *skb, u32 pid, u32 seq,
  				   struct net_device *dev,
++<<<<<<< HEAD
 +				   u32 __always_unused filter_mask)
 +#else
 +static int i40e_ndo_bridge_getlink(struct sk_buff *skb, u32 pid, u32 seq,
 +				   struct net_device *dev)
 +#endif /* HAVE_BRIDGE_FILTER */
++=======
+ 				   u32 filter_mask, int nlflags)
++>>>>>>> 9df70b66418e (i40e: Remove incorrect #ifdef's)
  {
  	struct i40e_netdev_priv *np = netdev_priv(dev);
  	struct i40e_vsi *vsi = np->vsi;
@@@ -8054,9 -8101,9 +8057,8 @@@
  	if (!veb)
  		return 0;
  
 -	return ndo_dflt_bridge_getlink(skb, pid, seq, dev, veb->bridge_mode,
 -				       nlflags, 0, 0, filter_mask, NULL);
 +	return ndo_dflt_bridge_getlink(skb, pid, seq, dev, veb->bridge_mode);
  }
- #endif /* HAVE_BRIDGE_ATTRIBS */
  
  #define I40E_MAX_TUNNEL_HDR_LEN 80
  /**
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_main.c
