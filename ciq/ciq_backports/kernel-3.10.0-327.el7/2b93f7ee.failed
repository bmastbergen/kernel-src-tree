crypto: nx - reduce chattiness of platform drivers

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [crypto] nx - reduce chattiness of platform drivers (Gustavo Duarte) [1238571 1245132]
Rebuild_FUZZ: 91.30%
commit-author Nishanth Aravamudan <nacc@linux.vnet.ibm.com>
commit 2b93f7ee0836d1dbcfcf8560dd2a34cd51b3ff21
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/2b93f7ee.failed

While we never would successfully load on the wrong machine type, there
is extra output by default regardless of machine type.

For instance, on a PowerVM LPAR, we see the following:

nx_compress_powernv: loading
nx_compress_powernv: no coprocessors found

even though those coprocessors could never be found.

	Signed-off-by: Nishanth Aravamudan <nacc@linux.vnet.ibm.com>
	Cc: Dan Streetman <ddstreet@us.ibm.com>
	Cc: Herbert Xu <herbert@gondor.apana.org.au>
	Cc: "David S. Miller" <davem@davemloft.net>
	Cc: linux-crypto@vger.kernel.org
	Cc: linuxppc-dev@lists.ozlabs.org
	Acked-by: Michael Ellerman <mpe@ellerman.id.au>
	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit 2b93f7ee0836d1dbcfcf8560dd2a34cd51b3ff21)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/crypto/nx/nx-842-powernv.c
#	drivers/crypto/nx/nx-842-pseries.c
diff --cc drivers/crypto/nx/nx-842-pseries.c
index 3f6d38e69ee2,d44524da6589..000000000000
--- a/drivers/crypto/nx/nx-842-pseries.c
+++ b/drivers/crypto/nx/nx-842-pseries.c
@@@ -1262,7 -1089,10 +1262,14 @@@ static struct vio_driver nx842_driver 
  static int __init nx842_pseries_init(void)
  {
  	struct nx842_devdata *new_devdata;
++<<<<<<< HEAD
 +	pr_info("Registering IBM Power 842 compression driver\n");
++=======
+ 	int ret;
+ 
+ 	if (!of_find_compatible_node(NULL, NULL, "ibm,compression"))
+ 		return -ENODEV;
++>>>>>>> 2b93f7ee0836 (crypto: nx - reduce chattiness of platform drivers)
  
  	RCU_INIT_POINTER(devdata, NULL);
  	new_devdata = kzalloc(sizeof(*new_devdata), GFP_KERNEL);
@@@ -1283,7 -1127,7 +1290,11 @@@ static void __exit nx842_pseries_exit(v
  	struct nx842_devdata *old_devdata;
  	unsigned long flags;
  
++<<<<<<< HEAD
 +	pr_info("Exiting IBM Power 842 compression driver\n");
++=======
+ 	nx842_platform_driver_unset(&nx842_pseries_driver);
++>>>>>>> 2b93f7ee0836 (crypto: nx - reduce chattiness of platform drivers)
  	spin_lock_irqsave(&devdata_mutex, flags);
  	old_devdata = rcu_dereference_check(devdata,
  			lockdep_is_held(&devdata_mutex));
* Unmerged path drivers/crypto/nx/nx-842-powernv.c
* Unmerged path drivers/crypto/nx/nx-842-powernv.c
* Unmerged path drivers/crypto/nx/nx-842-pseries.c
