bridge: move private brport flags to if_bridge.h so port drivers can use flags

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Scott Feldman <sfeldma@gmail.com>
commit 065c212a9e25172069f368b36228379521dadb65
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/065c212a.failed

	Signed-off-by: Scott Feldman <sfeldma@gmail.com>
	Signed-off-by: Jiri Pirko <jiri@resnulli.us>
	Acked-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Acked-by: Andy Gospodarek <gospo@cumulusnetworks.com>
	Acked-by: Florian Fainelli <f.fainelli@gmail.com
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 065c212a9e25172069f368b36228379521dadb65)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bridge/br_private.h
diff --cc net/bridge/br_private.h
index b83bc92e455a,aea3d1339b3f..000000000000
--- a/net/bridge/br_private.h
+++ b/net/bridge/br_private.h
@@@ -155,20 -164,11 +155,23 @@@ struct net_bridge_por
  	struct rcu_head			rcu;
  
  	unsigned long 			flags;
++<<<<<<< HEAD
 +#define BR_HAIRPIN_MODE		0x00000001
 +#define BR_BPDU_GUARD           0x00000002
 +#define BR_ROOT_BLOCK		0x00000004
 +#define BR_MULTICAST_FAST_LEAVE	0x00000008
 +#define BR_ADMIN_COST		0x00000010
 +#define BR_LEARNING		0x00000020
 +#define BR_FLOOD		0x00000040
 +#define BR_AUTO_MASK (BR_FLOOD | BR_LEARNING)
 +#define BR_PROMISC		0x00000080
++=======
++>>>>>>> 065c212a9e25 (bridge: move private brport flags to if_bridge.h so port drivers can use flags)
  
  #ifdef CONFIG_BRIDGE_IGMP_SNOOPING
 -	struct bridge_mcast_own_query	ip4_own_query;
 +	struct bridge_mcast_query	ip4_query;
  #if IS_ENABLED(CONFIG_IPV6)
 -	struct bridge_mcast_own_query	ip6_own_query;
 +	struct bridge_mcast_query	ip6_query;
  #endif /* IS_ENABLED(CONFIG_IPV6) */
  	unsigned char			multicast_router;
  	struct timer_list		multicast_router_timer;
diff --git a/include/linux/if_bridge.h b/include/linux/if_bridge.h
index 44d6eb0eb852..867028c7481a 100644
--- a/include/linux/if_bridge.h
+++ b/include/linux/if_bridge.h
@@ -15,6 +15,7 @@
 
 #include <linux/netdevice.h>
 #include <uapi/linux/if_bridge.h>
+#include <linux/bitops.h>
 
 struct br_ip {
 	union {
@@ -32,6 +33,17 @@ struct br_ip_list {
 	struct br_ip addr;
 };
 
+#define BR_HAIRPIN_MODE		BIT(0)
+#define BR_BPDU_GUARD		BIT(1)
+#define BR_ROOT_BLOCK		BIT(2)
+#define BR_MULTICAST_FAST_LEAVE	BIT(3)
+#define BR_ADMIN_COST		BIT(4)
+#define BR_LEARNING		BIT(5)
+#define BR_FLOOD		BIT(6)
+#define BR_AUTO_MASK		(BR_FLOOD | BR_LEARNING)
+#define BR_PROMISC		BIT(7)
+#define BR_PROXYARP		BIT(8)
+
 extern void brioctl_set(int (*ioctl_hook)(struct net *, unsigned int, void __user *));
 
 typedef int br_should_route_hook_t(struct sk_buff *skb);
* Unmerged path net/bridge/br_private.h
