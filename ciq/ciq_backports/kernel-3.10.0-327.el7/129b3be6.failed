ALSA: line6: Move the contents of usbdefs.h into driver.h

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] line6: Move the contents of usbdefs.h into driver.h (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 94.44%
commit-author Takashi Iwai <tiwai@suse.de>
commit 129b3be6895c01e137dbb88c699f9f706bdc6c9d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/129b3be6.failed

Most of them are rather relevant with the definitions in driver.h,
and there are only a few lines, so just rip it off.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 129b3be6895c01e137dbb88c699f9f706bdc6c9d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/staging/line6/driver.h
#	drivers/staging/line6/midi.c
#	drivers/staging/line6/pod.c
#	drivers/staging/line6/toneport.c
#	drivers/staging/line6/variax.c
#	sound/usb/line6/driver.c
#	sound/usb/line6/pcm.h
#	sound/usb/line6/podhd.c
diff --cc drivers/staging/line6/driver.h
index 4fd9dad58be7,fa877a345860..000000000000
--- a/drivers/staging/line6/driver.h
+++ b/drivers/staging/line6/driver.h
@@@ -67,36 -66,42 +73,51 @@@ extern const unsigned char line6_midi_i
  static const int SYSEX_DATA_OFS = sizeof(line6_midi_id) + 3;
  static const int SYSEX_EXTRA_SIZE = sizeof(line6_midi_id) + 4;
  
 -/*
 -	 Common properties of Line 6 devices.
 +/**
 +	 Common properties of Line6 devices.
  */
  struct line6_properties {
 -	/* Card id string (maximum 16 characters).
 -	 * This can be used to address the device in ALSA programs as
 -	 * "default:CARD=<id>"
 -	 */
 +	/**
 +		 Bit identifying this device in the line6usb driver.
 +	*/
 +	int device_bit;
 +
 +	/**
 +		 Card id string (maximum 16 characters).
 +		 This can be used to address the device in ALSA programs as
 +		 "default:CARD=<id>"
 +	*/
  	const char *id;
  
 -	/* Card short name (maximum 32 characters) */
 +	/**
 +		 Card short name (maximum 32 characters).
 +	*/
  	const char *name;
  
 -	/* Bit vector defining this device's capabilities in line6usb driver */
 +	/**
 +		 Bit vector defining this device's capabilities in the
 +		 line6usb driver.
 +	*/
  	int capabilities;
 -
 -	int altsetting;
 -
 -	unsigned ep_ctrl_r;
 -	unsigned ep_ctrl_w;
 -	unsigned ep_audio_r;
 -	unsigned ep_audio_w;
  };
  
++<<<<<<< HEAD:drivers/staging/line6/driver.h
 +/**
 +	 Common data shared by all Line6 devices.
++=======
+ /* Capability bits */
+ enum {
+ 	/* device supports settings parameter via USB */
+ 	LINE6_CAP_CONTROL =	1 << 0,
+ 	/* device supports PCM input/output via USB */
+ 	LINE6_CAP_PCM =		1 << 1,
+ 	/* device support hardware monitoring */
+ 	LINE6_CAP_HWMON =	1 << 2,
+ };
+ 
+ /*
+ 	 Common data shared by all Line 6 devices.
++>>>>>>> 129b3be6895c (ALSA: line6: Move the contents of usbdefs.h into driver.h):sound/usb/line6/driver.h
  	 Corresponds to a pair of USB endpoints.
  */
  struct usb_line6 {
diff --cc drivers/staging/line6/midi.c
index e3f9a53dbd96,cebea9b7f769..000000000000
--- a/drivers/staging/line6/midi.c
+++ b/drivers/staging/line6/midi.c
@@@ -14,11 -14,9 +14,14 @@@
  #include <sound/core.h>
  #include <sound/rawmidi.h>
  
 +#include "audio.h"
  #include "driver.h"
  #include "midi.h"
++<<<<<<< HEAD:drivers/staging/line6/midi.c
 +#include "pod.h"
 +#include "usbdefs.h"
++=======
++>>>>>>> 129b3be6895c (ALSA: line6: Move the contents of usbdefs.h into driver.h):sound/usb/line6/midi.c
  
  #define line6_rawmidi_substream_midi(substream) \
  	((struct snd_line6_midi *)((substream)->rmidi->private_data))
diff --cc drivers/staging/line6/pod.c
index 711d2c74641b,3f7ff661b3dd..000000000000
--- a/drivers/staging/line6/pod.c
+++ b/drivers/staging/line6/pod.c
@@@ -17,7 -21,66 +17,70 @@@
  #include "capture.h"
  #include "driver.h"
  #include "playback.h"
++<<<<<<< HEAD:drivers/staging/line6/pod.c
 +#include "pod.h"
++=======
+ 
+ /*
+ 	Locate name in binary program dump
+ */
+ #define	POD_NAME_OFFSET 0
+ #define	POD_NAME_LENGTH 16
+ 
+ /*
+ 	Other constants
+ */
+ #define POD_CONTROL_SIZE 0x80
+ #define POD_BUFSIZE_DUMPREQ 7
+ #define POD_STARTUP_DELAY 1000
+ 
+ /*
+ 	Stages of POD startup procedure
+ */
+ enum {
+ 	POD_STARTUP_INIT = 1,
+ 	POD_STARTUP_VERSIONREQ,
+ 	POD_STARTUP_WORKQUEUE,
+ 	POD_STARTUP_SETUP,
+ 	POD_STARTUP_LAST = POD_STARTUP_SETUP - 1
+ };
+ 
+ enum {
+ 	LINE6_BASSPODXT,
+ 	LINE6_BASSPODXTLIVE,
+ 	LINE6_BASSPODXTPRO,
+ 	LINE6_POCKETPOD,
+ 	LINE6_PODXT,
+ 	LINE6_PODXTLIVE_POD,
+ 	LINE6_PODXTPRO,
+ };
+ 
+ struct usb_line6_pod {
+ 	/* Generic Line 6 USB data */
+ 	struct usb_line6 line6;
+ 
+ 	/* Instrument monitor level */
+ 	int monitor_level;
+ 
+ 	/* Timer for device initialization */
+ 	struct timer_list startup_timer;
+ 
+ 	/* Work handler for device initialization */
+ 	struct work_struct startup_work;
+ 
+ 	/* Current progress in startup procedure */
+ 	int startup_progress;
+ 
+ 	/* Serial number of device */
+ 	int serial_number;
+ 
+ 	/* Firmware version (x 100) */
+ 	int firmware_version;
+ 
+ 	/* Device ID */
+ 	int device_id;
+ };
++>>>>>>> 129b3be6895c (ALSA: line6: Move the contents of usbdefs.h into driver.h):sound/usb/line6/pod.c
  
  #define POD_SYSEX_CODE 3
  #define POD_BYTES_PER_FRAME 6	/* 24bit audio (stereo) */
diff --cc drivers/staging/line6/toneport.c
index 4f8fc09cde1e,cffcd7f83bfd..000000000000
--- a/drivers/staging/line6/toneport.c
+++ b/drivers/staging/line6/toneport.c
@@@ -17,7 -21,48 +17,52 @@@
  #include "capture.h"
  #include "driver.h"
  #include "playback.h"
++<<<<<<< HEAD:drivers/staging/line6/toneport.c
 +#include "toneport.h"
++=======
+ 
+ enum line6_device_type {
+ 	LINE6_GUITARPORT,
+ 	LINE6_PODSTUDIO_GX,
+ 	LINE6_PODSTUDIO_UX1,
+ 	LINE6_PODSTUDIO_UX2,
+ 	LINE6_TONEPORT_GX,
+ 	LINE6_TONEPORT_UX1,
+ 	LINE6_TONEPORT_UX2,
+ };
+ 
+ struct usb_line6_toneport;
+ 
+ struct toneport_led {
+ 	struct led_classdev dev;
+ 	char name[64];
+ 	struct usb_line6_toneport *toneport;
+ 	bool registered;
+ };
+ 
+ struct usb_line6_toneport {
+ 	/* Generic Line 6 USB data */
+ 	struct usb_line6 line6;
+ 
+ 	/* Source selector */
+ 	int source;
+ 
+ 	/* Serial number of device */
+ 	int serial_number;
+ 
+ 	/* Firmware version (x 100) */
+ 	int firmware_version;
+ 
+ 	/* Timer for delayed PCM startup */
+ 	struct timer_list timer;
+ 
+ 	/* Device type */
+ 	enum line6_device_type type;
+ 
+ 	/* LED instances */
+ 	struct toneport_led leds[2];
+ };
++>>>>>>> 129b3be6895c (ALSA: line6: Move the contents of usbdefs.h into driver.h):sound/usb/line6/toneport.c
  
  static int toneport_send_cmd(struct usb_device *usbdev, int cmd1, int cmd2);
  
diff --cc drivers/staging/line6/variax.c
index bd0f694fa8d8,9dfbe7916d99..000000000000
--- a/drivers/staging/line6/variax.c
+++ b/drivers/staging/line6/variax.c
@@@ -10,10 -10,53 +10,53 @@@
   */
  
  #include <linux/slab.h>
 -#include <linux/spinlock.h>
 -#include <linux/usb.h>
 -#include <linux/wait.h>
 -#include <linux/module.h>
 -#include <sound/core.h>
  
 +#include "audio.h"
  #include "driver.h"
++<<<<<<< HEAD:drivers/staging/line6/variax.c
 +#include "variax.h"
++=======
+ 
+ #define VARIAX_STARTUP_DELAY1 1000
+ #define VARIAX_STARTUP_DELAY3 100
+ #define VARIAX_STARTUP_DELAY4 100
+ 
+ /*
+ 	Stages of Variax startup procedure
+ */
+ enum {
+ 	VARIAX_STARTUP_INIT = 1,
+ 	VARIAX_STARTUP_VERSIONREQ,
+ 	VARIAX_STARTUP_WAIT,
+ 	VARIAX_STARTUP_ACTIVATE,
+ 	VARIAX_STARTUP_WORKQUEUE,
+ 	VARIAX_STARTUP_SETUP,
+ 	VARIAX_STARTUP_LAST = VARIAX_STARTUP_SETUP - 1
+ };
+ 
+ enum {
+ 	LINE6_PODXTLIVE_VARIAX,
+ 	LINE6_VARIAX
+ };
+ 
+ struct usb_line6_variax {
+ 	/* Generic Line 6 USB data */
+ 	struct usb_line6 line6;
+ 
+ 	/* Buffer for activation code */
+ 	unsigned char *buffer_activate;
+ 
+ 	/* Handler for device initialization */
+ 	struct work_struct startup_work;
+ 
+ 	/* Timers for device initialization */
+ 	struct timer_list startup_timer1;
+ 	struct timer_list startup_timer2;
+ 
+ 	/* Current progress in startup procedure */
+ 	int startup_progress;
+ };
++>>>>>>> 129b3be6895c (ALSA: line6: Move the contents of usbdefs.h into driver.h):sound/usb/line6/variax.c
  
  #define VARIAX_OFFSET_ACTIVATE 7
  
* Unmerged path sound/usb/line6/driver.c
* Unmerged path sound/usb/line6/pcm.h
* Unmerged path sound/usb/line6/podhd.c
* Unmerged path drivers/staging/line6/driver.h
* Unmerged path drivers/staging/line6/midi.c
* Unmerged path drivers/staging/line6/pod.c
* Unmerged path drivers/staging/line6/toneport.c
* Unmerged path drivers/staging/line6/variax.c
* Unmerged path sound/usb/line6/driver.c
* Unmerged path sound/usb/line6/pcm.h
* Unmerged path sound/usb/line6/podhd.c
