enic: add stats for dma mapping error

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Govindarajulu Varadarajan <_govind@gmx.com>
commit 58feff07e9c964a88f82d13d272d384bd4274a33
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/58feff07.failed

This patch adds generic statistics for enic. As of now dma_map_error is the only
member. dma_map_erro is incremented every time dma maping error happens.

	Signed-off-by: Govindarajulu Varadarajan <_govind@gmx.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 58feff07e9c964a88f82d13d272d384bd4274a33)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/cisco/enic/enic.h
#	drivers/net/ethernet/cisco/enic/enic_ethtool.c
diff --cc drivers/net/ethernet/cisco/enic/enic.h
index 3c96be4a03d5,d2a103547c67..000000000000
--- a/drivers/net/ethernet/cisco/enic/enic.h
+++ b/drivers/net/ethernet/cisco/enic/enic.h
@@@ -188,6 -186,9 +188,12 @@@ struct enic 
  	____cacheline_aligned struct vnic_cq cq[ENIC_CQ_MAX];
  	unsigned int cq_count;
  	struct enic_rfs_flw_tbl rfs_h;
++<<<<<<< HEAD
++=======
+ 	u32 rx_copybreak;
+ 	u8 rss_key[ENIC_RSS_LEN];
+ 	struct vnic_gen_stats gen_stats;
++>>>>>>> 58feff07e9c9 (enic: add stats for dma mapping error)
  };
  
  static inline struct device *enic_get_dev(struct enic *enic)
diff --cc drivers/net/ethernet/cisco/enic/enic_ethtool.c
index 523c9ceb04c0,0c396c1f55dc..000000000000
--- a/drivers/net/ethernet/cisco/enic/enic_ethtool.c
+++ b/drivers/net/ethernet/cisco/enic/enic_ethtool.c
@@@ -23,6 -23,8 +23,11 @@@
  #include "enic.h"
  #include "enic_dev.h"
  #include "enic_clsf.h"
++<<<<<<< HEAD
++=======
+ #include "vnic_rss.h"
+ #include "vnic_stats.h"
++>>>>>>> 58feff07e9c9 (enic: add stats for dma mapping error)
  
  struct enic_stat {
  	char name[ETH_GSTRING_LEN];
* Unmerged path drivers/net/ethernet/cisco/enic/enic.h
* Unmerged path drivers/net/ethernet/cisco/enic/enic_ethtool.c
diff --git a/drivers/net/ethernet/cisco/enic/vnic_stats.h b/drivers/net/ethernet/cisco/enic/vnic_stats.h
index 77750ec93954..74c81ed6fdab 100644
--- a/drivers/net/ethernet/cisco/enic/vnic_stats.h
+++ b/drivers/net/ethernet/cisco/enic/vnic_stats.h
@@ -62,6 +62,11 @@ struct vnic_rx_stats {
 	u64 rsvd[16];
 };
 
+/* Generic statistics */
+struct vnic_gen_stats {
+	u64 dma_map_error;
+};
+
 struct vnic_stats {
 	struct vnic_tx_stats tx;
 	struct vnic_rx_stats rx;
