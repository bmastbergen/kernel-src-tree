drm/dp/mst: don't pass port into the path builder function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [drm] dp_mst: don't pass port into the path builder function (Dave Airlie) [1251331]
Rebuild_FUZZ: 94.64%
commit-author Dave Airlie <airlied@redhat.com>
commit 1c960876be7cffd2798a9e2be090e0a5afaee895
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/1c960876.failed

This is unnecessary and it makes it easier to see what is needed
from port.

also add blank line to make things nicer.

	Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
	Signed-off-by: Dave Airlie <airlied@redhat.com>
(cherry picked from commit 1c960876be7cffd2798a9e2be090e0a5afaee895)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/drm_dp_mst_topology.c
diff --cc drivers/gpu/drm/drm_dp_mst_topology.c
index 4e5ebafd116c,87112d389fd4..000000000000
--- a/drivers/gpu/drm/drm_dp_mst_topology.c
+++ b/drivers/gpu/drm/drm_dp_mst_topology.c
@@@ -1012,9 -1027,10 +1012,16 @@@ static void drm_dp_check_port_guid(stru
  	}
  }
  
++<<<<<<< HEAD
 +static void build_mst_prop_path(struct drm_dp_mst_port *port,
 +				struct drm_dp_mst_branch *mstb,
 +				char *proppath)
++=======
+ static void build_mst_prop_path(const struct drm_dp_mst_branch *mstb,
+ 				int pnum,
+ 				char *proppath,
+ 				size_t proppath_size)
++>>>>>>> 1c960876be7c (drm/dp/mst: don't pass port into the path builder function)
  {
  	int i;
  	char temp[8];
@@@ -1022,11 -1038,11 +1029,16 @@@
  	for (i = 0; i < (mstb->lct - 1); i++) {
  		int shift = (i % 2) ? 0 : 4;
  		int port_num = mstb->rad[i / 2] >> shift;
 -		snprintf(temp, sizeof(temp), "-%d", port_num);
 -		strlcat(proppath, temp, proppath_size);
 +		snprintf(temp, 8, "-%d", port_num);
 +		strncat(proppath, temp, 255);
  	}
++<<<<<<< HEAD
 +	snprintf(temp, 8, "-%d", port->port_num);
 +	strncat(proppath, temp, 255);
++=======
+ 	snprintf(temp, sizeof(temp), "-%d", pnum);
+ 	strlcat(proppath, temp, proppath_size);
++>>>>>>> 1c960876be7c (drm/dp/mst: don't pass port into the path builder function)
  }
  
  static void drm_dp_add_port(struct drm_dp_mst_branch *mstb,
@@@ -1098,8 -1113,13 +1110,13 @@@
  
  	if (created && !port->input) {
  		char proppath[255];
++<<<<<<< HEAD
 +		build_mst_prop_path(port, mstb, proppath);
++=======
+ 
+ 		build_mst_prop_path(mstb, port->port_num, proppath, sizeof(proppath));
++>>>>>>> 1c960876be7c (drm/dp/mst: don't pass port into the path builder function)
  		port->connector = (*mstb->mgr->cbs->add_connector)(mstb->mgr, port, proppath);
 -
 -		if (port->port_num >= 8) {
 -			port->cached_edid = drm_get_edid(port->connector, &port->aux.ddc);
 -		}
  	}
  
  	/* put reference to this port */
* Unmerged path drivers/gpu/drm/drm_dp_mst_topology.c
