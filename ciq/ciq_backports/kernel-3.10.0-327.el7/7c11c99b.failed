drm/nouveau/bios/dcb: accept "maxwell" lane count values for dcb 4.0

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [drm] nouveau/bios/dcb: accept "maxwell" lane count values for dcb 4.0 (Rob Clark) [1249805]
Rebuild_FUZZ: 96.97%
commit-author Ben Skeggs <bskeggs@redhat.com>
commit 7c11c99b3c66a8e03494e56ce6e6c5303ee85934
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/7c11c99b.failed

We previously assumed that the values "2" and "4" were new in DCB 4.1,
however, there's at least one GM107 DCB 4.0 board (Quadro K620) that
uses the newer values.

	Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
(cherry picked from commit 7c11c99b3c66a8e03494e56ce6e6c5303ee85934)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
#	drivers/gpu/drm/nouveau/nouveau_bios.c
diff --cc drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
index bd8d348385b3,95e9208e47d1..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
@@@ -157,14 -156,16 +157,27 @@@ dcb_outp_parse(struct nouveau_bios *bio
  					break;
  				}
  
++<<<<<<< HEAD:drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
 +				switch (conf & 0x0f000000) {
 +				case 0x0f000000:
 +					outp->dpconf.link_nr = 4;
 +					break;
 +				case 0x03000000:
 +					outp->dpconf.link_nr = 2;
 +					break;
 +				case 0x01000000:
++=======
+ 				switch ((conf & 0x0f000000) >> 24) {
+ 				case 0xf:
+ 				case 0x4:
+ 					outp->dpconf.link_nr = 4;
+ 					break;
+ 				case 0x3:
+ 				case 0x2:
+ 					outp->dpconf.link_nr = 2;
+ 					break;
+ 				case 0x1:
++>>>>>>> 7c11c99b3c66 (drm/nouveau/bios/dcb: accept "maxwell" lane count values for dcb 4.0):drivers/gpu/drm/nouveau/nvkm/subdev/bios/dcb.c
  				default:
  					outp->dpconf.link_nr = 1;
  					break;
diff --cc drivers/gpu/drm/nouveau/nouveau_bios.c
index 8268a4ccac15,e9de6e37af56..000000000000
--- a/drivers/gpu/drm/nouveau/nouveau_bios.c
+++ b/drivers/gpu/drm/nouveau/nouveau_bios.c
@@@ -1483,9 -1483,11 +1483,17 @@@ parse_dcb20_entry(struct drm_device *de
  		}
  		switch ((conf & 0x0f000000) >> 24) {
  		case 0xf:
++<<<<<<< HEAD
 +			entry->dpconf.link_nr = 4;
 +			break;
 +		case 0x3:
++=======
+ 		case 0x4:
+ 			entry->dpconf.link_nr = 4;
+ 			break;
+ 		case 0x3:
+ 		case 0x2:
++>>>>>>> 7c11c99b3c66 (drm/nouveau/bios/dcb: accept "maxwell" lane count values for dcb 4.0)
  			entry->dpconf.link_nr = 2;
  			break;
  		default:
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/bios/dcb.c
* Unmerged path drivers/gpu/drm/nouveau/nouveau_bios.c
