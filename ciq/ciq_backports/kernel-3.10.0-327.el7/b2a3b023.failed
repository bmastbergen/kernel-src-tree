ALSA: line6: Remove CHECK_RETURN macro

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] line6: Remove CHECK_RETURN macro (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 91.43%
commit-author Takashi Iwai <tiwai@suse.de>
commit b2a3b02392836b8cc0aa4246d7496028911f1539
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/b2a3b023.failed

Such a macro doesn't improve readability.

	Tested-by: Chris Rorvick <chris@rorvick.com>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit b2a3b02392836b8cc0aa4246d7496028911f1539)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/staging/line6/toneport.c
diff --cc drivers/staging/line6/toneport.c
index 4f8fc09cde1e,24544b7ab476..000000000000
--- a/drivers/staging/line6/toneport.c
+++ b/drivers/staging/line6/toneport.c
@@@ -372,11 -430,13 +372,21 @@@ static int toneport_try_init(struct usb
  	line6_read_serial_number(line6, &toneport->serial_number);
  	line6_read_data(line6, 0x80c2, &toneport->firmware_version, 1);
  
++<<<<<<< HEAD:drivers/staging/line6/toneport.c
 +	if (toneport_has_led(usbdev->descriptor.idProduct)) {
 +		CHECK_RETURN(device_create_file
 +			     (&interface->dev, &dev_attr_led_red));
 +		CHECK_RETURN(device_create_file
 +			     (&interface->dev, &dev_attr_led_green));
++=======
+ 	if (toneport_has_led(toneport->type)) {
+ 		err = device_create_file(&interface->dev, &dev_attr_led_red);
+ 		if (err < 0)
+ 			return err;
+ 		err = device_create_file(&interface->dev, &dev_attr_led_green);
+ 		if (err < 0)
+ 			return err;
++>>>>>>> b2a3b0239283 (ALSA: line6: Remove CHECK_RETURN macro):sound/usb/line6/toneport.c
  	}
  
  	toneport_setup(toneport);
diff --git a/drivers/staging/line6/driver.h b/drivers/staging/line6/driver.h
index 4fd9dad58be7..1b69989e0181 100644
--- a/drivers/staging/line6/driver.h
+++ b/drivers/staging/line6/driver.h
@@ -48,13 +48,6 @@
 
 #define LINE6_CHANNEL_MASK 0x0f
 
-#define CHECK_RETURN(x)		\
-do {				\
-	err = x;		\
-	if (err < 0)		\
-		return err;	\
-} while (0)
-
 #define CHECK_STARTUP_PROGRESS(x, n)	\
 do {					\
 	if ((x) >= (n))			\
diff --git a/drivers/staging/line6/pod.c b/drivers/staging/line6/pod.c
index 711d2c74641b..07fe6f8a6881 100644
--- a/drivers/staging/line6/pod.c
+++ b/drivers/staging/line6/pod.c
@@ -344,9 +344,15 @@ static int pod_create_files2(struct device *dev)
 {
 	int err;
 
-	CHECK_RETURN(device_create_file(dev, &dev_attr_device_id));
-	CHECK_RETURN(device_create_file(dev, &dev_attr_firmware_version));
-	CHECK_RETURN(device_create_file(dev, &dev_attr_serial_number));
+	err = device_create_file(dev, &dev_attr_device_id);
+	if (err < 0)
+		return err;
+	err = device_create_file(dev, &dev_attr_firmware_version);
+	if (err < 0)
+		return err;
+	err = device_create_file(dev, &dev_attr_serial_number);
+	if (err < 0)
+		return err;
 	return 0;
 }
 
* Unmerged path drivers/staging/line6/toneport.c
