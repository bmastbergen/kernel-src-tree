qla2xxx: Prevent multiple firmware dump collection for ISP27XX.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Prevent multiple firmware dump collection for ISP27XX (Chad Dupuis) [1187302]
Rebuild_FUZZ: 99.20%
commit-author Himanshu Madhani <himanshu.madhani@qlogic.com>
commit e8fb1250ba5898c6c53e0063bbdcc9cadd580797
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/e8fb1250.failed

For ISP27XX, driver will capture new firmware dump even if there is
one already collected. Prevent this from happening by checking
fw_dumped flag.

	Signed-off-by: Giridhar Malavali <giridhar.malavali@qlogic.com>
	Signed-off-by: Himanshu Madhani <himanshu.madhani@qlogic.com>
	Reviewed-by: Hannes Reinecke <hare@suse.de>
	Signed-off-by: James Bottomley <JBottomley@Odin.com>
(cherry picked from commit e8fb1250ba5898c6c53e0063bbdcc9cadd580797)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_dbg.c
#	drivers/scsi/qla2xxx/qla_tmpl.c
diff --cc drivers/scsi/qla2xxx/qla_dbg.c
index e7fa7d02d853,0e6ee3ca30e6..000000000000
--- a/drivers/scsi/qla2xxx/qla_dbg.c
+++ b/drivers/scsi/qla2xxx/qla_dbg.c
@@@ -63,9 -60,15 +63,21 @@@
   * |                              |                    | 0xb13c-0xb140  |
   * |                              |                    | 0xb149		|
   * | MultiQ                       |       0xc00c       |		|
++<<<<<<< HEAD
 + * | Misc                         |       0xd010       |		|
 + * | Target Mode		  |	  0xe070       | 0xe021		|
 + * | Target Mode Management	  |	  0xf072       | 0xf002-0xf003	|
++=======
+  * | Misc                         |       0xd300       | 0xd016-0xd017	|
+  * |                              |                    | 0xd021,0xd024	|
+  * |                              |                    | 0xd025,0xd029	|
+  * |                              |                    | 0xd02a,0xd02e	|
+  * |                              |                    | 0xd031-0xd0ff	|
+  * |                              |                    | 0xd101-0xd1fe	|
+  * |                              |                    | 0xd214-0xd2fe	|
+  * | Target Mode		  |	  0xe079       |		|
+  * | Target Mode Management	  |	  0xf072       | 0xf002		|
++>>>>>>> e8fb1250ba58 (qla2xxx: Prevent multiple firmware dump collection for ISP27XX.)
   * |                              |                    | 0xf046-0xf049  |
   * | Target Mode Task Management  |	  0x1000b      |		|
   * ----------------------------------------------------------------------
* Unmerged path drivers/scsi/qla2xxx/qla_tmpl.c
* Unmerged path drivers/scsi/qla2xxx/qla_dbg.c
* Unmerged path drivers/scsi/qla2xxx/qla_tmpl.c
