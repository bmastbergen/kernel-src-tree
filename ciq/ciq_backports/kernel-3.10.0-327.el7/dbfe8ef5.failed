ahci: avoton port-disable reset-quirk

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Dan Williams <dan.j.williams@intel.com>
commit dbfe8ef5599a5370abc441fcdbb382b656563eb4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/dbfe8ef5.failed

Avoton AHCI occasionally sees drive probe timeouts at driver load time.
When this happens SCR_STATUS indicates device detected, but no D2H FIS
reception.  Reset the internal link state machines by bouncing
port-enable in the PCS register when this occurs.

	Cc: <stable@vger.kernel.org>
	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
	Signed-off-by: Tejun Heo <tj@kernel.org>
(cherry picked from commit dbfe8ef5599a5370abc441fcdbb382b656563eb4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/ata/ahci.c
diff --cc drivers/ata/ahci.c
index 6581f29cc9af,65ee94454bbd..000000000000
--- a/drivers/ata/ahci.c
+++ b/drivers/ata/ahci.c
@@@ -84,6 -85,10 +85,13 @@@ enum board_ids 
  static int ahci_init_one(struct pci_dev *pdev, const struct pci_device_id *ent);
  static int ahci_vt8251_hardreset(struct ata_link *link, unsigned int *class,
  				 unsigned long deadline);
++<<<<<<< HEAD
++=======
+ static int ahci_avn_hardreset(struct ata_link *link, unsigned int *class,
+ 			      unsigned long deadline);
+ static void ahci_mcp89_apple_enable(struct pci_dev *pdev);
+ static bool is_mcp89_apple(struct pci_dev *pdev);
++>>>>>>> dbfe8ef5599a (ahci: avoton port-disable reset-quirk)
  static int ahci_p5wdh_hardreset(struct ata_link *link, unsigned int *class,
  				unsigned long deadline);
  #ifdef CONFIG_PM
* Unmerged path drivers/ata/ahci.c
