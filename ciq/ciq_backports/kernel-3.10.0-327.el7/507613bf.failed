virtio_net: minor cleanup

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [virtio] virtio-net: minor cleanup (Jason Wang) [1227339]
Rebuild_FUZZ: 96.00%
commit-author Michael S. Tsirkin <mst@redhat.com>
commit 507613bf31f4bc0a344a1dfc1bc9074fed6eab8f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/507613bf.failed

	goto done;
done:
	return;
is ugly, it was put there to make diff review easier.
replace by open-coded return.

	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>
	Acked-by: Cornelia Huck <cornelia.huck@de.ibm.com>
	Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
(cherry picked from commit 507613bf31f4bc0a344a1dfc1bc9074fed6eab8f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/virtio_net.c
diff --cc drivers/net/virtio_net.c
index 54b3d59391dd,ef04d2394282..000000000000
--- a/drivers/net/virtio_net.c
+++ b/drivers/net/virtio_net.c
@@@ -1315,13 -1401,9 +1315,13 @@@ static void virtnet_config_changed_work
  		container_of(work, struct virtnet_info, config_work);
  	u16 v;
  
 +	mutex_lock(&vi->config_lock);
 +	if (!vi->config_enable)
 +		goto done;
 +
  	if (virtio_cread_feature(vi->vdev, VIRTIO_NET_F_STATUS,
  				 struct virtio_net_config, status, &v) < 0)
- 		goto done;
+ 		return;
  
  	if (v & VIRTIO_NET_S_ANNOUNCE) {
  		netdev_notify_peers(vi->dev);
@@@ -1343,8 -1425,6 +1343,11 @@@
  		netif_carrier_off(vi->dev);
  		netif_tx_stop_all_queues(vi->dev);
  	}
++<<<<<<< HEAD
 +done:
 +	mutex_unlock(&vi->config_lock);
++=======
++>>>>>>> 507613bf31f4 (virtio_net: minor cleanup)
  }
  
  static void virtnet_config_changed(struct virtio_device *vdev)
* Unmerged path drivers/net/virtio_net.c
