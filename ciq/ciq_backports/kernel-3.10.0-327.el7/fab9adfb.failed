net/mlx4_core: Fix reading HCA max message size in mlx4_QUERY_DEV_CAP

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [netdrv] mlx4_core: Fix reading HCA max message size in mlx4_QUERY_DEV_CAP (Amir Vadai) [1164527 1164530 1164531 1164536 1164537]
Rebuild_FUZZ: 97.01%
commit-author Eran Ben Elisha <eranbe@mellanox.com>
commit fab9adfb71fc8690e20c3c280d39d49c8f4a3f0a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/fab9adfb.failed

Currently we parse max_msg_sz from the wrong offset in QUERY_DEV_CAP,
fix to use the right offset.

Fixes: 0b131561a7d6 ('net/mlx4_en: Add Flow control statistics [..]')
	Signed-off-by: Eran Ben Elisha <eranbe@mellanox.com>
	Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit fab9adfb71fc8690e20c3c280d39d49c8f4a3f0a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx4/fw.c
diff --cc drivers/net/ethernet/mellanox/mlx4/fw.c
index 8976ba4929d3,a4079811b176..000000000000
--- a/drivers/net/ethernet/mellanox/mlx4/fw.c
+++ b/drivers/net/ethernet/mellanox/mlx4/fw.c
@@@ -742,6 -782,9 +742,12 @@@ int mlx4_QUERY_DEV_CAP(struct mlx4_dev 
  	dev_cap->num_ports = field & 0xf;
  	MLX4_GET(field, outbox, QUERY_DEV_CAP_MAX_MSG_SZ_OFFSET);
  	dev_cap->max_msg_sz = 1 << (field & 0x1f);
++<<<<<<< HEAD
++=======
+ 	MLX4_GET(field, outbox, QUERY_DEV_CAP_PORT_FLOWSTATS_COUNTERS_OFFSET);
+ 	if (field & 0x10)
+ 		dev_cap->flags2 |= MLX4_DEV_CAP_FLAG2_FLOWSTATS_EN;
++>>>>>>> fab9adfb71fc (net/mlx4_core: Fix reading HCA max message size in mlx4_QUERY_DEV_CAP)
  	MLX4_GET(field, outbox, QUERY_DEV_CAP_FLOW_STEERING_RANGE_EN_OFFSET);
  	if (field & 0x80)
  		dev_cap->flags2 |= MLX4_DEV_CAP_FLAG2_FS_EN;
* Unmerged path drivers/net/ethernet/mellanox/mlx4/fw.c
