vlan: implement ndo_get_iflink

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Nicolas Dichtel <nicolas.dichtel@6wind.com>
commit 2dbf6b5058ace6b12e0674b07d59d47177741ae7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/2dbf6b50.failed

Don't use dev->iflink anymore.

CC: Patrick McHardy <kaber@trash.net>
	Signed-off-by: Nicolas Dichtel <nicolas.dichtel@6wind.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 2dbf6b5058ace6b12e0674b07d59d47177741ae7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/8021q/vlan_dev.c
diff --cc net/8021q/vlan_dev.c
index 0acdbe2b227c,01d7ba840df8..000000000000
--- a/net/8021q/vlan_dev.c
+++ b/net/8021q/vlan_dev.c
@@@ -777,8 -774,19 +783,13 @@@ static const struct net_device_ops vlan
  	.ndo_netpoll_cleanup	= vlan_dev_netpoll_cleanup,
  #endif
  	.ndo_fix_features	= vlan_dev_fix_features,
++<<<<<<< HEAD
++=======
+ 	.ndo_get_lock_subclass  = vlan_dev_get_lock_subclass,
+ 	.ndo_get_iflink		= vlan_dev_get_iflink,
++>>>>>>> 2dbf6b5058ac (vlan: implement ndo_get_iflink)
  };
  
 -static void vlan_dev_free(struct net_device *dev)
 -{
 -	struct vlan_dev_priv *vlan = vlan_dev_priv(dev);
 -
 -	free_percpu(vlan->vlan_pcpu_stats);
 -	vlan->vlan_pcpu_stats = NULL;
 -	free_netdev(dev);
 -}
 -
  void vlan_setup(struct net_device *dev)
  {
  	ether_setup(dev);
* Unmerged path net/8021q/vlan_dev.c
