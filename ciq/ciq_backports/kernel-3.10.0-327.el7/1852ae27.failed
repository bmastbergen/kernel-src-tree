powerpc/powernv: Pull all HMI events before panic.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [powerpc] powernv: Pull all HMI events before panic (Gustavo Duarte) [1253477]
Rebuild_FUZZ: 90.11%
commit-author Mahesh Salgaonkar <mahesh@linux.vnet.ibm.com>
commit 1852ae276ba6d5d481c3fb193054ebb67068be5c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/1852ae27.failed

In the event of unrecovered HMI the existing code panics as soon as
it receives the first unrecovered HMI event. This makes host to report
partial information about HMIs before panic. There may be more errors
which would have caused the HMI and hence more HMI event would have been
generated waiting to be pulled by host. This patch implements a logic to
pull and display all the HMI event before going down panic path.

	Signed-off-by: Mahesh Salgaonkar <mahesh@linux.vnet.ibm.com>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit 1852ae276ba6d5d481c3fb193054ebb67068be5c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/powernv/opal-hmi.c
* Unmerged path arch/powerpc/platforms/powernv/opal-hmi.c
* Unmerged path arch/powerpc/platforms/powernv/opal-hmi.c
