ACPI / video: Fix use_native_backlight selection logic

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [acpi] video: Fix use_native_backlight selection logic (Benjamin Tissoires) [1218354]
Rebuild_FUZZ: 93.07%
commit-author Hans de Goede <hdegoede@redhat.com>
commit 25294e9f00f03b2b4f4c56e913bc8c573972f33b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/25294e9f.failed

Commit 751109aad583 ("ACPI / video: Change the default for
video.use_native_backlight to 1") has changed the default for
use_native_backlight from 0 to 1, but instead of changing
use_native_backlight_dmi to true, and leaving use_native_backlight_param at -1,
it has changed use_native_backlight_param to 1.

This causes acpi_video_use_native_backlight() to always think that a value was
specified through the param, making it impossible to add a dmi based quirk
to force 0 now that the default is 1.

This fixes this by restoring the use_native_backlight_param default to -1, and
instead setting the use_native_backlight_dmi default to true.

Fixes: 751109aad583 (ACPI / video: Change the default for video.use_native_backlight to 1)
	Cc: 3.16+ <stable@vger.kernel.org> # 3.16+
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 25294e9f00f03b2b4f4c56e913bc8c573972f33b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/video.c
diff --cc drivers/acpi/video.c
index 81c28f7441f2,58bcf7af3ac8..000000000000
--- a/drivers/acpi/video.c
+++ b/drivers/acpi/video.c
@@@ -80,13 -79,16 +80,19 @@@ static bool allow_duplicates
  module_param(allow_duplicates, bool, 0644);
  
  /*
 - * For Windows 8 systems: used to decide if video module
 - * should skip registering backlight interface of its own.
 + * Some BIOSes claim they use minimum backlight at boot,
 + * and this may bring dimming screen after boot
   */
++<<<<<<< HEAD
 +static bool use_bios_initial_backlight = 1;
 +module_param(use_bios_initial_backlight, bool, 0644);
++=======
+ static int use_native_backlight_param = -1;
+ module_param_named(use_native_backlight, use_native_backlight_param, int, 0444);
+ static bool use_native_backlight_dmi = true;
++>>>>>>> 25294e9f00f0 (ACPI / video: Fix use_native_backlight selection logic)
  
 -static int register_count;
 -static struct mutex video_list_lock;
 -static struct list_head video_bus_head;
 +static int register_count = 0;
  static int acpi_video_bus_add(struct acpi_device *device);
  static int acpi_video_bus_remove(struct acpi_device *device);
  static void acpi_video_bus_notify(struct acpi_device *device, u32 event);
* Unmerged path drivers/acpi/video.c
