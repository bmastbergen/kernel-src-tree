bridge: add new brport flag LEARNING_SYNC

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Scott Feldman <sfeldma@gmail.com>
commit efacacdaf7cb5a0592ed772e3731636b2742e34a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/efacacda.failed

This policy flag controls syncing of learned FDB entries to bridge's FDB.  If
on, FDB entries learned on bridge port device will be synced.  If off, device
may still learn new FDB entries but they will not be synced with bridge's FDB.

	Signed-off-by: Scott Feldman <sfeldma@gmail.com>
	Signed-off-by: Jiri Pirko <jiri@resnulli.us>
	Acked-by: Roopa Prabhu <roopa@cumulusnetworks.com>
	Acked-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Acked-by: Andy Gospodarek <gospo@cumulusnetworks.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit efacacdaf7cb5a0592ed772e3731636b2742e34a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/if_bridge.h
#	include/uapi/linux/if_link.h
diff --cc include/linux/if_bridge.h
index 44d6eb0eb852,0a8ce762a47f..000000000000
--- a/include/linux/if_bridge.h
+++ b/include/linux/if_bridge.h
@@@ -32,6 -33,18 +32,21 @@@ struct br_ip_list 
  	struct br_ip addr;
  };
  
++<<<<<<< HEAD
++=======
+ #define BR_HAIRPIN_MODE		BIT(0)
+ #define BR_BPDU_GUARD		BIT(1)
+ #define BR_ROOT_BLOCK		BIT(2)
+ #define BR_MULTICAST_FAST_LEAVE	BIT(3)
+ #define BR_ADMIN_COST		BIT(4)
+ #define BR_LEARNING		BIT(5)
+ #define BR_FLOOD		BIT(6)
+ #define BR_AUTO_MASK		(BR_FLOOD | BR_LEARNING)
+ #define BR_PROMISC		BIT(7)
+ #define BR_PROXYARP		BIT(8)
+ #define BR_LEARNING_SYNC	BIT(9)
+ 
++>>>>>>> efacacdaf7cb (bridge: add new brport flag LEARNING_SYNC)
  extern void brioctl_set(int (*ioctl_hook)(struct net *, unsigned int, void __user *));
  
  typedef int br_should_route_hook_t(struct sk_buff *skb);
diff --cc include/uapi/linux/if_link.h
index 4efe6bcb6e67,f7d0d2d7173a..000000000000
--- a/include/uapi/linux/if_link.h
+++ b/include/uapi/linux/if_link.h
@@@ -230,6 -244,8 +230,11 @@@ enum 
  	IFLA_BRPORT_FAST_LEAVE,	/* multicast fast leave    */
  	IFLA_BRPORT_LEARNING,	/* mac learning */
  	IFLA_BRPORT_UNICAST_FLOOD, /* flood unicast traffic */
++<<<<<<< HEAD
++=======
+ 	IFLA_BRPORT_PROXYARP,	/* proxy ARP */
+ 	IFLA_BRPORT_LEARNING_SYNC, /* mac learning sync from device */
++>>>>>>> efacacdaf7cb (bridge: add new brport flag LEARNING_SYNC)
  	__IFLA_BRPORT_MAX
  };
  #define IFLA_BRPORT_MAX (__IFLA_BRPORT_MAX - 1)
* Unmerged path include/linux/if_bridge.h
* Unmerged path include/uapi/linux/if_link.h
