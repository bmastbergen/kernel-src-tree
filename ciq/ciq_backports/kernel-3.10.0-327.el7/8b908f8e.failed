dm thin: cleanup overwrite's endio restore to be centralized

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [md] dm-thin: cleanup overwrite's endio restore to be centralized (Mike Snitzer) [1222004]
Rebuild_FUZZ: 98.33%
commit-author Mike Snitzer <snitzer@redhat.com>
commit 8b908f8e94540296de95682640281a95ee5d320c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/8b908f8e.failed

	Signed-off-by: Mike Snitzer <snitzer@redhat.com>
(cherry picked from commit 8b908f8e94540296de95682640281a95ee5d320c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/md/dm-thin.c
diff --cc drivers/md/dm-thin.c
index f761dad02142,c0fbb6c306b2..000000000000
--- a/drivers/md/dm-thin.c
+++ b/drivers/md/dm-thin.c
@@@ -792,8 -795,6 +794,11 @@@ static void inc_remap_and_issue_cell(st
  
  static void process_prepared_mapping_fail(struct dm_thin_new_mapping *m)
  {
++<<<<<<< HEAD
 +	if (m->bio)
 +		m->bio->bi_end_io = m->saved_bi_end_io;
++=======
++>>>>>>> 8b908f8e9454 (dm thin: cleanup overwrite's endio restore to be centralized)
  	cell_error(m->tc->pool, m->cell);
  	list_del(&m->list);
  	mempool_free(m, m->tc->pool->mapping_pool);
* Unmerged path drivers/md/dm-thin.c
