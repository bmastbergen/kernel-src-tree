if_tun: add TUNSETVNETLE/TUNGETVNETLE

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Michael S. Tsirkin <mst@redhat.com>
commit 5eea84f478537de769330079dc068414f9d417f4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/5eea84f4.failed

ifreq flags field is only 16 bit wide, so setting IFF_VNET_LE there has
no effect:
doesn't fit in two bytes.

The tests passed apparently because they have an even number of bugs,
all cancelling out.

Luckily we didn't release a kernel with this flag, so it's
not too late to fix this.

Add TUNSETVNETLE/TUNGETVNETLE to really achieve the purpose
of IFF_VNET_LE.

This has an added benefit that if we ever want a BE flag,
we won't have to deal with weird configurations like
setting both LE and BE at the same time.

IFF_VNET_LE will be dropped in a follow-up patch.

	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 5eea84f478537de769330079dc068414f9d417f4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/uapi/linux/if_tun.h
diff --cc include/uapi/linux/if_tun.h
index db737ba76630,274630caa276..000000000000
--- a/include/uapi/linux/if_tun.h
+++ b/include/uapi/linux/if_tun.h
@@@ -46,6 -46,10 +46,13 @@@
  #define TUNGETVNETHDRSZ _IOR('T', 215, int)
  #define TUNSETVNETHDRSZ _IOW('T', 216, int)
  #define TUNSETQUEUE  _IOW('T', 217, int)
++<<<<<<< HEAD
++=======
+ #define TUNSETIFINDEX	_IOW('T', 218, unsigned int)
+ #define TUNGETFILTER _IOR('T', 219, struct sock_fprog)
+ #define TUNSETVNETLE _IOW('T', 220, int)
+ #define TUNGETVNETLE _IOR('T', 221, int)
++>>>>>>> 5eea84f47853 (if_tun: add TUNSETVNETLE/TUNGETVNETLE)
  
  /* TUNSETIFF ifr flags */
  #define IFF_TUN		0x0001
* Unmerged path include/uapi/linux/if_tun.h
