hpsa: correct return values from driver functions.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [scsi] hpsa: correct return values from driver functions (Joseph Szczypek) [1227171]
Rebuild_FUZZ: 98.99%
commit-author Robert Elliott <elliott@hp.com>
commit 2dd02d742535fe0114f1957afe8685856bdfebac
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/2dd02d74.failed

correct return codes for error conditions

	Reviewed-by: Scott Teel <scott.teel@pmcs.com>
	Reviewed-by: Kevin Barnett <kevin.barnett@pmcs.com>
	Reviewed-by: Tomas Henzl <thenzl@redhat.com>
	Reviewed-by: Hannes Reinecke <hare@Suse.de>
	Signed-off-by: Robert Elliott <elliott@hp.com>
	Signed-off-by: Don Brace <don.brace@pmcs.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: James Bottomley <JBottomley@Odin.com>
(cherry picked from commit 2dd02d742535fe0114f1957afe8685856bdfebac)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/hpsa.c
diff --cc drivers/scsi/hpsa.c
index 713a62ac835d,556a94f4f991..000000000000
--- a/drivers/scsi/hpsa.c
+++ b/drivers/scsi/hpsa.c
@@@ -2284,11 -2655,14 +2284,17 @@@ static int hpsa_get_raid_map(struct ctl
  	if (fill_cmd(c, HPSA_GET_RAID_MAP, h, &this_device->raid_map,
  			sizeof(this_device->raid_map), 0,
  			scsi3addr, TYPE_CMD)) {
++<<<<<<< HEAD
 +		dev_warn(&h->pdev->dev, "Out of memory in hpsa_get_raid_map()\n");
 +		cmd_special_free(h, c);
 +		return -ENOMEM;
++=======
+ 		dev_warn(&h->pdev->dev, "hpsa_get_raid_map fill_cmd failed\n");
+ 		cmd_free(h, c);
+ 		return -1;
++>>>>>>> 2dd02d742535 (hpsa: correct return values from driver functions.)
  	}
 -	rc = hpsa_scsi_do_simple_cmd_with_retry(h, c,
 -					PCI_DMA_FROMDEVICE, NO_TIMEOUT);
 -	if (rc)
 -		goto out;
 +	hpsa_scsi_do_simple_cmd_with_retry(h, c, PCI_DMA_FROMDEVICE);
  	ei = c->err_info;
  	if (ei->CommandStatus != 0 && ei->CommandStatus != CMD_DATA_UNDERRUN) {
  		hpsa_scsi_interpret_error(h, c);
* Unmerged path drivers/scsi/hpsa.c
