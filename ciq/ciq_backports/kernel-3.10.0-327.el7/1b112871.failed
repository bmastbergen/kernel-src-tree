ipv6: call iptunnel_xmit with NULL sock pointer if no tunnel sock is available

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Hannes Frederic Sowa <hannes@stressinduktion.org>
commit 1b112871186e3ab8333851c0caf203b47d7561b9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/1b112871.failed

Fixes: 79b16aadea32cce ("udp_tunnel: Pass UDP socket down through udp_tunnel{, 6}_xmit_skb().")
	Reported-by: David S. Miller <davem@davemloft.net>
	Signed-off-by: Hannes Frederic Sowa <hannes@stressinduktion.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1b112871186e3ab8333851c0caf203b47d7561b9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv6/sit.c
diff --cc net/ipv6/sit.c
index da6d686516f2,ac35a28599be..000000000000
--- a/net/ipv6/sit.c
+++ b/net/ipv6/sit.c
@@@ -894,8 -983,9 +894,14 @@@ static netdev_tx_t ipip6_tunnel_xmit(st
  
  	skb_set_inner_ipproto(skb, IPPROTO_IPV6);
  
++<<<<<<< HEAD
 +	err = iptunnel_xmit(skb->sk, rt, skb, fl4.saddr, fl4.daddr,
 +			    IPPROTO_IPV6, tos, ttl, df);
++=======
+ 	err = iptunnel_xmit(NULL, rt, skb, fl4.saddr, fl4.daddr,
+ 			    protocol, tos, ttl, df,
+ 			    !net_eq(tunnel->net, dev_net(dev)));
++>>>>>>> 1b112871186e (ipv6: call iptunnel_xmit with NULL sock pointer if no tunnel sock is available)
  	iptunnel_xmit_stats(err, &dev->stats, dev->tstats);
  	return NETDEV_TX_OK;
  
* Unmerged path net/ipv6/sit.c
