s390/hmcdrv: fix interrupt registration

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [s390] hmcdrv: fix interrupt registration (Hendrik Brueckner) [1262735]
Rebuild_FUZZ: 93.15%
commit-author Heiko Carstens <heiko.carstens@de.ibm.com>
commit e619cd3d618672bea8602d682ea63b42a1faf1bc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/e619cd3d.failed

The z/VM driver sets bit "63-22" in control register zero to one in order
to enable the CP Service interrupt (0x2603). However the irq subclass mask
that normally corresponds to the CP Service interrupt is
"63-54" (== "63-22-32").

So it looks like the author read the documentation with the 32 bit sized
cr0 register bit positions (== 22), but didn't realize that bit numbers
change, if applied to a 64 bit register (== 54) due to the numbering
scheme.

Also use irq_subclass_register() instead if ctl_set_bit() since multiple
services depend on the service signal subclass mask, which is the correct
bit. This also explains why nobody noticed the bug, since the bit is always
enabled anyway (e.g. pfault).

	Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
	Reviewed-by: Hendrik Brueckner <brueckner@linux.vnet.ibm.com>
	Acked-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
	Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
(cherry picked from commit e619cd3d618672bea8602d682ea63b42a1faf1bc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/s390/char/diag_ftp.c
* Unmerged path drivers/s390/char/diag_ftp.c
* Unmerged path drivers/s390/char/diag_ftp.c
