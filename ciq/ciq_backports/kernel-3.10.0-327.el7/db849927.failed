staging: unisys: visornic - prevent NETDEV WATCHDOG timeouts after IO recovery

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [unisys] visornic - prevent NETDEV WATCHDOG timeouts after IO recovery (Erik Arfvidson) [1232018]
Rebuild_FUZZ: 87.77%
commit-author Tim Sell <Timothy.Sell@unisys.com>
commit db8499273e0110b2285f9190dcde5e8492d46076
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/db849927.failed

After IO partition recovery, it was possible to get into a situation where
a visornic device would repeatedly report:

    NETDEV WATCHDOG: eth0 (): transmit queue 0 timed out

The actual problem would affect any visornic device that was rapidly
transmitting at the same time the IO partition was being recovered. Once
you hit the problem, the only way to resume use of the nic would be to
reboot the Linux client partition.

The problem was caused by chstat.sent_xmit and chstat.got_xmit_done NOT
getting cleared during IO partition recovery. This is necessary because
outstanding xmits would essentially be "abandoned" during such recovery.
These fields are now cleared in virtnic_serverdown_complete().

	Signed-off-by: Tim Sell <Timothy.Sell@unisys.com>
	Signed-off-by: Benjamin Romer <benjamin.romer@unisys.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit db8499273e0110b2285f9190dcde5e8492d46076)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/staging/unisys/visornic/visornic_main.c
* Unmerged path drivers/staging/unisys/visornic/visornic_main.c
* Unmerged path drivers/staging/unisys/visornic/visornic_main.c
