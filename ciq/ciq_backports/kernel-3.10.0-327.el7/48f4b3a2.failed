ALSA: hda - Reduce verbs by node power-saves

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] hda - Reduce verbs by node power-saves (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 92.68%
commit-author Takashi Iwai <tiwai@suse.de>
commit 48f4b3a2ece560e37232fe9d681cd2ff0f3ff10d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/48f4b3a2.failed

The widget (node) power-saves restore the widget states at each
transition from D3 to D0 on each node.  This was added in the commit
[d545a57c5f84:ALSA: hda - Sync node attributes at resume from widget
power saving].  However, the test was rater false-positive; this
wasn't needed for any codecs.

Since the resync may take significant number of additional verbs to be
executed, it's better to reduce it.  Let's disable it for now again.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 48f4b3a2ece560e37232fe9d681cd2ff0f3ff10d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/hda_generic.c
diff --cc sound/pci/hda/hda_generic.c
index 6bea9c07d551,1c8678775f40..000000000000
--- a/sound/pci/hda/hda_generic.c
+++ b/sound/pci/hda/hda_generic.c
@@@ -842,10 -844,16 +842,23 @@@ static hda_nid_t path_power_update(stru
  			snd_hda_codec_write(codec, nid, 0,
  					    AC_VERB_SET_POWER_STATE, state);
  			changed = nid;
++<<<<<<< HEAD
 +			/* here we assume that widget attributes (e.g. amp,
 +			 * pinctl connection) don't change with local power
 +			 * state change.  If not, need to sync the cache.
 +			 */
++=======
+ 			/* all known codecs seem to be capable to handl
+ 			 * widgets state even in D3, so far.
+ 			 * if any new codecs need to restore the widget
+ 			 * states after D0 transition, call the function
+ 			 * below.
+ 			 */
+ #if 0 /* disabled */
+ 			if (state == AC_PWRST_D0)
+ 				snd_hdac_regmap_sync_node(&codec->core, nid);
+ #endif
++>>>>>>> 48f4b3a2ece5 (ALSA: hda - Reduce verbs by node power-saves)
  		}
  	}
  	return changed;
* Unmerged path sound/pci/hda/hda_generic.c
