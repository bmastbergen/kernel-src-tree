tun: drop most type defines

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Michael S. Tsirkin <mst@redhat.com>
commit 40630b82c20b7d800ea52919093cb7f0e3b03e3e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/40630b82.failed

It's just as easy to use IFF_ flags directly,
there's no point in adding our own defines.

	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>




(cherry picked from commit 40630b82c20b7d800ea52919093cb7f0e3b03e3e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/tun.c
diff --cc drivers/net/tun.c
index 598e92640d18,36be4fd0cd23..000000000000
--- a/drivers/net/tun.c
+++ b/drivers/net/tun.c
@@@ -1289,14 -1242,18 +1283,27 @@@ static ssize_t tun_put_user(struct tun_
  			    const struct iovec *iv, int len)
  {
  	struct tun_pi pi = { 0, skb->protocol };
++<<<<<<< HEAD
 +	struct {
 +		__be16 h_vlan_proto;
 +		__be16 h_vlan_TCI;
 +	} veth;
 +	ssize_t total = 0, off = 0;
 +	int vlan_offset = 0;
++=======
+ 	ssize_t total = 0;
+ 	int vlan_offset = 0, copied;
+ 	int vlan_hlen = 0;
+ 	int vnet_hdr_sz = 0;
+ 
+ 	if (vlan_tx_tag_present(skb))
+ 		vlan_hlen = VLAN_HLEN;
+ 
+ 	if (tun->flags & IFF_VNET_HDR)
+ 		vnet_hdr_sz = tun->vnet_hdr_sz;
++>>>>>>> 40630b82c20b (tun: drop most type defines)
  
- 	if (!(tun->flags & TUN_NO_PI)) {
+ 	if (!(tun->flags & IFF_NO_PI)) {
  		if ((len -= sizeof(pi)) < 0)
  			return -EINVAL;
  
@@@ -1879,10 -1816,10 +1886,10 @@@ static int tun_set_queue(struct file *f
  		ret = security_tun_dev_attach_queue(tun->security);
  		if (ret < 0)
  			goto unlock;
 -		ret = tun_attach(tun, file, false);
 +		ret = tun_attach(tun, file);
  	} else if (ifr->ifr_flags & IFF_DETACH_QUEUE) {
  		tun = rtnl_dereference(tfile->tun);
- 		if (!tun || !(tun->flags & TUN_TAP_MQ) || tfile->detached)
+ 		if (!tun || !(tun->flags & IFF_MULTI_QUEUE) || tfile->detached)
  			ret = -EINVAL;
  		else
  			__tun_detach(tfile, false);
@@@ -2107,6 -2063,16 +2114,19 @@@ static long __tun_chr_ioctl(struct fil
  		tun_detach_filter(tun, tun->numqueues);
  		break;
  
++<<<<<<< HEAD
++=======
+ 	case TUNGETFILTER:
+ 		ret = -EINVAL;
+ 		if ((tun->flags & TUN_TYPE_MASK) != IFF_TAP)
+ 			break;
+ 		ret = -EFAULT;
+ 		if (copy_to_user(argp, &tun->fprog, sizeof(tun->fprog)))
+ 			break;
+ 		ret = 0;
+ 		break;
+ 
++>>>>>>> 40630b82c20b (tun: drop most type defines)
  	default:
  		ret = -EINVAL;
  		break;
* Unmerged path drivers/net/tun.c
