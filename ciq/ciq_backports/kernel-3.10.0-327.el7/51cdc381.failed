virtio: drop VIRTIO_F_VERSION_1 from drivers

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [virtio] drop VIRTIO_F_VERSION_1 from drivers (Jason Wang) [1227339]
Rebuild_FUZZ: 90.00%
commit-author Michael S. Tsirkin <mst@redhat.com>
commit 51cdc3815f15cf1d6e25915965b34d5ea148e434
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/51cdc381.failed

Core activates this bit automatically now,
drop it from drivers that set it explicitly.

	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>




(cherry picked from commit 51cdc3815f15cf1d6e25915965b34d5ea148e434)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/virtio_scsi.c
diff --cc drivers/scsi/virtio_scsi.c
index 84bc50f340b4,23082782344c..000000000000
--- a/drivers/scsi/virtio_scsi.c
+++ b/drivers/scsi/virtio_scsi.c
@@@ -1024,6 -1084,7 +1024,10 @@@ static struct virtio_device_id id_table
  static unsigned int features[] = {
  	VIRTIO_SCSI_F_HOTPLUG,
  	VIRTIO_SCSI_F_CHANGE,
++<<<<<<< HEAD
++=======
+ 	VIRTIO_SCSI_F_T10_PI,
++>>>>>>> 51cdc3815f15 (virtio: drop VIRTIO_F_VERSION_1 from drivers)
  };
  
  static struct virtio_driver virtio_scsi_driver = {
diff --git a/drivers/block/virtio_blk.c b/drivers/block/virtio_blk.c
index 1f8b111c5dab..1fb9e09fbbc5 100644
--- a/drivers/block/virtio_blk.c
+++ b/drivers/block/virtio_blk.c
@@ -836,7 +836,6 @@ static unsigned int features[] = {
 	VIRTIO_BLK_F_RO, VIRTIO_BLK_F_BLK_SIZE,
 	VIRTIO_BLK_F_TOPOLOGY,
 	VIRTIO_BLK_F_MQ,
-	VIRTIO_F_VERSION_1,
 };
 
 static struct virtio_driver virtio_blk = {
diff --git a/drivers/char/virtio_console.c b/drivers/char/virtio_console.c
index af7e65816901..8cee64e9ad35 100644
--- a/drivers/char/virtio_console.c
+++ b/drivers/char/virtio_console.c
@@ -2131,7 +2131,6 @@ static struct virtio_device_id id_table[] = {
 static unsigned int features[] = {
 	VIRTIO_CONSOLE_F_SIZE,
 	VIRTIO_CONSOLE_F_MULTIPORT,
-	VIRTIO_F_VERSION_1,
 };
 
 static struct virtio_device_id rproc_serial_id_table[] = {
diff --git a/drivers/net/virtio_net.c b/drivers/net/virtio_net.c
index eb3cee33fe95..ce233b8ffaec 100644
--- a/drivers/net/virtio_net.c
+++ b/drivers/net/virtio_net.c
@@ -1837,7 +1837,6 @@ static unsigned int features[] = {
 	VIRTIO_NET_F_GUEST_ANNOUNCE, VIRTIO_NET_F_MQ,
 	VIRTIO_NET_F_CTRL_MAC_ADDR,
 	VIRTIO_F_ANY_LAYOUT,
-	VIRTIO_F_VERSION_1,
 };
 
 static struct virtio_driver virtio_net_driver = {
* Unmerged path drivers/scsi/virtio_scsi.c
