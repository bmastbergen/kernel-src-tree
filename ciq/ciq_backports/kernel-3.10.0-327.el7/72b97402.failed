scsi/libiscsi: Fix static checker warning on bh locking

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [scsi] libiscsi: Fix static checker warning on bh locking (Chris Leech) [1231606]
Rebuild_FUZZ: 95.24%
commit-author Shlomo Pongratz <shlomop@mellanox.com>
commit 72b9740201d5f0e24b0b8326a4949786a30ff628
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/72b97402.failed

Commit 659743b "[SCSI] libiscsi: Reduce locking contention in fast path" introduced a
new smatch warning on libiscsi.c "iscsi_xmit_task() warn: inconsistent returns
bottom_half:: locked (1410 [(-61)]) unlocked (1425 [0], 1425 [s32min-(-1),1-s32max])",
which we can eliminate by using non bh locking on the nested spin_lock call.

	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
	Signed-off-by: Shlomo Pongratz <shlomop@mellanox.com>
	Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com>
	Reviewed-by: Mike Christie <michaelc@cs.wisc.edu>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 72b9740201d5f0e24b0b8326a4949786a30ff628)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/libiscsi.c
diff --cc drivers/scsi/libiscsi.c
index 0c863af09254,ecd7bd304efe..000000000000
--- a/drivers/scsi/libiscsi.c
+++ b/drivers/scsi/libiscsi.c
@@@ -1432,7 -1441,10 +1432,14 @@@ static int iscsi_xmit_task(struct iscsi
  		task->last_xfer = jiffies;
  		conn->task = NULL;
  	}
++<<<<<<< HEAD
 +	__iscsi_put_task(task);
++=======
+ 	/* regular RX path uses back_lock */
+ 	spin_lock(&conn->session->back_lock);
+ 	__iscsi_put_task(task);
+ 	spin_unlock(&conn->session->back_lock);
++>>>>>>> 72b9740201d5 (scsi/libiscsi: Fix static checker warning on bh locking)
  	return rc;
  }
  
* Unmerged path drivers/scsi/libiscsi.c
