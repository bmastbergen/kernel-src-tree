net/mlx4_core: Fix error message deprecation for ConnectX-2 cards

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [netdrv] mlx4_core: Fix error message deprecation for ConnectX-2 cards (Amir Vadai) [1164527 1164530 1164531 1164536 1164537]
Rebuild_FUZZ: 96.83%
commit-author Jack Morgenstein <jackm@dev.mellanox.co.il>
commit fde913e25496761a4e2a4c81230c913aba6289a2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/fde913e2.failed

Commit 1daa4303b4ca ("net/mlx4_core: Deprecate error message at
ConnectX-2 cards startup to debug") did the deprecation only for port 1
of the card. Need to deprecate for port 2 as well.

Fixes: 1daa4303b4ca ("net/mlx4_core: Deprecate error message at ConnectX-2 cards startup to debug")
	Signed-off-by: Jack Morgenstein <jackm@dev.mellanox.co.il>
	Signed-off-by: Amir Vadai <amirv@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit fde913e25496761a4e2a4c81230c913aba6289a2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx4/cmd.c
diff --cc drivers/net/ethernet/mellanox/mlx4/cmd.c
index 9a86029fbef2,546ca4226916..000000000000
--- a/drivers/net/ethernet/mellanox/mlx4/cmd.c
+++ b/drivers/net/ethernet/mellanox/mlx4/cmd.c
@@@ -585,9 -724,9 +585,15 @@@ static int mlx4_cmd_wait(struct mlx4_de
  		 * on the host, we deprecate the error message for this
  		 * specific command/input_mod/opcode_mod/fw-status to be debug.
  		 */
++<<<<<<< HEAD
 +		if (op == MLX4_CMD_SET_PORT && in_modifier == 1 &&
 +		    op_modifier == MLX4_SET_PORT_IB_OPCODE &&
 +		    context->fw_status == CMD_STAT_BAD_SIZE)
++=======
+ 		if (op == MLX4_CMD_SET_PORT &&
+ 		    (in_modifier == 1 || in_modifier == 2) &&
+ 		    op_modifier == 0 && context->fw_status == CMD_STAT_BAD_SIZE)
++>>>>>>> fde913e25496 (net/mlx4_core: Fix error message deprecation for ConnectX-2 cards)
  			mlx4_dbg(dev, "command 0x%x failed: fw status = 0x%x\n",
  				 op, context->fw_status);
  		else
* Unmerged path drivers/net/ethernet/mellanox/mlx4/cmd.c
