drm/nouveau/kms/nv50-: guard against enabling cursor on disabled heads

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [drm] nouveau/kms/nv50-: guard against enabling cursor on disabled heads (Rob Clark) [1249805]
Rebuild_FUZZ: 97.06%
commit-author Ben Skeggs <bskeggs@redhat.com>
commit 697bb728d9e2367020aa0c5af7363809d7658e43
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/697bb728.failed

Userspace has started doing this, which upsets the display class hw
error checking in various unpleasant ways.

	Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
(cherry picked from commit 697bb728d9e2367020aa0c5af7363809d7658e43)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/nouveau/nv50_display.c
diff --cc drivers/gpu/drm/nouveau/nv50_display.c
index 4c534b7b04da,981342d142ff..000000000000
--- a/drivers/gpu/drm/nouveau/nv50_display.c
+++ b/drivers/gpu/drm/nouveau/nv50_display.c
@@@ -929,7 -979,7 +929,11 @@@ nv50_crtc_cursor_show_hide(struct nouve
  {
  	struct nv50_mast *mast = nv50_mast(nv_crtc->base.dev);
  
++<<<<<<< HEAD
 +	if (show)
++=======
+ 	if (show && nv_crtc->cursor.nvbo && nv_crtc->base.enabled)
++>>>>>>> 697bb728d9e2 (drm/nouveau/kms/nv50-: guard against enabling cursor on disabled heads)
  		nv50_crtc_cursor_show(nv_crtc);
  	else
  		nv50_crtc_cursor_hide(nv_crtc);
* Unmerged path drivers/gpu/drm/nouveau/nv50_display.c
