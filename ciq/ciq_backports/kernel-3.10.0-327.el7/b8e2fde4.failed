bonding: fix error return code in bond_enslave()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
commit-author Wei Yongjun <yongjun_wei@trendmicro.com.cn>
commit b8e2fde466f7902fed4ad10bb60c1377b27cbfb7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/b8e2fde4.failed

Fix to return a negative error code in the add bond vlan ids error
handling case instead of 0, as done elsewhere in this function.

Introduced by commit 1ff412ad7714f6952f76ffd77f0a7f2f563288a1.
(bonding: change the bond's vlan syncing functions with the standard ones)

	Signed-off-by: Wei Yongjun <yongjun_wei@trendmicro.com.cn>
	Acked-by: Nikolay Aleksandrov <nikolay@redhat.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit b8e2fde466f7902fed4ad10bb60c1377b27cbfb7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/bonding/bond_main.c
diff --cc drivers/net/bonding/bond_main.c
index ef8213746e65,7407e65f5d96..000000000000
--- a/drivers/net/bonding/bond_main.c
+++ b/drivers/net/bonding/bond_main.c
@@@ -1704,7 -1603,12 +1704,16 @@@ int bond_enslave(struct net_device *bon
  		dev_mc_add(slave_dev, lacpdu_multicast);
  	}
  
++<<<<<<< HEAD
 +	bond_add_vlans_on_slave(bond, slave_dev);
++=======
+ 	res = vlan_vids_add_by_dev(slave_dev, bond_dev);
+ 	if (res) {
+ 		pr_err("%s: Error: Couldn't add bond vlan ids to %s\n",
+ 		       bond_dev->name, slave_dev->name);
+ 		goto err_close;
+ 	}
++>>>>>>> b8e2fde466f7 (bonding: fix error return code in bond_enslave())
  
  	write_lock_bh(&bond->lock);
  
* Unmerged path drivers/net/bonding/bond_main.c
