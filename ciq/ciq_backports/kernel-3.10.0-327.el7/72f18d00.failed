ALSA: line6: Remove invalid capability bits for PODxt Live Variax

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-327.el7
Rebuild_CHGLOG: - [alsa] line6: Remove invalid capability bits for PODxt Live Variax (Jaroslav Kysela) [1197064]
Rebuild_FUZZ: 95.16%
commit-author Takashi Iwai <tiwai@suse.de>
commit 72f18d00757e182c1adeb747ea39a66f1b54698b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-327.el7/72f18d00.failed

PODxt Live Variax doesn't have PCM and HWMON but only MIDI.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 72f18d00757e182c1adeb747ea39a66f1b54698b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/staging/line6/variax.c
diff --cc drivers/staging/line6/variax.c
index bd0f694fa8d8,b1c1de65d584..000000000000
--- a/drivers/staging/line6/variax.c
+++ b/drivers/staging/line6/variax.c
@@@ -207,27 -243,64 +207,64 @@@ static int variax_try_init(struct usb_i
  	return 0;
  }
  
++<<<<<<< HEAD:drivers/staging/line6/variax.c
++=======
+ #define LINE6_DEVICE(prod) USB_DEVICE(0x0e41, prod)
+ #define LINE6_IF_NUM(prod, n) USB_DEVICE_INTERFACE_NUMBER(0x0e41, prod, n)
+ 
+ /* table of devices that work with this driver */
+ static const struct usb_device_id variax_id_table[] = {
+ 	{ LINE6_IF_NUM(0x4650, 1), .driver_info = LINE6_PODXTLIVE_VARIAX },
+ 	{ LINE6_DEVICE(0x534d),    .driver_info = LINE6_VARIAX },
+ 	{}
+ };
+ 
+ MODULE_DEVICE_TABLE(usb, variax_id_table);
+ 
+ static const struct line6_properties variax_properties_table[] = {
+ 	[LINE6_PODXTLIVE_VARIAX] = {
+ 		.id = "PODxtLive",
+ 		.name = "PODxt Live",
+ 		.capabilities	= LINE6_CAP_CONTROL,
+ 		.altsetting = 1,
+ 		.ep_ctrl_r = 0x86,
+ 		.ep_ctrl_w = 0x05,
+ 		.ep_audio_r = 0x82,
+ 		.ep_audio_w = 0x01,
+ 	},
+ 	[LINE6_VARIAX] = {
+ 		.id = "Variax",
+ 		.name = "Variax Workbench",
+ 		.capabilities	= LINE6_CAP_CONTROL,
+ 		.altsetting = 1,
+ 		.ep_ctrl_r = 0x82,
+ 		.ep_ctrl_w = 0x01,
+ 		/* no audio channel */
+ 	}
+ };
+ 
++>>>>>>> 72f18d00757e (ALSA: line6: Remove invalid capability bits for PODxt Live Variax):sound/usb/line6/variax.c
  /*
 -	Probe USB device.
 +	 Init workbench device (and clean up in case of failure).
  */
 -static int variax_probe(struct usb_interface *interface,
 -			const struct usb_device_id *id)
 +int line6_variax_init(struct usb_interface *interface,
 +		      struct usb_line6_variax *variax)
  {
 -	return line6_probe(interface, id,
 -			   &variax_properties_table[id->driver_info],
 -			   variax_init, sizeof(struct usb_line6_variax));
 -}
 +	int err = variax_try_init(interface, variax);
  
 -static struct usb_driver variax_driver = {
 -	.name = KBUILD_MODNAME,
 -	.probe = variax_probe,
 -	.disconnect = line6_disconnect,
 -#ifdef CONFIG_PM
 -	.suspend = line6_suspend,
 -	.resume = line6_resume,
 -	.reset_resume = line6_resume,
 -#endif
 -	.id_table = variax_id_table,
 -};
 +	if (err < 0)
 +		variax_destruct(interface);
 +
 +	return err;
 +}
  
 -module_usb_driver(variax_driver);
 +/*
 +	Workbench device disconnected.
 +*/
 +void line6_variax_disconnect(struct usb_interface *interface)
 +{
 +	if (interface == NULL)
 +		return;
  
 -MODULE_DESCRIPTION("Vairax Workbench USB driver");
 -MODULE_LICENSE("GPL");
 +	variax_destruct(interface);
 +}
* Unmerged path drivers/staging/line6/variax.c
