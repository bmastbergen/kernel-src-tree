drm/amdgpu: add function to program pbb mode for sienna cichlid

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-301.1.el8
commit-author Likun Gao <Likun.Gao@amd.com>
commit 5fe19ce8e48d11de2932bb38fc6eba10faae4fd0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-301.1.el8/5fe19ce8.failed

Add function for sienna_cichlid to force PBB workload mode to zero by
checking whether there have SE been harvested.

	Signed-off-by: Likun Gao <Likun.Gao@amd.com>
	Reviewed-by: Hawking Zhang <Hawking.Zhang@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 5fe19ce8e48d11de2932bb38fc6eba10faae4fd0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
diff --cc drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
index f73ce9721233,a198d94fc4f0..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
@@@ -112,6 -129,29 +112,32 @@@
  #define mmCP_HYP_ME_UCODE_DATA			0x5817
  #define mmCP_HYP_ME_UCODE_DATA_BASE_IDX		1
  
++<<<<<<< HEAD
++=======
+ #define mmCPG_PSP_DEBUG				0x5c10
+ #define mmCPG_PSP_DEBUG_BASE_IDX		1
+ #define mmCPC_PSP_DEBUG				0x5c11
+ #define mmCPC_PSP_DEBUG_BASE_IDX		1
+ #define CPC_PSP_DEBUG__GPA_OVERRIDE_MASK	0x00000008L
+ #define CPG_PSP_DEBUG__GPA_OVERRIDE_MASK	0x00000008L
+ 
+ //CC_GC_SA_UNIT_DISABLE
+ #define mmCC_GC_SA_UNIT_DISABLE                 0x0fe9
+ #define mmCC_GC_SA_UNIT_DISABLE_BASE_IDX        0
+ #define CC_GC_SA_UNIT_DISABLE__SA_DISABLE__SHIFT	0x8
+ #define CC_GC_SA_UNIT_DISABLE__SA_DISABLE_MASK		0x0000FF00L
+ //GC_USER_SA_UNIT_DISABLE
+ #define mmGC_USER_SA_UNIT_DISABLE               0x0fea
+ #define mmGC_USER_SA_UNIT_DISABLE_BASE_IDX      0
+ #define GC_USER_SA_UNIT_DISABLE__SA_DISABLE__SHIFT	0x8
+ #define GC_USER_SA_UNIT_DISABLE__SA_DISABLE_MASK	0x0000FF00L
+ //PA_SC_ENHANCE_3
+ #define mmPA_SC_ENHANCE_3                       0x1085
+ #define mmPA_SC_ENHANCE_3_BASE_IDX              0
+ #define PA_SC_ENHANCE_3__FORCE_PBB_WORKLOAD_MODE_TO_ZERO__SHIFT 0x3
+ #define PA_SC_ENHANCE_3__FORCE_PBB_WORKLOAD_MODE_TO_ZERO_MASK   0x00000008L
+ 
++>>>>>>> 5fe19ce8e48d (drm/amdgpu: add function to program pbb mode for sienna cichlid)
  MODULE_FIRMWARE("amdgpu/navi10_ce.bin");
  MODULE_FIRMWARE("amdgpu/navi10_pfp.bin");
  MODULE_FIRMWARE("amdgpu/navi10_me.bin");
* Unmerged path drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
