drm/i915/display: Defeature PSR2 for RKL and ADL-S

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-338.el8
commit-author José Roberto de Souza <jose.souza@intel.com>
commit 8f2546dd3e3e29d3a13e28746ba75cee2b3c850d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-338.el8/8f2546dd.failed

PSR2 is defeatured for RKL and ADL-S, no important power impact as
those are desktop CPUs and PSR2 was not even enabled by default yet
in platforms without PSR2 HW tracking.

HSDES: 14011750631
HSDES: 14011741325
BSpec: 53273
	Cc: Caz Yokoyama <Caz.Yokoyama@intel.com>
	Cc: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
	Signed-off-by: José Roberto de Souza <jose.souza@intel.com>
	Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20210408214205.327704-1-jose.souza@intel.com
(cherry picked from commit 8f2546dd3e3e29d3a13e28746ba75cee2b3c850d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/display/intel_psr.c
diff --cc drivers/gpu/drm/i915/display/intel_psr.c
index 1c870c9c7073,2627d0b558f3..000000000000
--- a/drivers/gpu/drm/i915/display/intel_psr.c
+++ b/drivers/gpu/drm/i915/display/intel_psr.c
@@@ -722,9 -730,21 +722,24 @@@ static bool intel_psr2_config_valid(str
  	int crtc_vdisplay = crtc_state->hw.adjusted_mode.crtc_vdisplay;
  	int psr_max_h = 0, psr_max_v = 0, max_bpp = 0;
  
 -	if (!intel_dp->psr.sink_psr2_support)
 +	if (!dev_priv->psr.sink_psr2_support)
  		return false;
  
++<<<<<<< HEAD
++=======
+ 	/* JSL and EHL only supports eDP 1.3 */
+ 	if (IS_JSL_EHL(dev_priv)) {
+ 		drm_dbg_kms(&dev_priv->drm, "PSR2 not supported by phy\n");
+ 		return false;
+ 	}
+ 
+ 	/* Wa_16011181250 */
+ 	if (IS_ROCKETLAKE(dev_priv) || IS_ALDERLAKE_S(dev_priv)) {
+ 		drm_dbg_kms(&dev_priv->drm, "PSR2 is defeatured for this platform\n");
+ 		return false;
+ 	}
+ 
++>>>>>>> 8f2546dd3e3e (drm/i915/display: Defeature PSR2 for RKL and ADL-S)
  	if (!transcoder_has_psr2(dev_priv, crtc_state->cpu_transcoder)) {
  		drm_dbg_kms(&dev_priv->drm,
  			    "PSR2 not supported in transcoder %s\n",
* Unmerged path drivers/gpu/drm/i915/display/intel_psr.c
