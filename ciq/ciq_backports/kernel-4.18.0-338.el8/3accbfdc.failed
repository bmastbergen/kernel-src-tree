can: proc: can_remove_proc(): silence remove_proc_entry warning

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-338.el8
commit-author Zhang Changzhong <zhangchangzhong@huawei.com>
commit 3accbfdc36130282f5ae9e6eecfdf820169fedce
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-338.el8/3accbfdc.failed

If can_init_proc() fail to create /proc/net/can directory, can_remove_proc()
will trigger a warning:

WARNING: CPU: 6 PID: 7133 at fs/proc/generic.c:672 remove_proc_entry+0x17b0
Kernel panic - not syncing: panic_on_warn set ...

Fix to return early from can_remove_proc() if can proc_dir does not exists.

	Signed-off-by: Zhang Changzhong <zhangchangzhong@huawei.com>
Link: https://lore.kernel.org/r/1594709090-3203-1-git-send-email-zhangchangzhong@huawei.com
Fixes: 8e8cda6d737d ("can: initial support for network namespaces")
	Acked-by: Oliver Hartkopp <socketcan@hartkopp.net>
	Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>
(cherry picked from commit 3accbfdc36130282f5ae9e6eecfdf820169fedce)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/can/proc.c
diff --cc net/can/proc.c
index 70fea17bb04c,5ea8695f507e..000000000000
--- a/net/can/proc.c
+++ b/net/can/proc.c
@@@ -467,8 -462,8 +467,13 @@@ void can_init_proc(struct net *net
   */
  void can_remove_proc(struct net *net)
  {
++<<<<<<< HEAD
 +	if (net->can.pde_version)
 +		remove_proc_entry(CAN_PROC_VERSION, net->can.proc_dir);
++=======
+ 	if (!net->can.proc_dir)
+ 		return;
++>>>>>>> 3accbfdc3613 (can: proc: can_remove_proc(): silence remove_proc_entry warning)
  
  	if (net->can.pde_stats)
  		remove_proc_entry(CAN_PROC_STATS, net->can.proc_dir);
* Unmerged path net/can/proc.c
