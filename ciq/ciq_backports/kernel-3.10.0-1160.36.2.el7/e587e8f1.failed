vt: ioctl, switch VT_IS_IN_USE and VT_BUSY to inlines

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.36.2.el7
commit-author Jiri Slaby <jslaby@suse.cz>
commit e587e8f17433ddb26954f0edf5b2f95c42155ae9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.36.2.el7/e587e8f1.failed

These two were macros. Switch them to static inlines, so that it's more
understandable what they are doing.

	Signed-off-by: Jiri Slaby <jslaby@suse.cz>
Link: https://lore.kernel.org/r/20200219073951.16151-2-jslaby@suse.cz
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit e587e8f17433ddb26954f0edf5b2f95c42155ae9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/tty/vt/vt_ioctl.c
diff --cc drivers/tty/vt/vt_ioctl.c
index cf7ccafa6fc0,934fd46e7370..000000000000
--- a/drivers/tty/vt/vt_ioctl.c
+++ b/drivers/tty/vt/vt_ioctl.c
@@@ -39,10 -40,25 +39,30 @@@
  #include <linux/selection.h>
  
  char vt_dont_switch;
- extern struct tty_driver *console_driver;
  
++<<<<<<< HEAD
 +#define VT_IS_IN_USE(i)	(console_driver->ttys[i] && console_driver->ttys[i]->count)
 +#define VT_BUSY(i)	(VT_IS_IN_USE(i) || i == fg_console || vc_cons[i].d == sel_cons)
++=======
+ static inline bool vt_in_use(unsigned int i)
+ {
+ 	extern struct tty_driver *console_driver;
+ 
+ 	return console_driver->ttys[i] && console_driver->ttys[i]->count;
+ }
+ 
+ static inline bool vt_busy(int i)
+ {
+ 	if (vt_in_use(i))
+ 		return true;
+ 	if (i == fg_console)
+ 		return true;
+ 	if (vc_is_sel(vc_cons[i].d))
+ 		return true;
+ 
+ 	return false;
+ }
++>>>>>>> e587e8f17433 (vt: ioctl, switch VT_IS_IN_USE and VT_BUSY to inlines)
  
  /*
   * Console (vt and kd) routines, as defined by USL SVR4 manual, and by
* Unmerged path drivers/tty/vt/vt_ioctl.c
