taskstats: move specifying netlink policy back to ops

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-310.el8
commit-author Jakub Kicinski <kuba@kernel.org>
commit 7c1e0926da18051f4a09da1e380591213b0cdb5f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-310.el8/7c1e0926.failed

commit 3b0f31f2b8c9 ("genetlink: make policy common to family")
had to work around removal of policy from ops by parsing in
the pre_doit callback. Now that policy is back in full ops
we can switch again. Set maxattr to actual size of the policies
- both commands set GENL_DONT_VALIDATE_STRICT so out of range
attributes will be silently ignored, anyway.

v2:
 - remove stale comment

	Suggested-by: Johannes Berg <johannes@sipsolutions.net>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
	Reviewed-by: Johannes Berg <johannes@sipsolutions.net>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 7c1e0926da18051f4a09da1e380591213b0cdb5f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/taskstats.c
diff --cc kernel/taskstats.c
index 5f852b8f59f7,a2802b6ff4bb..000000000000
--- a/kernel/taskstats.c
+++ b/kernel/taskstats.c
@@@ -690,8 -664,6 +666,10 @@@ static struct genl_family family __ro_a
  	.module		= THIS_MODULE,
  	.ops		= taskstats_ops,
  	.n_ops		= ARRAY_SIZE(taskstats_ops),
++<<<<<<< HEAD
 +	.pre_doit	= taskstats_pre_doit,
++=======
++>>>>>>> 7c1e0926da18 (taskstats: move specifying netlink policy back to ops)
  };
  
  /* Needed early in initialization */
* Unmerged path kernel/taskstats.c
