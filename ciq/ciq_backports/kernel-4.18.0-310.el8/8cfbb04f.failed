kcsan: Clean up the main KCSAN Kconfig option

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-310.el8
commit-author Marco Elver <elver@google.com>
commit 8cfbb04fae75260eae07ab8c74c1dcd44294d739
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-310.el8/8cfbb04f.failed

This patch cleans up the rules of the 'KCSAN' Kconfig option by:

  1. implicitly selecting 'STACKTRACE' instead of depending on it;
  2. depending on DEBUG_KERNEL, to avoid accidentally turning KCSAN on if
     the kernel is not meant to be a debug kernel;
  3. updating the short and long summaries.

	Signed-off-by: Marco Elver <elver@google.com>
	Signed-off-by: Paul E. McKenney <paulmck@kernel.org>
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 8cfbb04fae75260eae07ab8c74c1dcd44294d739)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	lib/Kconfig.kcsan
diff --cc lib/Kconfig.kcsan
index b258cca3def8,9785bbf9a1d1..000000000000
--- a/lib/Kconfig.kcsan
+++ b/lib/Kconfig.kcsan
@@@ -4,13 -4,15 +4,21 @@@ config HAVE_ARCH_KCSA
  	bool
  
  menuconfig KCSAN
++<<<<<<< HEAD
 +	bool "KCSAN: watchpoint-based dynamic data race detector"
 +	depends on HAVE_ARCH_KCSAN && !KASAN && STACKTRACE
 +	default n
++=======
+ 	bool "KCSAN: dynamic data race detector"
+ 	depends on HAVE_ARCH_KCSAN && DEBUG_KERNEL && !KASAN
+ 	select STACKTRACE
++>>>>>>> 8cfbb04fae75 (kcsan: Clean up the main KCSAN Kconfig option)
  	help
- 	  Kernel Concurrency Sanitizer is a dynamic data race detector, which
- 	  uses a watchpoint-based sampling approach to detect races. See
- 	  <file:Documentation/dev-tools/kcsan.rst> for more details.
+ 	  The Kernel Concurrency Sanitizer (KCSAN) is a dynamic data race
+ 	  detector, which relies on compile-time instrumentation, and uses a
+ 	  watchpoint-based sampling approach to detect data races.
+ 
+ 	  See <file:Documentation/dev-tools/kcsan.rst> for more details.
  
  if KCSAN
  
* Unmerged path lib/Kconfig.kcsan
