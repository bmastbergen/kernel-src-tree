x86/alternatives: Cleanup DPRINTK macro

jira LE-1907
cve CVE-2022-29901
cve CVE-2022-29900
cve CVE-2022-23825
cve CVE-2022-23816
Rebuild_History Non-Buildable kernel-3.10.0-1160.80.1.el7
commit-author Borislav Petkov <bp@suse.de>
commit db477a3386dee183130916d6bbf21f5828b0b2e2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.80.1.el7/db477a33.failed

Make it pass __func__ implicitly. Also, dump info about each replacing
we're doing. Fixup comments and style while at it.

	Signed-off-by: Borislav Petkov <bp@suse.de>
(cherry picked from commit db477a3386dee183130916d6bbf21f5828b0b2e2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/alternative.c
diff --cc arch/x86/kernel/alternative.c
index 137dcbca27ba,1e86e85bcf58..000000000000
--- a/arch/x86/kernel/alternative.c
+++ b/arch/x86/kernel/alternative.c
@@@ -42,10 -41,21 +42,28 @@@ static int __init setup_noreplace_smp(c
  }
  __setup("noreplace-smp", setup_noreplace_smp);
  
++<<<<<<< HEAD
 +#define DPRINTK(fmt, ...)				\
 +do {							\
 +	if (debug_alternative)				\
 +		printk(KERN_DEBUG fmt, ##__VA_ARGS__);	\
++=======
+ #ifdef CONFIG_PARAVIRT
+ static int __initdata_or_module noreplace_paravirt = 0;
+ 
+ static int __init setup_noreplace_paravirt(char *str)
+ {
+ 	noreplace_paravirt = 1;
+ 	return 1;
+ }
+ __setup("noreplace-paravirt", setup_noreplace_paravirt);
+ #endif
+ 
+ #define DPRINTK(fmt, args...)						\
+ do {									\
+ 	if (debug_alternative)						\
+ 		printk(KERN_DEBUG "%s: " fmt "\n", __func__, ##args);	\
++>>>>>>> db477a3386de (x86/alternatives: Cleanup DPRINTK macro)
  } while (0)
  
  /*
* Unmerged path arch/x86/kernel/alternative.c
