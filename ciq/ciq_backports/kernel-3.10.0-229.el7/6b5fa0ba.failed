tools lib traceevent: Fix conversion of pointer to integer of different size

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [tools] perf/traceevent: Fix conversion of pointer to integer of different size (Jiri Olsa) [1131394]
Rebuild_FUZZ: 89.80%
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 6b5fa0ba4f85a8499287aefaf3f1375450c40c6d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/6b5fa0ba.failed

gcc complaint on 32-bit system:

  /home/acme/git/linux/tools/lib/traceevent/event-parse.c: In function ‘eval_num_arg’:
  /home/acme/git/linux/tools/lib/traceevent/event-parse.c:3468:9: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]

This is because the eval_num_arg returns everything as an 'unsigned long long',
so it converts a void pointer to a wider integer, fix it by converting the void
pointer to an integer of the same size, 'unsigned long', before casting it to
'unsigned long long'.

	Acked-by: Steven Rostedt <rostedt@goodmis.org>
	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Frederic Weisbecker <fweisbec@gmail.com>
	Cc: Jiri Olsa <jolsa@redhat.com>
	Cc: Mike Galbraith <efault@gmx.de>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Paul Mackerras <paulus@samba.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Stephane Eranian <eranian@google.com>
Link: http://lkml.kernel.org/n/tip-yllx4aqcg06v5n4vjpwiiuld@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 6b5fa0ba4f85a8499287aefaf3f1375450c40c6d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/lib/traceevent/event-parse.c
diff --cc tools/lib/traceevent/event-parse.c
index cc798a1024ef,217c82ee3665..000000000000
--- a/tools/lib/traceevent/event-parse.c
+++ b/tools/lib/traceevent/event-parse.c
@@@ -3442,6 -3454,19 +3442,22 @@@ eval_num_arg(void *data, int size, stru
  			goto out_warning_op;
  		}
  		break;
++<<<<<<< HEAD
++=======
+ 	case PRINT_DYNAMIC_ARRAY:
+ 		/* Without [], we pass the address to the dynamic data */
+ 		offset = pevent_read_number(pevent,
+ 					    data + arg->dynarray.field->offset,
+ 					    arg->dynarray.field->size);
+ 		/*
+ 		 * The actual length of the dynamic array is stored
+ 		 * in the top half of the field, and the offset
+ 		 * is in the bottom half of the 32 bit field.
+ 		 */
+ 		offset &= 0xffff;
+ 		val = (unsigned long long)((unsigned long)data + offset);
+ 		break;
++>>>>>>> 6b5fa0ba4f85 (tools lib traceevent: Fix conversion of pointer to integer of different size)
  	default: /* not sure what to do there */
  		return 0;
  	}
* Unmerged path tools/lib/traceevent/event-parse.c
