[SCSI] qla2xxx: Simplify the ISPFX00 interrupt handler code for ISPFX00.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Simplify the ISPFX00 interrupt handler code for ISPFX00 (Chad Dupuis) [1089346]
Rebuild_FUZZ: 94.12%
commit-author Saurav Kashyap <saurav.kashyap@qlogic.com>
commit fbe9c54b1da7c1f5795bc516676544b2ced58535
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/fbe9c54b.failed

	Signed-off-by: Giridhar Malavali <giridhar.malavali@qlogic.com>
	Signed-off-by: Saurav Kashyap <saurav.kashyap@qlogic.com>
	Signed-off-by: James Bottomley <JBottomley@Parallels.com>
(cherry picked from commit fbe9c54b1da7c1f5795bc516676544b2ced58535)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_mr.c
diff --cc drivers/scsi/qla2xxx/qla_mr.c
index 3cc93ffc5243,046a1699cb79..000000000000
--- a/drivers/scsi/qla2xxx/qla_mr.c
+++ b/drivers/scsi/qla2xxx/qla_mr.c
@@@ -3033,14 -3034,13 +3034,17 @@@ qlafx00_intr_handler(int irq, void *dev
  	vha = pci_get_drvdata(ha->pdev);
  	for (iter = 50; iter--; clr_intr = 0) {
  		stat = QLAFX00_RD_INTR_REG(ha);
++<<<<<<< HEAD
 +		if ((stat & QLAFX00_HST_INT_STS_BITS) == 0)
++=======
+ 		if (qla2x00_check_reg_for_disconnect(vha, stat))
+ 			break;
+ 		intr_stat = stat & QLAFX00_HST_INT_STS_BITS;
+ 		if (!intr_stat)
++>>>>>>> fbe9c54b1da7 ([SCSI] qla2xxx: Simplify the ISPFX00 interrupt handler code for ISPFX00.)
  			break;
  
- 		switch (stat & QLAFX00_HST_INT_STS_BITS) {
- 		case QLAFX00_INTR_MB_CMPLT:
- 		case QLAFX00_INTR_MB_RSP_CMPLT:
- 		case QLAFX00_INTR_MB_ASYNC_CMPLT:
- 		case QLAFX00_INTR_ALL_CMPLT:
+ 		if (stat & QLAFX00_INTR_MB_CMPLT) {
  			mb[0] = RD_REG_WORD(&reg->mailbox16);
  			qlafx00_mbx_completion(vha, mb[0]);
  			status |= MBX_INTERRUPT;
* Unmerged path drivers/scsi/qla2xxx/qla_mr.c
diff --git a/drivers/scsi/qla2xxx/qla_mr.h b/drivers/scsi/qla2xxx/qla_mr.h
index 7d163cb37dcd..ed1b27676aa3 100644
--- a/drivers/scsi/qla2xxx/qla_mr.h
+++ b/drivers/scsi/qla2xxx/qla_mr.h
@@ -334,11 +334,7 @@ struct config_info_data {
 
 #define QLAFX00_INTR_MB_CMPLT		0x1
 #define QLAFX00_INTR_RSP_CMPLT		0x2
-#define QLAFX00_INTR_MB_RSP_CMPLT	0x3
 #define QLAFX00_INTR_ASYNC_CMPLT	0x4
-#define QLAFX00_INTR_MB_ASYNC_CMPLT	0x5
-#define QLAFX00_INTR_RSP_ASYNC_CMPLT	0x6
-#define QLAFX00_INTR_ALL_CMPLT		0x7
 
 #define QLAFX00_MBA_SYSTEM_ERR		0x8002
 #define QLAFX00_MBA_TEMP_OVER		0x8005
