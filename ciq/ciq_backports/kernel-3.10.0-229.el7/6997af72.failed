perf tools: Allow to specify lib compile variable for spec usage

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [tools] perf: Allow to specify lib compile variable for spec usage (Jiri Olsa) [879133]
Rebuild_FUZZ: 95.08%
commit-author Jiri Olsa <jolsa@kernel.org>
commit 6997af72e6c1e9d8c1cc511dc9485e9ee69a5e20
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/6997af72.failed

We need a way to specify $(lib) part of the installation path for
traceevent plugin libraries. Currently we use 'lib64' for x86_64 and
'lib' otherwise.

Instead of listing all possible values, this change allows the rpm spec
code to specify the correct $(lib) part based on processed architecture,
like

  $ make ... lib=%{_lib}

	Signed-off-by: Jiri Olsa <jolsa@kernel.org>
	Tested-by: Kyle McMartin <kyle@mcmartin.ca>
	Cc: Corey Ashford <cjashfor@linux.vnet.ibm.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Frederic Weisbecker <fweisbec@gmail.com>
	Cc: Ingo Molnar <mingo@kernel.org>
	Cc: Kyle McMartin <kyle@mcmartin.ca>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Paul Mackerras <paulus@samba.org>
	Cc: Peter Zijlstra <a.p.zijlstra@chello.nl>
Link: http://lkml.kernel.org/r/1408978552-17131-1-git-send-email-jolsa@kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 6997af72e6c1e9d8c1cc511dc9485e9ee69a5e20)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/config/Makefile
diff --cc tools/perf/config/Makefile
index 8c9dbf2dcbe3,58f609198c6d..000000000000
--- a/tools/perf/config/Makefile
+++ b/tools/perf/config/Makefile
@@@ -527,7 -653,14 +527,18 @@@ els
  sysconfdir = $(prefix)/etc
  ETC_PERFCONFIG = etc/perfconfig
  endif
++<<<<<<< HEAD
 +lib = lib
++=======
+ ifndef lib
+ ifeq ($(IS_X86_64),1)
+ lib = lib64
+ else
+ lib = lib
+ endif
+ endif # lib
+ libdir = $(prefix)/$(lib)
++>>>>>>> 6997af72e6c1 (perf tools: Allow to specify lib compile variable for spec usage)
  
  # Shell quote (do not use $(call) to accommodate ancient setups);
  ETC_PERFCONFIG_SQ = $(subst ','\'',$(ETC_PERFCONFIG))
* Unmerged path tools/perf/config/Makefile
