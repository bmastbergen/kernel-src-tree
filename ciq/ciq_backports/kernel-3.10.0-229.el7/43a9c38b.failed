[SCSI] qla2xxx: Correct the port no assignment for ISP82XX.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Correct the port no assignment for ISP82XX (Chad Dupuis) [1089346]
Rebuild_FUZZ: 92.73%
commit-author Saurav Kashyap <saurav.kashyap@qlogic.com>
commit 43a9c38bf3867f4626107e17255db8c6a4bb16fc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/43a9c38b.failed

	Signed-off-by: Giridhar Malavali <giridhar.malavali@qlogic.com>
	Signed-off-by: Saurav Kashyap <saurav.kashyap@qlogic.com>
	Signed-off-by: James Bottomley <JBottomley@Parallels.com>
(cherry picked from commit 43a9c38bf3867f4626107e17255db8c6a4bb16fc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_os.c
diff --cc drivers/scsi/qla2xxx/qla_os.c
index 3b0db60b08fc,7b54e0acaac7..000000000000
--- a/drivers/scsi/qla2xxx/qla_os.c
+++ b/drivers/scsi/qla2xxx/qla_os.c
@@@ -2242,18 -2264,26 +2242,23 @@@ qla2x00_set_isp_flags(struct qla_hw_dat
  	}
  
  	if (IS_QLA82XX(ha))
++<<<<<<< HEAD
 +		ha->port_no = !(ha->portnum & 1);
 +	else
++=======
+ 		ha->port_no = ha->portnum & 1;
+ 	else {
++>>>>>>> 43a9c38bf386 ([SCSI] qla2xxx: Correct the port no assignment for ISP82XX.)
  		/* Get adapter physical port no from interrupt pin register. */
  		pci_read_config_byte(ha->pdev, PCI_INTERRUPT_PIN, &ha->port_no);
 -		if (IS_QLA27XX(ha))
 -			ha->port_no--;
 -		else
 -			ha->port_no = !(ha->port_no & 1);
 -	}
  
 +	if (ha->port_no & 1)
 +		ha->flags.port0 = 1;
 +	else
 +		ha->flags.port0 = 0;
  	ql_dbg_pci(ql_dbg_init, ha->pdev, 0x000b,
  	    "device_type=0x%x port=%d fw_srisc_address=0x%x.\n",
 -	    ha->device_type, ha->port_no, ha->fw_srisc_address);
 +	    ha->device_type, ha->flags.port0, ha->fw_srisc_address);
  }
  
  static void
* Unmerged path drivers/scsi/qla2xxx/qla_os.c
