tools lib traceevent: Add global QUIET_CC_FPIC build output

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [tools] lib/traceevent: Add global QUIET_CC_FPIC build output (Jiri Olsa) [1133083]
Rebuild_FUZZ: 92.86%
commit-author Jiri Olsa <jolsa@redhat.com>
commit bdebbacd421184234b5551c468e53956a9b6edf5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/bdebbacd.failed

Adding global QUIET_CC_FPIC build output variable and getting rid of
local print_fpic_compile and print_plugin_obj_compile.

	Signed-off-by: Jiri Olsa <jolsa@redhat.com>
	Cc: Corey Ashford <cjashfor@linux.vnet.ibm.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Frederic Weisbecker <fweisbec@gmail.com>
	Cc: Ingo Molnar <mingo@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Paul Mackerras <paulus@samba.org>
	Cc: Peter Zijlstra <a.p.zijlstra@chello.nl>
	Cc: Steven Rostedt <rostedt@goodmis.org>
Link: http://lkml.kernel.org/r/1387460527-15030-6-git-send-email-jolsa@redhat.com
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit bdebbacd421184234b5551c468e53956a9b6edf5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/lib/traceevent/Makefile
#	tools/scripts/Makefile.include
diff --cc tools/lib/traceevent/Makefile
index cef7f77bcdc9,24203cc14649..000000000000
--- a/tools/lib/traceevent/Makefile
+++ b/tools/lib/traceevent/Makefile
@@@ -125,33 -152,17 +125,44 @@@ override CFLAGS += $(udis86-flags) -D_G
  
  ifeq ($(VERBOSE),1)
    Q =
++<<<<<<< HEAD
 +  print_compile =
 +  print_app_build =
 +  print_fpic_compile =
++=======
++>>>>>>> bdebbacd4211 (tools lib traceevent: Add global QUIET_CC_FPIC build output)
    print_shared_lib_compile =
-   print_plugin_obj_compile =
    print_plugin_build =
    print_install =
  else
    Q = @
++<<<<<<< HEAD
 +  print_compile =		echo '  CC                 '$(OBJ);
 +  print_app_build =		echo '  BUILD              '$(OBJ);
 +  print_fpic_compile =		echo '  CC FPIC            '$(OBJ);
 +  print_shared_lib_compile =	echo '  BUILD SHARED LIB   '$(OBJ);
 +  print_plugin_obj_compile =	echo '  CC PLUGIN OBJ      '$(OBJ);
 +  print_plugin_build =		echo '  CC PLUGI           '$(OBJ);
 +  print_static_lib_build =	echo '  BUILD STATIC LIB   '$(OBJ);
 +  print_install =		echo '  INSTALL     '$1'	to	$(DESTDIR_SQ)$2';
 +endif
 +
 +do_fpic_compile =					\
 +	($(print_fpic_compile)				\
 +	$(CC) -c $(CFLAGS) $(EXT) -fPIC $< -o $@)
 +
 +do_app_build =						\
 +	($(print_app_build)				\
 +	$(CC) $^ -rdynamic -o $@ $(CONFIG_LIBS) $(LIBS))
 +
++=======
+   print_shared_lib_compile =	echo '  BUILD    SHARED LIB '$(OBJ);
+   print_plugin_build =		echo '  BUILD    PLUGIN '$(OBJ);
+   print_static_lib_build =	echo '  BUILD    STATIC LIB '$(OBJ);
+   print_install =		echo '  INSTALL  '$1;
+ endif
+ 
++>>>>>>> bdebbacd4211 (tools lib traceevent: Add global QUIET_CC_FPIC build output)
  do_compile_shared_library =			\
  	($(print_shared_lib_compile)		\
  	$(CC) --shared $^ -o $@)
@@@ -204,9 -221,17 +211,18 @@@ libtraceevent.so: $(PEVENT_LIB_OBJS
  libtraceevent.a: $(PEVENT_LIB_OBJS)
  	$(Q)$(do_build_static_lib)
  
 -plugins: $(PLUGINS)
 -
  $(PEVENT_LIB_OBJS): %.o: $(src)/%.c TRACEEVENT-CFLAGS
- 	$(Q)$(do_fpic_compile)
+ 	$(QUIET_CC_FPIC)$(CC) -c $(CFLAGS) $(EXT) -fPIC $< -o $@
+ 
++<<<<<<< HEAD
++=======
+ $(PLUGIN_OBJS): %.o : $(src)/%.c
+ 	$(QUIET_CC_FPIC)$(CC) -c $(CFLAGS) -fPIC -o $@ $<
+ 
+ $(PLUGINS): %.so: %.o
+ 	$(Q)$(do_plugin_build)
  
++>>>>>>> bdebbacd4211 (tools lib traceevent: Add global QUIET_CC_FPIC build output)
  define make_version.h
  	(echo '/* This file is automatically generated. Do not modify. */';		\
  	echo \#define VERSION_CODE $(shell						\
diff --cc tools/scripts/Makefile.include
index 0d0506d55c71,8abbef164b4e..000000000000
--- a/tools/scripts/Makefile.include
+++ b/tools/scripts/Makefile.include
@@@ -59,21 -59,26 +59,31 @@@ QUIET_SUBDIR0  = +$(MAKE) $(COMMAND_O) 
  QUIET_SUBDIR1  =
  
  ifneq ($(findstring $(MAKEFLAGS),s),s)
++<<<<<<< HEAD
 +ifneq ($(V),1)
 +	QUIET_CC       = @echo '   ' CC $@;
 +	QUIET_AR       = @echo '   ' AR $@;
 +	QUIET_LINK     = @echo '   ' LINK $@;
 +	QUIET_MKDIR    = @echo '   ' MKDIR $@;
 +	QUIET_GEN      = @echo '   ' GEN $@;
++=======
+   ifneq ($(V),1)
+ 	QUIET_CC       = @echo '  CC       '$@;
+ 	QUIET_CC_FPIC  = @echo '  CC FPIC  '$@;
+ 	QUIET_AR       = @echo '  AR       '$@;
+ 	QUIET_LINK     = @echo '  LINK     '$@;
+ 	QUIET_MKDIR    = @echo '  MKDIR    '$@;
+ 	QUIET_GEN      = @echo '  GEN      '$@;
++>>>>>>> bdebbacd4211 (tools lib traceevent: Add global QUIET_CC_FPIC build output)
  	QUIET_SUBDIR0  = +@subdir=
 -	QUIET_SUBDIR1  = ;$(NO_SUBDIR) \
 -			  echo '  SUBDIR   '$$subdir; \
 +	QUIET_SUBDIR1  = ;$(NO_SUBDIR) echo '   ' SUBDIR $$subdir; \
  			 $(MAKE) $(PRINT_DIR) -C $$subdir
 -	QUIET_FLEX     = @echo '  FLEX     '$@;
 -	QUIET_BISON    = @echo '  BISON    '$@;
 +	QUIET_FLEX     = @echo '   ' FLEX $@;
 +	QUIET_BISON    = @echo '   ' BISON $@;
  
  	descend = \
 -		+@echo	       '  DESCEND  '$(1); \
 +		+@echo '   ' DESCEND $(1); \
  		mkdir -p $(OUTPUT)$(1) && \
  		$(MAKE) $(COMMAND_O) subdir=$(if $(subdir),$(subdir)/$(1),$(1)) $(PRINT_DIR) -C $(1) $(2)
 -
 -	QUIET_CLEAN    = @printf '  CLEAN    %s\n' $1;
 -	QUIET_INSTALL  = @printf '  INSTALL  %s\n' $1;
 -  endif
 +endif
  endif
* Unmerged path tools/lib/traceevent/Makefile
* Unmerged path tools/scripts/Makefile.include
