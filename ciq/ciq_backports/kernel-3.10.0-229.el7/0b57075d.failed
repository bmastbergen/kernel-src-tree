hpsa: Rearrange start_io to avoid one unlock/lock sequence in main io path

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Stephen M. Cameron <scameron@beardog.cce.hp.com>
commit 0b57075deb3c082db6fbf528f3f6a3854b81bd83
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/0b57075d.failed

	Signed-off-by: Stephen M. Cameron <scameron@beardog.cce.hp.com>
	Reviewed-by: Joe Handzik <joseph.t.handzik@hp.com>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 0b57075deb3c082db6fbf528f3f6a3854b81bd83)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/hpsa.c
diff --cc drivers/scsi/hpsa.c
index d00021ff4503,0a30cc23e718..000000000000
--- a/drivers/scsi/hpsa.c
+++ b/drivers/scsi/hpsa.c
@@@ -5530,6 -5568,8 +5538,11 @@@ static inline void finish_cmd(struct Co
  		complete_scsi_command(c);
  	else if (c->cmd_type == CMD_IOCTL_PEND)
  		complete(c->waiting);
++<<<<<<< HEAD
++=======
+ 	if (unlikely(io_may_be_stalled))
+ 		lock_and_start_io(h);
++>>>>>>> 0b57075deb3c (hpsa: Rearrange start_io to avoid one unlock/lock sequence in main io path)
  }
  
  static inline u32 hpsa_tag_contains_index(u32 tag)
* Unmerged path drivers/scsi/hpsa.c
