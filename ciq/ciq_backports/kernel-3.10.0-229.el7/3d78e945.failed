uprobes/powerpc: Kill arch_uprobe->ainsn

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Oleg Nesterov <oleg@redhat.com>
commit 3d78e945b6249d4ef2308192343f8b203b1d7ea5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/3d78e945.failed

powerpc has both arch_uprobe->insn and arch_uprobe->ainsn to
make the generic code happy. This is no longer needed after
the previous change, powerpc can just use "u32 insn".

	Signed-off-by: Oleg Nesterov <oleg@redhat.com>
	Acked-by: Srikar Dronamraju <srikar@linux.vnet.ibm.com>
	Acked-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
(cherry picked from commit 3d78e945b6249d4ef2308192343f8b203b1d7ea5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/include/asm/uprobes.h
diff --cc arch/powerpc/include/asm/uprobes.h
index 23016020915e,7422a999a39a..000000000000
--- a/arch/powerpc/include/asm/uprobes.h
+++ b/arch/powerpc/include/asm/uprobes.h
@@@ -36,8 -36,8 +36,13 @@@ typedef ppc_opcode_t uprobe_opcode_t
  
  struct arch_uprobe {
  	union {
++<<<<<<< HEAD
 +		u8	insn[MAX_UINSN_BYTES];
 +		u32	ainsn;
++=======
+ 		u32	insn;
+ 		u32	ixol;
++>>>>>>> 3d78e945b624 (uprobes/powerpc: Kill arch_uprobe->ainsn)
  	};
  };
  
* Unmerged path arch/powerpc/include/asm/uprobes.h
diff --git a/arch/powerpc/kernel/uprobes.c b/arch/powerpc/kernel/uprobes.c
index 59f419b935f2..003b20964ea0 100644
--- a/arch/powerpc/kernel/uprobes.c
+++ b/arch/powerpc/kernel/uprobes.c
@@ -186,7 +186,7 @@ bool arch_uprobe_skip_sstep(struct arch_uprobe *auprobe, struct pt_regs *regs)
 	 * emulate_step() returns 1 if the insn was successfully emulated.
 	 * For all other cases, we need to single-step in hardware.
 	 */
-	ret = emulate_step(regs, auprobe->ainsn);
+	ret = emulate_step(regs, auprobe->insn);
 	if (ret > 0)
 		return true;
 
