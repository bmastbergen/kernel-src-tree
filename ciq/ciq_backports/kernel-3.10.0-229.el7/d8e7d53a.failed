PCI: Rename sysfs 'enabled' file back to 'enable'

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [pci] Rename sysfs 'enabled' file back to 'enable' (Myron Stowe) [1159655]
Rebuild_FUZZ: 94.62%
commit-author Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit d8e7d53a2fc14e0830ab728cb84ee19933d3ac8d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/d8e7d53a.failed

Back in commit 5136b2da770d ("PCI: convert bus code to use dev_groups"),
I misstyped the 'enable' sysfs filename as 'enabled', which broke the
userspace API.  This patch fixes that issue by renaming the file back.

Fixes: 5136b2da770d ("PCI: convert bus code to use dev_groups")
	Reported-by: Jeff Epler <jepler@unpythonic.net>
	Tested-by: Jeff Epler <jepler@unpythonic.net>	# on v3.14-rt
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
CC: stable@vger.kernel.org	# 3.13
(cherry picked from commit d8e7d53a2fc14e0830ab728cb84ee19933d3ac8d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/pci/pci-sysfs.c
diff --cc drivers/pci/pci-sysfs.c
index 7c245461127b,2c6643fdc0cf..000000000000
--- a/drivers/pci/pci-sysfs.c
+++ b/drivers/pci/pci-sysfs.c
@@@ -186,9 -185,8 +186,14 @@@ static ssize_t modalias_show(struct dev
  }
  static DEVICE_ATTR_RO(modalias);
  
++<<<<<<< HEAD
 +static ssize_t enabled_store(struct device *dev,
 +			     struct device_attribute *attr, const char *buf,
 +			     size_t count)
++=======
+ static ssize_t enable_store(struct device *dev, struct device_attribute *attr,
+ 			     const char *buf, size_t count)
++>>>>>>> d8e7d53a2fc1 (PCI: Rename sysfs 'enabled' file back to 'enable')
  {
  	struct pci_dev *pdev = to_pci_dev(dev);
  	unsigned long val;
@@@ -212,21 -210,21 +217,26 @@@
  	return result < 0 ? result : count;
  }
  
++<<<<<<< HEAD
 +static ssize_t enabled_show(struct device *dev,
 +			    struct device_attribute *attr, char *buf)
++=======
+ static ssize_t enable_show(struct device *dev, struct device_attribute *attr,
+ 			    char *buf)
++>>>>>>> d8e7d53a2fc1 (PCI: Rename sysfs 'enabled' file back to 'enable')
  {
  	struct pci_dev *pdev;
  
 -	pdev = to_pci_dev(dev);
 -	return sprintf(buf, "%u\n", atomic_read(&pdev->enable_cnt));
 +	pdev = to_pci_dev (dev);
 +	return sprintf (buf, "%u\n", atomic_read(&pdev->enable_cnt));
  }
- static DEVICE_ATTR_RW(enabled);
+ static DEVICE_ATTR_RW(enable);
  
  #ifdef CONFIG_NUMA
 -static ssize_t numa_node_show(struct device *dev, struct device_attribute *attr,
 -			      char *buf)
 +static ssize_t
 +numa_node_show(struct device *dev, struct device_attribute *attr, char *buf)
  {
 -	return sprintf(buf, "%d\n", dev->numa_node);
 +	return sprintf (buf, "%d\n", dev->numa_node);
  }
  static DEVICE_ATTR_RO(numa_node);
  #endif
* Unmerged path drivers/pci/pci-sysfs.c
