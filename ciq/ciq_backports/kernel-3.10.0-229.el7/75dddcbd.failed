sparc: simplify syscall_get_arch()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [powerpc] simplify syscall_get_arch() (Richard Guy Briggs) [1169461]
Rebuild_FUZZ: 88.52%
commit-author Eric Paris <eparis@redhat.com>
commit 75dddcbd9651eec29708f91149e405cd42cf68d7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/75dddcbd.failed

Include linux/thread_info.h so we can use is_32_bit_task() cleanly.
Then just simplify syscall_get_arch() since is_32_bit_task() works for
all configuration options.

	Suggested-by: Stephen Rothwell <sfr@canb.auug.org.au>
	Signed-off-by: Eric Paris <eparis@redhat.com>
(cherry picked from commit 75dddcbd9651eec29708f91149e405cd42cf68d7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/include/asm/syscall.h
diff --cc arch/powerpc/include/asm/syscall.h
index b54b2add07be,6fa2708da153..000000000000
--- a/arch/powerpc/include/asm/syscall.h
+++ b/arch/powerpc/include/asm/syscall.h
@@@ -13,7 -13,9 +13,12 @@@
  #ifndef _ASM_SYSCALL_H
  #define _ASM_SYSCALL_H	1
  
++<<<<<<< HEAD
++=======
+ #include <uapi/linux/audit.h>
++>>>>>>> 75dddcbd9651 (sparc: simplify syscall_get_arch())
  #include <linux/sched.h>
+ #include <linux/thread_info.h>
  
  /* ftrace syscalls requires exporting the sys_call_table */
  #ifdef CONFIG_FTRACE_SYSCALLS
@@@ -86,4 -88,8 +91,11 @@@ static inline void syscall_set_argument
  	memcpy(&regs->gpr[3 + i], args, n * sizeof(args[0]));
  }
  
++<<<<<<< HEAD
++=======
+ static inline int syscall_get_arch(void)
+ {
+ 	return is_32bit_task() ? AUDIT_ARCH_PPC : AUDIT_ARCH_PPC64;
+ }
++>>>>>>> 75dddcbd9651 (sparc: simplify syscall_get_arch())
  #endif	/* _ASM_SYSCALL_H */
* Unmerged path arch/powerpc/include/asm/syscall.h
