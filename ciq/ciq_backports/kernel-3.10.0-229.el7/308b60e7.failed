cpufreq: Don't pass CPU to cpufreq_add_dev_{symlink|interface}()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [cpufreq] Don't pass CPU to cpufreq_add_dev_{symlink|interface}() (Prarit Bhargava) [1134369]
Rebuild_FUZZ: 92.44%
commit-author Viresh Kumar <viresh.kumar@linaro.org>
commit 308b60e71541518f3fe97171b4daf71adc607f3d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/308b60e7.failed

Pointer to struct cpufreq_policy is already passed to these routines
and we don't need to send policy->cpu to them as well.  So, get rid
of this extra argument and use policy->cpu everywhere.

	Signed-off-by: Viresh Kumar <viresh.kumar@linaro.org>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 308b60e71541518f3fe97171b4daf71adc607f3d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/cpufreq/cpufreq.c
diff --cc drivers/cpufreq/cpufreq.c
index 04f364d37cba,576b312645a5..000000000000
--- a/drivers/cpufreq/cpufreq.c
+++ b/drivers/cpufreq/cpufreq.c
@@@ -794,6 -818,7 +793,10 @@@ static int cpufreq_add_dev_symlink(stru
  			continue;
  
  		pr_debug("Adding link for CPU: %u\n", j);
++<<<<<<< HEAD
++=======
+ 		cpufreq_cpu_get(policy->cpu);
++>>>>>>> 308b60e71541 (cpufreq: Don't pass CPU to cpufreq_add_dev_{symlink|interface}())
  		cpu_dev = get_cpu_device(j);
  		ret = sysfs_create_link(&cpu_dev->kobj, &policy->kobj,
  					"cpufreq");
@@@ -1024,9 -1094,11 +1026,17 @@@ static int cpufreq_add_dev(struct devic
  	}
  	write_unlock_irqrestore(&cpufreq_driver_lock, flags);
  
++<<<<<<< HEAD
 +	ret = cpufreq_add_dev_interface(cpu, policy, dev);
 +	if (ret)
 +		goto err_out_unregister;
++=======
+ 	if (!frozen) {
+ 		ret = cpufreq_add_dev_interface(policy, dev);
+ 		if (ret)
+ 			goto err_out_unregister;
+ 	}
++>>>>>>> 308b60e71541 (cpufreq: Don't pass CPU to cpufreq_add_dev_{symlink|interface}())
  
  	cpufreq_init_policy(policy);
  
* Unmerged path drivers/cpufreq/cpufreq.c
