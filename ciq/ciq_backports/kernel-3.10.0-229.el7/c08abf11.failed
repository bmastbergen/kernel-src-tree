drm/radeon: re-enable dpm by default on BTC

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [drm] radeon: re-enable dpm by default on BTC (Rob Clark) [1173317]
Rebuild_FUZZ: 95.12%
commit-author Alex Deucher <alexander.deucher@amd.com>
commit c08abf11900e19b14dd3a0cc3d105bd74519cd18
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/c08abf11.failed

This patch depends on:
e07929810f0a19ddd756558290c7d72827cbfcd9
(drm/radeon/dpm: fix typo in vddci setup for eg/btc)

bugs:
https://bugs.freedesktop.org/show_bug.cgi?id=73053
https://bugzilla.kernel.org/show_bug.cgi?id=68571

	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit c08abf11900e19b14dd3a0cc3d105bd74519cd18)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/radeon/radeon_pm.c
diff --cc drivers/gpu/drm/radeon/radeon_pm.c
index 4f6b7fc7ad3c,23314be49480..000000000000
--- a/drivers/gpu/drm/radeon/radeon_pm.c
+++ b/drivers/gpu/drm/radeon/radeon_pm.c
@@@ -1242,30 -1303,6 +1242,33 @@@ int radeon_pm_init(struct radeon_devic
  	case CHIP_RS780:
  	case CHIP_RS880:
  	case CHIP_RV770:
++<<<<<<< HEAD
 +	case CHIP_RV730:
 +	case CHIP_RV710:
 +	case CHIP_RV740:
 +	case CHIP_CEDAR:
 +	case CHIP_REDWOOD:
 +	case CHIP_JUNIPER:
 +	case CHIP_CYPRESS:
 +	case CHIP_HEMLOCK:
 +	case CHIP_PALM:
 +	case CHIP_SUMO:
 +	case CHIP_SUMO2:
 +	case CHIP_BARTS:
 +	case CHIP_TURKS:
 +	case CHIP_CAICOS:
 +	case CHIP_CAYMAN:
 +	case CHIP_ARUBA:
 +	case CHIP_TAHITI:
 +	case CHIP_PITCAIRN:
 +	case CHIP_VERDE:
 +	case CHIP_OLAND:
 +	case CHIP_HAINAN:
 +	case CHIP_BONAIRE:
 +	case CHIP_KABINI:
 +	case CHIP_KAVERI:
++=======
++>>>>>>> c08abf11900e (drm/radeon: re-enable dpm by default on BTC)
  		/* DPM requires the RLC, RV770+ dGPU requires SMC */
  		if (!rdev->rlc_fw)
  			rdev->pm.pm_method = PM_METHOD_PROFILE;
@@@ -1278,6 -1315,44 +1281,47 @@@
  		else
  			rdev->pm.pm_method = PM_METHOD_PROFILE;
  		break;
++<<<<<<< HEAD
++=======
+ 	case CHIP_RV730:
+ 	case CHIP_RV710:
+ 	case CHIP_RV740:
+ 	case CHIP_CEDAR:
+ 	case CHIP_REDWOOD:
+ 	case CHIP_JUNIPER:
+ 	case CHIP_CYPRESS:
+ 	case CHIP_HEMLOCK:
+ 	case CHIP_PALM:
+ 	case CHIP_SUMO:
+ 	case CHIP_SUMO2:
+ 	case CHIP_BARTS:
+ 	case CHIP_TURKS:
+ 	case CHIP_CAICOS:
+ 	case CHIP_CAYMAN:
+ 	case CHIP_ARUBA:
+ 	case CHIP_TAHITI:
+ 	case CHIP_PITCAIRN:
+ 	case CHIP_VERDE:
+ 	case CHIP_OLAND:
+ 	case CHIP_HAINAN:
+ 	case CHIP_BONAIRE:
+ 	case CHIP_KABINI:
+ 	case CHIP_KAVERI:
+ 	case CHIP_HAWAII:
+ 	case CHIP_MULLINS:
+ 		/* DPM requires the RLC, RV770+ dGPU requires SMC */
+ 		if (!rdev->rlc_fw)
+ 			rdev->pm.pm_method = PM_METHOD_PROFILE;
+ 		else if ((rdev->family >= CHIP_RV770) &&
+ 			 (!(rdev->flags & RADEON_IS_IGP)) &&
+ 			 (!rdev->smc_fw))
+ 			rdev->pm.pm_method = PM_METHOD_PROFILE;
+ 		else if (radeon_dpm == 0)
+ 			rdev->pm.pm_method = PM_METHOD_PROFILE;
+ 		else
+ 			rdev->pm.pm_method = PM_METHOD_DPM;
+ 		break;
++>>>>>>> c08abf11900e (drm/radeon: re-enable dpm by default on BTC)
  	default:
  		/* default to profile method */
  		rdev->pm.pm_method = PM_METHOD_PROFILE;
* Unmerged path drivers/gpu/drm/radeon/radeon_pm.c
