kernel: replace strict_strto*() with kstrto*()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [base] core: replace strict_strto*() with kstrto*() (Myron Stowe) [1114228]
Rebuild_FUZZ: 93.33%
commit-author Jingoo Han <jg1.han@samsung.com>
commit 6072ddc8520b86adfac6939ca32fb6e6c4de017a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/6072ddc8.failed

The usage of strict_strto*() is not preferred, because strict_strto*() is
obsolete.  Thus, kstrto*() should be used.

	Signed-off-by: Jingoo Han <jg1.han@samsung.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 6072ddc8520b86adfac6939ca32fb6e6c4de017a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/params.c
diff --cc kernel/params.c
index 53b958fcd639,81c4e78c8f4c..000000000000
--- a/kernel/params.c
+++ b/kernel/params.c
@@@ -252,13 -253,13 +252,23 @@@ int parse_args(const char *doing
  	EXPORT_SYMBOL(param_ops_##name)
  
  
++<<<<<<< HEAD
 +STANDARD_PARAM_DEF(byte, unsigned char, "%c", unsigned long, strict_strtoul);
 +STANDARD_PARAM_DEF(short, short, "%hi", long, strict_strtol);
 +STANDARD_PARAM_DEF(ushort, unsigned short, "%hu", unsigned long, strict_strtoul);
 +STANDARD_PARAM_DEF(int, int, "%i", long, strict_strtol);
 +STANDARD_PARAM_DEF(uint, unsigned int, "%u", unsigned long, strict_strtoul);
 +STANDARD_PARAM_DEF(long, long, "%li", long, strict_strtol);
 +STANDARD_PARAM_DEF(ulong, unsigned long, "%lu", unsigned long, strict_strtoul);
++=======
+ STANDARD_PARAM_DEF(byte, unsigned char, "%hhu", unsigned long, kstrtoul);
+ STANDARD_PARAM_DEF(short, short, "%hi", long, kstrtoul);
+ STANDARD_PARAM_DEF(ushort, unsigned short, "%hu", unsigned long, kstrtoul);
+ STANDARD_PARAM_DEF(int, int, "%i", long, kstrtoul);
+ STANDARD_PARAM_DEF(uint, unsigned int, "%u", unsigned long, kstrtoul);
+ STANDARD_PARAM_DEF(long, long, "%li", long, kstrtoul);
+ STANDARD_PARAM_DEF(ulong, unsigned long, "%lu", unsigned long, kstrtoul);
++>>>>>>> 6072ddc8520b (kernel: replace strict_strto*() with kstrto*())
  
  int param_set_charp(const char *val, const struct kernel_param *kp)
  {
diff --git a/kernel/gcov/fs.c b/kernel/gcov/fs.c
index 27e12ce30e7d..b49dfce8e8a1 100644
--- a/kernel/gcov/fs.c
+++ b/kernel/gcov/fs.c
@@ -74,7 +74,7 @@ static int __init gcov_persist_setup(char *str)
 {
 	unsigned long val;
 
-	if (strict_strtoul(str, 0, &val)) {
+	if (kstrtoul(str, 0, &val)) {
 		pr_warning("invalid gcov_persist parameter '%s'\n", str);
 		return 0;
 	}
diff --git a/kernel/ksysfs.c b/kernel/ksysfs.c
index 6ada93c23a9a..9659d38e008f 100644
--- a/kernel/ksysfs.c
+++ b/kernel/ksysfs.c
@@ -113,7 +113,7 @@ static ssize_t kexec_crash_size_store(struct kobject *kobj,
 	unsigned long cnt;
 	int ret;
 
-	if (strict_strtoul(buf, 0, &cnt))
+	if (kstrtoul(buf, 0, &cnt))
 		return -EINVAL;
 
 	ret = crash_shrink_memory(cnt);
* Unmerged path kernel/params.c
