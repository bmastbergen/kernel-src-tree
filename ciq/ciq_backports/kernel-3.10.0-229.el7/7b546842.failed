qlcnic: Fix max ring count calculation

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Shahed Shaikh <shahed.shaikh@qlogic.com>
commit 7b546842b1e87f5b7929cf15e9cd1ac861b14de3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/7b546842.failed

Do not read max rings count from qlcnic_get_nic_info(). Use driver defined
values for 82xx adapters. In case of 83xx adapters, use minimum of firmware
provided and driver defined values.

	Signed-off-by: Shahed Shaikh <shahed.shaikh@qlogic.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 7b546842b1e87f5b7929cf15e9cd1ac861b14de3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c
diff --cc drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c
index 643b617cb82d,ba20c721ee97..000000000000
--- a/drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c
+++ b/drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c
@@@ -2078,10 -2172,14 +2079,20 @@@ int qlcnic_83xx_configure_opmode(struc
  		if (qlcnic_83xx_config_vnic_opmode(adapter))
  			return -EIO;
  
++<<<<<<< HEAD
++=======
+ 		max_sds_rings = QLCNIC_MAX_VNIC_SDS_RINGS;
+ 		max_tx_rings = QLCNIC_MAX_VNIC_TX_RINGS;
++>>>>>>> 7b546842b1e8 (qlcnic: Fix max ring count calculation)
  	} else if (ret == QLC_83XX_DEFAULT_OPMODE) {
 -		ahw->nic_mode = QLCNIC_DEFAULT_MODE;
 +		ahw->nic_mode = QLC_83XX_DEFAULT_MODE;
  		adapter->nic_ops->init_driver = qlcnic_83xx_init_default_driver;
  		ahw->idc.state_entry = qlcnic_83xx_idc_ready_state_entry;
++<<<<<<< HEAD
++=======
+ 		max_sds_rings = QLCNIC_MAX_SDS_RINGS;
+ 		max_tx_rings = QLCNIC_MAX_TX_RINGS;
++>>>>>>> 7b546842b1e8 (qlcnic: Fix max ring count calculation)
  	} else {
  		return -EIO;
  	}
* Unmerged path drivers/net/ethernet/qlogic/qlcnic/qlcnic_83xx_init.c
