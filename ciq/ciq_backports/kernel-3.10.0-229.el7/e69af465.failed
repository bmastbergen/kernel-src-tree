perf/x86: Enable DRAM RAPL support on Intel Haswell

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [x86] perf: Enable DRAM RAPL support on Intel Haswell (Jiri Olsa) [1134356]
Rebuild_FUZZ: 95.92%
commit-author Vince Weaver <vincent.weaver@maine.edu>
commit e69af4657e7764d03ad555f0b583d9c4217bcefa
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/e69af465.failed

It turns out all Haswell processors (including the Desktop
variant)  support RAPL DRAM readings in addition to package,
pp0, and pp1.

I've confirmed RAPL DRAM readings on my model 60 Haswell
desktop.

See the 4th-gen-core-family-desktop-vol-2-datasheet.pdf
available from the Intel website for confirmation.

	Signed-off-by: Vince Weaver <vincent.weaver@maine.edu>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Paul Mackerras <paulus@samba.org>
	Cc: Arnaldo Carvalho de Melo <acme@ghostprotocols.net>
	Cc: Stephane Eranian <eranian@gmail.com>
Link: http://lkml.kernel.org/r/alpine.DEB.2.10.1404020045290.17889@vincent-weaver-1.um.maine.edu
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit e69af4657e7764d03ad555f0b583d9c4217bcefa)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/cpu/perf_event_intel_rapl.c
diff --cc arch/x86/kernel/cpu/perf_event_intel_rapl.c
index 264c7c792061,3cec947e3b98..000000000000
--- a/arch/x86/kernel/cpu/perf_event_intel_rapl.c
+++ b/arch/x86/kernel/cpu/perf_event_intel_rapl.c
@@@ -631,7 -655,6 +655,10 @@@ static int __init rapl_pmu_init(void
  	switch (boot_cpu_data.x86_model) {
  	case 42: /* Sandy Bridge */
  	case 58: /* Ivy Bridge */
++<<<<<<< HEAD
 +	case 60: /* Haswell */
++=======
++>>>>>>> e69af4657e77 (perf/x86: Enable DRAM RAPL support on Intel Haswell)
  		rapl_cntr_mask = RAPL_IDX_CLN;
  		rapl_pmu_events_group.attrs = rapl_events_cln_attr;
  		break;
* Unmerged path arch/x86/kernel/cpu/perf_event_intel_rapl.c
