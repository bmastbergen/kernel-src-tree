drm/radeon/dpm: select the appropriate vce power state for KV/KB/ML

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [drm] radeon/dpm: select the appropriate vce power state for KV/KB/ML (Rob Clark) [1173317]
Rebuild_FUZZ: 96.92%
commit-author Alex Deucher <alexander.deucher@amd.com>
commit c83dec3bb6c38629398b65c231c80978b3e00e14
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/c83dec3b.failed

Compare the clock in the limits table to the requested evclk rather
than just taking the first value.  Improves vce performance in certain
cases.

	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit c83dec3bb6c38629398b65c231c80978b3e00e14)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/radeon/kv_dpm.c
diff --cc drivers/gpu/drm/radeon/kv_dpm.c
index b41905573cd2,8b58e11b64fa..000000000000
--- a/drivers/gpu/drm/radeon/kv_dpm.c
+++ b/drivers/gpu/drm/radeon/kv_dpm.c
@@@ -1397,8 -1438,7 +1397,12 @@@ static int kv_update_uvd_dpm(struct rad
  	return kv_enable_uvd_dpm(rdev, !gate);
  }
  
++<<<<<<< HEAD
 +#if 0
 +static u8 kv_get_vce_boot_level(struct radeon_device *rdev)
++=======
+ static u8 kv_get_vce_boot_level(struct radeon_device *rdev, u32 evclk)
++>>>>>>> c83dec3bb6c3 (drm/radeon/dpm: select the appropriate vce power state for KV/KB/ML)
  {
  	u8 i;
  	struct radeon_vce_clock_voltage_dependency_table *table =
* Unmerged path drivers/gpu/drm/radeon/kv_dpm.c
