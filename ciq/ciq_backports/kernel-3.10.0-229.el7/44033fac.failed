i40e: refactor send version

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Jesse Brandeburg <jesse.brandeburg@intel.com>
commit 44033fac14340f94a5745a28408f1c56b047194d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/44033fac.failed

This change moves some common code in two places into a
small helper function, and corrects a bug in one of the
two places in the process.

Change-ID: If3bba7152b240f13a7881eb0e8a781655fa66ce7
	Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 44033fac14340f94a5745a28408f1c56b047194d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_main.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_main.c
index 9acf2f9ac9cf,1954e1910dcd..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@@ -8375,11 -8403,7 +8385,15 @@@ static int i40e_probe(struct pci_dev *p
  	i40e_dbg_pf_init(pf);
  
  	/* tell the firmware that we're starting */
++<<<<<<< HEAD
 +	dv.major_version = DRV_VERSION_MAJOR;
 +	dv.minor_version = DRV_VERSION_MINOR;
 +	dv.build_version = DRV_VERSION_BUILD;
 +	dv.subbuild_version = 0;
 +	i40e_aq_send_driver_version(&pf->hw, &dv, NULL);
++=======
+ 	i40e_send_version(pf);
++>>>>>>> 44033fac1434 (i40e: refactor send version)
  
  	/* since everything's happy, start the service_task timer */
  	mod_timer(&pf->service_timer,
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_main.c
