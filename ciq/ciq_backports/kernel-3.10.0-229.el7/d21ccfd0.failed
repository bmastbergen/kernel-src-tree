ath9k_htc: fix random decryption failure

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [wireless] ath9k/htc: fix random decryption failure (Stanislaw Gruszka) [1155538]
Rebuild_FUZZ: 97.50%
commit-author Johannes Stezenbach <js@sig21.net>
commit d21ccfd0a60ea3dece3e1d142f52694abf87a0b1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/d21ccfd0.failed

In v3.15 the driver stopped to accept network packets after successful
authentification, which could be worked around by passing the
nohwcrypt=1 module parameter.  This was not reproducible by
everyone, and showed random behaviour in some tests.
It was caused by an uninitialized variable introduced
in 4ed1a8d4a257 ("ath9k_htc: use ath9k_cmn_rx_accept") and
used in 341b29b9cd2f ("ath9k_htc: use ath9k_cmn_rx_skb_postprocess").

Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=78581
Fixes: 341b29b9cd2f ("ath9k_htc: use ath9k_cmn_rx_skb_postprocess")
	Signed-off-by: Johannes Stezenbach <js@sig21.net>
	Signed-off-by: John W. Linville <linville@tuxdriver.com>
(cherry picked from commit d21ccfd0a60ea3dece3e1d142f52694abf87a0b1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/ath/ath9k/htc_drv_txrx.c
diff --cc drivers/net/wireless/ath/ath9k/htc_drv_txrx.c
index 417a089cd7e1,f0484b1b617e..000000000000
--- a/drivers/net/wireless/ath/ath9k/htc_drv_txrx.c
+++ b/drivers/net/wireless/ath/ath9k/htc_drv_txrx.c
@@@ -975,10 -975,10 +975,15 @@@ static bool ath9k_rx_prepare(struct ath
  	struct ieee80211_hw *hw = priv->hw;
  	struct sk_buff *skb = rxbuf->skb;
  	struct ath_common *common = ath9k_hw_common(priv->ah);
 -	struct ath_hw *ah = common->ah;
  	struct ath_htc_rx_status *rxstatus;
++<<<<<<< HEAD
 +	int hdrlen, padsize;
 +	int last_rssi = ATH_RSSI_DUMMY_MARKER;
 +	__le16 fc;
++=======
+ 	struct ath_rx_status rx_stats;
+ 	bool decrypt_error = false;
++>>>>>>> d21ccfd0a60e (ath9k_htc: fix random decryption failure)
  
  	if (skb->len < HTC_RX_FRAME_HEADER_SIZE) {
  		ath_err(common, "Corrupted RX frame, dropping (len: %d)\n",
* Unmerged path drivers/net/wireless/ath/ath9k/htc_drv_txrx.c
