drm/i915/hdmi: fix hdmi audio state readout

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [drm] i915/hdmi: fix hdmi audio state readout (Rob Clark) [1153301]
Rebuild_FUZZ: 95.12%
commit-author Jani Nikula <jani.nikula@intel.com>
commit c84db77010877da6c5da119868ed54c43d59e726
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/c84db770.failed

Check the correct bit for audio. Seems like a copy-paste error from the
start:

commit 9ed109a7b445e3f073d8ea72f888ec80c0532465
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 24 23:54:52 2014 +0200

    drm/i915: Track has_audio in the pipe config

	Reported-by: Martin Andersen <martin.x.andersen@gmail.com>
Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=82756
	Cc: stable@vger.kernel.org # 3.16+
	Cc: Daniel Vetter <daniel.vetter@ffwll.ch>
	Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
	Signed-off-by: Jani Nikula <jani.nikula@intel.com>
(cherry picked from commit c84db77010877da6c5da119868ed54c43d59e726)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/intel_hdmi.c
diff --cc drivers/gpu/drm/i915/intel_hdmi.c
index 4148cc85bf7f,5a9de21637b7..000000000000
--- a/drivers/gpu/drm/i915/intel_hdmi.c
+++ b/drivers/gpu/drm/i915/intel_hdmi.c
@@@ -726,7 -729,27 +726,20 @@@ static void intel_hdmi_get_config(struc
  	else
  		flags |= DRM_MODE_FLAG_NVSYNC;
  
++<<<<<<< HEAD
++=======
+ 	if (tmp & HDMI_MODE_SELECT_HDMI)
+ 		pipe_config->has_hdmi_sink = true;
+ 
+ 	if (tmp & SDVO_AUDIO_ENABLE)
+ 		pipe_config->has_audio = true;
+ 
+ 	if (!HAS_PCH_SPLIT(dev) &&
+ 	    tmp & HDMI_COLOR_RANGE_16_235)
+ 		pipe_config->limited_color_range = true;
+ 
++>>>>>>> c84db7701087 (drm/i915/hdmi: fix hdmi audio state readout)
  	pipe_config->adjusted_mode.flags |= flags;
 -
 -	if ((tmp & SDVO_COLOR_FORMAT_MASK) == HDMI_COLOR_FORMAT_12bpc)
 -		dotclock = pipe_config->port_clock * 2 / 3;
 -	else
 -		dotclock = pipe_config->port_clock;
 -
 -	if (HAS_PCH_SPLIT(dev_priv->dev))
 -		ironlake_check_encoder_dotclock(pipe_config, dotclock);
 -
 -	pipe_config->adjusted_mode.crtc_clock = dotclock;
  }
  
  static void intel_enable_hdmi(struct intel_encoder *encoder)
* Unmerged path drivers/gpu/drm/i915/intel_hdmi.c
