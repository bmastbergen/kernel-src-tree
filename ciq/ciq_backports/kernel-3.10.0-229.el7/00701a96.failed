hpsa: change doorbell reset delay to ten seconds

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Justin Lindley <justin.lindley@hp.com>
commit 00701a96f81f4e1b7279f5e05fe02274bbe29e59
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/00701a96.failed

After 3.22 firmware, PMC firmware guys tell us the
previous 5 second delay after a reset now needs to
be 10 secs to avoid a PCIe error due to the driver
looking at the controller too soon after the reset.

	Signed-off-by: Justin Lindley <justin.lindley@hp.com>
	Signed-off-by: Stephen M. Cameron <scameron@beardog.cce.hp.com>
	Reviewed-by: Stephen M. Cameron <scameron@beardog.cce.hp.com>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 00701a96f81f4e1b7279f5e05fe02274bbe29e59)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/hpsa.c
diff --cc drivers/scsi/hpsa.c
index b6ff8a6f3fc1,e97a7c294548..000000000000
--- a/drivers/scsi/hpsa.c
+++ b/drivers/scsi/hpsa.c
@@@ -5805,6 -5837,13 +5805,16 @@@ static int hpsa_controller_hard_reset(s
  		 */
  		dev_info(&pdev->dev, "using doorbell to reset controller\n");
  		writel(use_doorbell, vaddr + SA5_DOORBELL);
++<<<<<<< HEAD
++=======
+ 
+ 		/* PMC hardware guys tell us we need a 10 second delay after
+ 		 * doorbell reset and before any attempt to talk to the board
+ 		 * at all to ensure that this actually works and doesn't fall
+ 		 * over in some weird corner cases.
+ 		 */
+ 		msleep(10000);
++>>>>>>> 00701a96f81f (hpsa: change doorbell reset delay to ten seconds)
  	} else { /* Try to do it the PCI power state way */
  
  		/* Quoting from the Open CISS Specification: "The Power
* Unmerged path drivers/scsi/hpsa.c
