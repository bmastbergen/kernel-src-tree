Add support for netvsc build without CONFIG_SYSFS flag

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [virt] hyperv/net: Add support for netvsc build without CONFIG_SYSFS flag (Jason Wang) [1146357]
Rebuild_FUZZ: 90.00%
commit-author Haiyang Zhang <haiyangz@microsoft.com>
commit e565e803d437b36c4fb4ced5e346827981183284
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/e565e803.failed

This change ensures the driver can be built successfully without the
CONFIG_SYSFS flag.
MS-TFS: 182270

	Signed-off-by: Haiyang Zhang <haiyangz@microsoft.com>
	Reviewed-by: K. Y. Srinivasan <kys@microsoft.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e565e803d437b36c4fb4ced5e346827981183284)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/hyperv/netvsc_drv.c
diff --cc drivers/net/hyperv/netvsc_drv.c
index 854b31f1a85a,083d084396d3..000000000000
--- a/drivers/net/hyperv/netvsc_drv.c
+++ b/drivers/net/hyperv/netvsc_drv.c
@@@ -297,6 -639,9 +297,12 @@@ int netvsc_recv_callback(struct hv_devi
  		__vlan_hwaccel_put_tag(skb, htons(ETH_P_8021Q),
  				       packet->vlan_tci);
  
++<<<<<<< HEAD
++=======
+ 	skb_record_rx_queue(skb, packet->channel->
+ 			    offermsg.offer.sub_channel_index);
+ 
++>>>>>>> e565e803d437 (Add support for netvsc build without CONFIG_SYSFS flag)
  	net->stats.rx_packets++;
  	net->stats.rx_bytes += packet->total_data_buflen;
  
@@@ -471,6 -820,10 +477,13 @@@ static int netvsc_probe(struct hv_devic
  	}
  	memcpy(net->dev_addr, device_info.mac_adr, ETH_ALEN);
  
++<<<<<<< HEAD
++=======
+ 	nvdev = hv_get_drvdata(dev);
+ 	netif_set_real_num_tx_queues(net, nvdev->num_chn);
+ 	netif_set_real_num_rx_queues(net, nvdev->num_chn);
+ 
++>>>>>>> e565e803d437 (Add support for netvsc build without CONFIG_SYSFS flag)
  	ret = register_netdev(net);
  	if (ret != 0) {
  		pr_err("Unable to register netdev.\n");
* Unmerged path drivers/net/hyperv/netvsc_drv.c
