powerpc/powernv: Provide debugfs access to the LPC bus via OPAL

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [powerpc] powernv: Provide debugfs access to the LPC bus via OPAL (Don Zickus) [1127366]
Rebuild_FUZZ: 93.22%
commit-author Benjamin Herrenschmidt <benh@kernel.crashing.org>
commit fa2dbe2e0fcf2cda8fc56845e475b617385b1ec6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/fa2dbe2e.failed

This provides debugfs files to access the LPC bus on Power8
non-virtualized using the appropriate OPAL firmware calls.

The usage is simple: one file per space (IO, MEM and FW),
lseek to the address and read/write the data. IO and MEM always
generate series of byte accesses. FW can generate word and dword
accesses if aligned properly.

Based on an original patch from Rob Lippert and reworked.

	Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
(cherry picked from commit fa2dbe2e0fcf2cda8fc56845e475b617385b1ec6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/powernv/opal-lpc.c
diff --cc arch/powerpc/platforms/powernv/opal-lpc.c
index a44dc6325b72,70eff22aef73..000000000000
--- a/arch/powerpc/platforms/powernv/opal-lpc.c
+++ b/arch/powerpc/platforms/powernv/opal-lpc.c
@@@ -17,6 -20,8 +20,11 @@@
  #include <asm/firmware.h>
  #include <asm/xics.h>
  #include <asm/opal.h>
++<<<<<<< HEAD
++=======
+ #include <asm/prom.h>
+ #include <asm/uaccess.h>
++>>>>>>> fa2dbe2e0fcf (powerpc/powernv: Provide debugfs access to the LPC bus via OPAL)
  
  static int opal_lpc_chip_id = -1;
  
* Unmerged path arch/powerpc/platforms/powernv/opal-lpc.c
