ceph: use fpos_cmp() to compare dentry positions

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Yan, Zheng <zheng.z.yan@intel.com>
commit 6da5246dd4b077ab229481ca342802f7fdcdab59
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/6da5246d.failed

	Signed-off-by: Yan, Zheng <zheng.z.yan@intel.com>
	Reviewed-by: Sage Weil <sage@inktank.com>
(cherry picked from commit 6da5246dd4b077ab229481ca342802f7fdcdab59)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/ceph/dir.c
diff --cc fs/ceph/dir.c
index 9c6549f6a540,fb4f7a203eda..000000000000
--- a/fs/ceph/dir.c
+++ b/fs/ceph/dir.c
@@@ -132,8 -140,8 +132,13 @@@ static int __dcache_readdir(struct fil
  	spin_lock(&parent->d_lock);
  
  	/* start at beginning? */
++<<<<<<< HEAD
 +	if (filp->f_pos == 2 || last == NULL ||
 +	    filp->f_pos < ceph_dentry(last)->offset) {
++=======
+ 	if (ctx->pos == 2 || last == NULL ||
+ 	    fpos_cmp(ctx->pos, ceph_dentry(last)->offset) < 0) {
++>>>>>>> 6da5246dd4b0 (ceph: use fpos_cmp() to compare dentry positions)
  		if (list_empty(&parent->d_subdirs))
  			goto out_unlock;
  		p = parent->d_subdirs.prev;
* Unmerged path fs/ceph/dir.c
