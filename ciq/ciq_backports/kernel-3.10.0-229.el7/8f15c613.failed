bnx2x: Fix timesync endianity

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Michal Kalderon <Michal.Kalderon@qlogic.com>
commit 8f15c61301223138a01e62e009ad8b3a120b780c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/8f15c613.failed

Commit eeed018cbfa30 ("bnx2x: Add timestamping and PTP hardware clock support")
has a missing conversion to LE32, which will prevent the feature from working
on big endian machines.

	Signed-off-by: Michal Kalderon <Michal.Kalderon@qlogic.com>
	Signed-off-by: Yuval Mintz <Yuval.Mintz@qlogic.com>
	Signed-off-by: Ariel Elior <Ariel.Elior@qlogic.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 8f15c61301223138a01e62e009ad8b3a120b780c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.c
diff --cc drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.c
index 490e4ee7426c,38acecdd8e9b..000000000000
--- a/drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.c
+++ b/drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.c
@@@ -5843,6 -5857,42 +5843,45 @@@ static inline int bnx2x_func_send_tx_st
  			     U64_LO(data_mapping), NONE_CONNECTION_TYPE);
  }
  
++<<<<<<< HEAD
++=======
+ static inline
+ int bnx2x_func_send_set_timesync(struct bnx2x *bp,
+ 				 struct bnx2x_func_state_params *params)
+ {
+ 	struct bnx2x_func_sp_obj *o = params->f_obj;
+ 	struct set_timesync_ramrod_data *rdata =
+ 		(struct set_timesync_ramrod_data *)o->rdata;
+ 	dma_addr_t data_mapping = o->rdata_mapping;
+ 	struct bnx2x_func_set_timesync_params *set_timesync_params =
+ 		&params->params.set_timesync;
+ 
+ 	memset(rdata, 0, sizeof(*rdata));
+ 
+ 	/* Fill the ramrod data with provided parameters */
+ 	rdata->drift_adjust_cmd = set_timesync_params->drift_adjust_cmd;
+ 	rdata->offset_cmd = set_timesync_params->offset_cmd;
+ 	rdata->add_sub_drift_adjust_value =
+ 		set_timesync_params->add_sub_drift_adjust_value;
+ 	rdata->drift_adjust_value = set_timesync_params->drift_adjust_value;
+ 	rdata->drift_adjust_period = set_timesync_params->drift_adjust_period;
+ 	rdata->offset_delta.lo =
+ 		cpu_to_le32(U64_LO(set_timesync_params->offset_delta));
+ 	rdata->offset_delta.hi =
+ 		cpu_to_le32(U64_HI(set_timesync_params->offset_delta));
+ 
+ 	DP(BNX2X_MSG_SP, "Set timesync command params: drift_cmd = %d, offset_cmd = %d, add_sub_drift = %d, drift_val = %d, drift_period = %d, offset_lo = %d, offset_hi = %d\n",
+ 	   rdata->drift_adjust_cmd, rdata->offset_cmd,
+ 	   rdata->add_sub_drift_adjust_value, rdata->drift_adjust_value,
+ 	   rdata->drift_adjust_period, rdata->offset_delta.lo,
+ 	   rdata->offset_delta.hi);
+ 
+ 	return bnx2x_sp_post(bp, RAMROD_CMD_ID_COMMON_SET_TIMESYNC, 0,
+ 			     U64_HI(data_mapping),
+ 			     U64_LO(data_mapping), NONE_CONNECTION_TYPE);
+ }
+ 
++>>>>>>> 8f15c6130122 (bnx2x: Fix timesync endianity)
  static int bnx2x_func_send_cmd(struct bnx2x *bp,
  			       struct bnx2x_func_state_params *params)
  {
* Unmerged path drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.c
