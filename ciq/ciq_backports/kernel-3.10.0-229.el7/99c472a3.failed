i40e: Tweak for-loop in i40e_ethtool.c

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Catherine Sullivan <catherine.sullivan@intel.com>
commit 99c472a3989f080603a0ab9e665c44f37b02b7ed
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/99c472a3.failed

Tweak a for-loop to make it easier to add conditional stats in the future.

	Signed-off-by: Catherine Sullivan <catherine.sullivan@intel.com>
	Tested-by: Kavindya Deegala <kavindya.s.deegala@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 99c472a3989f080603a0ab9e665c44f37b02b7ed)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_ethtool.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_ethtool.c
index d1856f635858,0cf47c958081..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_ethtool.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_ethtool.c
@@@ -653,18 -658,20 +653,31 @@@ static void i40e_get_ethtool_stats(stru
  
  		/* process Tx ring statistics */
  		do {
 -			start = u64_stats_fetch_begin_irq(&tx_ring->syncp);
 +			start = u64_stats_fetch_begin_bh(&tx_ring->syncp);
  			data[i] = tx_ring->stats.packets;
  			data[i + 1] = tx_ring->stats.bytes;
++<<<<<<< HEAD
 +		} while (u64_stats_fetch_retry_bh(&tx_ring->syncp, start));
++=======
+ 		} while (u64_stats_fetch_retry_irq(&tx_ring->syncp, start));
+ 		i += 2;
++>>>>>>> 99c472a3989f (i40e: Tweak for-loop in i40e_ethtool.c)
  
  		/* Rx ring is the 2nd half of the queue pair */
  		rx_ring = &tx_ring[1];
  		do {
++<<<<<<< HEAD
 +			start = u64_stats_fetch_begin_bh(&rx_ring->syncp);
 +			data[i + 2] = rx_ring->stats.packets;
 +			data[i + 3] = rx_ring->stats.bytes;
 +		} while (u64_stats_fetch_retry_bh(&rx_ring->syncp, start));
++=======
+ 			start = u64_stats_fetch_begin_irq(&rx_ring->syncp);
+ 			data[i] = rx_ring->stats.packets;
+ 			data[i + 1] = rx_ring->stats.bytes;
+ 		} while (u64_stats_fetch_retry_irq(&rx_ring->syncp, start));
+ 		i += 2;
++>>>>>>> 99c472a3989f (i40e: Tweak for-loop in i40e_ethtool.c)
  	}
  	rcu_read_unlock();
  	if (vsi == pf->vsi[pf->lan_vsi]) {
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_ethtool.c
