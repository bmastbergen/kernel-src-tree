powerpc: Remove unreachable relocation on exception handlers

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [powerpc] Remove unreachable relocation on exception handlers (Don Zickus) [1127366]
Rebuild_FUZZ: 91.89%
commit-author Michael Ellerman <michael@ellerman.id.au>
commit 1d567cb4bd42d560a7621cac6f6aebe87343689e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/1d567cb4.failed

We have relocation on exception handlers defined for h_data_storage and
h_instr_storage. However we will never take relocation on exceptions for
these because they can only come from a guest, and we never take
relocation on exceptions when we transition from guest to host.

We also have a handler for hmi_exception (Hypervisor Maintenance) which
is defined in the architecture to never be delivered with relocation on,
see see v2.07 Book III-S section 6.5.

So remove the handlers, leaving a branch to self just to be double extra
paranoid.

	Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
CC: <stable@vger.kernel.org> [v3.9+]
	Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
(cherry picked from commit 1d567cb4bd42d560a7621cac6f6aebe87343689e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/kernel/exceptions-64s.S
diff --cc arch/powerpc/kernel/exceptions-64s.S
index 1f6a265854cd,dcadf03814e1..000000000000
--- a/arch/powerpc/kernel/exceptions-64s.S
+++ b/arch/powerpc/kernel/exceptions-64s.S
@@@ -1188,14 -1174,10 +1182,14 @@@ END_FTR_SECTION_IFSET(CPU_FTR_VSX
  __end_handlers:
  
  	/* Equivalents to the above handlers for relocation-on interrupt vectors */
- 	STD_RELON_EXCEPTION_HV_OOL(0xe00, h_data_storage)
- 	KVM_HANDLER(PACA_EXGEN, EXC_HV, 0xe00)
- 	STD_RELON_EXCEPTION_HV_OOL(0xe20, h_instr_storage)
- 	KVM_HANDLER(PACA_EXGEN, EXC_HV, 0xe20)
  	STD_RELON_EXCEPTION_HV_OOL(0xe40, emulation_assist)
++<<<<<<< HEAD
 +	STD_RELON_EXCEPTION_HV_OOL(0xe60, hmi_exception)
 +	KVM_HANDLER(PACA_EXGEN, EXC_HV, 0xe60)
++=======
+ 	KVM_HANDLER(PACA_EXGEN, EXC_HV, 0xe40)
++>>>>>>> 1d567cb4bd42 (powerpc: Remove unreachable relocation on exception handlers)
  	MASKABLE_RELON_EXCEPTION_HV_OOL(0xe80, h_doorbell)
 -	KVM_HANDLER(PACA_EXGEN, EXC_HV, 0xe80)
  
  	STD_RELON_EXCEPTION_PSERIES_OOL(0xf00, performance_monitor)
  	STD_RELON_EXCEPTION_PSERIES_OOL(0xf20, altivec_unavailable)
* Unmerged path arch/powerpc/kernel/exceptions-64s.S
