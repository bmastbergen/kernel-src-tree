perf report: Move hist browser selection code to separate function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [tools] perf/report: Move hist browser selection code to separate function (Jiri Olsa) [1133083]
Rebuild_FUZZ: 98.48%
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 8362951b7b0618687beddac90aeee43940d20659
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/8362951b.failed

To unclutter the main function.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Frederic Weisbecker <fweisbec@gmail.com>
	Cc: Jiri Olsa <jolsa@redhat.com>
	Cc: Mike Galbraith <efault@gmx.de>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Paul Mackerras <paulus@samba.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Stephane Eranian <eranian@google.com>
Link: http://lkml.kernel.org/n/tip-agvxwpazlucy6h5sejuttw9t@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 8362951b7b0618687beddac90aeee43940d20659)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-report.c
diff --cc tools/perf/builtin-report.c
index e3b253d3e27e,03941ad8fc46..000000000000
--- a/tools/perf/builtin-report.c
+++ b/tools/perf/builtin-report.c
@@@ -448,7 -492,7 +493,11 @@@ static int __cmd_report(struct report *
  	u64 nr_samples;
  	struct perf_session *session = rep->session;
  	struct perf_evsel *pos;
++<<<<<<< HEAD
 +	const char *help = "For a higher level overview, try: perf report --sort comm,dso";
++=======
+ 	struct ui_progress prog;
++>>>>>>> 8362951b7b06 (perf report: Move hist browser selection code to separate function)
  	struct perf_data_file *file = session->file;
  
  	signal(SIGINT, sig_handler);
@@@ -517,27 -568,7 +566,31 @@@
  	list_for_each_entry(pos, &session->evlist->entries, node)
  		hists__output_resort(&pos->hists);
  
++<<<<<<< HEAD
 +	if (use_browser > 0) {
 +		if (use_browser == 1) {
 +			ret = perf_evlist__tui_browse_hists(session->evlist,
 +							help, NULL,
 +							rep->min_percent,
 +							&session->header.env);
 +			/*
 +			 * Usually "ret" is the last pressed key, and we only
 +			 * care if the key notifies us to switch data file.
 +			 */
 +			if (ret != K_SWITCH_INPUT_DATA)
 +				ret = 0;
 +
 +		} else if (use_browser == 2) {
 +			perf_evlist__gtk_browse_hists(session->evlist, help,
 +						      NULL, rep->min_percent);
 +		}
 +	} else
 +		perf_evlist__tty_browse_hists(session->evlist, rep, help);
 +
 +	return ret;
++=======
+ 	return report__browse_hists(rep);
++>>>>>>> 8362951b7b06 (perf report: Move hist browser selection code to separate function)
  }
  
  static int
* Unmerged path tools/perf/builtin-report.c
