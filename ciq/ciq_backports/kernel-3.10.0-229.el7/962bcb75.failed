be2net: avoid SRIOV config for BE2 chip

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Vasundhara Volam <vasundhara.volam@emulex.com>
commit 962bcb750b47ef0c8d28cc217ec22b4e44413565
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/962bcb75.failed

As SRIOV is not supported on BE2 chip, avoid calling be_get/set_sriov_config()
for BE2 chip.

	Signed-off-by: Sathya Perla <sathya.perla@emulex.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 962bcb750b47ef0c8d28cc217ec22b4e44413565)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/emulex/benet/be_main.c
diff --cc drivers/net/ethernet/emulex/benet/be_main.c
index d1cbd832c5a1,9ee445c8096e..000000000000
--- a/drivers/net/ethernet/emulex/benet/be_main.c
+++ b/drivers/net/ethernet/emulex/benet/be_main.c
@@@ -3364,6 -3434,28 +3364,31 @@@ static int be_get_config(struct be_adap
  		if (!status)
  			dev_info(&adapter->pdev->dev,
  				 "Using profile 0x%x\n", profile_id);
++<<<<<<< HEAD
++=======
+ 	}
+ 
+ 	if (!BE2_chip(adapter) && be_physfn(adapter)) {
+ 		status = be_get_sriov_config(adapter);
+ 		if (status)
+ 			return status;
+ 
+ 		/* When the HW is in SRIOV capable configuration, the PF-pool
+ 		 * resources are equally distributed across the max-number of
+ 		 * VFs. The user may request only a subset of the max-vfs to be
+ 		 * enabled. Based on num_vfs, redistribute the resources across
+ 		 * num_vfs so that each VF will have access to more number of
+ 		 * resources. This facility is not available in BE3 FW.
+ 		 * Also, this is done by FW in Lancer chip.
+ 		 */
+ 		if (!pci_num_vf(adapter->pdev)) {
+ 			status = be_cmd_set_sriov_config(adapter,
+ 							 adapter->pool_res,
+ 							 adapter->num_vfs);
+ 			if (status)
+ 				return status;
+ 		}
++>>>>>>> 962bcb750b47 (be2net: avoid SRIOV config for BE2 chip)
  	}
  
  	status = be_get_resources(adapter);
* Unmerged path drivers/net/ethernet/emulex/benet/be_main.c
