ftrace: Remove function_trace_stop check from list func

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
commit-author Steven Rostedt (Red Hat) <rostedt@goodmis.org>
commit 1d48d5960f9f24b8afd5b1dbb10bfe17b5f29a35
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/1d48d596.failed

function_trace_stop is no longer used to stop function tracing.
Remove the check from __ftrace_ops_list_func().

Also, call FTRACE_WARN_ON() instead of setting function_trace_stop
if a ops has no func to call.

	Reviewed-by: Masami Hiramatsu <masami.hiramatsu.pt@hitachi.com>
	Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
(cherry picked from commit 1d48d5960f9f24b8afd5b1dbb10bfe17b5f29a35)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/trace/ftrace.c
diff --cc kernel/trace/ftrace.c
index 8db794abda0b,70abf97d6e84..000000000000
--- a/kernel/trace/ftrace.c
+++ b/kernel/trace/ftrace.c
@@@ -4292,9 -4730,15 +4289,17 @@@ __ftrace_ops_list_func(unsigned long ip
  	 */
  	preempt_disable_notrace();
  	do_for_each_ftrace_op(op, ftrace_ops_list) {
++<<<<<<< HEAD
 +		if (ftrace_ops_test(op, ip, regs))
++=======
+ 		if (ftrace_ops_test(op, ip, regs)) {
+ 			if (FTRACE_WARN_ON(!op->func)) {
+ 				pr_warn("op=%p %pS\n", op, op);
+ 				goto out;
+ 			}
++>>>>>>> 1d48d5960f9f (ftrace: Remove function_trace_stop check from list func)
  			op->func(ip, parent_ip, op, regs);
 -		}
  	} while_for_each_ftrace_op(op);
 -out:
  	preempt_enable_notrace();
  	trace_clear_recursion(bit);
  }
* Unmerged path kernel/trace/ftrace.c
