drm/i915: Unlock panel even when LVDS is disabled

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-229.el7
Rebuild_CHGLOG: - [drm] i915: Unlock panel even when LVDS is disabled (Rob Clark) [1173317]
Rebuild_FUZZ: 95.74%
commit-author Daniel Vetter <daniel.vetter@ffwll.ch>
commit b0616c5306b342ceca07044dbc4f917d95c4f825
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-229.el7/b0616c53.failed

Otherwise we'll have backtraces in assert_panel_unlocked because the
BIOS locks the register. In the reporter's case this regression was
introduced in

commit c31407a3672aaebb4acddf90944a114fa5c8af7b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Oct 18 21:07:01 2012 +0100

    drm/i915: Add no-lvds quirk for Supermicro X7SPA-H

	Reported-by: Alexey Orishko <alexey.orishko@gmail.com>
	Cc: Alexey Orishko <alexey.orishko@gmail.com>
	Cc: stable@vger.kernel.org
	Cc: Chris Wilson <chris@chris-wilson.co.uk>
	Cc: Francois Tigeot <ftigeot@wolfpond.org>
	Signed-off-by: Daniel Vetter <daniel.vetter@intel.com>
	Tested-by: Alexey Orishko <alexey.orishko@gmail.com>
	Signed-off-by: Jani Nikula <jani.nikula@intel.com>
(cherry picked from commit b0616c5306b342ceca07044dbc4f917d95c4f825)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/intel_lvds.c
diff --cc drivers/gpu/drm/i915/intel_lvds.c
index 667f2117e1d9,c0bbf2172446..000000000000
--- a/drivers/gpu/drm/i915/intel_lvds.c
+++ b/drivers/gpu/drm/i915/intel_lvds.c
@@@ -1113,17 -1105,9 +1124,23 @@@ out
  	DRM_DEBUG_KMS("detected %s-link lvds configuration\n",
  		      lvds_encoder->is_dual_link ? "dual" : "single");
  
++<<<<<<< HEAD
 +	/*
 +	 * Unlock registers and just
 +	 * leave them unlocked
 +	 */
 +	if (HAS_PCH_SPLIT(dev)) {
 +		I915_WRITE(PCH_PP_CONTROL,
 +			   I915_READ(PCH_PP_CONTROL) | PANEL_UNLOCK_REGS);
 +	} else {
 +		I915_WRITE(PP_CONTROL,
 +			   I915_READ(PP_CONTROL) | PANEL_UNLOCK_REGS);
 +	}
++=======
+ 	lvds_encoder->a3_power = I915_READ(lvds_encoder->reg) &
+ 				 LVDS_A3_POWER_MASK;
+ 
++>>>>>>> b0616c5306b3 (drm/i915: Unlock panel even when LVDS is disabled)
  	lvds_connector->lid_notifier.notifier_call = intel_lid_notify;
  	if (acpi_lid_notifier_register(&lvds_connector->lid_notifier)) {
  		DRM_DEBUG_KMS("lid notifier registration failed\n");
* Unmerged path drivers/gpu/drm/i915/intel_lvds.c
