net: atlantic: enable ipv6 support for TCP LSO and UDP GSO

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Igor Russkikh <irusskikh@marvell.com>
commit 8bd60710852fffe4c32b5b7f84de2a6c19d12971
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/8bd60710.failed

This patch enables ipv6 support for TCP LSO and UDP GSO.
The code itself (aq_nic_map_skb) was ready for this after udp gso feature,
but corresponding NETIF_F_TSO6 wasn't enabled.

We now have tested both tcp and udp v6 GSO, and enabling them safely.

	Signed-off-by: Igor Russkikh <irusskikh@marvell.com>
	Signed-off-by: Mark Starovoytov <mstarovoitov@marvell.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 8bd60710852fffe4c32b5b7f84de2a6c19d12971)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/aquantia/atlantic/aq_nic.c
diff --cc drivers/net/ethernet/aquantia/atlantic/aq_nic.c
index ed7d344e3ed7,c6b0981c8751..000000000000
--- a/drivers/net/ethernet/aquantia/atlantic/aq_nic.c
+++ b/drivers/net/ethernet/aquantia/atlantic/aq_nic.c
@@@ -303,7 -370,9 +303,13 @@@ void aq_nic_ndev_init(struct aq_nic_s *
  	self->ndev->hw_features |= aq_hw_caps->hw_features;
  	self->ndev->features = aq_hw_caps->hw_features;
  	self->ndev->vlan_features |= NETIF_F_HW_CSUM | NETIF_F_RXCSUM |
++<<<<<<< HEAD
 +				     NETIF_F_RXHASH | NETIF_F_SG | NETIF_F_LRO;
++=======
+ 				     NETIF_F_RXHASH | NETIF_F_SG |
+ 				     NETIF_F_LRO | NETIF_F_TSO | NETIF_F_TSO6;
+ 	self->ndev->gso_partial_features = NETIF_F_GSO_UDP_L4;
++>>>>>>> 8bd60710852f (net: atlantic: enable ipv6 support for TCP LSO and UDP GSO)
  	self->ndev->priv_flags = aq_hw_caps->hw_priv_flags;
  	self->ndev->priv_flags |= IFF_LIVE_ADDR_CHANGE;
  
* Unmerged path drivers/net/ethernet/aquantia/atlantic/aq_nic.c
diff --git a/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c b/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c
index b7e5ce0d7af5..166ba3f6311a 100644
--- a/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c
+++ b/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c
@@ -41,6 +41,7 @@
 			NETIF_F_RXHASH |  \
 			NETIF_F_SG |      \
 			NETIF_F_TSO |     \
+			NETIF_F_TSO6 |    \
 			NETIF_F_LRO |     \
 			NETIF_F_NTUPLE |  \
 			NETIF_F_HW_VLAN_CTAG_FILTER, \
