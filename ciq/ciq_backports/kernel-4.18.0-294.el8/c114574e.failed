net: phy: add PHY_INTERFACE_MODE_10GBASER

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Russell King <rmk+kernel@armlinux.org.uk>
commit c114574ebfdf42f826776f717c8056a00fa94881
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/c114574e.failed

Recent discussion has revealed that the use of PHY_INTERFACE_MODE_10GKR
is incorrect. Add a 10GBASE-R definition, document both the -R and -KR
versions, and the fact that 10GKR was used incorrectly.

	Reviewed-by: Andrew Lunn <andrew@lunn.ch>
	Signed-off-by: Russell King <rmk+kernel@armlinux.org.uk>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c114574ebfdf42f826776f717c8056a00fa94881)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/phy.h
diff --cc include/linux/phy.h
index 012ef26ec528,5932bb8e9c35..000000000000
--- a/include/linux/phy.h
+++ b/include/linux/phy.h
@@@ -111,16 -100,11 +111,24 @@@ typedef enum 
  	PHY_INTERFACE_MODE_2500BASEX,
  	PHY_INTERFACE_MODE_RXAUI,
  	PHY_INTERFACE_MODE_XAUI,
++<<<<<<< HEAD
 +	/* 10GBASE-KR, XFI, SFI - single lane 10G Serdes */
 +	PHY_INTERFACE_MODE_10GKR,
 +        /* RHEL: Fields adding at the end are safe. But code, which iterate
 +	 * over all modes and use PHY_INTERFACE_MODE_MAX will need recompile
 +	 * for use new interface modes. It is for example fuctions like
 +	 * of_get_phy_mode()
 +        */
 +#ifndef __GENKSYMS__
 +	PHY_INTERFACE_MODE_USXGMII,
 +#endif
++=======
+ 	/* 10GBASE-R, XFI, SFI - single lane 10G Serdes */
+ 	PHY_INTERFACE_MODE_10GBASER,
+ 	PHY_INTERFACE_MODE_USXGMII,
+ 	/* 10GBASE-KR - with Clause 73 AN */
+ 	PHY_INTERFACE_MODE_10GKR,
++>>>>>>> c114574ebfdf (net: phy: add PHY_INTERFACE_MODE_10GBASER)
  	PHY_INTERFACE_MODE_MAX,
  } phy_interface_t;
  
diff --git a/Documentation/networking/phy.rst b/Documentation/networking/phy.rst
index 7ae29da5ca01..256106054c8c 100644
--- a/Documentation/networking/phy.rst
+++ b/Documentation/networking/phy.rst
@@ -267,6 +267,24 @@ Some of the interface modes are described below:
     duplex, pause or other settings.  This is dependent on the MAC and/or
     PHY behaviour.
 
+``PHY_INTERFACE_MODE_10GBASER``
+    This is the IEEE 802.3 Clause 49 defined 10GBASE-R protocol used with
+    various different mediums. Please refer to the IEEE standard for a
+    definition of this.
+
+    Note: 10GBASE-R is just one protocol that can be used with XFI and SFI.
+    XFI and SFI permit multiple protocols over a single SERDES lane, and
+    also defines the electrical characteristics of the signals with a host
+    compliance board plugged into the host XFP/SFP connector. Therefore,
+    XFI and SFI are not PHY interface types in their own right.
+
+``PHY_INTERFACE_MODE_10GKR``
+    This is the IEEE 802.3 Clause 49 defined 10GBASE-R with Clause 73
+    autonegotiation. Please refer to the IEEE standard for further
+    information.
+
+    Note: due to legacy usage, some 10GBASE-R usage incorrectly makes
+    use of this definition.
 
 Pause frames / flow control
 ===========================
* Unmerged path include/linux/phy.h
