mm/page_isolation.c: fix a wrong flag in set_migratetype_isolate()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Qian Cai <cai@lca.pw>
commit f5777bc2d9cf0712554228b1a7927b6f13f5c1f0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/f5777bc2.failed

Due to has_unmovable_pages() taking an incorrect irqsave flag instead of
the isolation flag in set_migratetype_isolate(), there are issues with
HWPOSION and error reporting where dump_page() is not called when there
is an unmovable page.

Link: http://lkml.kernel.org/r/20190320204941.53731-1-cai@lca.pw
Fixes: d381c54760dc ("mm: only report isolation failures when offlining memory")
	Acked-by: Michal Hocko <mhocko@suse.com>
	Reviewed-by: Oscar Salvador <osalvador@suse.de>
	Signed-off-by: Qian Cai <cai@lca.pw>
	Cc: <stable@vger.kernel.org>	[5.0.x]
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit f5777bc2d9cf0712554228b1a7927b6f13f5c1f0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	mm/page_isolation.c
diff --cc mm/page_isolation.c
index 4be9ddcdf5eb,019280712e1b..000000000000
--- a/mm/page_isolation.c
+++ b/mm/page_isolation.c
@@@ -61,7 -60,7 +61,11 @@@ static int set_migratetype_isolate(stru
  	 * We just check MOVABLE pages.
  	 */
  	if (!has_unmovable_pages(zone, page, arg.pages_found, migratetype,
++<<<<<<< HEAD
 +				 skip_hwpoisoned_pages))
++=======
+ 				 isol_flags))
++>>>>>>> f5777bc2d9cf (mm/page_isolation.c: fix a wrong flag in set_migratetype_isolate())
  		ret = 0;
  
  	/*
* Unmerged path mm/page_isolation.c
