mm: memcontrol: fix missing suffix of workingset_restore

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Muchun Song <songmuchun@bytedance.com>
commit 8d3fe09d8d6645dcbbe2413cde58f51ceb6545a6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/8d3fe09d.failed

We forget to add the suffix to the workingset_restore string, so fix it.

And also update the documentation of cgroup-v2.rst.

Fixes: 170b04b7ae49 ("mm/workingset: prepare the workingset detection infrastructure for anon LRU")
	Signed-off-by: Muchun Song <songmuchun@bytedance.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Reviewed-by: Shakeel Butt <shakeelb@google.com>
	Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
	Cc: Johannes Weiner <hannes@cmpxchg.org>
	Cc: Vlastimil Babka <vbabka@suse.cz>
	Cc: Tejun Heo <tj@kernel.org>
	Cc: Zefan Li <lizefan@huawei.com>
	Cc: Jonathan Corbet <corbet@lwn.net>
	Cc: Michal Hocko <mhocko@kernel.org>
	Cc: Vladimir Davydov <vdavydov.dev@gmail.com>
	Cc: Roman Gushchin <guro@fb.com>
	Cc: Randy Dunlap <rdunlap@infradead.org>
Link: https://lkml.kernel.org/r/20200916100030.71698-1-songmuchun@bytedance.com
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 8d3fe09d8d6645dcbbe2413cde58f51ceb6545a6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	mm/memcontrol.c
diff --cc mm/memcontrol.c
index 406972ba9675,6877c765b8d0..000000000000
--- a/mm/memcontrol.c
+++ b/mm/memcontrol.c
@@@ -1467,12 -1530,18 +1467,27 @@@ static char *memory_stat_format(struct 
  	seq_buf_printf(&s, "%s %lu\n", vm_event_name(PGMAJFAULT),
  		       memcg_events(memcg, PGMAJFAULT));
  
++<<<<<<< HEAD
 +	seq_buf_printf(&s, "workingset_refault %lu\n",
 +		       memcg_page_state(memcg, WORKINGSET_REFAULT));
 +	seq_buf_printf(&s, "workingset_activate %lu\n",
 +		       memcg_page_state(memcg, WORKINGSET_ACTIVATE));
 +	seq_buf_printf(&s, "workingset_restore %lu\n",
 +		       memcg_page_state(memcg, WORKINGSET_RESTORE));
++=======
+ 	seq_buf_printf(&s, "workingset_refault_anon %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_REFAULT_ANON));
+ 	seq_buf_printf(&s, "workingset_refault_file %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_REFAULT_FILE));
+ 	seq_buf_printf(&s, "workingset_activate_anon %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_ACTIVATE_ANON));
+ 	seq_buf_printf(&s, "workingset_activate_file %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_ACTIVATE_FILE));
+ 	seq_buf_printf(&s, "workingset_restore_anon %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_RESTORE_ANON));
+ 	seq_buf_printf(&s, "workingset_restore_file %lu\n",
+ 		       memcg_page_state(memcg, WORKINGSET_RESTORE_FILE));
++>>>>>>> 8d3fe09d8d66 (mm: memcontrol: fix missing suffix of workingset_restore)
  	seq_buf_printf(&s, "workingset_nodereclaim %lu\n",
  		       memcg_page_state(memcg, WORKINGSET_NODERECLAIM));
  
diff --git a/Documentation/admin-guide/cgroup-v2.rst b/Documentation/admin-guide/cgroup-v2.rst
index 45de03923c4f..1f8b4af2d058 100644
--- a/Documentation/admin-guide/cgroup-v2.rst
+++ b/Documentation/admin-guide/cgroup-v2.rst
@@ -1253,15 +1253,26 @@ PAGE_SIZE multiple when read back.
 	  pgmajfault
 		Number of major page faults incurred
 
-	  workingset_refault
-		Number of refaults of previously evicted pages
+	  workingset_refault_anon
+		Number of refaults of previously evicted anonymous pages.
 
-	  workingset_activate
-		Number of refaulted pages that were immediately activated
+	  workingset_refault_file
+		Number of refaults of previously evicted file pages.
 
-	  workingset_restore
-		Number of restored pages which have been detected as an active
-		workingset before they got reclaimed.
+	  workingset_activate_anon
+		Number of refaulted anonymous pages that were immediately
+		activated.
+
+	  workingset_activate_file
+		Number of refaulted file pages that were immediately activated.
+
+	  workingset_restore_anon
+		Number of restored anonymous pages which have been detected as
+		an active workingset before they got reclaimed.
+
+	  workingset_restore_file
+		Number of restored file pages which have been detected as an
+		active workingset before they got reclaimed.
 
 	  workingset_nodereclaim
 		Number of times a shadow node has been reclaimed
* Unmerged path mm/memcontrol.c
