fs/ext4: Remove jflag variable

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Ira Weiny <ira.weiny@intel.com>
commit fcebc7949cd2ff97407e5b77ed99a7211674c6de
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/fcebc794.failed

The jflag variable serves almost no purpose.  Remove it.

	Signed-off-by: Ira Weiny <ira.weiny@intel.com>

Link: https://lore.kernel.org/r/20200528150003.828793-8-ira.weiny@intel.com
	Signed-off-by: Theodore Ts'o <tytso@mit.edu>
(cherry picked from commit fcebc7949cd2ff97407e5b77ed99a7211674c6de)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/ext4/ioctl.c
diff --cc fs/ext4/ioctl.c
index 1f47e6df3d10,779631e8e849..000000000000
--- a/fs/ext4/ioctl.c
+++ b/fs/ext4/ioctl.c
@@@ -300,7 -300,7 +300,11 @@@ static int ext4_ioctl_setflags(struct i
  	int err = -EPERM, migrate = 0;
  	struct ext4_iloc iloc;
  	unsigned int oldflags, mask, i;
++<<<<<<< HEAD
 +	unsigned int jflag;
++=======
+ 	struct super_block *sb = inode->i_sb;
++>>>>>>> fcebc7949cd2 (fs/ext4: Remove jflag variable)
  
  	/* Is it quota file? Do not allow user to mess with it */
  	if (ext4_is_quota_file(inode))
@@@ -308,19 -308,9 +312,25 @@@
  
  	oldflags = ei->i_flags;
  
++<<<<<<< HEAD
 +	/* The JOURNAL_DATA flag is modifiable only by root */
 +	jflag = flags & EXT4_JOURNAL_DATA_FL;
 +
 +	/*
 +	 * The IMMUTABLE and APPEND_ONLY flags can only be changed by
 +	 * the relevant capability.
 +	 *
 +	 * This test looks nicer. Thanks to Pauline Middelink
 +	 */
 +	if ((flags ^ oldflags) & (EXT4_APPEND_FL | EXT4_IMMUTABLE_FL)) {
 +		if (!capable(CAP_LINUX_IMMUTABLE))
 +			goto flags_out;
 +	}
++=======
+ 	err = vfs_ioc_setflags_prepare(inode, oldflags, flags);
+ 	if (err)
+ 		goto flags_out;
++>>>>>>> fcebc7949cd2 (fs/ext4: Remove jflag variable)
  
  	/*
  	 * The JOURNAL_DATA flag can only be changed by
* Unmerged path fs/ext4/ioctl.c
