tools headers cpufeatures: Sync with the kernel sources

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit f93c789a3e245707e3eddcaab5c2b7c62615692d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/f93c789a.failed

To pick the changes in:

  e7b6385b01d8e9fb ("x86/cpufeatures: Add Intel SGX hardware bits")

That causes only these 'perf bench' objects to rebuild:

  CC       /tmp/build/perf/bench/mem-memcpy-x86-64-asm.o
  CC       /tmp/build/perf/bench/mem-memset-x86-64-asm.o

And addresses these perf build warnings:

  Warning: Kernel ABI header at 'tools/arch/x86/include/asm/disabled-features.h' differs from latest version at 'arch/x86/include/asm/disabled-features.h'
  diff -u tools/arch/x86/include/asm/disabled-features.h arch/x86/include/asm/disabled-features.h
  Warning: Kernel ABI header at 'tools/arch/x86/include/asm/cpufeatures.h' differs from latest version at 'arch/x86/include/asm/cpufeatures.h'
  diff -u tools/arch/x86/include/asm/cpufeatures.h arch/x86/include/asm/cpufeatures.h

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Borislav Petkov <bp@suse.de>
	Cc: Ian Rogers <irogers@google.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Sean Christopherson <seanjc@google.com>
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit f93c789a3e245707e3eddcaab5c2b7c62615692d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/arch/x86/include/asm/cpufeatures.h
#	tools/arch/x86/include/asm/disabled-features.h
diff --cc tools/arch/x86/include/asm/cpufeatures.h
index e5db5d4ea413,f5ef2d5b9231..000000000000
--- a/tools/arch/x86/include/asm/cpufeatures.h
+++ b/tools/arch/x86/include/asm/cpufeatures.h
@@@ -334,6 -356,8 +335,11 @@@
  #define X86_FEATURE_CLDEMOTE		(16*32+25) /* CLDEMOTE instruction */
  #define X86_FEATURE_MOVDIRI		(16*32+27) /* MOVDIRI instruction */
  #define X86_FEATURE_MOVDIR64B		(16*32+28) /* MOVDIR64B instruction */
++<<<<<<< HEAD
++=======
+ #define X86_FEATURE_ENQCMD		(16*32+29) /* ENQCMD and ENQCMDS instructions */
+ #define X86_FEATURE_SGX_LC		(16*32+30) /* Software Guard Extensions Launch Control */
++>>>>>>> f93c789a3e24 (tools headers cpufeatures: Sync with the kernel sources)
  
  /* AMD-defined CPU features, CPUID level 0x80000007 (EBX), word 17 */
  #define X86_FEATURE_OVERFLOW_RECOV	(17*32+ 0) /* MCA overflow recovery support */
diff --cc tools/arch/x86/include/asm/disabled-features.h
index 33833d1909af,7947cb1782da..000000000000
--- a/tools/arch/x86/include/asm/disabled-features.h
+++ b/tools/arch/x86/include/asm/disabled-features.h
@@@ -56,6 -56,18 +56,21 @@@
  # define DISABLE_PTI		(1 << (X86_FEATURE_PTI & 31))
  #endif
  
++<<<<<<< HEAD
++=======
+ #ifdef CONFIG_IOMMU_SUPPORT
+ # define DISABLE_ENQCMD	0
+ #else
+ # define DISABLE_ENQCMD (1 << (X86_FEATURE_ENQCMD & 31))
+ #endif
+ 
+ #ifdef CONFIG_X86_SGX
+ # define DISABLE_SGX	0
+ #else
+ # define DISABLE_SGX	(1 << (X86_FEATURE_SGX & 31))
+ #endif
+ 
++>>>>>>> f93c789a3e24 (tools headers cpufeatures: Sync with the kernel sources)
  /*
   * Make sure to add features to the correct mask
   */
@@@ -68,7 -80,7 +83,11 @@@
  #define DISABLED_MASK6	0
  #define DISABLED_MASK7	(DISABLE_PTI)
  #define DISABLED_MASK8	0
++<<<<<<< HEAD
 +#define DISABLED_MASK9	(DISABLE_MPX)
++=======
+ #define DISABLED_MASK9	(DISABLE_SMAP|DISABLE_SGX)
++>>>>>>> f93c789a3e24 (tools headers cpufeatures: Sync with the kernel sources)
  #define DISABLED_MASK10	0
  #define DISABLED_MASK11	0
  #define DISABLED_MASK12	0
* Unmerged path tools/arch/x86/include/asm/cpufeatures.h
* Unmerged path tools/arch/x86/include/asm/disabled-features.h
