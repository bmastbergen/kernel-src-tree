fbcon: Only allow FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER if fbdev is builtin

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Hans de Goede <hdegoede@redhat.com>
commit 15f4c357f909d5fbde43b36e137756d5c654a59d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/15f4c357.failed

Having FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER with fbdev+fbcon being build
as a module does not make much sense.

Having FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER only when fbdev+fbcon are
builtin was always the intention, hence the =y checks but they were
checking the wrong option, fbcon is build as part of fb.ko, so we must
check for FB=y.

	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
(cherry picked from commit 15f4c357f909d5fbde43b36e137756d5c654a59d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/video/console/Kconfig
diff --cc drivers/video/console/Kconfig
index 4110ba7d7ca9,787792c3d08d..000000000000
--- a/drivers/video/console/Kconfig
+++ b/drivers/video/console/Kconfig
@@@ -150,6 -150,17 +150,20 @@@ config FRAMEBUFFER_CONSOLE_ROTATIO
           such that other users of the framebuffer will remain normally
           oriented.
  
++<<<<<<< HEAD
++=======
+ config FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER
+ 	bool "Framebuffer Console Deferred Takeover"
+ 	depends on FB=y && FRAMEBUFFER_CONSOLE && DUMMY_CONSOLE
+ 	help
+ 	  If enabled this defers the framebuffer console taking over the
+ 	  console from the dummy console until the first text is displayed on
+ 	  the console. This is useful in combination with the "quiet" kernel
+ 	  commandline option to keep the framebuffer contents initially put up
+ 	  by the firmware in place, rather then replacing the contents with a
+ 	  black screen as soon as fbcon loads.
+ 
++>>>>>>> 15f4c357f909 (fbcon: Only allow FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER if fbdev is builtin)
  config STI_CONSOLE
          bool "STI text console"
  	depends on PARISC && HAS_IOMEM
* Unmerged path drivers/video/console/Kconfig
