kasan: fix variable 'tag' set but not used warning

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Qian Cai <cai@lca.pw>
commit c412a769d2452161e97f163c4c4f31efc6626f06
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/c412a769.failed

set_tag() compiles away when CONFIG_KASAN_SW_TAGS=n, so make
arch_kasan_set_tag() a static inline function to fix warnings below.

  mm/kasan/common.c: In function '__kasan_kmalloc':
  mm/kasan/common.c:475:5: warning: variable 'tag' set but not used [-Wunused-but-set-variable]
    u8 tag;
       ^~~

Link: http://lkml.kernel.org/r/20190307185244.54648-1-cai@lca.pw
	Signed-off-by: Qian Cai <cai@lca.pw>
	Reviewed-by: Andrey Konovalov <andreyknvl@google.com>
	Cc: Andrey Ryabinin <aryabinin@virtuozzo.com>
	Cc: Alexander Potapenko <glider@google.com>
	Cc: Dmitry Vyukov <dvyukov@google.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit c412a769d2452161e97f163c4c4f31efc6626f06)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	mm/kasan/kasan.h
diff --cc mm/kasan/kasan.h
index c12dcfde2ebd,3ce956efa0cb..000000000000
--- a/mm/kasan/kasan.h
+++ b/mm/kasan/kasan.h
@@@ -120,6 -145,40 +120,43 @@@ static inline void quarantine_reduce(vo
  static inline void quarantine_remove_cache(struct kmem_cache *cache) { }
  #endif
  
++<<<<<<< HEAD
++=======
+ #ifdef CONFIG_KASAN_SW_TAGS
+ 
+ void print_tags(u8 addr_tag, const void *addr);
+ 
+ u8 random_tag(void);
+ 
+ #else
+ 
+ static inline void print_tags(u8 addr_tag, const void *addr) { }
+ 
+ static inline u8 random_tag(void)
+ {
+ 	return 0;
+ }
+ 
+ #endif
+ 
+ #ifndef arch_kasan_set_tag
+ static inline const void *arch_kasan_set_tag(const void *addr, u8 tag)
+ {
+ 	return addr;
+ }
+ #endif
+ #ifndef arch_kasan_reset_tag
+ #define arch_kasan_reset_tag(addr)	((void *)(addr))
+ #endif
+ #ifndef arch_kasan_get_tag
+ #define arch_kasan_get_tag(addr)	0
+ #endif
+ 
+ #define set_tag(addr, tag)	((void *)arch_kasan_set_tag((addr), (tag)))
+ #define reset_tag(addr)		((void *)arch_kasan_reset_tag(addr))
+ #define get_tag(addr)		arch_kasan_get_tag(addr)
+ 
++>>>>>>> c412a769d245 (kasan: fix variable 'tag' set but not used warning)
  /*
   * Exported functions for interfaces called from assembly or from generated
   * code. Declarations here to avoid warning about missing declarations.
* Unmerged path mm/kasan/kasan.h
