s390/pci: Adding bus resource

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Pierre Morel <pmorel@linux.ibm.com>
commit 65e450a9f9adabf3de1305a4c616f1313df402a3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/65e450a9.failed

The current PCI implementation do not provide a bus resource.
This leads to a notice being print at boot.
Let's do it more nicely and provide the bus resource.

	Signed-off-by: Pierre Morel <pmorel@linux.ibm.com>
	Reviewed-by: Niklas Schnelle <schnelle@linux.ibm.com>
	Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>
(cherry picked from commit 65e450a9f9adabf3de1305a4c616f1313df402a3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/s390/include/asm/pci.h
#	arch/s390/pci/pci_bus.c
diff --cc arch/s390/include/asm/pci.h
index 2d7a8ea6c42b,7d99ab35833c..000000000000
--- a/arch/s390/include/asm/pci.h
+++ b/arch/s390/include/asm/pci.h
@@@ -88,10 -100,24 +88,26 @@@ struct zpci_bar_struct 
  
  struct s390_domain;
  
++<<<<<<< HEAD
++=======
+ #define ZPCI_FUNCTIONS_PER_BUS 256
+ struct zpci_bus {
+ 	struct kref		kref;
+ 	struct pci_bus		*bus;
+ 	struct zpci_dev		*function[ZPCI_FUNCTIONS_PER_BUS];
+ 	struct list_head	resources;
+ 	struct list_head	bus_next;
+ 	struct resource		bus_resource;
+ 	int			pchid;
+ 	int			domain_nr;
+ 	enum pci_bus_speed	max_bus_speed;
+ };
+ 
++>>>>>>> 65e450a9f9ad (s390/pci: Adding bus resource)
  /* Private data per function */
  struct zpci_dev {
 -	struct zpci_bus *zbus;
 +	struct pci_bus	*bus;
  	struct list_head entry;		/* list of all zpci_devices, needed for hotplug, etc. */
 -	struct kref kref;
  	struct hotplug_slot hotplug_slot;
  
  	enum zpci_state state;
* Unmerged path arch/s390/pci/pci_bus.c
* Unmerged path arch/s390/include/asm/pci.h
* Unmerged path arch/s390/pci/pci_bus.c
