KVM: selftests: Add blessed SVE registers to get-reg-list

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Andrew Jones <drjones@redhat.com>
commit 31d212959179015bc07f3af4e890cadd26e01ee0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/31d21295.failed

Add support for the SVE registers to get-reg-list and create a
new test, get-reg-list-sve, which tests them when running on a
machine with SVE support.

	Signed-off-by: Andrew Jones <drjones@redhat.com>
Message-Id: <20201029201703.102716-5-drjones@redhat.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 31d212959179015bc07f3af4e890cadd26e01ee0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/kvm/.gitignore
#	tools/testing/selftests/kvm/Makefile
#	tools/testing/selftests/kvm/aarch64/get-reg-list.c
diff --cc tools/testing/selftests/kvm/.gitignore
index cbb0f1ef6bc0,ea1692d43411..000000000000
--- a/tools/testing/selftests/kvm/.gitignore
+++ b/tools/testing/selftests/kvm/.gitignore
@@@ -1,3 -1,9 +1,12 @@@
++<<<<<<< HEAD
++=======
+ # SPDX-License-Identifier: GPL-2.0-only
+ /aarch64/get-reg-list
+ /aarch64/get-reg-list-sve
+ /s390x/memop
+ /s390x/resets
+ /s390x/sync_regs_test
++>>>>>>> 31d212959179 (KVM: selftests: Add blessed SVE registers to get-reg-list)
  /x86_64/cr4_cpuid_sync_test
  /x86_64/debug_regs
  /x86_64/evmcs_test
diff --cc tools/testing/selftests/kvm/Makefile
index 1b609d310347,2b0d7d325e2a..000000000000
--- a/tools/testing/selftests/kvm/Makefile
+++ b/tools/testing/selftests/kvm/Makefile
@@@ -63,6 -66,8 +63,11 @@@ TEST_GEN_PROGS_x86_64 += kvm_create_max
  TEST_GEN_PROGS_x86_64 += set_memory_region_test
  TEST_GEN_PROGS_x86_64 += steal_time
  
++<<<<<<< HEAD
++=======
+ TEST_GEN_PROGS_aarch64 += aarch64/get-reg-list
+ TEST_GEN_PROGS_aarch64 += aarch64/get-reg-list-sve
++>>>>>>> 31d212959179 (KVM: selftests: Add blessed SVE registers to get-reg-list)
  TEST_GEN_PROGS_aarch64 += clear_dirty_log_test
  TEST_GEN_PROGS_aarch64 += demand_paging_test
  TEST_GEN_PROGS_aarch64 += dirty_log_test
* Unmerged path tools/testing/selftests/kvm/aarch64/get-reg-list.c
* Unmerged path tools/testing/selftests/kvm/.gitignore
* Unmerged path tools/testing/selftests/kvm/Makefile
diff --git a/tools/testing/selftests/kvm/aarch64/get-reg-list-sve.c b/tools/testing/selftests/kvm/aarch64/get-reg-list-sve.c
new file mode 100644
index 000000000000..efba76682b4b
--- /dev/null
+++ b/tools/testing/selftests/kvm/aarch64/get-reg-list-sve.c
@@ -0,0 +1,3 @@
+// SPDX-License-Identifier: GPL-2.0
+#define REG_LIST_SVE
+#include "get-reg-list.c"
* Unmerged path tools/testing/selftests/kvm/aarch64/get-reg-list.c
