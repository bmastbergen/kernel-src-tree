i2c: i801: Add support for Intel Emmitsburg PCH

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Mika Westerberg <mika.westerberg@linux.intel.com>
commit 12745b071e2b6b43e623e6cce521a1cb3c4c28dc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/12745b07.failed

Add support for SMBus controller on Intel Emmitsburg PCH. This is the
same IP as used in Cannon Lake and derivatives.

	Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
	Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
	Reviewed-by: Jean Delvare <jdelvare@suse.de>
	Signed-off-by: Wolfram Sang <wsa@kernel.org>
(cherry picked from commit 12745b071e2b6b43e623e6cce521a1cb3c4c28dc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/i2c/busses/i2c-i801
#	drivers/i2c/busses/Kconfig
#	drivers/i2c/busses/i2c-i801.c
diff --cc Documentation/i2c/busses/i2c-i801
index 6bfbf49c99a1,faf32330c335..000000000000
--- a/Documentation/i2c/busses/i2c-i801
+++ b/Documentation/i2c/busses/i2c-i801
@@@ -41,7 -40,10 +41,12 @@@ Supported adapters
    * Intel Cedar Fork (PCH)
    * Intel Ice Lake (PCH)
    * Intel Comet Lake (PCH)
 -  * Intel Elkhart Lake (PCH)
    * Intel Tiger Lake (PCH)
++<<<<<<< HEAD:Documentation/i2c/busses/i2c-i801
++=======
+   * Intel Jasper Lake (SOC)
+   * Intel Emmitsburg (PCH)
++>>>>>>> 12745b071e2b (i2c: i801: Add support for Intel Emmitsburg PCH):Documentation/i2c/busses/i2c-i801.rst
  
     Datasheets: Publicly available at the Intel website
  
diff --cc drivers/i2c/busses/Kconfig
index 53d9f98b9a6e,085ca9b009ed..000000000000
--- a/drivers/i2c/busses/Kconfig
+++ b/drivers/i2c/busses/Kconfig
@@@ -136,7 -143,10 +136,12 @@@ config I2C_I80
  	    Cedar Fork (PCH)
  	    Ice Lake (PCH)
  	    Comet Lake (PCH)
 -	    Elkhart Lake (PCH)
  	    Tiger Lake (PCH)
++<<<<<<< HEAD
++=======
+ 	    Jasper Lake (SOC)
+ 	    Emmitsburg (PCH)
++>>>>>>> 12745b071e2b (i2c: i801: Add support for Intel Emmitsburg PCH)
  
  	  This driver can also be built as a module.  If so, the module
  	  will be called i2c-i801.
diff --cc drivers/i2c/busses/i2c-i801.c
index 219612b245c7,63b0c9d054ff..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -1577,7 -1748,12 +1580,13 @@@ static int i801_probe(struct pci_dev *d
  	case PCI_DEVICE_ID_INTEL_CDF_SMBUS:
  	case PCI_DEVICE_ID_INTEL_ICELAKE_LP_SMBUS:
  	case PCI_DEVICE_ID_INTEL_COMETLAKE_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_COMETLAKE_H_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_ELKHART_LAKE_SMBUS:
  	case PCI_DEVICE_ID_INTEL_TIGERLAKE_LP_SMBUS:
++<<<<<<< HEAD
++=======
+ 	case PCI_DEVICE_ID_INTEL_JASPER_LAKE_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_EBG_SMBUS:
+ 		priv->features |= FEATURE_BLOCK_PROC;
++>>>>>>> 12745b071e2b (i2c: i801: Add support for Intel Emmitsburg PCH)
  		priv->features |= FEATURE_I2C_BLOCK_READ;
  		priv->features |= FEATURE_IRQ;
  		priv->features |= FEATURE_SMBUS_PEC;
* Unmerged path Documentation/i2c/busses/i2c-i801
* Unmerged path drivers/i2c/busses/Kconfig
* Unmerged path drivers/i2c/busses/i2c-i801.c
