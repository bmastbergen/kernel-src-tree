x86/dumpstack/64: Use cpu_entry_area instead of orig_ist

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Thomas Gleixner <tglx@linutronix.de>
commit afcd21dad88b68d646e91ed36948117d58b4c197
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/afcd21da.failed

The orig_ist[] array is a shadow copy of the IST array in the TSS. The
reason why it exists is that older kernels used two TSS variants with
different pointers into the debug stack. orig_ist[] contains the real
starting points.

There is no point anymore to do so because the same information can be
retrieved using the base address of the cpu entry area mapping and the
offsets of the various exception stacks.

No functional change. Preparation for removing orig_ist.

	Cc: Josh Poimboeuf <jpoimboe@redhat.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Signed-off-by: Borislav Petkov <bp@suse.de>
	Cc: "H. Peter Anvin" <hpa@zytor.com>
	Cc: Andy Lutomirski <luto@kernel.org>
	Cc: Ingo Molnar <mingo@redhat.com>
	Cc: Josh Poimboeuf <jpoimboe@redhat.com>
	Cc: Sean Christopherson <sean.j.christopherson@intel.com>
	Cc: x86-ml <x86@kernel.org>
Link: https://lkml.kernel.org/r/20190414160144.974900463@linutronix.de
(cherry picked from commit afcd21dad88b68d646e91ed36948117d58b4c197)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/dumpstack_64.c
diff --cc arch/x86/kernel/dumpstack_64.c
index 16a780db77dc,f6fbd0438f9e..000000000000
--- a/arch/x86/kernel/dumpstack_64.c
+++ b/arch/x86/kernel/dumpstack_64.c
@@@ -16,20 -16,16 +16,24 @@@
  #include <linux/bug.h>
  #include <linux/nmi.h>
  
+ #include <asm/cpu_entry_area.h>
  #include <asm/stacktrace.h>
  
 -static const char *exception_stack_names[N_EXCEPTION_STACKS] = {
 -		[ ESTACK_DF	]	= "#DF",
 -		[ ESTACK_NMI	]	= "NMI",
 -		[ ESTACK_DB	]	= "#DB",
 -		[ ESTACK_MCE	]	= "#MC",
 +static char *exception_stack_names[N_EXCEPTION_STACKS] = {
 +		[ DOUBLEFAULT_STACK-1	]	= "#DF",
 +		[ NMI_STACK-1		]	= "NMI",
 +		[ DEBUG_STACK-1		]	= "#DB",
 +		[ MCE_STACK-1		]	= "#MC",
  };
  
++<<<<<<< HEAD
 +static unsigned long exception_stack_sizes[N_EXCEPTION_STACKS] = {
 +	[0 ... N_EXCEPTION_STACKS - 1]		= EXCEPTION_STKSZ,
 +	[DEBUG_STACK - 1]			= DEBUG_STKSZ
 +};
 +
++=======
++>>>>>>> afcd21dad88b (x86/dumpstack/64: Use cpu_entry_area instead of orig_ist)
  const char *stack_type_name(enum stack_type type)
  {
  	BUILD_BUG_ON(N_EXCEPTION_STACKS != 4);
* Unmerged path arch/x86/kernel/dumpstack_64.c
