ext4: fix leaking sysfs kobject after failed mount

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Eric Biggers <ebiggers@google.com>
commit cb8d53d2c97369029cc638c9274ac7be0a316c75
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/cb8d53d2.failed

ext4_unregister_sysfs() only deletes the kobject.  The reference to it
needs to be put separately, like ext4_put_super() does.

This addresses the syzbot report
"memory leak in kobject_set_name_vargs (3)"
(https://syzkaller.appspot.com/bug?extid=9f864abad79fae7c17e1).

	Reported-by: syzbot+9f864abad79fae7c17e1@syzkaller.appspotmail.com
Fixes: 72ba74508b28 ("ext4: release sysfs kobject when failing to enable quotas on mount")
	Cc: stable@vger.kernel.org
	Signed-off-by: Eric Biggers <ebiggers@google.com>
Link: https://lore.kernel.org/r/20200922162456.93657-1-ebiggers@kernel.org
	Reviewed-by: Jan Kara <jack@suse.cz>
	Signed-off-by: Theodore Ts'o <tytso@mit.edu>
(cherry picked from commit cb8d53d2c97369029cc638c9274ac7be0a316c75)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/ext4/super.c
diff --cc fs/ext4/super.c
index ad524e71afee,41953b86ffe3..000000000000
--- a/fs/ext4/super.c
+++ b/fs/ext4/super.c
@@@ -4631,10 -4870,9 +4631,14 @@@ cantfind_ext4
  		ext4_msg(sb, KERN_ERR, "VFS: Can't find ext4 filesystem");
  	goto failed_mount;
  
 +#ifdef CONFIG_QUOTA
  failed_mount8:
  	ext4_unregister_sysfs(sb);
++<<<<<<< HEAD
 +#endif
++=======
+ 	kobject_put(&sbi->s_kobj);
++>>>>>>> cb8d53d2c973 (ext4: fix leaking sysfs kobject after failed mount)
  failed_mount7:
  	ext4_unregister_li_request(sb);
  failed_mount6:
* Unmerged path fs/ext4/super.c
