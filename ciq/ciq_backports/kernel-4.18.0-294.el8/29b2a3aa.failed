block: export bio_release_pages and bio_iov_iter_get_pages

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Johannes Thumshirn <johannes.thumshirn@wdc.com>
commit 29b2a3aa296711cfdadafbf627c2d9a388fc84ee
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/29b2a3aa.failed

Export bio_release_pages and bio_iov_iter_get_pages, so they can be used
from modular code.

	Signed-off-by: Johannes Thumshirn <johannes.thumshirn@wdc.com>
	Reviewed-by: Martin K. Petersen <martin.petersen@oracle.com>
	Reviewed-by: Hannes Reinecke <hare@suse.de>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 29b2a3aa296711cfdadafbf627c2d9a388fc84ee)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	block/bio.c
diff --cc block/bio.c
index b2a160185268,e4c46e2bd5ba..000000000000
--- a/block/bio.c
+++ b/block/bio.c
@@@ -926,6 -937,22 +926,25 @@@ int bio_add_page(struct bio *bio, struc
  }
  EXPORT_SYMBOL(bio_add_page);
  
++<<<<<<< HEAD
++=======
+ void bio_release_pages(struct bio *bio, bool mark_dirty)
+ {
+ 	struct bvec_iter_all iter_all;
+ 	struct bio_vec *bvec;
+ 
+ 	if (bio_flagged(bio, BIO_NO_PAGE_REF))
+ 		return;
+ 
+ 	bio_for_each_segment_all(bvec, bio, iter_all) {
+ 		if (mark_dirty && !PageCompound(bvec->bv_page))
+ 			set_page_dirty_lock(bvec->bv_page);
+ 		put_page(bvec->bv_page);
+ 	}
+ }
+ EXPORT_SYMBOL_GPL(bio_release_pages);
+ 
++>>>>>>> 29b2a3aa2967 (block: export bio_release_pages and bio_iov_iter_get_pages)
  static int __bio_iov_bvec_add_pages(struct bio *bio, struct iov_iter *iter)
  {
  	const struct bio_vec *bv = iter->bvec;
* Unmerged path block/bio.c
