kasan: prevent tracing of tags.c

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Andrey Konovalov <andreyknvl@google.com>
commit dc15a8a2543cb9ebe67998eefe2880ce1a20d42e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/dc15a8a2.failed

Similarly to commit 0d0c8de8788b ("kasan: mark file common so ftrace
doesn't trace it") add the -pg flag to mm/kasan/tags.c to prevent
conflicts with tracing.

Link: http://lkml.kernel.org/r/9c4c3ce5ccfb894c7fe66d91de7c1da2787b4da4.1550602886.git.andreyknvl@google.com
	Signed-off-by: Andrey Konovalov <andreyknvl@google.com>
	Reported-by: Qian Cai <cai@lca.pw>
	Tested-by: Qian Cai <cai@lca.pw>
	Cc: Andrey Ryabinin <aryabinin@virtuozzo.com>
	Cc: Alexander Potapenko <glider@google.com>
	Cc: Dmitry Vyukov <dvyukov@google.com>
	Cc: Catalin Marinas <catalin.marinas@arm.com>
	Cc: Vincenzo Frascino <vincenzo.frascino@arm.com>
	Cc: Kostya Serebryany <kcc@google.com>
	Cc: Evgeniy Stepanov <eugenis@google.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit dc15a8a2543cb9ebe67998eefe2880ce1a20d42e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	mm/kasan/Makefile
diff --cc mm/kasan/Makefile
index 3289db38bc87,5d1065efbd47..000000000000
--- a/mm/kasan/Makefile
+++ b/mm/kasan/Makefile
@@@ -1,11 -1,21 +1,18 @@@
  # SPDX-License-Identifier: GPL-2.0
  KASAN_SANITIZE := n
 -UBSAN_SANITIZE_common.o := n
 -UBSAN_SANITIZE_generic.o := n
 -UBSAN_SANITIZE_tags.o := n
 +UBSAN_SANITIZE_kasan.o := n
  KCOV_INSTRUMENT := n
  
++<<<<<<< HEAD
 +CFLAGS_REMOVE_kasan.o = -pg
++=======
+ CFLAGS_REMOVE_common.o = -pg
+ CFLAGS_REMOVE_generic.o = -pg
+ CFLAGS_REMOVE_tags.o = -pg
+ 
++>>>>>>> dc15a8a2543c (kasan: prevent tracing of tags.c)
  # Function splitter causes unnecessary splits in __asan_load1/__asan_store1
  # see: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63533
 +CFLAGS_kasan.o := $(call cc-option, -fno-conserve-stack -fno-stack-protector)
  
 -CFLAGS_common.o := $(call cc-option, -fno-conserve-stack -fno-stack-protector)
 -CFLAGS_generic.o := $(call cc-option, -fno-conserve-stack -fno-stack-protector)
 -CFLAGS_tags.o := $(call cc-option, -fno-conserve-stack -fno-stack-protector)
 -
 -obj-$(CONFIG_KASAN) := common.o init.o report.o
 -obj-$(CONFIG_KASAN_GENERIC) += generic.o generic_report.o quarantine.o
 -obj-$(CONFIG_KASAN_SW_TAGS) += tags.o tags_report.o
 +obj-y := kasan.o report.o kasan_init.o quarantine.o
* Unmerged path mm/kasan/Makefile
