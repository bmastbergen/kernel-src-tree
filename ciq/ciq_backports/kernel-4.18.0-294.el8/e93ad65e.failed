powerpc/test_emulate_step: Move extern declaration to sstep.h

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Balamuruhan S <bala24@linux.ibm.com>
commit e93ad65e3611b06288efdf0cfd76c012df3feec1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/e93ad65e.failed

fix checkpatch.pl warnings by moving extern declaration from source
file to headerfile.

	Signed-off-by: Balamuruhan S <bala24@linux.ibm.com>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: https://lore.kernel.org/r/20200626095158.1031507-5-bala24@linux.ibm.com
(cherry picked from commit e93ad65e3611b06288efdf0cfd76c012df3feec1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/lib/test_emulate_step.c
diff --cc arch/powerpc/lib/test_emulate_step.c
index 36931d06bd76,081b05480c47..000000000000
--- a/arch/powerpc/lib/test_emulate_step.c
+++ b/arch/powerpc/lib/test_emulate_step.c
@@@ -847,12 -1146,13 +847,16 @@@ static struct compute_test compute_test
  };
  
  static int __init emulate_compute_instr(struct pt_regs *regs,
 -					struct ppc_inst instr,
 -					bool negative)
 +					unsigned int instr)
  {
++<<<<<<< HEAD
 +	extern s32 patch__exec_instr;
++=======
+ 	int analysed;
++>>>>>>> e93ad65e3611 (powerpc/test_emulate_step: Move extern declaration to sstep.h)
  	struct instruction_op op;
  
 -	if (!regs || !ppc_inst_val(instr))
 +	if (!regs || !instr)
  		return -EINVAL;
  
  	regs->nip = patch_site_addr(&patch__exec_instr);
@@@ -868,12 -1172,11 +872,11 @@@
  }
  
  static int __init execute_compute_instr(struct pt_regs *regs,
 -					struct ppc_inst instr)
 +					unsigned int instr)
  {
  	extern int exec_instr(struct pt_regs *regs);
- 	extern s32 patch__exec_instr;
  
 -	if (!regs || !ppc_inst_val(instr))
 +	if (!regs || !instr)
  		return -EINVAL;
  
  	/* Patch the NOP with the actual instruction */
diff --git a/arch/powerpc/include/asm/sstep.h b/arch/powerpc/include/asm/sstep.h
index 5df5fa2eeb53..9b1fee2647bf 100644
--- a/arch/powerpc/include/asm/sstep.h
+++ b/arch/powerpc/include/asm/sstep.h
@@ -109,6 +109,8 @@ enum instruction_type {
 #define GET_PREFIX_RA(i)	(((i) >> 16) & 0x1f)
 #define GET_PREFIX_R(i)		((i) & (1ul << 20))
 
+extern s32 patch__exec_instr;
+
 struct instruction_op {
 	int type;
 	int reg;
* Unmerged path arch/powerpc/lib/test_emulate_step.c
