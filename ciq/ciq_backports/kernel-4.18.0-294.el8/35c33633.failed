scsi: core: Clean up SG_NONE

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Finn Thain <fthain@telegraphics.com.au>
commit 35c3363363ac7c8877b4984cdd8a2af377a4e92e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/35c33633.failed

Remove SG_NONE and a related misleading comment. Update documentation.

This patch does not affect behaviour as zero initialization is redundant.

	Cc: Jonathan Corbet <corbet@lwn.net>
	Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
	Cc: Jens Axboe <axboe@kernel.dk>
	Cc: Viresh Kumar <vireshk@kernel.org>
	Cc: Oliver Neukum <oneukum@suse.com>
	Cc: Alan Stern <stern@rowland.harvard.edu>
	Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
	Cc: usb-storage@lists.one-eyed-alien.net
Link: https://lore.kernel.org/r/b4779b7a6563f6bd8d259ee457871c1c463c420e.1572656814.git.fthain@telegraphics.com.au
	Signed-off-by: Finn Thain <fthain@telegraphics.com.au>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 35c3363363ac7c8877b4984cdd8a2af377a4e92e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/atp870u.c
diff --cc drivers/scsi/atp870u.c
index b46997cf77e2,c6a752309dda..000000000000
--- a/drivers/scsi/atp870u.c
+++ b/drivers/scsi/atp870u.c
@@@ -1680,8 -1680,7 +1680,12 @@@ static struct scsi_host_template atp870
       .bios_param        	= atp870u_biosparam	/* biosparm */,
       .can_queue         	= qcnt			/* can_queue */,
       .this_id           	= 7			/* SCSI ID */,
++<<<<<<< HEAD
 +     .sg_tablesize      	= ATP870U_SCATTER	/*SG_ALL*/ /*SG_NONE*/,
 +     .use_clustering    	= ENABLE_CLUSTERING,
++=======
+      .sg_tablesize      	= ATP870U_SCATTER	/*SG_ALL*/,
++>>>>>>> 35c3363363ac (scsi: core: Clean up SG_NONE)
       .max_sectors		= ATP870U_MAX_SECTORS,
  };
  
diff --git a/Documentation/scsi/scsi_mid_low_api.txt b/Documentation/scsi/scsi_mid_low_api.txt
index 5ca449de2cac..811f1a64a91c 100644
--- a/Documentation/scsi/scsi_mid_low_api.txt
+++ b/Documentation/scsi/scsi_mid_low_api.txt
@@ -1063,7 +1063,8 @@ of interest:
                    commands to the adapter.
     this_id      - scsi id of host (scsi initiator) or -1 if not known
     sg_tablesize - maximum scatter gather elements allowed by host.
-                   0 implies scatter gather not supported by host
+                   Set this to SG_ALL or less to avoid chained SG lists.
+                   Must be at least 1.
     max_sectors  - maximum number of sectors (usually 512 bytes) allowed
                    in a single SCSI command. The default value of 0 leads
                    to a setting of SCSI_DEFAULT_MAX_SECTORS (defined in
diff --git a/drivers/ata/pata_arasan_cf.c b/drivers/ata/pata_arasan_cf.c
index ebecab8c3f36..135173c8d138 100644
--- a/drivers/ata/pata_arasan_cf.c
+++ b/drivers/ata/pata_arasan_cf.c
@@ -219,7 +219,6 @@ struct arasan_cf_dev {
 
 static struct scsi_host_template arasan_cf_sht = {
 	ATA_BASE_SHT(DRIVER_NAME),
-	.sg_tablesize = SG_NONE,
 	.dma_boundary = 0xFFFFFFFFUL,
 };
 
* Unmerged path drivers/scsi/atp870u.c
diff --git a/drivers/usb/storage/uas.c b/drivers/usb/storage/uas.c
index 499fec2cc994..85b97c2ac31e 100644
--- a/drivers/usb/storage/uas.c
+++ b/drivers/usb/storage/uas.c
@@ -879,7 +879,6 @@ static struct scsi_host_template uas_host_template = {
 	.eh_abort_handler = uas_eh_abort_handler,
 	.eh_device_reset_handler = uas_eh_device_reset_handler,
 	.this_id = -1,
-	.sg_tablesize = SG_NONE,
 	.skip_settle_delay = 1,
 };
 
diff --git a/include/scsi/scsi_host.h b/include/scsi/scsi_host.h
index 5d7e5bc08505..af61fd49307c 100644
--- a/include/scsi/scsi_host.h
+++ b/include/scsi/scsi_host.h
@@ -25,19 +25,6 @@ struct scsi_host_cmd_pool;
 struct scsi_transport_template;
 
 
-/*
- * The various choices mean:
- * NONE: Self evident.	Host adapter is not capable of scatter-gather.
- * ALL:	 Means that the host adapter module can do scatter-gather,
- *	 and that there is no limit to the size of the table to which
- *	 we scatter/gather data.  The value we set here is the maximum
- *	 single element sglist.  To use chained sglists, the adapter
- *	 has to set a value beyond ALL (and correctly use the chain
- *	 handling API.
- * Anything else:  Indicates the maximum number of chains that can be
- *	 used in one scatter-gather request.
- */
-#define SG_NONE 0
 #define SG_ALL	SG_CHUNK_SIZE
 
 #define MODE_UNKNOWN 0x00
