mptcp: reduce the arguments of mptcp_sendmsg_frag

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Paolo Abeni <pabeni@redhat.com>
commit caf971df01b86f33f151bcfa61b4385cf5e43822
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/caf971df.failed

The current argument list is pretty long and quite unreadable,
move many of them into a specific struct. Later patches
will add more stuff to such struct.

Additionally drop the 'timeo' argument, now unused.

	Signed-off-by: Paolo Abeni <pabeni@redhat.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit caf971df01b86f33f151bcfa61b4385cf5e43822)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/mptcp/protocol.c
diff --cc net/mptcp/protocol.c
index 832286dada3b,4ed9b1cc3b1e..000000000000
--- a/net/mptcp/protocol.c
+++ b/net/mptcp/protocol.c
@@@ -926,10 -1189,16 +928,21 @@@ static void ssk_check_wmem(struct mptcp
  
  static int mptcp_sendmsg(struct sock *sk, struct msghdr *msg, size_t len)
  {
- 	int mss_now = 0, size_goal = 0, ret = 0;
  	struct mptcp_sock *msk = mptcp_sk(sk);
++<<<<<<< HEAD
++	size_t copied = 0;
++	struct sock *ssk;
++=======
+ 	struct mptcp_sendmsg_info info = {
+ 		.mss_now = 0,
+ 		.size_goal = 0,
+ 	};
+ 	struct page_frag *pfrag;
  	size_t copied = 0;
  	struct sock *ssk;
+ 	int ret = 0;
+ 	u32 sndbuf;
++>>>>>>> caf971df01b8 (mptcp: reduce the arguments of mptcp_sendmsg_frag)
  	bool tx_ok;
  	long timeo;
  
@@@ -1007,9 -1287,10 +1019,9 @@@ restart
  			break;
  
  		if (!sk_stream_memory_free(ssk) ||
 -		    !mptcp_page_frag_refill(ssk, pfrag) ||
  		    !mptcp_ext_cache_refill(msk)) {
- 			tcp_push(ssk, msg->msg_flags, mss_now,
- 				 tcp_sk(ssk)->nonagle, size_goal);
+ 			tcp_push(ssk, msg->msg_flags, info.mss_now,
+ 				 tcp_sk(ssk)->nonagle, info.size_goal);
  			mptcp_set_timeout(sk, ssk);
  			release_sock(ssk);
  			goto restart;
* Unmerged path net/mptcp/protocol.c
