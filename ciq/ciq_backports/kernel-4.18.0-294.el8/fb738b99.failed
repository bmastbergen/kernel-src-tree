mlxsw: Fix firmware flashing

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Ido Schimmel <idosch@nvidia.com>
commit fb738b99ef229bd3d25f1b3e5503925dba9b1a7c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/fb738b99.failed

The commit cited below moved firmware flashing functionality from
mlxsw_spectrum to mlxsw_core, but did not adjust the Kconfig
dependencies. This makes it possible to have mlxsw_core as built-in and
mlxfw as a module. The mlxfw code is therefore not reachable from
mlxsw_core and firmware flashing fails:

# devlink dev flash pci/0000:01:00.0 file mellanox/mlxsw_spectrum-13.2008.1310.mfa2
devlink answers: Operation not supported

Fix by having mlxsw_core select mlxfw.

Fixes: b79cb787ac70 ("mlxsw: Move fw flashing code into core.c")
	Signed-off-by: Ido Schimmel <idosch@nvidia.com>
	Reported-by: Vadim Pasternak <vadimp@nvidia.com>
	Tested-by: Vadim Pasternak <vadimp@nvidia.com>
	Reviewed-by: Jiri Pirko <jiri@nvidia.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit fb738b99ef229bd3d25f1b3e5503925dba9b1a7c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/Kconfig
diff --cc drivers/net/ethernet/mellanox/mlxsw/Kconfig
index 0c27e6293ee3,a619d90559f7..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/Kconfig
+++ b/drivers/net/ethernet/mellanox/mlxsw/Kconfig
@@@ -5,7 -6,8 +5,12 @@@
  config MLXSW_CORE
  	tristate "Mellanox Technologies Switch ASICs support"
  	select NET_DEVLINK
++<<<<<<< HEAD
 +	---help---
++=======
+ 	select MLXFW
+ 	help
++>>>>>>> fb738b99ef22 (mlxsw: Fix firmware flashing)
  	  This driver supports Mellanox Technologies Switch ASICs family.
  
  	  To compile this driver as a module, choose M here: the
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/Kconfig
