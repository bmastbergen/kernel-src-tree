ethtool: fix reference leak in some *_SET handlers

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Michal Kubecek <mkubecek@suse.cz>
commit 2f599ec422ad6634fb5ad43748b9969ca9d742bd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/2f599ec4.failed

Andrew noticed that some handlers for *_SET commands leak a netdev
reference if required ethtool_ops callbacks do not exist. A simple
reproducer would be e.g.

  ip link add veth1 type veth peer name veth2
  ethtool -s veth1 wol g
  ip link del veth1

Make sure dev_put() is called when ethtool_ops check fails.

v2: add Fixes tags

Fixes: a53f3d41e4d3 ("ethtool: set link settings with LINKINFO_SET request")
Fixes: bfbcfe2032e7 ("ethtool: set link modes related data with LINKMODES_SET request")
Fixes: e54d04e3afea ("ethtool: set message mask with DEBUG_SET request")
Fixes: 8d425b19b305 ("ethtool: set wake-on-lan settings with WOL_SET request")
	Reported-by: Andrew Lunn <andrew@lunn.ch>
	Signed-off-by: Michal Kubecek <mkubecek@suse.cz>
	Reviewed-by: Andrew Lunn <andrew@lunn.ch>
	Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
	Reviewed-by: Jakub Kicinski <kuba@kernel.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 2f599ec422ad6634fb5ad43748b9969ca9d742bd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ethtool/debug.c
#	net/ethtool/linkinfo.c
#	net/ethtool/linkmodes.c
#	net/ethtool/wol.c
* Unmerged path net/ethtool/debug.c
* Unmerged path net/ethtool/linkinfo.c
* Unmerged path net/ethtool/linkmodes.c
* Unmerged path net/ethtool/wol.c
* Unmerged path net/ethtool/debug.c
* Unmerged path net/ethtool/linkinfo.c
* Unmerged path net/ethtool/linkmodes.c
* Unmerged path net/ethtool/wol.c
