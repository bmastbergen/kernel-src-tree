net: ethtool: Add helpers for reporting test results

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Andrew Lunn <andrew@lunn.ch>
commit 1e2dc14509fd072739e4bab98ac42317267dbad6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/1e2dc145.failed

The PHY drivers can use these helpers for reporting the results. The
results get translated into netlink attributes which are added to the
pre-allocated skbuf.

v3:
Poison phydev->skb
Return -EMSGSIZE when ethnl_bcastmsg_put() fails
Return valid error code when nla_nest_start() fails
Use u8 for results
Actually put u32 length into message

v4:
s/ENOTSUPP/EOPNOTSUPP/g

	Signed-off-by: Andrew Lunn <andrew@lunn.ch>
	Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
	Reviewed-by: Michal Kubecek <mkubecek@suse.cz>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 1e2dc14509fd072739e4bab98ac42317267dbad6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/ethtool_netlink.h
#	net/ethtool/cabletest.c
* Unmerged path include/linux/ethtool_netlink.h
* Unmerged path net/ethtool/cabletest.c
* Unmerged path include/linux/ethtool_netlink.h
diff --git a/include/linux/phy.h b/include/linux/phy.h
index c0384427f3d6..fac51d8f86e0 100644
--- a/include/linux/phy.h
+++ b/include/linux/phy.h
@@ -1273,6 +1273,10 @@ int phy_start_cable_test(struct phy_device *phydev,
 }
 #endif
 
+int phy_cable_test_result(struct phy_device *phydev, u8 pair, u16 result);
+int phy_cable_test_fault_length(struct phy_device *phydev, u8 pair,
+				u16 cm);
+
 static inline void phy_device_reset(struct phy_device *phydev, int value)
 {
 	mdio_device_reset(&phydev->mdio, value);
* Unmerged path net/ethtool/cabletest.c
