posix-clocks: Rename .clock_get_timespec() callbacks accordingly

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Andrei Vagin <avagin@gmail.com>
commit eaf80194d0fe48be393587541c48a799a9a06a70
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/eaf80194.failed

The upcoming support for time namespaces requires to have access to:

  - The time in a task's time namespace for sys_clock_gettime()
  - The time in the root name space for common_timer_get()

That adds a valid reason to finally implement a separate callback which
returns the time in ktime_t format in (struct k_clock).

As a preparation ground for introducing clock_get_ktime(), the original
callback clock_get() was renamed into clock_get_timespec().
Reflect the renaming into the callback implementations.

	Suggested-by: Thomas Gleixner <tglx@linutronix.de>
Co-developed-by: Dmitry Safonov <dima@arista.com>
	Signed-off-by: Andrei Vagin <avagin@gmail.com>
	Signed-off-by: Dmitry Safonov <dima@arista.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Link: https://lore.kernel.org/r/20191112012724.250792-7-dima@arista.com


(cherry picked from commit eaf80194d0fe48be393587541c48a799a9a06a70)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/time/alarmtimer.c
#	kernel/time/posix-timers.c
diff --cc kernel/time/alarmtimer.c
index 326f427f10d1,62b06cfa710d..000000000000
--- a/kernel/time/alarmtimer.c
+++ b/kernel/time/alarmtimer.c
@@@ -661,7 -657,7 +661,11 @@@ static int alarm_clock_getres(const clo
  }
  
  /**
++<<<<<<< HEAD
 + * alarm_clock_get - posix clock_get interface
++=======
+  * alarm_clock_get_timespec - posix clock_get_timespec interface
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
   * @which_clock: clockid
   * @tp: timespec to fill.
   *
@@@ -841,7 -837,7 +845,11 @@@ static int alarm_timer_nsleep(const clo
  
  const struct k_clock alarm_clock = {
  	.clock_getres		= alarm_clock_getres,
++<<<<<<< HEAD
 +	.clock_get		= alarm_clock_get,
++=======
+ 	.clock_get_timespec	= alarm_clock_get_timespec,
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
  	.timer_create		= alarm_timer_create,
  	.timer_set		= common_timer_set,
  	.timer_del		= common_timer_del,
diff --cc kernel/time/posix-timers.c
index 01e4d34a4403,68d4690cc225..000000000000
--- a/kernel/time/posix-timers.c
+++ b/kernel/time/posix-timers.c
@@@ -1307,7 -1261,7 +1307,11 @@@ COMPAT_SYSCALL_DEFINE4(clock_nanosleep
  
  static const struct k_clock clock_realtime = {
  	.clock_getres		= posix_get_hrtimer_res,
++<<<<<<< HEAD
 +	.clock_get		= posix_clock_realtime_get,
++=======
+ 	.clock_get_timespec	= posix_get_realtime_timespec,
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
  	.clock_set		= posix_clock_realtime_set,
  	.clock_adj		= posix_clock_realtime_adj,
  	.nsleep			= common_nsleep,
@@@ -1325,7 -1279,7 +1329,11 @@@
  
  static const struct k_clock clock_monotonic = {
  	.clock_getres		= posix_get_hrtimer_res,
++<<<<<<< HEAD
 +	.clock_get		= posix_ktime_get_ts,
++=======
+ 	.clock_get_timespec	= posix_get_monotonic_timespec,
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
  	.nsleep			= common_nsleep,
  	.timer_create		= common_timer_create,
  	.timer_set		= common_timer_set,
@@@ -1356,7 -1310,7 +1364,11 @@@ static const struct k_clock clock_monot
  
  static const struct k_clock clock_tai = {
  	.clock_getres		= posix_get_hrtimer_res,
++<<<<<<< HEAD
 +	.clock_get		= posix_get_tai,
++=======
+ 	.clock_get_timespec	= posix_get_tai_timespec,
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
  	.nsleep			= common_nsleep,
  	.timer_create		= common_timer_create,
  	.timer_set		= common_timer_set,
@@@ -1372,7 -1326,7 +1384,11 @@@
  
  static const struct k_clock clock_boottime = {
  	.clock_getres		= posix_get_hrtimer_res,
++<<<<<<< HEAD
 +	.clock_get		= posix_get_boottime,
++=======
+ 	.clock_get_timespec	= posix_get_boottime_timespec,
++>>>>>>> eaf80194d0fe (posix-clocks: Rename .clock_get_timespec() callbacks accordingly)
  	.nsleep			= common_nsleep,
  	.timer_create		= common_timer_create,
  	.timer_set		= common_timer_set,
* Unmerged path kernel/time/alarmtimer.c
* Unmerged path kernel/time/posix-timers.c
