xfs: refactor suffix_kstrtoint()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Ian Kent <raven@themaw.net>
commit c0a6791667f81d9b12443f7ed1c7b4602be9e3c9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/c0a67916.failed

The mount-api doesn't have a "human unit" parse type yet so the options
that have values like "10k" etc. still need to be converted by the fs.

But the value comes to the fs as a string (not a substring_t type) so
there's a need to change the conversion function to take a character
string instead.

When xfs is switched to use the new mount-api match_kstrtoint() will no
longer be used and will be removed.

	Signed-off-by: Ian Kent <raven@themaw.net>
	Reviewed-by: Brian Foster <bfoster@redhat.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>
	Reviewed-by: Darrick J. Wong <darrick.wong@oracle.com>
	Signed-off-by: Darrick J. Wong <darrick.wong@oracle.com>
(cherry picked from commit c0a6791667f81d9b12443f7ed1c7b4602be9e3c9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/xfs_super.c
diff --cc fs/xfs/xfs_super.c
index 675e035da114,0dc072700599..000000000000
--- a/fs/xfs/xfs_super.c
+++ b/fs/xfs/xfs_super.c
@@@ -211,10 -230,10 +231,14 @@@ xfs_parseargs
  				return -ENOMEM;
  			break;
  		case Opt_allocsize:
++<<<<<<< HEAD
 +		case Opt_biosize:
 +			if (suffix_kstrtoint(args, 10, &iosize))
++=======
+ 			if (match_kstrtoint(args, 10, &size))
++>>>>>>> c0a6791667f8 (xfs: refactor suffix_kstrtoint())
  				return -EINVAL;
 -			mp->m_allocsize_log = ffs(size) - 1;
 -			mp->m_flags |= XFS_MOUNT_ALLOCSIZE;
 +			iosizelog = ffs(iosize) - 1;
  			break;
  		case Opt_grpid:
  		case Opt_bsdgroups:
* Unmerged path fs/xfs/xfs_super.c
