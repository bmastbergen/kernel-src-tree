x86/kvm: Remove defunct KVM_DEBUG_FS Kconfig

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
Rebuild_CHGLOG: - [x86] kvm: Remove defunct KVM_DEBUG_FS Kconfig (Vitaly Kuznetsov) [1882793]
Rebuild_FUZZ: 95.24%
commit-author Sean Christopherson <sean.j.christopherson@intel.com>
commit 0e96edd9a9c2e75ece7f581d4f75d26b38cd53ba
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/0e96edd9.failed

Remove KVM_DEBUG_FS, which can easily be misconstrued as controlling
KVM-as-a-host.  The sole user of CONFIG_KVM_DEBUG_FS was removed by
commit cfd8983f03c7b ("x86, locking/spinlocks: Remove ticket (spin)lock
implementation").

	Signed-off-by: Sean Christopherson <sean.j.christopherson@intel.com>
Message-Id: <20200528031121.28904-1-sean.j.christopherson@intel.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 0e96edd9a9c2e75ece7f581d4f75d26b38cd53ba)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/Kconfig
diff --cc arch/x86/Kconfig
index 3fc0a4c91af5,67f6a40b5e93..000000000000
--- a/arch/x86/Kconfig
+++ b/arch/x86/Kconfig
@@@ -810,20 -810,17 +810,23 @@@ config KVM_GUES
  	  timing infrastructure such as time of day, and system time
  
  config ARCH_CPUIDLE_HALTPOLL
 -	def_bool n
 -	prompt "Disable host haltpoll when loading haltpoll driver"
 -	help
 -	  If virtualized under KVM, disable host haltpoll.
 -
 -config PVH
 -	bool "Support for running PVH guests"
 +         def_bool n
 +         prompt "Disable host haltpoll when loading haltpoll driver"
 +         help
 +         If virtualized under KVM, disable host haltpoll.
 +
++<<<<<<< HEAD
 +config KVM_DEBUG_FS
 +	bool "Enable debug information for KVM Guests in debugfs"
 +	depends on KVM_GUEST && DEBUG_FS
 +	default n
  	---help---
 -	  This option enables the PVH entry point for guest virtual machines
 -	  as specified in the x86/HVM direct boot ABI.
 +	  This option enables collection of various statistics for KVM guest.
 +	  Statistics are displayed in debugfs filesystem. Enabling this option
 +	  may incur significant overhead.
  
++=======
++>>>>>>> 0e96edd9a9c2 (x86/kvm: Remove defunct KVM_DEBUG_FS Kconfig)
  config PARAVIRT_TIME_ACCOUNTING
  	bool "Paravirtual steal time accounting"
  	depends on PARAVIRT
* Unmerged path arch/x86/Kconfig
diff --git a/arch/x86/kernel/kvm.c b/arch/x86/kernel/kvm.c
index 34ea59cb4c95..9384ac75a38e 100644
--- a/arch/x86/kernel/kvm.c
+++ b/arch/x86/kernel/kvm.c
@@ -34,7 +34,6 @@
 #include <linux/sched.h>
 #include <linux/slab.h>
 #include <linux/kprobes.h>
-#include <linux/debugfs.h>
 #include <linux/nmi.h>
 #include <linux/swait.h>
 #include <asm/timer.h>
