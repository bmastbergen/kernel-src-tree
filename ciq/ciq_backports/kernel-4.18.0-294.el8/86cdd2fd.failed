kheaders: make headers archive reproducible

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Dmitry Goldin <dgoldin+lkml@protonmail.ch>
commit 86cdd2fdc4e39c388d39c7ba2396d1a9dfd66226
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/86cdd2fd.failed

In commit 43d8ce9d65a5 ("Provide in-kernel headers to make
extending kernel easier") a new mechanism was introduced, for kernels
>=5.2, which embeds the kernel headers in the kernel image or a module
and exposes them in procfs for use by userland tools.

The archive containing the header files has nondeterminism caused by
header files metadata. This patch normalizes the metadata and utilizes
KBUILD_BUILD_TIMESTAMP if provided and otherwise falls back to the
default behaviour.

In commit f7b101d33046 ("kheaders: Move from proc to sysfs") it was
modified to use sysfs and the script for generation of the archive was
renamed to what is being patched.

	Signed-off-by: Dmitry Goldin <dgoldin+lkml@protonmail.ch>
	Reviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
	Reviewed-by: Joel Fernandes (Google) <joel@joelfernandes.org>
	Signed-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>
(cherry picked from commit 86cdd2fdc4e39c388d39c7ba2396d1a9dfd66226)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/kbuild/reproducible-builds.rst
#	kernel/gen_kheaders.sh
* Unmerged path Documentation/kbuild/reproducible-builds.rst
* Unmerged path kernel/gen_kheaders.sh
* Unmerged path Documentation/kbuild/reproducible-builds.rst
* Unmerged path kernel/gen_kheaders.sh
