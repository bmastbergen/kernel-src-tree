scsi: qla2xxx: Avoid setting firmware options twice in 24xx_update_fw_options.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
Rebuild_CHGLOG: - [scsi] scsi: qla2xxx: Avoid setting firmware options twice in 24xx_update_fw_options (Nilesh Javali) [1887427]
Rebuild_FUZZ: 99.35%
commit-author Giridhar Malavali <gmalavali@marvell.com>
commit 9ef4847a80d317e4033c2ecf0e73e54c5fd4771d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/9ef4847a.failed

This patch moves ql2xrdpenable check earlier to avoids setting
fw_option once again before exiting qla24xx_update_fw_options.

Link: https://lore.kernel.org/r/20200226224022.24518-3-hmadhani@marvell.com
	Signed-off-by: Himanshu Madhani <hmadhani@marvell.com>
	Signed-off-by: Giridhar Malavali <gmalavali@marvell.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 9ef4847a80d317e4033c2ecf0e73e54c5fd4771d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_init.c
diff --cc drivers/scsi/qla2xxx/qla_init.c
index 7ca6ee6fdf08,1a3c723f4450..000000000000
--- a/drivers/scsi/qla2xxx/qla_init.c
+++ b/drivers/scsi/qla2xxx/qla_init.c
@@@ -3955,9 -3929,8 +3955,14 @@@ qla24xx_update_fw_options(scsi_qla_host
  			ha->fw_options[2] &= ~BIT_8;
  	}
  
++<<<<<<< HEAD
 +	/* Enable Async 8130/8131 events -- transceiver insertion/removal */
 +	if (IS_BPM_RANGE_CAPABLE(ha))
 +		ha->fw_options[3] |= BIT_10;
++=======
+ 	if (ql2xrdpenable)
+ 		ha->fw_options[1] |= ADD_FO1_ENABLE_PUREX_IOCB;
++>>>>>>> 9ef4847a80d3 (scsi: qla2xxx: Avoid setting firmware options twice in 24xx_update_fw_options.)
  
  	ql_dbg(ql_dbg_init, vha, 0x00e8,
  	    "%s, add FW options 1-3 = 0x%04x 0x%04x 0x%04x mode %x\n",
* Unmerged path drivers/scsi/qla2xxx/qla_init.c
