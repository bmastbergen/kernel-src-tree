dmaengine: virt-dma: use vchan_vdesc_fini() to free descriptors

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Sascha Hauer <s.hauer@pengutronix.de>
commit b167f94d2928f3516176c8107cb698a6d9bb9911
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/b167f94d.failed

vchan_dma_desc_free_list() basically open codes vchan_vdesc_fini() in its
loop body. Call it directly rather than duplicating the code.

	Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
	Reviewed-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
	Tested-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
Link: https://lore.kernel.org/r/20191216105328.15198-7-s.hauer@pengutronix.de
	Signed-off-by: Vinod Koul <vkoul@kernel.org>
(cherry picked from commit b167f94d2928f3516176c8107cb698a6d9bb9911)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/dma/virt-dma.c
diff --cc drivers/dma/virt-dma.c
index 955ebc28a64d,95dfe431777e..000000000000
--- a/drivers/dma/virt-dma.c
+++ b/drivers/dma/virt-dma.c
@@@ -117,12 -115,8 +117,17 @@@ void vchan_dma_desc_free_list(struct vi
  	struct virt_dma_desc *vd, *_vd;
  
  	list_for_each_entry_safe(vd, _vd, head, node) {
++<<<<<<< HEAD
 +		if (dmaengine_desc_test_reuse(&vd->tx)) {
 +			list_move_tail(&vd->node, &vc->desc_allocated);
 +		} else {
 +			list_del(&vd->node);
 +			vc->desc_free(vd);
 +		}
++=======
+ 		list_del(&vd->node);
+ 		vchan_vdesc_fini(vd);
++>>>>>>> b167f94d2928 (dmaengine: virt-dma: use vchan_vdesc_fini() to free descriptors)
  	}
  }
  EXPORT_SYMBOL_GPL(vchan_dma_desc_free_list);
* Unmerged path drivers/dma/virt-dma.c
