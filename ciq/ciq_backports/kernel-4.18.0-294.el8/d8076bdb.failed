uapi: Wire up the mount API syscalls on non-x86 arches [ver #2]

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
Rebuild_CHGLOG: - [powerpc] uapi: Wire up the mount API syscalls on non-x86 arches (Scott Mayhew) [1622041]
Rebuild_FUZZ: 92.31%
commit-author David Howells <dhowells@redhat.com>
commit d8076bdb56af5e5918376cd1573a6b0007fc1a89
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/d8076bdb.failed

Wire up the mount API syscalls on non-x86 arches.

	Reported-by: Arnd Bergmann <arnd@arndb.de>
	Signed-off-by: David Howells <dhowells@redhat.com>
	Reviewed-by: Arnd Bergmann <arnd@arndb.de>
	Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
(cherry picked from commit d8076bdb56af5e5918376cd1573a6b0007fc1a89)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/alpha/kernel/syscalls/syscall.tbl
#	arch/arm/tools/syscall.tbl
#	arch/arm64/include/asm/unistd.h
#	arch/ia64/kernel/syscalls/syscall.tbl
#	arch/m68k/kernel/syscalls/syscall.tbl
#	arch/microblaze/kernel/syscalls/syscall.tbl
#	arch/mips/kernel/syscalls/syscall_n32.tbl
#	arch/mips/kernel/syscalls/syscall_n64.tbl
#	arch/mips/kernel/syscalls/syscall_o32.tbl
#	arch/parisc/kernel/syscalls/syscall.tbl
#	arch/powerpc/kernel/syscalls/syscall.tbl
#	arch/s390/kernel/syscalls/syscall.tbl
#	arch/sh/kernel/syscalls/syscall.tbl
#	arch/sparc/kernel/syscalls/syscall.tbl
#	arch/xtensa/kernel/syscalls/syscall.tbl
diff --cc arch/arm/tools/syscall.tbl
index 508d447bf60d,aaf479a9e92d..000000000000
--- a/arch/arm/tools/syscall.tbl
+++ b/arch/arm/tools/syscall.tbl
@@@ -413,6 -413,37 +413,43 @@@
  396	common	pkey_free		sys_pkey_free
  397	common	statx			sys_statx
  398	common	rseq			sys_rseq
++<<<<<<< HEAD
 +425	common	io_uring_setup		sys_io_uring_setup
 +426	common	io_uring_enter		sys_io_uring_enter
- 427	common	io_uring_register	sys_io_uring_register
++427	common	io_uring_register	sys_io_uring_register
++=======
+ 399	common	io_pgetevents		sys_io_pgetevents_time32
+ 400	common	migrate_pages		sys_migrate_pages
+ 401	common	kexec_file_load		sys_kexec_file_load
+ # 402 is unused
+ 403	common	clock_gettime64			sys_clock_gettime
+ 404	common	clock_settime64			sys_clock_settime
+ 405	common	clock_adjtime64			sys_clock_adjtime
+ 406	common	clock_getres_time64		sys_clock_getres
+ 407	common	clock_nanosleep_time64		sys_clock_nanosleep
+ 408	common	timer_gettime64			sys_timer_gettime
+ 409	common	timer_settime64			sys_timer_settime
+ 410	common	timerfd_gettime64		sys_timerfd_gettime
+ 411	common	timerfd_settime64		sys_timerfd_settime
+ 412	common	utimensat_time64		sys_utimensat
+ 413	common	pselect6_time64			sys_pselect6
+ 414	common	ppoll_time64			sys_ppoll
+ 416	common	io_pgetevents_time64		sys_io_pgetevents
+ 417	common	recvmmsg_time64			sys_recvmmsg
+ 418	common	mq_timedsend_time64		sys_mq_timedsend
+ 419	common	mq_timedreceive_time64		sys_mq_timedreceive
+ 420	common	semtimedop_time64		sys_semtimedop
+ 421	common	rt_sigtimedwait_time64		sys_rt_sigtimedwait
+ 422	common	futex_time64			sys_futex
+ 423	common	sched_rr_get_interval_time64	sys_sched_rr_get_interval
+ 424	common	pidfd_send_signal		sys_pidfd_send_signal
+ 425	common	io_uring_setup			sys_io_uring_setup
+ 426	common	io_uring_enter			sys_io_uring_enter
+ 427	common	io_uring_register		sys_io_uring_register
+ 428	common	open_tree			sys_open_tree
+ 429	common	move_mount			sys_move_mount
+ 430	common	fsopen				sys_fsopen
+ 431	common	fsconfig			sys_fsconfig
+ 432	common	fsmount				sys_fsmount
+ 433	common	fspick				sys_fspick
++>>>>>>> d8076bdb56af (uapi: Wire up the mount API syscalls on non-x86 arches [ver #2])
diff --cc arch/arm64/include/asm/unistd.h
index 1ef36cf49885,70e6882853c0..000000000000
--- a/arch/arm64/include/asm/unistd.h
+++ b/arch/arm64/include/asm/unistd.h
@@@ -40,10 -40,11 +40,14 @@@
   * The following SVCs are ARM private.
   */
  #define __ARM_NR_COMPAT_BASE		0x0f0000
 -#define __ARM_NR_compat_cacheflush	(__ARM_NR_COMPAT_BASE + 2)
 -#define __ARM_NR_compat_set_tls		(__ARM_NR_COMPAT_BASE + 5)
 -#define __ARM_NR_COMPAT_END		(__ARM_NR_COMPAT_BASE + 0x800)
 +#define __ARM_NR_compat_cacheflush	(__ARM_NR_COMPAT_BASE+2)
 +#define __ARM_NR_compat_set_tls		(__ARM_NR_COMPAT_BASE+5)
  
++<<<<<<< HEAD
 +#define __NR_compat_syscalls		402
++=======
+ #define __NR_compat_syscalls		434
++>>>>>>> d8076bdb56af (uapi: Wire up the mount API syscalls on non-x86 arches [ver #2])
  #endif
  
  #define __ARCH_WANT_SYS_CLONE
diff --cc arch/s390/kernel/syscalls/syscall.tbl
index c67da38d5e42,e822b2964a83..000000000000
--- a/arch/s390/kernel/syscalls/syscall.tbl
+++ b/arch/s390/kernel/syscalls/syscall.tbl
@@@ -381,16 -381,58 +381,65 @@@
  371  common	recvfrom		sys_recvfrom			compat_sys_recvfrom
  372  common	recvmsg			sys_recvmsg			compat_sys_recvmsg
  373  common	shutdown		sys_shutdown			sys_shutdown
 -374  common	mlock2			sys_mlock2			sys_mlock2
 -375  common	copy_file_range		sys_copy_file_range		sys_copy_file_range
 +374  common	mlock2			sys_mlock2			compat_sys_mlock2
 +375  common	copy_file_range		sys_copy_file_range		compat_sys_copy_file_range
  376  common	preadv2			sys_preadv2			compat_sys_preadv2
  377  common	pwritev2		sys_pwritev2			compat_sys_pwritev2
 -378  common	s390_guarded_storage	sys_s390_guarded_storage	sys_s390_guarded_storage
 -379  common	statx			sys_statx			sys_statx
 -380  common	s390_sthyi		sys_s390_sthyi			sys_s390_sthyi
 -381  common	kexec_file_load		sys_kexec_file_load		sys_kexec_file_load
 +378  common	s390_guarded_storage	sys_s390_guarded_storage	compat_sys_s390_guarded_storage
 +379  common	statx			sys_statx			compat_sys_statx
 +380  common	s390_sthyi		sys_s390_sthyi			compat_sys_s390_sthyi
 +381  common	kexec_file_load		sys_kexec_file_load		compat_sys_kexec_file_load
  382  common	io_pgetevents		sys_io_pgetevents		compat_sys_io_pgetevents
++<<<<<<< HEAD
 +383  common	rseq			sys_rseq			compat_sys_rseq
 +425  common	io_uring_setup		sys_io_uring_setup		sys_io_uring_setup
 +426  common	io_uring_enter		sys_io_uring_enter		sys_io_uring_enter
 +427  common	io_uring_register	sys_io_uring_register		sys_io_uring_register
++=======
+ 383  common	rseq			sys_rseq			sys_rseq
+ 384  common	pkey_mprotect		sys_pkey_mprotect		sys_pkey_mprotect
+ 385  common	pkey_alloc		sys_pkey_alloc			sys_pkey_alloc
+ 386  common	pkey_free		sys_pkey_free			sys_pkey_free
+ # room for arch specific syscalls
+ 392	64	semtimedop		sys_semtimedop			-
+ 393  common	semget			sys_semget			sys_semget
+ 394  common	semctl			sys_semctl			compat_sys_semctl
+ 395  common	shmget			sys_shmget			sys_shmget
+ 396  common	shmctl			sys_shmctl			compat_sys_shmctl
+ 397  common	shmat			sys_shmat			compat_sys_shmat
+ 398  common	shmdt			sys_shmdt 			sys_shmdt
+ 399  common	msgget			sys_msgget			sys_msgget
+ 400  common	msgsnd			sys_msgsnd			compat_sys_msgsnd
+ 401  common	msgrcv			sys_msgrcv			compat_sys_msgrcv
+ 402  common	msgctl			sys_msgctl			compat_sys_msgctl
+ 403	32	clock_gettime64		-				sys_clock_gettime
+ 404	32	clock_settime64		-				sys_clock_settime
+ 405	32	clock_adjtime64		-				sys_clock_adjtime
+ 406	32	clock_getres_time64	-				sys_clock_getres
+ 407	32	clock_nanosleep_time64	-				sys_clock_nanosleep
+ 408	32	timer_gettime64		-				sys_timer_gettime
+ 409	32	timer_settime64		-				sys_timer_settime
+ 410	32	timerfd_gettime64	-				sys_timerfd_gettime
+ 411	32	timerfd_settime64	-				sys_timerfd_settime
+ 412	32	utimensat_time64	-				sys_utimensat
+ 413	32	pselect6_time64		-				compat_sys_pselect6_time64
+ 414	32	ppoll_time64		-				compat_sys_ppoll_time64
+ 416	32	io_pgetevents_time64	-				sys_io_pgetevents
+ 417	32	recvmmsg_time64		-				compat_sys_recvmmsg_time64
+ 418	32	mq_timedsend_time64	-				sys_mq_timedsend
+ 419	32	mq_timedreceive_time64	-				sys_mq_timedreceive
+ 420	32	semtimedop_time64	-				sys_semtimedop
+ 421	32	rt_sigtimedwait_time64	-				compat_sys_rt_sigtimedwait_time64
+ 422	32	futex_time64		-				sys_futex
+ 423	32	sched_rr_get_interval_time64	-			sys_sched_rr_get_interval
+ 424  common	pidfd_send_signal	sys_pidfd_send_signal		sys_pidfd_send_signal
+ 425  common	io_uring_setup		sys_io_uring_setup              sys_io_uring_setup
+ 426  common	io_uring_enter		sys_io_uring_enter              sys_io_uring_enter
+ 427  common	io_uring_register	sys_io_uring_register           sys_io_uring_register
+ 428  common	open_tree		sys_open_tree			sys_open_tree
+ 429  common	move_mount		sys_move_mount			sys_move_mount
+ 430  common	fsopen			sys_fsopen			sys_fsopen
+ 431  common	fsconfig		sys_fsconfig			sys_fsconfig
+ 432  common	fsmount			sys_fsmount			sys_fsmount
+ 433  common	fspick			sys_fspick			sys_fspick
++>>>>>>> d8076bdb56af (uapi: Wire up the mount API syscalls on non-x86 arches [ver #2])
* Unmerged path arch/alpha/kernel/syscalls/syscall.tbl
* Unmerged path arch/ia64/kernel/syscalls/syscall.tbl
* Unmerged path arch/m68k/kernel/syscalls/syscall.tbl
* Unmerged path arch/microblaze/kernel/syscalls/syscall.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_n32.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_n64.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_o32.tbl
* Unmerged path arch/parisc/kernel/syscalls/syscall.tbl
* Unmerged path arch/powerpc/kernel/syscalls/syscall.tbl
* Unmerged path arch/sh/kernel/syscalls/syscall.tbl
* Unmerged path arch/sparc/kernel/syscalls/syscall.tbl
* Unmerged path arch/xtensa/kernel/syscalls/syscall.tbl
* Unmerged path arch/alpha/kernel/syscalls/syscall.tbl
* Unmerged path arch/arm/tools/syscall.tbl
* Unmerged path arch/arm64/include/asm/unistd.h
diff --git a/arch/arm64/include/asm/unistd32.h b/arch/arm64/include/asm/unistd32.h
index 3e40028c7f81..28434cae375e 100644
--- a/arch/arm64/include/asm/unistd32.h
+++ b/arch/arm64/include/asm/unistd32.h
@@ -825,6 +825,18 @@ __SYSCALL(__NR_io_uring_setup, sys_io_uring_setup)
 __SYSCALL(__NR_io_uring_enter, sys_io_uring_enter)
 #define __NR_io_uring_register 427
 __SYSCALL(__NR_io_uring_register, sys_io_uring_register)
+#define __NR_open_tree 428
+__SYSCALL(__NR_open_tree, sys_open_tree)
+#define __NR_move_mount 429
+__SYSCALL(__NR_move_mount, sys_move_mount)
+#define __NR_fsopen 430
+__SYSCALL(__NR_fsopen, sys_fsopen)
+#define __NR_fsconfig 431
+__SYSCALL(__NR_fsconfig, sys_fsconfig)
+#define __NR_fsmount 432
+__SYSCALL(__NR_fsmount, sys_fsmount)
+#define __NR_fspick 433
+__SYSCALL(__NR_fspick, sys_fspick)
 
 /*
  * Please add new compat syscalls above this comment and update
* Unmerged path arch/ia64/kernel/syscalls/syscall.tbl
* Unmerged path arch/m68k/kernel/syscalls/syscall.tbl
* Unmerged path arch/microblaze/kernel/syscalls/syscall.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_n32.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_n64.tbl
* Unmerged path arch/mips/kernel/syscalls/syscall_o32.tbl
* Unmerged path arch/parisc/kernel/syscalls/syscall.tbl
* Unmerged path arch/powerpc/kernel/syscalls/syscall.tbl
* Unmerged path arch/s390/kernel/syscalls/syscall.tbl
* Unmerged path arch/sh/kernel/syscalls/syscall.tbl
* Unmerged path arch/sparc/kernel/syscalls/syscall.tbl
* Unmerged path arch/xtensa/kernel/syscalls/syscall.tbl
diff --git a/include/uapi/asm-generic/unistd.h b/include/uapi/asm-generic/unistd.h
index c43f1d09c45e..5fbeda1f495c 100644
--- a/include/uapi/asm-generic/unistd.h
+++ b/include/uapi/asm-generic/unistd.h
@@ -744,9 +744,21 @@ __SYSCALL(__NR_io_uring_setup, sys_io_uring_setup)
 __SYSCALL(__NR_io_uring_enter, sys_io_uring_enter)
 #define __NR_io_uring_register 427
 __SYSCALL(__NR_io_uring_register, sys_io_uring_register)
+#define __NR_open_tree 428
+__SYSCALL(__NR_open_tree, sys_open_tree)
+#define __NR_move_mount 429
+__SYSCALL(__NR_move_mount, sys_move_mount)
+#define __NR_fsopen 430
+__SYSCALL(__NR_fsopen, sys_fsopen)
+#define __NR_fsconfig 431
+__SYSCALL(__NR_fsconfig, sys_fsconfig)
+#define __NR_fsmount 432
+__SYSCALL(__NR_fsmount, sys_fsmount)
+#define __NR_fspick 433
+__SYSCALL(__NR_fspick, sys_fspick)
 
 #undef __NR_syscalls
-#define __NR_syscalls 428
+#define __NR_syscalls 434
 
 /*
  * 32 bit systems traditionally used different
