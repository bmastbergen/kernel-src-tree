ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
Rebuild_CHGLOG: - [sound] ALSA: ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx() (Jaroslav Kysela) [1869536]
Rebuild_FUZZ: 95.59%
commit-author Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
commit 7cf3c5b4a04f4b27d964089630290beccc115f9f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/7cf3c5b4.failed

"rtd" can be created from "substream".
Let's cleanup snd_soc_link_xxx().

	Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
	Reviewed-by: Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
	Reviewed-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/87y2pg3k78.wl-kuninori.morimoto.gx@renesas.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 7cf3c5b4a04f4b27d964089630290beccc115f9f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/sound/soc-link.h
#	sound/soc/soc-link.c
#	sound/soc/soc-pcm.c
diff --cc sound/soc/soc-pcm.c
index a13e43103b4d,0204a3ecfc8b..000000000000
--- a/sound/soc/soc-pcm.c
+++ b/sound/soc/soc-pcm.c
@@@ -562,7 -683,7 +562,11 @@@ static int soc_pcm_close(struct snd_pcm
  	for_each_rtd_dais(rtd, i, dai)
  		snd_soc_dai_shutdown(dai, substream);
  
++<<<<<<< HEAD
 +	soc_rtd_shutdown(rtd, substream);
++=======
+ 	snd_soc_link_shutdown(substream);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  
  	soc_pcm_components_close(substream);
  
@@@ -609,12 -730,9 +613,17 @@@ static int soc_pcm_open(struct snd_pcm_
  	if (ret < 0)
  		goto component_err;
  
++<<<<<<< HEAD
 +	ret = soc_rtd_startup(rtd, substream);
 +	if (ret < 0) {
 +		pr_err("ASoC: %s startup failed: %d\n",
 +		       rtd->dai_link->name, ret);
++=======
+ 	ret = snd_soc_link_startup(substream);
+ 	if (ret < 0)
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  		goto rtd_startup_err;
 +	}
  
  	/* startup the audio subsystem */
  	for_each_rtd_dais(rtd, i, dai) {
@@@ -696,7 -814,7 +705,11 @@@ config_err
  	for_each_rtd_dais(rtd, i, dai)
  		snd_soc_dai_shutdown(dai, substream);
  
++<<<<<<< HEAD
 +	soc_rtd_shutdown(rtd, substream);
++=======
+ 	snd_soc_link_shutdown(substream);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  rtd_startup_err:
  	soc_pcm_components_close(substream);
  component_err:
@@@ -738,12 -856,9 +751,17 @@@ static int soc_pcm_prepare(struct snd_p
  
  	mutex_lock_nested(&rtd->card->pcm_mutex, rtd->card->pcm_subclass);
  
++<<<<<<< HEAD
 +	ret = soc_rtd_prepare(rtd, substream);
 +	if (ret < 0) {
 +		dev_err(rtd->card->dev,
 +			"ASoC: machine prepare error: %d\n", ret);
++=======
+ 	ret = snd_soc_link_prepare(substream);
+ 	if (ret < 0)
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  		goto out;
 +	}
  
  	for_each_rtd_components(rtd, i, component) {
  		ret = snd_soc_component_prepare(component, substream);
@@@ -828,12 -943,9 +846,17 @@@ static int soc_pcm_hw_params(struct snd
  	if (ret)
  		goto out;
  
++<<<<<<< HEAD
 +	ret = soc_rtd_hw_params(rtd, substream, params);
 +	if (ret < 0) {
 +		dev_err(rtd->card->dev,
 +			"ASoC: machine hw_params failed: %d\n", ret);
++=======
+ 	ret = snd_soc_link_hw_params(substream, params);
+ 	if (ret < 0)
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  		goto out;
 +	}
  
  	for_each_rtd_codec_dais(rtd, i, codec_dai) {
  		struct snd_pcm_hw_params codec_params;
@@@ -943,7 -1055,7 +966,11 @@@ codec_err
  		codec_dai->rate = 0;
  	}
  
++<<<<<<< HEAD
 +	soc_rtd_hw_free(rtd, substream);
++=======
+ 	snd_soc_link_hw_free(substream);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  
  	mutex_unlock(&rtd->card->pcm_mutex);
  	return ret;
@@@ -975,7 -1087,7 +1002,11 @@@ static int soc_pcm_hw_free(struct snd_p
  	}
  
  	/* free any machine hw params */
++<<<<<<< HEAD
 +	soc_rtd_hw_free(rtd, substream);
++=======
+ 	snd_soc_link_hw_free(substream);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  
  	/* free any component resources */
  	soc_pcm_components_hw_free(substream, NULL);
@@@ -998,7 -1110,7 +1029,11 @@@ static int soc_pcm_trigger_start(struc
  	struct snd_soc_component *component;
  	int i, ret;
  
++<<<<<<< HEAD
 +	ret = soc_rtd_trigger(rtd, substream, cmd);
++=======
+ 	ret = snd_soc_link_trigger(substream, cmd);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  	if (ret < 0)
  		return ret;
  
@@@ -1027,7 -1139,7 +1062,11 @@@ static int soc_pcm_trigger_stop(struct 
  			return ret;
  	}
  
++<<<<<<< HEAD
 +	ret = soc_rtd_trigger(rtd, substream, cmd);
++=======
+ 	ret = snd_soc_link_trigger(substream, cmd);
++>>>>>>> 7cf3c5b4a04f (ASoC: soc-link: remove unneeded parameter from snd_soc_link_xxx())
  	if (ret < 0)
  		return ret;
  
* Unmerged path include/sound/soc-link.h
* Unmerged path sound/soc/soc-link.c
* Unmerged path include/sound/soc-link.h
* Unmerged path sound/soc/soc-link.c
* Unmerged path sound/soc/soc-pcm.c
