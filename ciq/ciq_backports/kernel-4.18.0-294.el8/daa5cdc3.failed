net: Refactor xdp_convert_buff_to_frame

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author David Ahern <dsahern@kernel.org>
commit daa5cdc3fd08407048538585b2433601d4089a82
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/daa5cdc3.failed

Move the guts of xdp_convert_buff_to_frame to a new helper,
xdp_update_frame_from_buff so it can be reused removing code duplication

	Suggested-by: Jesper Dangaard Brouer <brouer@redhat.com>
Co-developed-by: Lorenzo Bianconi <lorenzo@kernel.org>
	Signed-off-by: Lorenzo Bianconi <lorenzo@kernel.org>
	Signed-off-by: David Ahern <dsahern@kernel.org>
	Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
	Acked-by: Jesper Dangaard Brouer <brouer@redhat.com>
Link: https://lore.kernel.org/bpf/90a68c283d7ebeb48924934c9b7ac79492300472.1594734381.git.lorenzo@kernel.org
(cherry picked from commit daa5cdc3fd08407048538585b2433601d4089a82)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/net/xdp.h
diff --cc include/net/xdp.h
index 6368152dc76c,5b383c450858..000000000000
--- a/include/net/xdp.h
+++ b/include/net/xdp.h
@@@ -124,16 -121,11 +124,22 @@@ void xdp_convert_frame_to_buff(struct x
  	xdp->frame_sz = frame->frame_sz;
  }
  
- /* Convert xdp_buff to xdp_frame */
  static inline
++<<<<<<< HEAD
 +struct xdp_frame *convert_to_xdp_frame(struct xdp_buff *xdp)
 +{
 +	struct xdp_frame *xdp_frame;
 +	int metasize;
 +	int headroom;
 +
 +	if (xdp->rxq->mem.type == MEM_TYPE_ZERO_COPY)
 +		return xdp_convert_zc_to_xdp_frame(xdp);
++=======
+ int xdp_update_frame_from_buff(struct xdp_buff *xdp,
+ 			       struct xdp_frame *xdp_frame)
+ {
+ 	int metasize, headroom;
++>>>>>>> daa5cdc3fd08 (net: Refactor xdp_convert_buff_to_frame)
  
  	/* Assure headroom is available for storing info */
  	headroom = xdp->data - xdp->data_hard_start;
* Unmerged path include/net/xdp.h
