vfs: Convert virtio_balloon to use the new mount API

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author David Howells <dhowells@redhat.com>
commit 99558d203ceab980d74066daac4050609f5eccf4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/99558d20.failed

Convert the virtio_balloon filesystem to the new internal mount API as the old
one will be obsoleted and removed.  This allows greater flexibility in
communication of mount parameters between userspace, the VFS and the
filesystem.

See Documentation/filesystems/mount_api.txt for more information.

	Signed-off-by: David Howells <dhowells@redhat.com>
cc: "Michael S. Tsirkin" <mst@redhat.com>
cc: Jason Wang <jasowang@redhat.com>
cc: virtualization@lists.linux-foundation.org
	Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
(cherry picked from commit 99558d203ceab980d74066daac4050609f5eccf4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/virtio/virtio_balloon.c
diff --cc drivers/virtio/virtio_balloon.c
index a35cc162eecf,4ca2d71d43f8..000000000000
--- a/drivers/virtio/virtio_balloon.c
+++ b/drivers/virtio/virtio_balloon.c
@@@ -538,11 -759,9 +539,14 @@@ static int virtballoon_migratepage(stru
  	return MIGRATEPAGE_SUCCESS;
  }
  
- static struct dentry *balloon_mount(struct file_system_type *fs_type,
- 		int flags, const char *dev_name, void *data)
+ static int balloon_init_fs_context(struct fs_context *fc)
  {
++<<<<<<< HEAD
 +	return mount_pseudo(fs_type, "balloon-kvm:", NULL, NULL,
 +				BALLOON_KVM_MAGIC);
++=======
+ 	return init_pseudo(fc, BALLOON_KVM_MAGIC) ? 0 : -ENOMEM;
++>>>>>>> 99558d203cea (vfs: Convert virtio_balloon to use the new mount API)
  }
  
  static struct file_system_type balloon_fs = {
* Unmerged path drivers/virtio/virtio_balloon.c
