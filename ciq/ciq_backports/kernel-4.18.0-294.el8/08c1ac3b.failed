net: stmmac: xgmac: Fix AV Feature detection

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Jose Abreu <Jose.Abreu@synopsys.com>
commit 08c1ac3bcba8cd52449f55a065e60779a0fa2c97
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/08c1ac3b.failed

Fix incorrect precedence of operators. For reference: AV implies AV
Feature but RAV implies only RX side AV Feature. As we want full AV
features we need to check RAV.

Fixes: c2b69474d63b ("net: stmmac: xgmac: Correct RAVSEL field interpretation")
	Signed-off-by: Jose Abreu <Jose.Abreu@synopsys.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 08c1ac3bcba8cd52449f55a065e60779a0fa2c97)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/stmicro/stmmac/dwxgmac2_dma.c
diff --cc drivers/net/ethernet/stmicro/stmmac/dwxgmac2_dma.c
index e77eb0ddf9b5,2e814aa64a5c..000000000000
--- a/drivers/net/ethernet/stmicro/stmmac/dwxgmac2_dma.c
+++ b/drivers/net/ethernet/stmicro/stmmac/dwxgmac2_dma.c
@@@ -369,7 -369,8 +369,12 @@@ static void dwxgmac2_get_hw_feature(voi
  	dma_cap->eee = (hw_cap & XGMAC_HWFEAT_EEESEL) >> 13;
  	dma_cap->atime_stamp = (hw_cap & XGMAC_HWFEAT_TSSEL) >> 12;
  	dma_cap->av = (hw_cap & XGMAC_HWFEAT_AVSEL) >> 11;
++<<<<<<< HEAD
 +	dma_cap->av &= (hw_cap & XGMAC_HWFEAT_RAVSEL) >> 10;
++=======
+ 	dma_cap->av &= !((hw_cap & XGMAC_HWFEAT_RAVSEL) >> 10);
+ 	dma_cap->arpoffsel = (hw_cap & XGMAC_HWFEAT_ARPOFFSEL) >> 9;
++>>>>>>> 08c1ac3bcba8 (net: stmmac: xgmac: Fix AV Feature detection)
  	dma_cap->rmon = (hw_cap & XGMAC_HWFEAT_MMCSEL) >> 8;
  	dma_cap->pmt_magic_frame = (hw_cap & XGMAC_HWFEAT_MGKSEL) >> 7;
  	dma_cap->pmt_remote_wake_up = (hw_cap & XGMAC_HWFEAT_RWKSEL) >> 6;
* Unmerged path drivers/net/ethernet/stmicro/stmmac/dwxgmac2_dma.c
