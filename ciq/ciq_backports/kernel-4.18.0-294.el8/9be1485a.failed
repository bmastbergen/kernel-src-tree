i2c: i801: Add support for Intel Elkhart Lake

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-294.el8
commit-author Jarkko Nikula <jarkko.nikula@linux.intel.com>
commit 9be1485accd4a0375170b93f90894e7728029078
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-294.el8/9be1485a.failed

Add PCI ID for Intel Elkhart Lake PCH.

	Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
	Reviewed-by: Jean Delvare <jdelvare@suse.de>
	Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
(cherry picked from commit 9be1485accd4a0375170b93f90894e7728029078)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/i2c/busses/i2c-i801
#	drivers/i2c/busses/Kconfig
#	drivers/i2c/busses/i2c-i801.c
diff --cc Documentation/i2c/busses/i2c-i801
index 6bfbf49c99a1,d247edcb0f99..000000000000
--- a/Documentation/i2c/busses/i2c-i801
+++ b/Documentation/i2c/busses/i2c-i801
@@@ -41,8 -37,7 +41,12 @@@ Supported adapters
    * Intel Cedar Fork (PCH)
    * Intel Ice Lake (PCH)
    * Intel Comet Lake (PCH)
++<<<<<<< HEAD
 +  * Intel Tiger Lake (PCH)
 +
++=======
+   * Intel Elkhart Lake (PCH)
++>>>>>>> 9be1485accd4 (i2c: i801: Add support for Intel Elkhart Lake)
     Datasheets: Publicly available at the Intel website
  
  On Intel Patsburg and later chipsets, both the normal host SMBus controller
diff --cc drivers/i2c/busses/Kconfig
index 4c784d6f54a8,07c86cd058cd..000000000000
--- a/drivers/i2c/busses/Kconfig
+++ b/drivers/i2c/busses/Kconfig
@@@ -136,7 -143,7 +136,11 @@@ config I2C_I80
  	    Cedar Fork (PCH)
  	    Ice Lake (PCH)
  	    Comet Lake (PCH)
++<<<<<<< HEAD
 +	    Tiger Lake (PCH)
++=======
+ 	    Elkhart Lake (PCH)
++>>>>>>> 9be1485accd4 (i2c: i801: Add support for Intel Elkhart Lake)
  
  	  This driver can also be built as a module.  If so, the module
  	  will be called i2c-i801.
diff --cc drivers/i2c/busses/i2c-i801.c
index 219612b245c7,82005291bcf3..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -72,7 -72,7 +72,11 @@@
   * Cedar Fork (PCH)		0x18df	32	hard	yes	yes	yes
   * Ice Lake-LP (PCH)		0x34a3	32	hard	yes	yes	yes
   * Comet Lake (PCH)		0x02a3	32	hard	yes	yes	yes
++<<<<<<< HEAD
 + * Tiger Lake-LP (PCH)		0xa0a3	32	hard	yes	yes	yes
++=======
+  * Elkhart Lake (PCH)		0x4b23	32	hard	yes	yes	yes
++>>>>>>> 9be1485accd4 (i2c: i801: Add support for Intel Elkhart Lake)
   *
   * Features supported by this driver:
   * Software PEC				no
@@@ -1044,7 -1073,7 +1049,11 @@@ static const struct pci_device_id i801_
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_CANNONLAKE_LP_SMBUS) },
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ICELAKE_LP_SMBUS) },
  	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_COMETLAKE_SMBUS) },
++<<<<<<< HEAD
 +	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_TIGERLAKE_LP_SMBUS) },
++=======
+ 	{ PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_ELKHART_LAKE_SMBUS) },
++>>>>>>> 9be1485accd4 (i2c: i801: Add support for Intel Elkhart Lake)
  	{ 0, }
  };
  
@@@ -1560,10 -1677,17 +1569,17 @@@ static int i801_probe(struct pci_dev *d
  	switch (dev->device) {
  	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_H_SMBUS:
  	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_LP_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CANNONLAKE_H_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CANNONLAKE_LP_SMBUS:
  	case PCI_DEVICE_ID_INTEL_LEWISBURG_SMBUS:
  	case PCI_DEVICE_ID_INTEL_LEWISBURG_SSKU_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CDF_SMBUS:
  	case PCI_DEVICE_ID_INTEL_DNV_SMBUS:
  	case PCI_DEVICE_ID_INTEL_KABYLAKE_PCH_H_SMBUS:
++<<<<<<< HEAD
++=======
+ 	case PCI_DEVICE_ID_INTEL_ICELAKE_LP_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_COMETLAKE_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_ELKHART_LAKE_SMBUS:
+ 		priv->features |= FEATURE_BLOCK_PROC;
++>>>>>>> 9be1485accd4 (i2c: i801: Add support for Intel Elkhart Lake)
  		priv->features |= FEATURE_I2C_BLOCK_READ;
  		priv->features |= FEATURE_IRQ;
  		priv->features |= FEATURE_SMBUS_PEC;
* Unmerged path Documentation/i2c/busses/i2c-i801
* Unmerged path drivers/i2c/busses/Kconfig
* Unmerged path drivers/i2c/busses/i2c-i801.c
