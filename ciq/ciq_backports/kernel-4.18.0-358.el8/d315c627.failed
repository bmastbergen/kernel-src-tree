regmap: irq: Convert to use irq_domain_create_legacy()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit d315c627a18249930750fe4eb2b21f3fe9b32ea4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/d315c627.failed

irq_domain_create_legacy() takes a fwnode as parameter contrary to
irq_domain_add_legacy() which requires a OF node.

Switch the regmap irq domain creation to use that new function so it is not
longer limited to OF based usage.

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Reviewed-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
	Acked-by: Mark Brown <broonie@kernel.org>
Link: https://lore.kernel.org/r/20201030165919.86234-6-andriy.shevchenko@linux.intel.com

(cherry picked from commit d315c627a18249930750fe4eb2b21f3fe9b32ea4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/regmap/regmap-irq.c
diff --cc drivers/base/regmap/regmap-irq.c
index 6bc16d7834a3,19db764ffa4a..000000000000
--- a/drivers/base/regmap/regmap-irq.c
+++ b/drivers/base/regmap/regmap-irq.c
@@@ -659,13 -803,12 +659,22 @@@ int regmap_add_irq_chip(struct regmap *
  	}
  
  	if (irq_base)
++<<<<<<< HEAD
 +		d->domain = irq_domain_add_legacy(map->dev->of_node,
 +						  chip->num_irqs, irq_base, 0,
 +						  &regmap_domain_ops, d);
 +	else
 +		d->domain = irq_domain_add_linear(map->dev->of_node,
 +						  chip->num_irqs,
 +						  &regmap_domain_ops, d);
++=======
+ 		d->domain = irq_domain_create_legacy(fwnode, chip->num_irqs,
+ 						     irq_base, 0,
+ 						     &regmap_domain_ops, d);
+ 	else
+ 		d->domain = irq_domain_create_linear(fwnode, chip->num_irqs,
+ 						     &regmap_domain_ops, d);
++>>>>>>> d315c627a182 (regmap: irq: Convert to use irq_domain_create_legacy())
  	if (!d->domain) {
  		dev_err(map->dev, "Failed to create IRQ domain\n");
  		ret = -ENOMEM;
* Unmerged path drivers/base/regmap/regmap-irq.c
