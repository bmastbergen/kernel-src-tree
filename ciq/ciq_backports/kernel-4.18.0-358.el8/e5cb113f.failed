mm: make free_reserved_area() return "const char *"

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Alexey Dobriyan <adobriyan@gmail.com>
commit e5cb113f2dbc8125f31005faebab161a2a84ebe6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/e5cb113f.failed

and propagate through down the call stack.

Link: http://lkml.kernel.org/r/20181124091411.GC10969@avx2
	Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
	Reviewed-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit e5cb113f2dbc8125f31005faebab161a2a84ebe6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/include/asm/processor.h
diff --cc arch/x86/include/asm/processor.h
index f9976803eb50,33051436c864..000000000000
--- a/arch/x86/include/asm/processor.h
+++ b/arch/x86/include/asm/processor.h
@@@ -910,7 -967,8 +910,12 @@@ static inline uint32_t hypervisor_cpuid
  }
  
  extern unsigned long arch_align_stack(unsigned long sp);
++<<<<<<< HEAD
 +extern void free_init_pages(char *what, unsigned long begin, unsigned long end);
++=======
+ void free_init_pages(const char *what, unsigned long begin, unsigned long end);
+ extern void free_kernel_image_pages(void *begin, void *end);
++>>>>>>> e5cb113f2dbc (mm: make free_reserved_area() return "const char *")
  
  void default_idle(void);
  #ifdef	CONFIG_XEN
* Unmerged path arch/x86/include/asm/processor.h
diff --git a/arch/x86/mm/init.c b/arch/x86/mm/init.c
index d56c62c50b99..2713dc57ee19 100644
--- a/arch/x86/mm/init.c
+++ b/arch/x86/mm/init.c
@@ -774,7 +774,7 @@ int devmem_is_allowed(unsigned long pagenr)
 	return 1;
 }
 
-void free_init_pages(char *what, unsigned long begin, unsigned long end)
+void free_init_pages(const char *what, unsigned long begin, unsigned long end)
 {
 	unsigned long begin_aligned, end_aligned;
 
diff --git a/include/linux/mm.h b/include/linux/mm.h
index 03576cfe4354..1ba09e1cb32c 100644
--- a/include/linux/mm.h
+++ b/include/linux/mm.h
@@ -2220,7 +2220,7 @@ extern void free_initmem(void);
  * Return pages freed into the buddy system.
  */
 extern unsigned long free_reserved_area(void *start, void *end,
-					int poison, char *s);
+					int poison, const char *s);
 
 #ifdef	CONFIG_HIGHMEM
 /*
diff --git a/mm/page_alloc.c b/mm/page_alloc.c
index fc1a06c816f3..6409a97a6a82 100644
--- a/mm/page_alloc.c
+++ b/mm/page_alloc.c
@@ -7617,7 +7617,7 @@ void adjust_managed_page_count(struct page *page, long count)
 }
 EXPORT_SYMBOL(adjust_managed_page_count);
 
-unsigned long free_reserved_area(void *start, void *end, int poison, char *s)
+unsigned long free_reserved_area(void *start, void *end, int poison, const char *s)
 {
 	void *pos;
 	unsigned long pages = 0;
