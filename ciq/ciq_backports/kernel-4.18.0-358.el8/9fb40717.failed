block: Remove unused blk_pm_*() function definitions

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Bart Van Assche <bvanassche@acm.org>
commit 9fb407179c6fd910005040bebb040094ef959b6c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/9fb40717.failed

Commit a1ce35fa4985 ("block: remove dead elevator code") removed the last
callers of blk_pm_requeue_request(), blk_pm_add_request() and
blk_pm_put_request(). Hence remove the definitions of these functions.
Removing these functions removes all users of the struct request nr_pending
member. Hence also remove 'nr_pending'. Note: 'nr_pending' is no longer
used since commit 7cedffec8e75 ("block: Make blk_get_request() block for
non-PM requests while suspended").

	Cc: Alan Stern <stern@rowland.harvard.edu>
	Cc: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Bart Van Assche <bvanassche@acm.org>
	Reviewed-by: Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 9fb407179c6fd910005040bebb040094ef959b6c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/blkdev.h
diff --cc include/linux/blkdev.h
index a64dfa63d799,f2e0697258b8..000000000000
--- a/include/linux/blkdev.h
+++ b/include/linux/blkdev.h
@@@ -484,8 -461,7 +484,12 @@@ struct request_queue 
  
  #ifdef CONFIG_PM
  	struct device		*dev;
++<<<<<<< HEAD
 +	RH_KABI_REPLACE(int	rpm_status, enum rpm_status rpm_status)
 +	unsigned int		nr_pending;
++=======
+ 	enum rpm_status		rpm_status;
++>>>>>>> 9fb407179c6f (block: Remove unused blk_pm_*() function definitions)
  #endif
  
  	/*
diff --git a/block/blk-pm.h b/block/blk-pm.h
index ea5507d23e75..47ca28421f29 100644
--- a/block/blk-pm.h
+++ b/block/blk-pm.h
@@ -18,31 +18,6 @@ static inline void blk_pm_mark_last_busy(struct request *rq)
 	if (rq->q->dev && !(rq->rq_flags & RQF_PM))
 		pm_runtime_mark_last_busy(rq->q->dev);
 }
-
-static inline void blk_pm_requeue_request(struct request *rq)
-{
-	lockdep_assert_held(&rq->q->queue_lock);
-
-	if (rq->q->dev && !(rq->rq_flags & RQF_PM))
-		rq->q->nr_pending--;
-}
-
-static inline void blk_pm_add_request(struct request_queue *q,
-				      struct request *rq)
-{
-	lockdep_assert_held(&q->queue_lock);
-
-	if (q->dev && !(rq->rq_flags & RQF_PM))
-		q->nr_pending++;
-}
-
-static inline void blk_pm_put_request(struct request *rq)
-{
-	lockdep_assert_held(&rq->q->queue_lock);
-
-	if (rq->q->dev && !(rq->rq_flags & RQF_PM))
-		--rq->q->nr_pending;
-}
 #else
 static inline void blk_pm_request_resume(struct request_queue *q)
 {
@@ -51,19 +26,6 @@ static inline void blk_pm_request_resume(struct request_queue *q)
 static inline void blk_pm_mark_last_busy(struct request *rq)
 {
 }
-
-static inline void blk_pm_requeue_request(struct request *rq)
-{
-}
-
-static inline void blk_pm_add_request(struct request_queue *q,
-				      struct request *rq)
-{
-}
-
-static inline void blk_pm_put_request(struct request *rq)
-{
-}
 #endif
 
 #endif /* _BLOCK_BLK_PM_H_ */
* Unmerged path include/linux/blkdev.h
