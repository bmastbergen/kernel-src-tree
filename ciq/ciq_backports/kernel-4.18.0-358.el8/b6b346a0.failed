mm: don't select MIGRATE_VMA_HELPER from HMM_MIRROR

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Christoph Hellwig <hch@lst.de>
commit b6b346a0665a8bf8b28fd851217c435a3eec4af9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/b6b346a0.failed

The migrate_vma helper is only used by noveau to migrate device private
pages around.  Other HMM_MIRROR users like amdgpu or infiniband don't
need it.

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Reviewed-by: Jason Gunthorpe <jgg@mellanox.com>
	Reviewed-by: Dan Williams <dan.j.williams@intel.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit b6b346a0665a8bf8b28fd851217c435a3eec4af9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/nouveau/Kconfig
diff --cc drivers/gpu/drm/nouveau/Kconfig
index 9436310d0854,96b9814e6d06..000000000000
--- a/drivers/gpu/drm/nouveau/Kconfig
+++ b/drivers/gpu/drm/nouveau/Kconfig
@@@ -97,10 -86,9 +97,14 @@@ config DRM_NOUVEAU_SV
  	bool "(EXPERIMENTAL) Enable SVM (Shared Virtual Memory) support"
  	depends on DEVICE_PRIVATE
  	depends on DRM_NOUVEAU
 -	depends on HMM_MIRROR
 +	depends on MMU
  	depends on STAGING
++<<<<<<< HEAD
 +	select HMM_MIRROR
 +	select MMU_NOTIFIER
++=======
+ 	select MIGRATE_VMA_HELPER
++>>>>>>> b6b346a0665a (mm: don't select MIGRATE_VMA_HELPER from HMM_MIRROR)
  	default n
  	help
  	  Say Y here if you want to enable experimental support for
* Unmerged path drivers/gpu/drm/nouveau/Kconfig
diff --git a/mm/Kconfig b/mm/Kconfig
index 6da8b7636bba..b4e43bb84bf6 100644
--- a/mm/Kconfig
+++ b/mm/Kconfig
@@ -694,7 +694,6 @@ config HMM_MIRROR
 	depends on (X86_64 || PPC64)
 	depends on MMU && 64BIT
 	select MMU_NOTIFIER
-	select MIGRATE_VMA_HELPER
 	help
 	  Select HMM_MIRROR if you want to mirror range of the CPU page table of a
 	  process into a device page table. Here, mirror means "keep synchronized".
