platform/x86: intel_skl_int3472: Move to intel/ subfolder

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit 8bd836feb6cad6bd746da09a86bda0f5ee5c4b01
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/8bd836fe.failed

Start collecting Intel x86 related drivers in its own subfolder.
Move intel_skl_int3472 first.

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Link: https://lore.kernel.org/r/20210618125516.53510-7-andriy.shevchenko@linux.intel.com
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
(cherry picked from commit 8bd836feb6cad6bd746da09a86bda0f5ee5c4b01)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	MAINTAINERS
#	drivers/platform/x86/Kconfig
#	drivers/platform/x86/Makefile
#	drivers/platform/x86/intel/int3472/Kconfig
#	drivers/platform/x86/intel/int3472/Makefile
#	drivers/platform/x86/intel/int3472/intel_skl_int3472_clk_and_regulator.c
#	drivers/platform/x86/intel/int3472/intel_skl_int3472_common.c
#	drivers/platform/x86/intel/int3472/intel_skl_int3472_common.h
#	drivers/platform/x86/intel/int3472/intel_skl_int3472_discrete.c
#	drivers/platform/x86/intel/int3472/intel_skl_int3472_tps68470.c
diff --cc MAINTAINERS
index cf87ae238d81,5ca79321b9c5..000000000000
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@@ -7524,16 -9379,39 +7524,48 @@@ S:	Supporte
  F:	drivers/infiniband/hw/i40iw/
  F:	include/uapi/rdma/i40iw-abi.h
  
++<<<<<<< HEAD
 +INTEL SHA MULTIBUFFER DRIVER
 +M:	Megha Dey <megha.dey@linux.intel.com>
 +R:	Tim Chen <tim.c.chen@linux.intel.com>
 +L:	linux-crypto@vger.kernel.org
 +S:	Supported
 +F:	arch/x86/crypto/sha*-mb
 +F:	crypto/mcryptd.c
++=======
+ INTEL SCU DRIVERS
+ M:	Mika Westerberg <mika.westerberg@linux.intel.com>
+ S:	Maintained
+ F:	arch/x86/include/asm/intel_scu_ipc.h
+ F:	drivers/platform/x86/intel_scu_*
+ 
+ INTEL SKYLAKE INT3472 ACPI DEVICE DRIVER
+ M:	Daniel Scally <djrscally@gmail.com>
+ S:	Maintained
+ F:	drivers/platform/x86/intel/int3472/
+ 
+ INTEL SPEED SELECT TECHNOLOGY
+ M:	Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
+ L:	platform-driver-x86@vger.kernel.org
+ S:	Maintained
+ F:	drivers/platform/x86/intel_speed_select_if/
+ F:	include/uapi/linux/isst_if.h
+ F:	tools/power/x86/intel-speed-select/
+ 
+ INTEL STRATIX10 FIRMWARE DRIVERS
+ M:	Richard Gong <richard.gong@linux.intel.com>
+ L:	linux-kernel@vger.kernel.org
+ S:	Maintained
+ F:	Documentation/ABI/testing/sysfs-devices-platform-stratix10-rsu
+ F:	Documentation/devicetree/bindings/firmware/intel,stratix10-svc.txt
+ F:	drivers/firmware/stratix10-rsu.c
+ F:	drivers/firmware/stratix10-svc.c
+ F:	include/linux/firmware/intel/stratix10-smc.h
+ F:	include/linux/firmware/intel/stratix10-svc-client.h
++>>>>>>> 8bd836feb6ca (platform/x86: intel_skl_int3472: Move to intel/ subfolder)
  
  INTEL TELEMETRY DRIVER
 -M:	Rajneesh Bhardwaj <irenic.rajneesh@gmail.com>
 -M:	"David E. Box" <david.e.box@linux.intel.com>
 +M:	Souvik Kumar Chakravarty <souvik.k.chakravarty@intel.com>
  L:	platform-driver-x86@vger.kernel.org
  S:	Maintained
  F:	arch/x86/include/asm/intel_telemetry.h
diff --cc drivers/platform/x86/Kconfig
index 8d08c377b32f,79d095c0ab61..000000000000
--- a/drivers/platform/x86/Kconfig
+++ b/drivers/platform/x86/Kconfig
@@@ -776,6 -99,703 +776,706 @@@ config INTEL_WMI_THUNDERBOL
  	  To compile this driver as a module, choose M here: the module will
  	  be called intel-wmi-thunderbolt.
  
++<<<<<<< HEAD
++=======
+ config MXM_WMI
+        tristate "WMI support for MXM Laptop Graphics"
+        depends on ACPI_WMI
+ 	help
+           MXM is a standard for laptop graphics cards, the WMI interface
+ 	  is required for switchable nvidia graphics machines
+ 
+ config PEAQ_WMI
+ 	tristate "PEAQ 2-in-1 WMI hotkey driver"
+ 	depends on ACPI_WMI
+ 	depends on INPUT
+ 	help
+ 	 Say Y here if you want to support WMI-based hotkeys on PEAQ 2-in-1s.
+ 
+ config XIAOMI_WMI
+ 	tristate "Xiaomi WMI key driver"
+ 	depends on ACPI_WMI
+ 	depends on INPUT
+ 	help
+ 	  Say Y here if you want to support WMI-based keys on Xiaomi notebooks.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called xiaomi-wmi.
+ 
+ config GIGABYTE_WMI
+ 	tristate "Gigabyte WMI temperature driver"
+ 	depends on ACPI_WMI
+ 	depends on HWMON
+ 	help
+ 	  Say Y here if you want to support WMI-based temperature reporting on
+ 	  Gigabyte mainboards.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called gigabyte-wmi.
+ 
+ config ACERHDF
+ 	tristate "Acer Aspire One temperature and fan driver"
+ 	depends on ACPI && THERMAL
+ 	select THERMAL_GOV_BANG_BANG
+ 	help
+ 	  This is a driver for Acer Aspire One netbooks. It allows to access
+ 	  the temperature sensor and to control the fan.
+ 
+ 	  After loading this driver the BIOS is still in control of the fan.
+ 	  To let the kernel handle the fan, do:
+ 	  echo -n enabled > /sys/class/thermal/thermal_zoneN/mode
+ 	  where N=0,1,2... depending on the number of thermal nodes and the
+ 	  detection order of your particular system.  The "type" parameter
+ 	  in the same node directory will tell you if it is "acerhdf".
+ 
+ 	  For more information about this driver see
+ 	  <https://piie.net/files/acerhdf_README.txt>
+ 
+ 	  If you have an Acer Aspire One netbook, say Y or M
+ 	  here.
+ 
+ config ACER_WIRELESS
+         tristate "Acer Wireless Radio Control Driver"
+         depends on ACPI
+         depends on INPUT
+ 	help
+           The Acer Wireless Radio Control handles the airplane mode hotkey
+           present on new Acer laptops.
+ 
+           Say Y or M here if you have an Acer notebook with an airplane mode
+           hotkey.
+ 
+           If you choose to compile this driver as a module the module will be
+           called acer-wireless.
+ 
+ config ACER_WMI
+ 	tristate "Acer WMI Laptop Extras"
+ 	depends on ACPI
+ 	select LEDS_CLASS
+ 	select NEW_LEDS
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on SERIO_I8042
+ 	depends on INPUT
+ 	depends on RFKILL || RFKILL = n
+ 	depends on ACPI_WMI
+ 	select INPUT_SPARSEKMAP
+ 	# Acer WMI depends on ACPI_VIDEO when ACPI is enabled
+         select ACPI_VIDEO if ACPI
+ 	help
+ 	  This is a driver for newer Acer (and Wistron) laptops. It adds
+ 	  wireless radio and bluetooth control, and on some laptops,
+ 	  exposes the mail LED and LCD backlight.
+ 
+ 	  If you have an ACPI-WMI compatible Acer/ Wistron laptop, say Y or M
+ 	  here.
+ 
+ config AMD_PMC
+ 	tristate "AMD SoC PMC driver"
+ 	depends on ACPI && PCI
+ 	help
+ 	  The driver provides support for AMD Power Management Controller
+ 	  primarily responsible for S2Idle transactions that are driven from
+ 	  a platform firmware running on SMU. This driver also provides a debug
+ 	  mechanism to investigate the S2Idle transactions and failures.
+ 
+ 	  Say Y or M here if you have a notebook powered by AMD RYZEN CPU/APU.
+ 
+ 	  If you choose to compile this driver as a module the module will be
+ 	  called amd-pmc.
+ 
+ config ADV_SWBUTTON
+ 	tristate "Advantech ACPI Software Button Driver"
+ 	depends on ACPI && INPUT
+ 	help
+ 	  Say Y here to enable support for Advantech software defined
+ 	  button feature. More information can be found at
+ 	  <http://www.advantech.com.tw/products/>
+ 
+ 	  To compile this driver as a module, choose M here. The module will
+ 	  be called adv_swbutton.
+ 
+ config APPLE_GMUX
+ 	tristate "Apple Gmux Driver"
+ 	depends on ACPI && PCI
+ 	depends on PNP
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on BACKLIGHT_APPLE=n || BACKLIGHT_APPLE
+ 	depends on ACPI_VIDEO=n || ACPI_VIDEO
+ 	help
+ 	  This driver provides support for the gmux device found on many
+ 	  Apple laptops, which controls the display mux for the hybrid
+ 	  graphics as well as the backlight. Currently only backlight
+ 	  control is supported by the driver.
+ 
+ config ASUS_LAPTOP
+ 	tristate "Asus Laptop Extras"
+ 	depends on ACPI
+ 	select LEDS_CLASS
+ 	select NEW_LEDS
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on INPUT
+ 	depends on RFKILL || RFKILL = n
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	select INPUT_SPARSEKMAP
+ 	help
+ 	  This is a driver for Asus laptops, Lenovo SL and the Pegatron
+ 	  Lucid tablet. It may also support some MEDION, JVC or VICTOR
+ 	  laptops. It makes all the extra buttons generate standard
+ 	  ACPI events and input events, and on the Lucid the built-in
+ 	  accelerometer appears as an input device.  It also adds
+ 	  support for video output switching, LCD backlight control,
+ 	  Bluetooth and Wlan control, and most importantly, allows you
+ 	  to blink those fancy LEDs.
+ 
+ 	  For more information see <http://acpi4asus.sf.net>.
+ 
+ 	  If you have an ACPI-compatible ASUS laptop, say Y or M here.
+ 
+ config ASUS_WIRELESS
+ 	tristate "Asus Wireless Radio Control Driver"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	select NEW_LEDS
+ 	select LEDS_CLASS
+ 	help
+ 	  The Asus Wireless Radio Control handles the airplane mode hotkey
+ 	  present on some Asus laptops.
+ 
+ 	  Say Y or M here if you have an ASUS notebook with an airplane mode
+ 	  hotkey.
+ 
+ 	  If you choose to compile this driver as a module the module will be
+ 	  called asus-wireless.
+ 
+ config ASUS_WMI
+ 	tristate "ASUS WMI Driver"
+ 	depends on ACPI_WMI
+ 	depends on ACPI_BATTERY
+ 	depends on INPUT
+ 	depends on HWMON
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on RFKILL || RFKILL = n
+ 	depends on HOTPLUG_PCI
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	select INPUT_SPARSEKMAP
+ 	select LEDS_CLASS
+ 	select NEW_LEDS
+ 	help
+ 	  Say Y here if you have a WMI aware Asus laptop (like Eee PCs or new
+ 	  Asus Notebooks).
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called asus-wmi.
+ 
+ config ASUS_NB_WMI
+ 	tristate "Asus Notebook WMI Driver"
+ 	depends on ASUS_WMI
+ 	depends on SERIO_I8042 || SERIO_I8042 = n
+ 	help
+ 	  This is a driver for newer Asus notebooks. It adds extra features
+ 	  like wireless radio and bluetooth control, leds, hotkeys, backlight...
+ 
+ 	  For more information, see
+ 	  <file:Documentation/ABI/testing/sysfs-platform-asus-wmi>
+ 
+ 	  If you have an ACPI-WMI compatible Asus Notebook, say Y or M
+ 	  here.
+ 
+ config EEEPC_LAPTOP
+ 	tristate "Eee PC Hotkey Driver"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	depends on RFKILL || RFKILL = n
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	depends on HOTPLUG_PCI
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	select HWMON
+ 	select LEDS_CLASS
+ 	select NEW_LEDS
+ 	select INPUT_SPARSEKMAP
+ 	help
+ 	  This driver supports the Fn-Fx keys on Eee PC laptops.
+ 
+ 	  It  also gives access to some extra laptop functionalities like
+ 	  Bluetooth, backlight and allows powering on/off some other
+ 	  devices.
+ 
+ 	  If you have an Eee PC laptop, say Y or M here. If this driver
+ 	  doesn't work on your Eee PC, try eeepc-wmi instead.
+ 
+ config EEEPC_WMI
+ 	tristate "Eee PC WMI Driver"
+ 	depends on ASUS_WMI
+ 	help
+ 	  This is a driver for newer Eee PC laptops. It adds extra features
+ 	  like wireless radio and bluetooth control, leds, hotkeys, backlight...
+ 
+ 	  For more information, see
+ 	  <file:Documentation/ABI/testing/sysfs-platform-asus-wmi>
+ 
+ 	  If you have an ACPI-WMI compatible Eee PC laptop (>= 1000), say Y or M
+ 	  here.
+ 
+ source "drivers/platform/x86/dell/Kconfig"
+ 
+ config AMILO_RFKILL
+ 	tristate "Fujitsu-Siemens Amilo rfkill support"
+ 	depends on RFKILL
+ 	depends on SERIO_I8042
+ 	help
+ 	  This is a driver for enabling wifi on some Fujitsu-Siemens Amilo
+ 	  laptops.
+ 
+ config FUJITSU_LAPTOP
+ 	tristate "Fujitsu Laptop Extras"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	select INPUT_SPARSEKMAP
+ 	select NEW_LEDS
+ 	select LEDS_CLASS
+ 	help
+ 	  This is a driver for laptops built by Fujitsu:
+ 
+ 	    * P2xxx/P5xxx/S6xxx/S7xxx series Lifebooks
+ 	    * Possibly other Fujitsu laptop models
+ 	    * Tested with S6410 and S7020
+ 
+ 	  It adds support for LCD brightness control and some hotkeys.
+ 
+ 	  If you have a Fujitsu laptop, say Y or M here.
+ 
+ config FUJITSU_TABLET
+        tristate "Fujitsu Tablet Extras"
+        depends on ACPI
+        depends on INPUT
+ 	help
+          This is a driver for tablets built by Fujitsu:
+ 
+            * Lifebook P1510/P1610/P1620/Txxxx
+            * Stylistic ST5xxx
+            * Possibly other Fujitsu tablet models
+ 
+          It adds support for the panel buttons, docking station detection,
+          tablet/notebook mode detection for convertible and
+          orientation detection for docked slates.
+ 
+          If you have a Fujitsu convertible or slate, say Y or M here.
+ 
+ config GPD_POCKET_FAN
+ 	tristate "GPD Pocket Fan Controller support"
+ 	depends on ACPI
+ 	depends on THERMAL
+ 	help
+ 	  Driver for the GPD Pocket vendor specific FAN02501 ACPI device
+ 	  which controls the fan speed on the GPD Pocket.
+ 
+ 	  Without this driver the fan on the Pocket will stay off independent
+ 	  of the CPU temperature. Say Y or M if the kernel may be used on a
+ 	  GPD pocket.
+ 
+ config HP_ACCEL
+ 	tristate "HP laptop accelerometer"
+ 	depends on INPUT && ACPI
+ 	depends on SERIO_I8042
+ 	select SENSORS_LIS3LV02D
+ 	select NEW_LEDS
+ 	select LEDS_CLASS
+ 	help
+ 	  This driver provides support for the "Mobile Data Protection System 3D"
+ 	  or "3D DriveGuard" feature of HP laptops. On such systems the driver
+ 	  should load automatically (via ACPI alias).
+ 
+ 	  Support for a led indicating disk protection will be provided as
+ 	  hp::hddprotect. For more information on the feature, refer to
+ 	  Documentation/misc-devices/lis3lv02d.rst.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called hp_accel.
+ 
+ config WIRELESS_HOTKEY
+ 	tristate "Wireless hotkey button"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	help
+ 	 This driver provides supports for the wireless buttons found on some AMD,
+ 	 HP, & Xioami laptops.
+ 	 On such systems the driver should load automatically (via ACPI alias).
+ 
+ 	 To compile this driver as a module, choose M here: the module will
+ 	 be called wireless-hotkey.
+ 
+ config HP_WMI
+ 	tristate "HP WMI extras"
+ 	depends on ACPI_WMI
+ 	depends on INPUT
+ 	depends on RFKILL || RFKILL = n
+ 	select INPUT_SPARSEKMAP
+ 	select ACPI_PLATFORM_PROFILE
+ 	help
+ 	 Say Y here if you want to support WMI-based hotkeys on HP laptops and
+ 	 to read data from WMI such as docking or ambient light sensor state.
+ 
+ 	 To compile this driver as a module, choose M here: the module will
+ 	 be called hp-wmi.
+ 
+ config TC1100_WMI
+ 	tristate "HP Compaq TC1100 Tablet WMI Extras"
+ 	depends on !X86_64
+ 	depends on ACPI
+ 	depends on ACPI_WMI
+ 	help
+ 	  This is a driver for the WMI extensions (wireless and bluetooth power
+ 	  control) of the HP Compaq TC1100 tablet.
+ 
+ config IBM_RTL
+ 	tristate "Device driver to enable PRTL support"
+ 	depends on PCI
+ 	help
+ 	 Enable support for IBM Premium Real Time Mode (PRTM).
+ 	 This module will allow you the enter and exit PRTM in the BIOS via
+ 	 sysfs on platforms that support this feature.  System in PRTM will
+ 	 not receive CPU-generated SMIs for recoverable errors.  Use of this
+ 	 feature without proper support may void your hardware warranty.
+ 
+ 	 If the proper BIOS support is found the driver will load and create
+ 	 /sys/devices/system/ibm_rtl/.  The "state" variable will indicate
+ 	 whether or not the BIOS is in PRTM.
+ 	 state = 0 (BIOS SMIs on)
+ 	 state = 1 (BIOS SMIs off)
+ 
+ config IDEAPAD_LAPTOP
+ 	tristate "Lenovo IdeaPad Laptop Extras"
+ 	depends on ACPI
+ 	depends on RFKILL && INPUT
+ 	depends on SERIO_I8042
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	depends on ACPI_WMI || ACPI_WMI = n
+ 	select ACPI_PLATFORM_PROFILE
+ 	select INPUT_SPARSEKMAP
+ 	select NEW_LEDS
+ 	select LEDS_CLASS
+ 	help
+ 	  This is a driver for Lenovo IdeaPad netbooks contains drivers for
+ 	  rfkill switch, hotkey, fan control and backlight control.
+ 
+ config SENSORS_HDAPS
+ 	tristate "Thinkpad Hard Drive Active Protection System (hdaps)"
+ 	depends on INPUT
+ 	help
+ 	  This driver provides support for the IBM Hard Drive Active Protection
+ 	  System (hdaps), which provides an accelerometer and other misc. data.
+ 	  ThinkPads starting with the R50, T41, and X40 are supported.  The
+ 	  accelerometer data is readable via sysfs.
+ 
+ 	  This driver also provides an absolute input class device, allowing
+ 	  the laptop to act as a pinball machine-esque joystick.
+ 
+ 	  If your ThinkPad is not recognized by the driver, please update to latest
+ 	  BIOS. This is especially the case for some R52 ThinkPads.
+ 
+ 	  Say Y here if you have an applicable laptop and want to experience
+ 	  the awesome power of hdaps.
+ 
+ config THINKPAD_ACPI
+ 	tristate "ThinkPad ACPI Laptop Extras"
+ 	depends on ACPI
+ 	depends on ACPI_BATTERY
+ 	depends on INPUT
+ 	depends on RFKILL || RFKILL = n
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	select ACPI_PLATFORM_PROFILE
+ 	select HWMON
+ 	select NVRAM
+ 	select NEW_LEDS
+ 	select LEDS_CLASS
+ 	select LEDS_TRIGGERS
+ 	select LEDS_TRIGGER_AUDIO
+ 	help
+ 	  This is a driver for the IBM and Lenovo ThinkPad laptops. It adds
+ 	  support for Fn-Fx key combinations, Bluetooth control, video
+ 	  output switching, ThinkLight control, UltraBay eject and more.
+ 	  For more information about this driver see
+ 	  <file:Documentation/admin-guide/laptops/thinkpad-acpi.rst> and
+ 	  <http://ibm-acpi.sf.net/> .
+ 
+ 	  This driver was formerly known as ibm-acpi.
+ 
+ 	  Extra functionality will be available if the rfkill (CONFIG_RFKILL)
+ 	  and/or ALSA (CONFIG_SND) subsystems are available in the kernel.
+ 	  Note that if you want ThinkPad-ACPI to be built-in instead of
+ 	  modular, ALSA and rfkill will also have to be built-in.
+ 
+ 	  If you have an IBM or Lenovo ThinkPad laptop, say Y or M here.
+ 
+ config THINKPAD_ACPI_ALSA_SUPPORT
+ 	bool "Console audio control ALSA interface"
+ 	depends on THINKPAD_ACPI
+ 	depends on SND
+ 	depends on SND = y || THINKPAD_ACPI = SND
+ 	default y
+ 	help
+ 	  Enables monitoring of the built-in console audio output control
+ 	  (headphone and speakers), which is operated by the mute and (in
+ 	  some ThinkPad models) volume hotkeys.
+ 
+ 	  If this option is enabled, ThinkPad-ACPI will export an ALSA card
+ 	  with a single read-only mixer control, which should be used for
+ 	  on-screen-display feedback purposes by the Desktop Environment.
+ 
+ 	  Optionally, the driver will also allow software control (the
+ 	  ALSA mixer will be made read-write).  Please refer to the driver
+ 	  documentation for details.
+ 
+ 	  All IBM models have both volume and mute control.  Newer Lenovo
+ 	  models only have mute control (the volume hotkeys are just normal
+ 	  keys and volume control is done through the main HDA mixer).
+ 
+ config THINKPAD_ACPI_DEBUGFACILITIES
+ 	bool "Maintainer debug facilities"
+ 	depends on THINKPAD_ACPI
+ 	help
+ 	  Enables extra stuff in the thinkpad-acpi which is completely useless
+ 	  for normal use.  Read the driver source to find out what it does.
+ 
+ 	  Say N here, unless you were told by a kernel maintainer to do
+ 	  otherwise.
+ 
+ config THINKPAD_ACPI_DEBUG
+ 	bool "Verbose debug mode"
+ 	depends on THINKPAD_ACPI
+ 	help
+ 	  Enables extra debugging information, at the expense of a slightly
+ 	  increase in driver size.
+ 
+ 	  If you are not sure, say N here.
+ 
+ config THINKPAD_ACPI_UNSAFE_LEDS
+ 	bool "Allow control of important LEDs (unsafe)"
+ 	depends on THINKPAD_ACPI
+ 	help
+ 	  Overriding LED state on ThinkPads can mask important
+ 	  firmware alerts (like critical battery condition), or misled
+ 	  the user into damaging the hardware (undocking or ejecting
+ 	  the bay while buses are still active), etc.
+ 
+ 	  LED control on the ThinkPad is write-only (with very few
+ 	  exceptions on very ancient models), which makes it
+ 	  impossible to know beforehand if important information will
+ 	  be lost when one changes LED state.
+ 
+ 	  Users that know what they are doing can enable this option
+ 	  and the driver will allow control of every LED, including
+ 	  the ones on the dock stations.
+ 
+ 	  Never enable this option on a distribution kernel.
+ 
+ 	  Say N here, unless you are building a kernel for your own
+ 	  use, and need to control the important firmware LEDs.
+ 
+ config THINKPAD_ACPI_VIDEO
+ 	bool "Video output control support"
+ 	depends on THINKPAD_ACPI
+ 	default y
+ 	help
+ 	  Allows the thinkpad_acpi driver to provide an interface to control
+ 	  the various video output ports.
+ 
+ 	  This feature often won't work well, depending on ThinkPad model,
+ 	  display state, video output devices in use, whether there is a X
+ 	  server running, phase of the moon, and the current mood of
+ 	  Schroedinger's cat.  If you can use X.org's RandR to control
+ 	  your ThinkPad's video output ports instead of this feature,
+ 	  don't think twice: do it and say N here to save memory and avoid
+ 	  bad interactions with X.org.
+ 
+ 	  NOTE: access to this feature is limited to processes with the
+ 	  CAP_SYS_ADMIN capability, to avoid local DoS issues in platforms
+ 	  where it interacts badly with X.org.
+ 
+ 	  If you are not sure, say Y here but do try to check if you could
+ 	  be using X.org RandR instead.
+ 
+ config THINKPAD_ACPI_HOTKEY_POLL
+ 	bool "Support NVRAM polling for hot keys"
+ 	depends on THINKPAD_ACPI
+ 	default y
+ 	help
+ 	  Some thinkpad models benefit from NVRAM polling to detect a few of
+ 	  the hot key press events.  If you know your ThinkPad model does not
+ 	  need to do NVRAM polling to support any of the hot keys you use,
+ 	  unselecting this option will save about 1kB of memory.
+ 
+ 	  ThinkPads T40 and newer, R52 and newer, and X31 and newer are
+ 	  unlikely to need NVRAM polling in their latest BIOS versions.
+ 
+ 	  NVRAM polling can detect at most the following keys: ThinkPad/Access
+ 	  IBM, Zoom, Switch Display (fn+F7), ThinkLight, Volume up/down/mute,
+ 	  Brightness up/down, Display Expand (fn+F8), Hibernate (fn+F12).
+ 
+ 	  If you are not sure, say Y here.  The driver enables polling only if
+ 	  it is strictly necessary to do so.
+ 
+ config THINKPAD_LMI
+ 	tristate "Lenovo WMI-based systems management driver"
+ 	depends on ACPI_WMI
+ 	select FW_ATTR_CLASS
+ 	help
+ 	  This driver allows changing BIOS settings on Lenovo machines whose
+ 	  BIOS support the WMI interface.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called think-lmi.
+ 
+ source "drivers/platform/x86/intel/Kconfig"
+ 
+ config INTEL_ATOMISP2_LED
+ 	tristate "Intel AtomISP2 camera LED driver"
+ 	depends on GPIOLIB && LEDS_GPIO
+ 	help
+ 	  Many Bay Trail and Cherry Trail devices come with a camera attached
+ 	  to Intel's Image Signal Processor. Linux currently does not have a
+ 	  driver for these, so they do not work as a camera. Some of these
+ 	  camera's have a LED which is controlled through a GPIO.
+ 
+ 	  Some of these devices have a firmware issue where the LED gets turned
+ 	  on at boot. This driver will turn the LED off at boot and also allows
+ 	  controlling the LED (repurposing it) through the sysfs LED interface.
+ 
+ 	  Which GPIO is attached to the LED is usually not described in the
+ 	  ACPI tables, so this driver contains per-system info about the GPIO
+ 	  inside the driver, this means that this driver only works on systems
+ 	  the driver knows about.
+ 
+ 	  To compile this driver as a module, choose M here: the module
+ 	  will be called intel_atomisp2_led.
+ 
+ config INTEL_ATOMISP2_PM
+ 	tristate "Intel AtomISP2 dummy / power-management driver"
+ 	depends on PCI && IOSF_MBI && PM
+ 	depends on !INTEL_ATOMISP
+ 	help
+ 	  Power-management driver for Intel's Image Signal Processor found on
+ 	  Bay Trail and Cherry Trail devices. This dummy driver's sole purpose
+ 	  is to turn the ISP off (put it in D3) to save power and to allow
+ 	  entering of S0ix modes.
+ 
+ 	  To compile this driver as a module, choose M here: the module
+ 	  will be called intel_atomisp2_pm.
+ 
+ config INTEL_CHT_INT33FE
+ 	tristate "Intel Cherry Trail ACPI INT33FE Driver"
+ 	depends on X86 && ACPI && I2C && REGULATOR
+ 	depends on CHARGER_BQ24190=y || (CHARGER_BQ24190=m && m)
+ 	depends on USB_ROLES_INTEL_XHCI=y || (USB_ROLES_INTEL_XHCI=m && m)
+ 	depends on TYPEC_MUX_PI3USB30532=y || (TYPEC_MUX_PI3USB30532=m && m)
+ 	help
+ 	  This driver add support for the INT33FE ACPI device found on
+ 	  some Intel Cherry Trail devices.
+ 
+ 	  There are two kinds of INT33FE ACPI device possible: for hardware
+ 	  with USB Type-C and Micro-B connectors. This driver supports both.
+ 
+ 	  The INT33FE ACPI device has a CRS table with I2cSerialBusV2
+ 	  resources for Fuel Gauge Controller and (in the Type-C variant)
+ 	  FUSB302 USB Type-C Controller and PI3USB30532 USB switch.
+ 	  This driver instantiates i2c-clients for these, so that standard
+ 	  i2c drivers for these chips can bind to the them.
+ 
+ 	  If you enable this driver it is advised to also select
+ 	  CONFIG_BATTERY_BQ27XXX=m or CONFIG_BATTERY_BQ27XXX_I2C=m for Micro-B
+ 	  device and CONFIG_TYPEC_FUSB302=m and CONFIG_BATTERY_MAX17042=m
+ 	  for Type-C device.
+ 
+ config INTEL_HID_EVENT
+ 	tristate "INTEL HID Event"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	select INPUT_SPARSEKMAP
+ 	help
+ 	  This driver provides support for the Intel HID Event hotkey interface.
+ 	  Some laptops require this driver for hotkey support.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called intel_hid.
+ 
+ config INTEL_INT0002_VGPIO
+ 	tristate "Intel ACPI INT0002 Virtual GPIO driver"
+ 	depends on GPIOLIB && ACPI && PM_SLEEP
+ 	select GPIOLIB_IRQCHIP
+ 	help
+ 	  Some peripherals on Bay Trail and Cherry Trail platforms signal a
+ 	  Power Management Event (PME) to the Power Management Controller (PMC)
+ 	  to wakeup the system. When this happens software needs to explicitly
+ 	  clear the PME bus 0 status bit in the GPE0a_STS register to avoid an
+ 	  IRQ storm on IRQ 9.
+ 
+ 	  This is modelled in ACPI through the INT0002 ACPI device, which is
+ 	  called a "Virtual GPIO controller" in ACPI because it defines the
+ 	  event handler to call when the PME triggers through _AEI and _L02
+ 	  methods as would be done for a real GPIO interrupt in ACPI.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called intel_int0002_vgpio.
+ 
+ config INTEL_MENLOW
+ 	tristate "Thermal Management driver for Intel menlow platform"
+ 	depends on ACPI_THERMAL
+ 	select THERMAL
+ 	help
+ 	  ACPI thermal management enhancement driver on
+ 	  Intel Menlow platform.
+ 
+ 	  If unsure, say N.
+ 
+ config INTEL_OAKTRAIL
+ 	tristate "Intel Oaktrail Platform Extras"
+ 	depends on ACPI
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	depends on RFKILL && BACKLIGHT_CLASS_DEVICE && ACPI
+ 	help
+ 	  Intel Oaktrail platform need this driver to provide interfaces to
+ 	  enable/disable the Camera, WiFi, BT etc. devices. If in doubt, say Y
+ 	  here; it will only load on supported platforms.
+ 
+ config INTEL_VBTN
+ 	tristate "INTEL VIRTUAL BUTTON"
+ 	depends on ACPI
+ 	depends on INPUT
+ 	select INPUT_SPARSEKMAP
+ 	help
+ 	  This driver provides support for the Intel Virtual Button interface.
+ 	  Some laptops require this driver for power button support.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called intel_vbtn.
+ 
+ config MSI_LAPTOP
+ 	tristate "MSI Laptop Extras"
+ 	depends on ACPI
+ 	depends on BACKLIGHT_CLASS_DEVICE
+ 	depends on ACPI_VIDEO || ACPI_VIDEO = n
+ 	depends on RFKILL
+ 	depends on INPUT && SERIO_I8042
+ 	select INPUT_SPARSEKMAP
+ 	help
+ 	  This is a driver for laptops built by MSI (MICRO-STAR
+ 	  INTERNATIONAL):
+ 
+ 	  MSI MegaBook S270 (MS-1013)
+ 	  Cytron/TCM/Medion/Tchibo MD96100/SAM2000
+ 
+ 	  It adds support for Bluetooth, WLAN and LCD brightness control.
+ 
+ 	  More information about this driver is available at
+ 	  <http://0pointer.de/lennart/tchibo.html>.
+ 
+ 	  If you have an MSI S270 laptop, say Y or M here.
+ 
++>>>>>>> 8bd836feb6ca (platform/x86: intel_skl_int3472: Move to intel/ subfolder)
  config MSI_WMI
  	tristate "MSI WMI extras"
  	depends on ACPI_WMI
diff --cc drivers/platform/x86/Makefile
index 63fea2b07435,e03b59ce3f9f..000000000000
--- a/drivers/platform/x86/Makefile
+++ b/drivers/platform/x86/Makefile
@@@ -3,56 -3,102 +3,95 @@@
  # Makefile for linux/drivers/platform/x86
  # x86 Platform-Specific Drivers
  #
 -
 -# Windows Management Interface
 -obj-$(CONFIG_ACPI_WMI)		+= wmi.o
 -obj-$(CONFIG_WMI_BMOF)		+= wmi-bmof.o
 -
 -# WMI drivers
 -obj-$(CONFIG_HUAWEI_WMI)		+= huawei-wmi.o
 -obj-$(CONFIG_INTEL_WMI_SBL_FW_UPDATE)	+= intel-wmi-sbl-fw-update.o
 -obj-$(CONFIG_INTEL_WMI_THUNDERBOLT)	+= intel-wmi-thunderbolt.o
 -obj-$(CONFIG_MXM_WMI)			+= mxm-wmi.o
 -obj-$(CONFIG_PEAQ_WMI)			+= peaq-wmi.o
 -obj-$(CONFIG_XIAOMI_WMI)		+= xiaomi-wmi.o
 -obj-$(CONFIG_GIGABYTE_WMI)		+= gigabyte-wmi.o
 -
 -# Acer
 -obj-$(CONFIG_ACERHDF)		+= acerhdf.o
 -obj-$(CONFIG_ACER_WIRELESS)	+= acer-wireless.o
 -obj-$(CONFIG_ACER_WMI)		+= acer-wmi.o
 -
 -# AMD
 -obj-$(CONFIG_AMD_PMC)		+= amd-pmc.o
 -
 -# Advantech
 -obj-$(CONFIG_ADV_SWBUTTON)	+= adv_swbutton.o
 -
 -# Apple
 -obj-$(CONFIG_APPLE_GMUX)	+= apple-gmux.o
 -
 -# ASUS
  obj-$(CONFIG_ASUS_LAPTOP)	+= asus-laptop.o
 -obj-$(CONFIG_ASUS_WIRELESS)	+= asus-wireless.o
  obj-$(CONFIG_ASUS_WMI)		+= asus-wmi.o
  obj-$(CONFIG_ASUS_NB_WMI)	+= asus-nb-wmi.o
 +obj-$(CONFIG_ASUS_WIRELESS)	+= asus-wireless.o
  obj-$(CONFIG_EEEPC_LAPTOP)	+= eeepc-laptop.o
  obj-$(CONFIG_EEEPC_WMI)		+= eeepc-wmi.o
 +obj-$(CONFIG_MSI_LAPTOP)	+= msi-laptop.o
 +obj-$(CONFIG_ACPI_CMPC)		+= classmate-laptop.o
 +obj-$(CONFIG_COMPAL_LAPTOP)	+= compal-laptop.o
 +obj-$(CONFIG_DCDBAS)		+= dcdbas.o
 +obj-$(CONFIG_DELL_SMBIOS)	+= dell-smbios.o
 +dell-smbios-objs		:= dell-smbios-base.o
 +dell-smbios-$(CONFIG_DELL_SMBIOS_WMI)	+= dell-smbios-wmi.o
 +dell-smbios-$(CONFIG_DELL_SMBIOS_SMM)	+= dell-smbios-smm.o
 +obj-$(CONFIG_DELL_LAPTOP)	+= dell-laptop.o
 +obj-$(CONFIG_DELL_WMI)		+= dell-wmi.o
 +obj-$(CONFIG_DELL_WMI_DESCRIPTOR)	+= dell-wmi-descriptor.o
 +obj-$(CONFIG_DELL_WMI_AIO)	+= dell-wmi-aio.o
 +obj-$(CONFIG_DELL_WMI_LED)	+= dell-wmi-led.o
 +obj-$(CONFIG_DELL_WMI_SYSMAN)		+= dell-wmi-sysman/
 +obj-$(CONFIG_DELL_SMO8800)	+= dell-smo8800.o
 +obj-$(CONFIG_DELL_RBTN)		+= dell-rbtn.o
 +obj-$(CONFIG_ACER_WMI)		+= acer-wmi.o
 +obj-$(CONFIG_ACER_WIRELESS)	+= acer-wireless.o
 +# AMD
 +obj-$(CONFIG_AMD_PMC)		+= amd-pmc.o
  
 -# Dell
 -obj-$(CONFIG_X86_PLATFORM_DRIVERS_DELL)		+= dell/
 -
 -# Fujitsu
 +obj-$(CONFIG_ACERHDF)		+= acerhdf.o
 +obj-$(CONFIG_HP_ACCEL)		+= hp_accel.o
 +obj-$(CONFIG_HP_WIRELESS)	+= hp-wireless.o
 +obj-$(CONFIG_HP_WMI)		+= hp-wmi.o
  obj-$(CONFIG_AMILO_RFKILL)	+= amilo-rfkill.o
 +obj-$(CONFIG_GPD_POCKET_FAN)	+= gpd-pocket-fan.o
 +obj-$(CONFIG_TC1100_WMI)	+= tc1100-wmi.o
 +obj-$(CONFIG_SONY_LAPTOP)	+= sony-laptop.o
 +obj-$(CONFIG_UV_SYSFS)		+= uv_sysfs.o
 +obj-$(CONFIG_IDEAPAD_LAPTOP)	+= ideapad-laptop.o
 +obj-$(CONFIG_THINKPAD_ACPI)	+= thinkpad_acpi.o
 +obj-$(CONFIG_SENSORS_HDAPS)	+= hdaps.o
  obj-$(CONFIG_FUJITSU_LAPTOP)	+= fujitsu-laptop.o
  obj-$(CONFIG_FUJITSU_TABLET)	+= fujitsu-tablet.o
++<<<<<<< HEAD
 +obj-$(CONFIG_PANASONIC_LAPTOP)	+= panasonic-laptop.o
 +obj-$(CONFIG_INTEL_MENLOW)	+= intel_menlow.o
 +obj-$(CONFIG_ACPI_WMI)		+= wmi.o
++=======
+ 
+ # GPD
+ obj-$(CONFIG_GPD_POCKET_FAN)	+= gpd-pocket-fan.o
+ 
+ # Hewlett Packard
+ obj-$(CONFIG_HP_ACCEL)		+= hp_accel.o
+ obj-$(CONFIG_HP_WMI)		+= hp-wmi.o
+ obj-$(CONFIG_TC1100_WMI)	+= tc1100-wmi.o
+ 
+ # Hewlett Packard Enterprise
+ obj-$(CONFIG_UV_SYSFS)       += uv_sysfs.o
+ 
+ # IBM Thinkpad and Lenovo
+ obj-$(CONFIG_IBM_RTL)		+= ibm_rtl.o
+ obj-$(CONFIG_IDEAPAD_LAPTOP)	+= ideapad-laptop.o
+ obj-$(CONFIG_SENSORS_HDAPS)	+= hdaps.o
+ obj-$(CONFIG_THINKPAD_ACPI)	+= thinkpad_acpi.o
+ obj-$(CONFIG_THINKPAD_LMI)	+= think-lmi.o
+ 
+ # Intel
+ obj-$(CONFIG_X86_PLATFORM_DRIVERS_INTEL)		+= intel/
+ 
+ obj-$(CONFIG_INTEL_ATOMISP2_LED)	+= intel_atomisp2_led.o
+ obj-$(CONFIG_INTEL_ATOMISP2_PM)		+= intel_atomisp2_pm.o
+ obj-$(CONFIG_INTEL_CHT_INT33FE)		+= intel_cht_int33fe.o
+ intel_cht_int33fe-objs			:= intel_cht_int33fe_common.o \
+ 					   intel_cht_int33fe_typec.o \
+ 					   intel_cht_int33fe_microb.o
+ obj-$(CONFIG_INTEL_HID_EVENT)		+= intel-hid.o
+ obj-$(CONFIG_INTEL_INT0002_VGPIO)	+= intel_int0002_vgpio.o
+ obj-$(CONFIG_INTEL_MENLOW)		+= intel_menlow.o
+ obj-$(CONFIG_INTEL_OAKTRAIL)		+= intel_oaktrail.o
+ obj-$(CONFIG_INTEL_VBTN)		+= intel-vbtn.o
+ 
+ # MSI
+ obj-$(CONFIG_MSI_LAPTOP)	+= msi-laptop.o
++>>>>>>> 8bd836feb6ca (platform/x86: intel_skl_int3472: Move to intel/ subfolder)
  obj-$(CONFIG_MSI_WMI)		+= msi-wmi.o
 -
 -# OLPC
 -obj-$(CONFIG_XO15_EBOOK)	+= xo15-ebook.o
 -obj-$(CONFIG_XO1_RFKILL)	+= xo1-rfkill.o
 -
 -# PC Engines
 -obj-$(CONFIG_PCENGINES_APU2)	+= pcengines-apuv2.o
 -
 -# Samsung
 -obj-$(CONFIG_SAMSUNG_LAPTOP)	+= samsung-laptop.o
 -obj-$(CONFIG_SAMSUNG_Q10)	+= samsung-q10.o
 -
 -# Toshiba
 -obj-$(CONFIG_TOSHIBA_BT_RFKILL)	+= toshiba_bluetooth.o
 -obj-$(CONFIG_TOSHIBA_HAPS)	+= toshiba_haps.o
 -obj-$(CONFIG_TOSHIBA_WMI)	+= toshiba-wmi.o
 +obj-$(CONFIG_PEAQ_WMI)		+= peaq-wmi.o
 +obj-$(CONFIG_SURFACE3_WMI)	+= surface3-wmi.o
 +obj-$(CONFIG_TOPSTAR_LAPTOP)	+= topstar-laptop.o
 +obj-$(CONFIG_WMI_BMOF)		+= wmi-bmof.o
 +obj-$(CONFIG_INTEL_WMI_THUNDERBOLT)	+= intel-wmi-thunderbolt.o
  
  # toshiba_acpi must link after wmi to ensure that wmi devices are found
  # before toshiba_acpi initializes
* Unmerged path drivers/platform/x86/intel/int3472/Kconfig
* Unmerged path drivers/platform/x86/intel/int3472/Makefile
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_clk_and_regulator.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_common.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_common.h
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_discrete.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_tps68470.c
* Unmerged path MAINTAINERS
* Unmerged path drivers/platform/x86/Kconfig
* Unmerged path drivers/platform/x86/Makefile
diff --git a/drivers/platform/x86/intel/Kconfig b/drivers/platform/x86/intel/Kconfig
new file mode 100644
index 000000000000..33f2dab03d3d
--- /dev/null
+++ b/drivers/platform/x86/intel/Kconfig
@@ -0,0 +1,21 @@
+# SPDX-License-Identifier: GPL-2.0-only
+#
+# Intel x86 Platform Specific Drivers
+#
+
+menuconfig X86_PLATFORM_DRIVERS_INTEL
+	bool "Intel x86 Platform Specific Device Drivers"
+	default y
+	help
+	  Say Y here to get to see options for device drivers for
+	  various Intel x86 platforms, including vendor-specific
+	  drivers. This option alone does not add any kernel code.
+
+	  If you say N, all options in this submenu will be skipped
+	  and disabled.
+
+if X86_PLATFORM_DRIVERS_INTEL
+
+source "drivers/platform/x86/intel/int3472/Kconfig"
+
+endif # X86_PLATFORM_DRIVERS_INTEL
diff --git a/drivers/platform/x86/intel/Makefile b/drivers/platform/x86/intel/Makefile
new file mode 100644
index 000000000000..3ac795d810f1
--- /dev/null
+++ b/drivers/platform/x86/intel/Makefile
@@ -0,0 +1,7 @@
+# SPDX-License-Identifier: GPL-2.0
+#
+# Makefile for drivers/platform/x86/intel
+# Intel x86 Platform-Specific Drivers
+#
+
+obj-$(CONFIG_INTEL_SKL_INT3472)		+= int3472/
* Unmerged path drivers/platform/x86/intel/int3472/Kconfig
* Unmerged path drivers/platform/x86/intel/int3472/Makefile
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_clk_and_regulator.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_common.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_common.h
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_discrete.c
* Unmerged path drivers/platform/x86/intel/int3472/intel_skl_int3472_tps68470.c
