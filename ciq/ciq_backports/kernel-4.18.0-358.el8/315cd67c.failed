i2c: i801: Add Block Write-Block Read Process Call support

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Alexander Sverdlin <alexander.sverdlin@nokia.com>
commit 315cd67c945351f8a569500f8ab16b7fa94026e8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/315cd67c.failed

Add SMBUS 2.0 Block Write-Block Read Process Call command support.

	Signed-off-by: Alexander Sverdlin <alexander.sverdlin@nokia.com>
	Reviewed-by: Jean Delvare <jdelvare@suse.de>
	Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
(cherry picked from commit 315cd67c945351f8a569500f8ab16b7fa94026e8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/i2c/busses/i2c-i801.c
diff --cc drivers/i2c/busses/i2c-i801.c
index b22f50c9e492,70d48f4fba95..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -1575,10 -1674,16 +1604,16 @@@ static int i801_probe(struct pci_dev *d
  	switch (dev->device) {
  	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_H_SMBUS:
  	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_LP_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CANNONLAKE_H_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CANNONLAKE_LP_SMBUS:
  	case PCI_DEVICE_ID_INTEL_LEWISBURG_SMBUS:
  	case PCI_DEVICE_ID_INTEL_LEWISBURG_SSKU_SMBUS:
 -	case PCI_DEVICE_ID_INTEL_CDF_SMBUS:
  	case PCI_DEVICE_ID_INTEL_DNV_SMBUS:
  	case PCI_DEVICE_ID_INTEL_KABYLAKE_PCH_H_SMBUS:
++<<<<<<< HEAD
++=======
+ 	case PCI_DEVICE_ID_INTEL_ICELAKE_LP_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_COMETLAKE_SMBUS:
+ 		priv->features |= FEATURE_BLOCK_PROC;
++>>>>>>> 315cd67c9453 (i2c: i801: Add Block Write-Block Read Process Call support)
  		priv->features |= FEATURE_I2C_BLOCK_READ;
  		priv->features |= FEATURE_IRQ;
  		priv->features |= FEATURE_SMBUS_PEC;
diff --git a/Documentation/i2c/busses/i2c-i801 b/Documentation/i2c/busses/i2c-i801
index e444829253dc..d1dd44ebf9dd 100644
--- a/Documentation/i2c/busses/i2c-i801
+++ b/Documentation/i2c/busses/i2c-i801
@@ -97,7 +97,7 @@ SMBus controller.
 Process Call Support
 --------------------
 
-Not supported.
+Block process call is supported on the 82801EB (ICH5) and later chips.
 
 
 I2C Block Read Support
* Unmerged path drivers/i2c/busses/i2c-i801.c
