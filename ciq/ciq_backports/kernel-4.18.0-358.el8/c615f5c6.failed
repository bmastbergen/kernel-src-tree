i2c: designware: Discard Cherry Trail model flag

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Serge Semin <Sergey.Semin@baikalelectronics.ru>
commit c615f5c65f622fb62df17d58485f46a544d6e07a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/c615f5c6.failed

A PM workaround activated by the flag MODEL_CHERRYTRAIL has been removed
since commit 9cbeeca05049 ("i2c: designware: Remove Cherry Trail PMIC I2C
bus pm_disabled workaround"), but the flag most likely by mistake has been
left in the Dw I2C drivers. Let's remove it. Since MODEL_MSCC_OCELOT is
the only model-flag left, redefine it to be 0x100 so setting a very first
bit in the MODEL_MASK bits range.

	Signed-off-by: Serge Semin <Sergey.Semin@baikalelectronics.ru>
	Acked-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
	Reviewed-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Signed-off-by: Wolfram Sang <wsa@kernel.org>
(cherry picked from commit c615f5c65f622fb62df17d58485f46a544d6e07a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/i2c/busses/i2c-designware-pcidrv.c
diff --cc drivers/i2c/busses/i2c-designware-pcidrv.c
index 3664d76bb976,947c096f86e3..000000000000
--- a/drivers/i2c/busses/i2c-designware-pcidrv.c
+++ b/drivers/i2c/busses/i2c-designware-pcidrv.c
@@@ -159,9 -149,6 +159,12 @@@ static struct dw_pci_controller dw_pci_
  	},
  	[cherrytrail] = {
  		.bus_num = -1,
++<<<<<<< HEAD
 +		.tx_fifo_depth = 32,
 +		.rx_fifo_depth = 32,
 +		.flags = MODEL_CHERRYTRAIL,
++=======
++>>>>>>> c615f5c65f62 (i2c: designware: Discard Cherry Trail model flag)
  		.scl_sda_cfg = &byt_config,
  	},
  	[elkhartlake] = {
diff --git a/drivers/i2c/busses/i2c-designware-core.h b/drivers/i2c/busses/i2c-designware-core.h
index a5f6db491e44..30171946a599 100644
--- a/drivers/i2c/busses/i2c-designware-core.h
+++ b/drivers/i2c/busses/i2c-designware-core.h
@@ -283,8 +283,7 @@ struct dw_i2c_dev {
 #define ACCESS_INTR_MASK	0x00000004
 #define ACCESS_NO_IRQ_SUSPEND	0x00000008
 
-#define MODEL_CHERRYTRAIL	0x00000100
-#define MODEL_MSCC_OCELOT	0x00000200
+#define MODEL_MSCC_OCELOT	0x00000100
 #define MODEL_MASK		0x00000f00
 
 u32 dw_readl(struct dw_i2c_dev *dev, int offset);
* Unmerged path drivers/i2c/busses/i2c-designware-pcidrv.c
diff --git a/drivers/i2c/busses/i2c-designware-platdrv.c b/drivers/i2c/busses/i2c-designware-platdrv.c
index 3d5c410d94af..137dcf6bee57 100644
--- a/drivers/i2c/busses/i2c-designware-platdrv.c
+++ b/drivers/i2c/busses/i2c-designware-platdrv.c
@@ -123,7 +123,7 @@ static const struct acpi_device_id dw_i2c_acpi_match[] = {
 	{ "INT3432", 0 },
 	{ "INT3433", 0 },
 	{ "80860F41", ACCESS_NO_IRQ_SUSPEND },
-	{ "808622C1", ACCESS_NO_IRQ_SUSPEND | MODEL_CHERRYTRAIL },
+	{ "808622C1", ACCESS_NO_IRQ_SUSPEND },
 	{ "AMD0010", ACCESS_INTR_MASK },
 	{ "AMDI0010", ACCESS_INTR_MASK },
 	{ "AMDI0510", 0 },
