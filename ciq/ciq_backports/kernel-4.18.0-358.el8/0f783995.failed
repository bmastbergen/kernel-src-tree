Revert "block/mq-deadline: Add cgroup support"

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Tejun Heo <tj@kernel.org>
commit 0f78399551146bfbed357759e2ad5abb8d39e50a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/0f783995.failed

This reverts commit 08a9ad8bf607 ("block/mq-deadline: Add cgroup support")
and a follow-up commit c06bc5a3fb42 ("block/mq-deadline: Remove a
WARN_ON_ONCE() call"). The added cgroup support has the following issues:

* It breaks cgroup interface file format rule by adding custom elements to a
  nested key-value file.

* It registers mq-deadline as a cgroup-aware policy even though all it's
  doing is collecting per-cgroup stats. Even if we need these stats, this
  isn't the right way to add them.

* It hasn't been reviewed from cgroup side.

	Cc: Bart Van Assche <bvanassche@acm.org>
	Cc: Jens Axboe <axboe@kernel.dk>
	Signed-off-by: Tejun Heo <tj@kernel.org>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 0f78399551146bfbed357759e2ad5abb8d39e50a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	block/mq-deadline.c
diff --cc block/mq-deadline.c
index 19fd637b8c25,a09761cbdf12..000000000000
--- a/block/mq-deadline.c
+++ b/block/mq-deadline.c
@@@ -685,6 -699,7 +685,10 @@@ static void dd_insert_request(struct bl
  	u8 ioprio_class = IOPRIO_PRIO_CLASS(ioprio);
  	struct dd_per_prio *per_prio;
  	enum dd_prio prio;
++<<<<<<< HEAD
++=======
+ 	LIST_HEAD(free);
++>>>>>>> 0f7839955114 (Revert "block/mq-deadline: Add cgroup support")
  
  	lockdep_assert_held(&dd->lock);
  
@@@ -743,7 -763,7 +747,11 @@@ static void dd_insert_requests(struct b
   * Nothing to do here. This is defined only to ensure that .finish_request
   * method is called upon request completion.
   */
++<<<<<<< HEAD
 +static void dd_prepare_request(struct request *rq, struct bio *bio)
++=======
+ static void dd_prepare_request(struct request *rq)
++>>>>>>> 0f7839955114 (Revert "block/mq-deadline: Add cgroup support")
  {
  }
  
* Unmerged path block/mq-deadline.c
