selftests: lib: Add wrapper script for test_scanf

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Richard Fitzgerald <rf@opensource.cirrus.com>
commit ef04d4ff4b19628c78abddc768acce097d35d086
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/ef04d4ff.failed

Adds a wrapper shell script for the test_scanf module.

	Signed-off-by: Richard Fitzgerald <rf@opensource.cirrus.com>
	Reviewed-by: Petr Mladek <pmladek@suse.com>
	Acked-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Signed-off-by: Petr Mladek <pmladek@suse.com>
Link: https://lore.kernel.org/r/20210514161206.30821-4-rf@opensource.cirrus.com
(cherry picked from commit ef04d4ff4b19628c78abddc768acce097d35d086)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/lib/Makefile
diff --cc tools/testing/selftests/lib/Makefile
index 70d5711e3ac8,ee71fc99d5b5..000000000000
--- a/tools/testing/selftests/lib/Makefile
+++ b/tools/testing/selftests/lib/Makefile
@@@ -3,6 -4,6 +3,10 @@@
  # No binaries, but make sure arg-less "make" doesn't trigger "run_tests"
  all:
  
++<<<<<<< HEAD
 +TEST_PROGS := printf.sh bitmap.sh prime_numbers.sh
++=======
+ TEST_PROGS := printf.sh bitmap.sh prime_numbers.sh scanf.sh strscpy.sh
++>>>>>>> ef04d4ff4b19 (selftests: lib: Add wrapper script for test_scanf)
  
  include ../lib.mk
* Unmerged path tools/testing/selftests/lib/Makefile
diff --git a/tools/testing/selftests/lib/config b/tools/testing/selftests/lib/config
index 126933bcc950..62b450179f00 100644
--- a/tools/testing/selftests/lib/config
+++ b/tools/testing/selftests/lib/config
@@ -1,3 +1,4 @@
 CONFIG_TEST_PRINTF=m
+CONFIG_TEST_SCANF=m
 CONFIG_TEST_BITMAP=m
 CONFIG_PRIME_NUMBERS=m
diff --git a/tools/testing/selftests/lib/scanf.sh b/tools/testing/selftests/lib/scanf.sh
new file mode 100755
index 000000000000..b59b8ba561c3
--- /dev/null
+++ b/tools/testing/selftests/lib/scanf.sh
@@ -0,0 +1,4 @@
+#!/bin/sh
+# SPDX-License-Identifier: GPL-2.0
+# Tests the scanf infrastructure using test_scanf kernel module.
+$(dirname $0)/../kselftest/module.sh "scanf" test_scanf
