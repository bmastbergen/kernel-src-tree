tools/power/turbostat: Remove Package C6 Retention on Ice Lake Server

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Chen Yu <yu.c.chen@intel.com>
commit 25368d7cefcd87a94ccabcc6f9f31796607bbe4e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/25368d7c.failed

Currently the turbostat treats ICX the same way as SKX and shares the
code among them. But one difference is that ICX does not support Package
C6 Retention, unlike SKX and CLX.

So this patch:

1. Splitting SKX and ICX in turbostat.
2. Removing Package C6 Rentention for ICX.

And after this split, it would be easier to cutomize Ice Lake Server
in turbostat in the future.

	Suggested-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com>
	Signed-off-by: Chen Yu <yu.c.chen@intel.com>
	Reviewed-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com>
	Tested-by: Artem Bityutskiy <artem.bityutskiy@linux.intel.com>
	Signed-off-by: Len Brown <len.brown@intel.com>
(cherry picked from commit 25368d7cefcd87a94ccabcc6f9f31796607bbe4e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/power/x86/turbostat/turbostat.c
diff --cc tools/power/x86/turbostat/turbostat.c
index cf64a585f0c6,b43816e4c1ff..000000000000
--- a/tools/power/x86/turbostat/turbostat.c
+++ b/tools/power/x86/turbostat/turbostat.c
@@@ -4729,19 -4745,20 +4752,36 @@@ int has_snb_msrs(unsigned int family, u
  	switch (model) {
  	case INTEL_FAM6_SANDYBRIDGE:
  	case INTEL_FAM6_SANDYBRIDGE_X:
++<<<<<<< HEAD
 +	case INTEL_FAM6_IVYBRIDGE:	/* IVB */
 +	case INTEL_FAM6_IVYBRIDGE_X:	/* IVB Xeon */
 +	case INTEL_FAM6_HASWELL:	/* HSW */
 +	case INTEL_FAM6_HASWELL_X:	/* HSW */
 +	case INTEL_FAM6_HASWELL_L:	/* HSW */
 +	case INTEL_FAM6_HASWELL_G:	/* HSW */
 +	case INTEL_FAM6_BROADWELL:	/* BDW */
 +	case INTEL_FAM6_BROADWELL_G:	/* BDW */
 +	case INTEL_FAM6_BROADWELL_X:	/* BDX */
 +	case INTEL_FAM6_SKYLAKE_L:	/* SKL */
 +	case INTEL_FAM6_CANNONLAKE_L:	/* CNL */
 +	case INTEL_FAM6_SKYLAKE_X:	/* SKX */
 +	case INTEL_FAM6_ATOM_GOLDMONT:	/* BXT */
++=======
+ 	case INTEL_FAM6_IVYBRIDGE:		/* IVB */
+ 	case INTEL_FAM6_IVYBRIDGE_X:		/* IVB Xeon */
+ 	case INTEL_FAM6_HASWELL:		/* HSW */
+ 	case INTEL_FAM6_HASWELL_X:		/* HSW */
+ 	case INTEL_FAM6_HASWELL_L:		/* HSW */
+ 	case INTEL_FAM6_HASWELL_G:		/* HSW */
+ 	case INTEL_FAM6_BROADWELL:		/* BDW */
+ 	case INTEL_FAM6_BROADWELL_G:		/* BDW */
+ 	case INTEL_FAM6_BROADWELL_X:		/* BDX */
+ 	case INTEL_FAM6_SKYLAKE_L:		/* SKL */
+ 	case INTEL_FAM6_CANNONLAKE_L:		/* CNL */
+ 	case INTEL_FAM6_SKYLAKE_X:		/* SKX */
+ 	case INTEL_FAM6_ICELAKE_X:		/* ICX */
+ 	case INTEL_FAM6_ATOM_GOLDMONT:		/* BXT */
++>>>>>>> 25368d7cefcd (tools/power/turbostat: Remove Package C6 Retention on Ice Lake Server)
  	case INTEL_FAM6_ATOM_GOLDMONT_PLUS:
  	case INTEL_FAM6_ATOM_GOLDMONT_D:	/* DNV */
  	case INTEL_FAM6_ATOM_TREMONT:		/* EHL */
@@@ -5192,6 -5208,9 +5231,12 @@@ void process_cpuid(
  			edx_flags & (1 << 28) ? "HT" : "-",
  			edx_flags & (1 << 29) ? "TM" : "-");
  	}
++<<<<<<< HEAD
++=======
+ 	if (genuine_intel) {
+ 		model = intel_model_duplicates(model);
+ 	}
++>>>>>>> 25368d7cefcd (tools/power/turbostat: Remove Package C6 Retention on Ice Lake Server)
  
  	if (!(edx_flags & (1 << 5)))
  		errx(1, "CPUID: no MSR");
* Unmerged path tools/power/x86/turbostat/turbostat.c
