net: bridge: fix build when IPv6 is disabled

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-358.el8
commit-author Matteo Croce <mcroce@microsoft.com>
commit 30515832e987597eae354f6ffcdb3374bdfde16d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-358.el8/30515832.failed

The br_ip6_multicast_add_router() prototype is defined only when
CONFIG_IPV6 is enabled, but the function is always referenced, so there
is this build error with CONFIG_IPV6 not defined:

net/bridge/br_multicast.c: In function ‘__br_multicast_enable_port’:
net/bridge/br_multicast.c:1743:3: error: implicit declaration of function ‘br_ip6_multicast_add_router’; did you mean ‘br_ip4_multicast_add_router’? [-Werror=implicit-function-declaration]
 1743 |   br_ip6_multicast_add_router(br, port);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   br_ip4_multicast_add_router
net/bridge/br_multicast.c: At top level:
net/bridge/br_multicast.c:2804:13: warning: conflicting types for ‘br_ip6_multicast_add_router’
 2804 | static void br_ip6_multicast_add_router(struct net_bridge *br,
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
net/bridge/br_multicast.c:2804:13: error: static declaration of ‘br_ip6_multicast_add_router’ follows non-static declaration
net/bridge/br_multicast.c:1743:3: note: previous implicit declaration of ‘br_ip6_multicast_add_router’ was here
 1743 |   br_ip6_multicast_add_router(br, port);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~

Fix this build error by moving the definition out of the #ifdef.

Fixes: a3c02e769efe ("net: bridge: mcast: split multicast router state for IPv4 and IPv6")
	Signed-off-by: Matteo Croce <mcroce@microsoft.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 30515832e987597eae354f6ffcdb3374bdfde16d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bridge/br_multicast.c
diff --cc net/bridge/br_multicast.c
index def6f1840985,53c3a9d80d9c..000000000000
--- a/net/bridge/br_multicast.c
+++ b/net/bridge/br_multicast.c
@@@ -59,7 -60,10 +59,14 @@@ static void br_ip4_multicast_leave_grou
  					 const unsigned char *src);
  static void br_multicast_port_group_rexmit(struct timer_list *t);
  
++<<<<<<< HEAD
 +static void __del_port_router(struct net_bridge_port *p);
++=======
+ static void
+ br_multicast_rport_del_notify(struct net_bridge_port *p, bool deleted);
+ static void br_ip6_multicast_add_router(struct net_bridge *br,
+ 					struct net_bridge_port *port);
++>>>>>>> 30515832e987 (net: bridge: fix build when IPv6 is disabled)
  #if IS_ENABLED(CONFIG_IPV6)
  static void br_ip6_multicast_leave_group(struct net_bridge *br,
  					 struct net_bridge_port *port,
* Unmerged path net/bridge/br_multicast.c
