NTB: Clean up QP stats info

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [ntb] Clean up QP stats info (Suravee Suthikulpanit) [1303727]
Rebuild_FUZZ: 89.80%
commit-author Dave Jiang <dave.jiang@intel.com>
commit d98ef99e378b0d5c42be928d6f2abe08a5f9ce53
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/d98ef99e.failed

Make QP stats info more readable for debugging purposes.  Also add an
entry to indicate whether DMA is being used.

	Signed-off-by: Dave Jiang <dave.jiang@intel.com>
	Signed-off-by: Jon Mason <jdmason@kudzu.us>
(cherry picked from commit d98ef99e378b0d5c42be928d6f2abe08a5f9ce53)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/ntb/ntb_transport.c
diff --cc drivers/ntb/ntb_transport.c
index 0d5e96e60628,777436c47679..000000000000
--- a/drivers/ntb/ntb_transport.c
+++ b/drivers/ntb/ntb_transport.c
@@@ -449,15 -489,28 +449,35 @@@ static ssize_t debugfs_read(struct fil
  	out_offset += snprintf(buf + out_offset, out_count - out_offset,
  			       "tx_err_no_buf - %llu\n", qp->tx_err_no_buf);
  	out_offset += snprintf(buf + out_offset, out_count - out_offset,
- 			       "tx_mw - \t%p\n", qp->tx_mw);
+ 			       "tx_mw - \t0x%p\n", qp->tx_mw);
  	out_offset += snprintf(buf + out_offset, out_count - out_offset,
- 			       "tx_index - \t%u\n", qp->tx_index);
+ 			       "tx_index (H) - \t%u\n", qp->tx_index);
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "RRI (T) - \t%u\n",
+ 			       qp->remote_rx_info->entry);
  	out_offset += snprintf(buf + out_offset, out_count - out_offset,
  			       "tx_max_entry - \t%u\n", qp->tx_max_entry);
++<<<<<<< HEAD
 +
 +	out_offset += snprintf(buf + out_offset, out_count - out_offset,
 +			       "\nQP Link %s\n", (qp->qp_link == NTB_LINK_UP) ?
 +			       "Up" : "Down");
++=======
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "free tx - \t%u\n",
+ 			       ntb_transport_tx_free_entry(qp));
+ 
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "\n");
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "Using DMA - \t%s\n", use_dma ? "Yes" : "No");
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "QP Link - \t%s\n",
+ 			       qp->link_is_up ? "Up" : "Down");
+ 	out_offset += snprintf(buf + out_offset, out_count - out_offset,
+ 			       "\n");
+ 
++>>>>>>> d98ef99e378b (NTB: Clean up QP stats info)
  	if (out_offset > out_count)
  		out_offset = out_count;
  
* Unmerged path drivers/ntb/ntb_transport.c
