HID: wacom - Add quirks for INTUOSHT2 in range events

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [hid] wacom - Add quirks for INTUOSHT2 in range events (Aristeu Rozanski) [1346348 1388646 1385026]
Rebuild_FUZZ: 95.05%
commit-author Ping Cheng <pinglinux@gmail.com>
commit 526d6e7b57062c494346149fb2d6aff0be78ed89
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/526d6e7b.failed

INTUOSHT2 in range event is not used to indicate in proximity state.
INTUOSHT2 only has one stylus.

	Signed-off-by: Ping Cheng <pingc@wacom.com>
	Reviewed-by: Jason Gerecke <jason.gerecke@wacom.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit 526d6e7b57062c494346149fb2d6aff0be78ed89)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/wacom_wac.c
diff --cc drivers/hid/wacom_wac.c
index 98c7d65145c2,e92e1e855a72..000000000000
--- a/drivers/hid/wacom_wac.c
+++ b/drivers/hid/wacom_wac.c
@@@ -412,31 -678,20 +413,46 @@@ static int wacom_intuos_inout(struct wa
  		return 1;
  	}
  
++<<<<<<< HEAD
 +	/*
 +	 * don't report events for invalid data
 +	 */
 +	/* older I4 styli don't work with new Cintiqs */
 +	if ((!((wacom->id[idx] >> 20) & 0x01) &&
 +			(features->type == WACOM_21UX2)) ||
 +	    /* Only large Intuos support Lense Cursor */
 +	    (wacom->tool[idx] == BTN_TOOL_LENS &&
 +		(features->type == INTUOS3 ||
 +		 features->type == INTUOS3S ||
 +		 features->type == INTUOS4 ||
 +		 features->type == INTUOS4S ||
 +		 features->type == INTUOS5 ||
 +		 features->type == INTUOS5S ||
 +		 features->type == INTUOSPM ||
 +		 features->type == INTUOSPS)) ||
 +	   /* Cintiq doesn't send data when RDY bit isn't set */
 +	   (features->type == CINTIQ && !(data[1] & 0x40)))
++=======
+ 	/* in Range */
+ 	if ((data[1] & 0xfe) == 0x20) {
+ 		if (features->type != INTUOSHT2)
+ 			wacom->shared->stylus_in_proximity = true;
+ 
+ 		/* in Range while exiting */
+ 		if (wacom->reporting_data) {
+ 			input_report_key(input, BTN_TOUCH, 0);
+ 			input_report_abs(input, ABS_PRESSURE, 0);
+ 			input_report_abs(input, ABS_DISTANCE, wacom->features.distance_max);
+ 			return 2;
+ 		}
++>>>>>>> 526d6e7b5706 (HID: wacom - Add quirks for INTUOSHT2 in range events)
  		return 1;
 +
 +	/* Range Report */
 +	if ((data[1] & 0xfe) == 0x20) {
 +		input_report_key(input, BTN_TOUCH, 0);
 +		input_report_abs(input, ABS_PRESSURE, 0);
 +		input_report_abs(input, ABS_DISTANCE, wacom->features.distance_max);
  	}
  
  	/* Exit report */
* Unmerged path drivers/hid/wacom_wac.c
