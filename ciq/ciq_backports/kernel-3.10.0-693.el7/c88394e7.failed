qeth: fix handling of IPA return codes

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Eugene Crosser <Eugene.Crosser@ru.ibm.com>
commit c88394e7ee5ecf425754f78d38b4968eb60ffba5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/c88394e7.failed

Function that executes IPA commands returns the result code from the
IPA response block. If non-negative, it needs to be transformed into
errno-compatible code before returning to the caller.

	Signed-off-by: Eugene Crosser <Eugene.Crosser@ru.ibm.com>
	Signed-off-by: Ursula Braun <ursula.braun@de.ibm.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c88394e7ee5ecf425754f78d38b4968eb60ffba5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/s390/net/qeth_l2_main.c
diff --cc drivers/s390/net/qeth_l2_main.c
index c1ba62f48d49,1cdefaea866c..000000000000
--- a/drivers/s390/net/qeth_l2_main.c
+++ b/drivers/s390/net/qeth_l2_main.c
@@@ -1810,12 -1808,9 +1810,16 @@@ int qeth_bridgeport_query_ports(struct 
  	cmd->data.sbp.hdr.seq_no = 1;
  	rc = qeth_send_ipa_cmd(card, iob, qeth_bridgeport_query_ports_cb,
  				(void *)&cbctl);
- 	if (rc)
+ 	if (rc < 0)
  		return rc;
++<<<<<<< HEAD
 +	rc = qeth_bridgeport_makerc(card, &cbctl, IPA_SBP_QUERY_BRIDGE_PORTS);
 +	if (rc)
 +		return rc;
 +	return 0;
++=======
+ 	return qeth_bridgeport_makerc(card, &cbctl, IPA_SBP_QUERY_BRIDGE_PORTS);
++>>>>>>> c88394e7ee5e (qeth: fix handling of IPA return codes)
  }
  EXPORT_SYMBOL_GPL(qeth_bridgeport_query_ports);
  
* Unmerged path drivers/s390/net/qeth_l2_main.c
