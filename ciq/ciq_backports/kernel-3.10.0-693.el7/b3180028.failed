platform/x86: thinkpad_acpi: Move tablet detection into separate function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [platform] x86: thinkpad_acpi: Move tablet detection into separate function (Lyude Paul) [1389438]
Rebuild_FUZZ: 93.43%
commit-author Lyude <lyude@redhat.com>
commit b31800283868746fc59686486a11fb24b103955b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/b3180028.failed

The hotkey events and ACPI handles used for detecting tablet mode on a
few of the newer thinkpad models (Yoga X1 and the Yoga 260 specifically)
have been changed around, so unfortunately this means we're definitely
going to need to probe for multiple types of tablet mode support. Since
the hotkey_init() is already a lot larger than it should be, let's split
up this detection into its own function to make things a little easier
to read.

As well, since we're going to have multiple types of tablet modes, make
hotkey_tablet into an enum so we can also use it to indicate the type of
tablet mode reporting the machine supports.

Suggested by Daniel Martin <consume.noise@gmail.com>
	Signed-off-by: Lyude <lyude@redhat.com>
	Cc: Daniel Martin <consume.noise@gmail.com>
	Acked-by: Henrique de Moraes Holschuh <hmh@hmh.eng.br>
	Signed-off-by: Darren Hart <dvhart@linux.intel.com>
(cherry picked from commit b31800283868746fc59686486a11fb24b103955b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/platform/x86/thinkpad_acpi.c
diff --cc drivers/platform/x86/thinkpad_acpi.c
index 6d5105235fe6,f3053de25cc5..000000000000
--- a/drivers/platform/x86/thinkpad_acpi.c
+++ b/drivers/platform/x86/thinkpad_acpi.c
@@@ -306,7 -302,11 +306,15 @@@ static struct 
  	u32 hotkey:1;
  	u32 hotkey_mask:1;
  	u32 hotkey_wlsw:1;
++<<<<<<< HEAD
 +	u32 hotkey_tablet:1;
++=======
+ 	enum {
+ 		TP_HOTKEY_TABLET_NONE = 0,
+ 		TP_HOTKEY_TABLET_USES_MHKG,
+ 	} hotkey_tablet;
+ 	u32 kbdlight:1;
++>>>>>>> b31800283868 (platform/x86: thinkpad_acpi: Move tablet detection into separate function)
  	u32 light:1;
  	u32 light_status:1;
  	u32 bright_acpimode:1;
* Unmerged path drivers/platform/x86/thinkpad_acpi.c
