net: phy: fixed_phy: fix of_node leak in fixed_phy_unregister

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [netdrv] phy: fixed_phy: fix of_node leak in fixed_phy_unregister (Ivan Vecera) [1382040]
Rebuild_FUZZ: 95.73%
commit-author Johan Hovold <johan@kernel.org>
commit 13c9d934a5a1d04f055c20c2253090e9afd9a5d1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/13c9d934.failed

Make sure to drop the of_node reference taken in fixed_phy_register()
when deregistering a PHY.

Fixes: a75951217472 ("net: phy: extend fixed driver with
fixed_phy_register()")

	Signed-off-by: Johan Hovold <johan@kernel.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 13c9d934a5a1d04f055c20c2253090e9afd9a5d1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/fixed_phy.c
diff --cc drivers/net/phy/fixed_phy.c
index 0b6b5e8ee74c,eb5167210681..000000000000
--- a/drivers/net/phy/fixed_phy.c
+++ b/drivers/net/phy/fixed_phy.c
@@@ -307,6 -276,14 +307,17 @@@ int fixed_phy_register(unsigned int irq
  }
  EXPORT_SYMBOL_GPL(fixed_phy_register);
  
++<<<<<<< HEAD
++=======
+ void fixed_phy_unregister(struct phy_device *phy)
+ {
+ 	phy_device_remove(phy);
+ 	of_node_put(phy->mdio.dev.of_node);
+ 	fixed_phy_del(phy->mdio.addr);
+ }
+ EXPORT_SYMBOL_GPL(fixed_phy_unregister);
+ 
++>>>>>>> 13c9d934a5a1 (net: phy: fixed_phy: fix of_node leak in fixed_phy_unregister)
  static int __init fixed_mdio_bus_init(void)
  {
  	struct fixed_mdio_bus *fmb = &platform_fmb;
* Unmerged path drivers/net/phy/fixed_phy.c
