usb: Kconfig: let USB_ULPI_BUS depends on USB_COMMON

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [usb] kconfig: let USB_ULPI_BUS depends on USB_COMMON (Torez Smith) [1383823]
Rebuild_FUZZ: 94.95%
commit-author Peter Chen <peter.chen@nxp.com>
commit 6406c3d226374c28d452b11db3b5ac241ce26191
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/6406c3d2.failed

Since ulpi bus driver is located at usb/common/ulpi.c, whether it
is compiled or not depends on CONFIG_USB_COMMON which needs either
USB Host or USB Gadget is enabled, so even CONFIG_USB_ULPI_BUS is
chosen, its source may still not be compiled when both USB HOST
and USB gadget are disabled.

It fixed compile error with below configurations:
- # CONFIG_USB is not set
- # CONFIG_USB_GADGET is not set
- CONFIG_PHY_TUSB1210=m
- CONFIG_USB_ULPI_BUS=m

>> All errors (new ones prefixed by >>):
>>
>> ERROR: "ulpi_unregister_driver" [drivers/phy/phy-tusb1210.ko] undefined!
>> ERROR: "__ulpi_register_driver" [drivers/phy/phy-tusb1210.ko] undefined!
>> ERROR: "ulpi_write" [drivers/phy/phy-tusb1210.ko] undefined!

Fixes: ad764c49f65a ("usb: Kconfig: move ulpi bus support out of host")
	Reported-by: kbuild test robot <fengguang.wu@intel.com>
	Signed-off-by: Peter Chen <peter.chen@nxp.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 6406c3d226374c28d452b11db3b5ac241ce26191)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/Kconfig
diff --cc drivers/usb/Kconfig
index 310e22c5e3ff,2b9159a9ab4f..000000000000
--- a/drivers/usb/Kconfig
+++ b/drivers/usb/Kconfig
@@@ -155,4 -160,25 +155,28 @@@ config USB_LED_TRI
  	  LEDs and you want to use them as activity indicators for USB host or
  	  gadget.
  
++<<<<<<< HEAD
++=======
+ config USB_ULPI_BUS
+ 	tristate "USB ULPI PHY interface support"
+ 	depends on USB_COMMON
+ 	help
+ 	  UTMI+ Low Pin Interface (ULPI) is specification for a commonly used
+ 	  USB 2.0 PHY interface. The ULPI specification defines a standard set
+ 	  of registers that can be used to detect the vendor and product which
+ 	  allows ULPI to be handled as a bus. This module is the driver for that
+ 	  bus.
+ 
+ 	  The ULPI interfaces (the buses) are registered by the drivers for USB
+ 	  controllers which support ULPI register access and have ULPI PHY
+ 	  attached to them. The ULPI PHY drivers themselves are normal PHY
+ 	  drivers.
+ 
+ 	  ULPI PHYs provide often functions such as ADP sensing/probing (OTG
+ 	  protocol) and USB charger detection.
+ 
+ 	  To compile this driver as a module, choose M here: the module will
+ 	  be called ulpi.
+ 
++>>>>>>> 6406c3d22637 (usb: Kconfig: let USB_ULPI_BUS depends on USB_COMMON)
  endif # USB_SUPPORT
* Unmerged path drivers/usb/Kconfig
