powerpc: Wire up copy_file_range() syscall

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Chandan Rajendra <chandan@linux.vnet.ibm.com>
commit d7f9ee60a6ebc263861a1d8c06acf100495201b7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/d7f9ee60.failed

Test runs on a ppc64 BE guest succeeded using modified fstests.

Also tested on ppc64 LE using a home made test - mpe.

	Signed-off-by: Chandan Rajendra <chandan@linux.vnet.ibm.com>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit d7f9ee60a6ebc263861a1d8c06acf100495201b7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/include/asm/systbl.h
#	arch/powerpc/include/asm/unistd.h
#	arch/powerpc/include/uapi/asm/unistd.h
diff --cc arch/powerpc/include/asm/systbl.h
index 57b6bab66149,3fa9df70aa20..000000000000
--- a/arch/powerpc/include/asm/systbl.h
+++ b/arch/powerpc/include/asm/systbl.h
@@@ -361,11 -361,26 +361,29 @@@ SYSCALL(finit_module
  SYSCALL(kcmp) /* sys_kcmp */
  SYSCALL_SPU(sched_setattr)
  SYSCALL_SPU(sched_getattr)
 -SYSCALL_SPU(renameat2)
 -SYSCALL_SPU(seccomp)
 -SYSCALL_SPU(getrandom)
 -SYSCALL_SPU(memfd_create)
 -SYSCALL_SPU(bpf)
 -COMPAT_SYS(execveat)
 +SYSCALL(ni_syscall) /* sys_renameat2 */
 +SYSCALL(ni_syscall) /* sys_seccomp */
 +SYSCALL(ni_syscall) /* sys_getrandom */
 +SYSCALL_SPU(memfd_create) /* sys_memfd_create */
 +SYSCALL(ni_syscall) /* sys_bpf */
 +SYSCALL(ni_syscall) /* sys_execveat */
  PPC64ONLY(switch_endian)
  SYSCALL_SPU(userfaultfd)
++<<<<<<< HEAD
++=======
+ SYSCALL_SPU(membarrier)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(ni_syscall)
+ SYSCALL(mlock2)
+ SYSCALL(copy_file_range)
++>>>>>>> d7f9ee60a6eb (powerpc: Wire up copy_file_range() syscall)
diff --cc arch/powerpc/include/asm/unistd.h
index 99a1da16762a,1f2594d45605..000000000000
--- a/arch/powerpc/include/asm/unistd.h
+++ b/arch/powerpc/include/asm/unistd.h
@@@ -12,10 -12,9 +12,14 @@@
  #include <uapi/asm/unistd.h>
  
  
++<<<<<<< HEAD
 +#define __NR_syscalls		365
++=======
+ #define NR_syscalls		380
++>>>>>>> d7f9ee60a6eb (powerpc: Wire up copy_file_range() syscall)
  
  #define __NR__exit __NR_exit
 +#define NR_syscalls	__NR_syscalls
  
  #ifndef __ASSEMBLY__
  
diff --cc arch/powerpc/include/uapi/asm/unistd.h
index 1a46d0eb8909,940290d45b08..000000000000
--- a/arch/powerpc/include/uapi/asm/unistd.h
+++ b/arch/powerpc/include/uapi/asm/unistd.h
@@@ -387,6 -387,8 +387,12 @@@
  #define __NR_execveat		362
  #define __NR_switch_endian	363
  #define __NR_userfaultfd	364
++<<<<<<< HEAD
 +
++=======
+ #define __NR_membarrier		365
+ #define __NR_mlock2		378
+ #define __NR_copy_file_range	379
++>>>>>>> d7f9ee60a6eb (powerpc: Wire up copy_file_range() syscall)
  
  #endif /* _UAPI_ASM_POWERPC_UNISTD_H_ */
* Unmerged path arch/powerpc/include/asm/systbl.h
* Unmerged path arch/powerpc/include/asm/unistd.h
* Unmerged path arch/powerpc/include/uapi/asm/unistd.h
