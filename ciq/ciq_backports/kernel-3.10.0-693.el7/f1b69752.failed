ACPICA: acpidump: Add ACPI 1.0 RSDP support.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [acpi] acpica: acpidump: Add ACPI 1.0 RSDP support (Prarit Bhargava) [1425180]
Rebuild_FUZZ: 98.85%
commit-author Lv Zheng <lv.zheng@intel.com>
commit f1b697525d5428856eaba2be2ee6dc1cf3efbbbe
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/f1b69752.failed

The acpidump currently always uses ACPI 2.0 format to dump RSDP, this patch
adds ACPI 1.0 RSDP support.

Link: https://bugs.acpica.org/show_bug.cgi?id=1097
Link: https://bugs.acpica.org/show_bug.cgi?id=1103
	Signed-off-by: Lv Zheng <lv.zheng@intel.com>
Reported-and-tested-by: Rudolf Marek <r.marek@assembler.cz>
Reported-and-tested-by: Rafal <fatwildcat@gmail.com>
	Signed-off-by: Bob Moore <robert.moore@intel.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit f1b697525d5428856eaba2be2ee6dc1cf3efbbbe)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/acpica/actables.h
#	drivers/acpi/acpica/tbxfroot.c
#	tools/power/acpi/tools/acpidump/apdump.c
diff --cc drivers/acpi/acpica/actables.h
index 917315ec21dd,1afe46e44dac..000000000000
--- a/drivers/acpi/acpica/actables.h
+++ b/drivers/acpi/acpica/actables.h
@@@ -49,8 -49,37 +49,15 @@@ acpi_status acpi_allocate_root_table(u3
  /*
   * tbxfroot - Root pointer utilities
   */
++<<<<<<< HEAD
++=======
+ u32 acpi_tb_get_rsdp_length(struct acpi_table_rsdp *rsdp);
+ 
+ acpi_status acpi_tb_validate_rsdp(struct acpi_table_rsdp *rsdp);
+ 
++>>>>>>> f1b697525d54 (ACPICA: acpidump: Add ACPI 1.0 RSDP support.)
  u8 *acpi_tb_scan_memory_for_rsdp(u8 *start_address, u32 length);
  
 -/*
 - * tbdata - table data structure management
 - */
 -acpi_status acpi_tb_get_next_root_index(u32 *table_index);
 -
 -void
 -acpi_tb_init_table_descriptor(struct acpi_table_desc *table_desc,
 -			      acpi_physical_address address,
 -			      u8 flags, struct acpi_table_header *table);
 -
 -acpi_status
 -acpi_tb_acquire_temp_table(struct acpi_table_desc *table_desc,
 -			   acpi_physical_address address, u8 flags);
 -
 -void acpi_tb_release_temp_table(struct acpi_table_desc *table_desc);
 -
 -acpi_status acpi_tb_validate_temp_table(struct acpi_table_desc *table_desc);
 -
 -acpi_status
 -acpi_tb_verify_temp_table(struct acpi_table_desc *table_desc, char *signature);
 -
 -u8 acpi_tb_is_table_loaded(u32 table_index);
 -
 -void acpi_tb_set_table_loaded_flag(u32 table_index, u8 is_loaded);
 -
  /*
   * tbfadt - FADT parse/convert/validate
   */
diff --cc drivers/acpi/acpica/tbxfroot.c
index e76ed0f07826,43a54af2b548..000000000000
--- a/drivers/acpi/acpica/tbxfroot.c
+++ b/drivers/acpi/acpica/tbxfroot.c
@@@ -48,9 -48,36 +48,39 @@@
  #define _COMPONENT          ACPI_TABLES
  ACPI_MODULE_NAME("tbxfroot")
  
 +/* Local prototypes */
 +static acpi_status acpi_tb_validate_rsdp(struct acpi_table_rsdp *rsdp);
 +
+ /*******************************************************************************
+  *
+  * FUNCTION:    acpi_tb_get_rsdp_length
+  *
+  * PARAMETERS:  rsdp                - Pointer to RSDP
+  *
+  * RETURN:      Table length
+  *
+  * DESCRIPTION: Get the length of the RSDP
+  *
+  ******************************************************************************/
+ u32 acpi_tb_get_rsdp_length(struct acpi_table_rsdp *rsdp)
+ {
+ 
+ 	if (!ACPI_VALIDATE_RSDP_SIG(rsdp->signature)) {
+ 
+ 		/* BAD Signature */
+ 
+ 		return (0);
+ 	}
+ 
+ 	/* "Length" field is available if table version >= 2 */
+ 
+ 	if (rsdp->revision >= 2) {
+ 		return (rsdp->length);
+ 	} else {
+ 		return (ACPI_RSDP_CHECKSUM_LENGTH);
+ 	}
+ }
+ 
  /*******************************************************************************
   *
   * FUNCTION:    acpi_tb_validate_rsdp
@@@ -63,7 -90,7 +93,11 @@@
   *
   ******************************************************************************/
  
++<<<<<<< HEAD
 +static acpi_status acpi_tb_validate_rsdp(struct acpi_table_rsdp *rsdp)
++=======
+ acpi_status acpi_tb_validate_rsdp(struct acpi_table_rsdp * rsdp)
++>>>>>>> f1b697525d54 (ACPICA: acpidump: Add ACPI 1.0 RSDP support.)
  {
  
  	/*
* Unmerged path tools/power/acpi/tools/acpidump/apdump.c
* Unmerged path drivers/acpi/acpica/actables.h
* Unmerged path drivers/acpi/acpica/tbxfroot.c
* Unmerged path tools/power/acpi/tools/acpidump/apdump.c
