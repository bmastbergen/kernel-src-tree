HID: wacom: Report full pressure range for Intuos, Cintiq 13HD Touch

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [hid] wacom: Report full pressure range for Intuos, Cintiq 13HD Touch (Aristeu Rozanski) [1346348 1388646 1385026]
Rebuild_FUZZ: 96.18%
commit-author Jason Gerecke <killertofu@gmail.com>
commit 8d515fda8946cbfb359dca9d6bd416478f1b45cc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/8d515fda.failed

The new Intuos tablets added in eda01da and the Cintiq 13HD Touch added
in b4bf212 are capable of reporting 2048 levels of pressure. Although the
kernel reports the correct range to userspace, an oversight has resulted
in the driver ingoring the 11th pressure bit and only sending pressures
of 0 through 1023.

We could fix this issue by expanding the type check to include these
devices, but it makes much more sense to just have the driver look at
the device's maximum pressure when determining if it should read the
11th bit.

	Signed-off-by: Jason Gerecke <jason.gerecke@wacom.com>
	Reviewed-by: Ping Cheng <pingc@wacom.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit 8d515fda8946cbfb359dca9d6bd416478f1b45cc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/wacom_wac.c
diff --cc drivers/hid/wacom_wac.c
index bdf17efa93aa,7b3784826cce..000000000000
--- a/drivers/hid/wacom_wac.c
+++ b/drivers/hid/wacom_wac.c
@@@ -498,7 -765,7 +498,11 @@@ static void wacom_intuos_general(struc
  	/* general pen packet */
  	if ((data[1] & 0xb8) == 0xa0) {
  		t = (data[6] << 2) | ((data[7] >> 6) & 3);
++<<<<<<< HEAD
 +		if (features->type >= INTUOS4S && features->type <= WACOM_24HD) {
++=======
+ 		if (features->pressure_max == 2047) {
++>>>>>>> 8d515fda8946 (HID: wacom: Report full pressure range for Intuos, Cintiq 13HD Touch)
  			t = (t << 1) | (data[1] & 1);
  		}
  		input_report_abs(input, ABS_PRESSURE, t);
* Unmerged path drivers/hid/wacom_wac.c
