mei: don't wait for os version message reply

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Alexander Usyskin <alexander.usyskin@intel.com>
commit c6240cacdb2c3cb56a21fb3ea0c105154ab87a2a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/c6240cac.failed

The driver still struggles with firmwares that do not replay to the OS
version request. It is safe not waiting for the replay. First, the driver
doesn't do anything with the replay second the connection is closed
immediately, hence the packet will be just safely discarded in case it
is received and last the driver won't get stuck if the firmware won't
reply.

	Cc: <stable@vger.kernel.org> #4.10+
	Signed-off-by: Alexander Usyskin <alexander.usyskin@intel.com>
	Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit c6240cacdb2c3cb56a21fb3ea0c105154ab87a2a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/misc/mei/bus-fixup.c
diff --cc drivers/misc/mei/bus-fixup.c
index 065e8ae2607b,29f2daed37e0..000000000000
--- a/drivers/misc/mei/bus-fixup.c
+++ b/drivers/misc/mei/bus-fixup.c
@@@ -137,15 -135,7 +135,19 @@@ static int mei_osver(struct mei_cl_devi
  	os_ver = (struct mei_os_ver *)fwcaps->data;
  	os_ver->os_type = OSTYPE_LINUX;
  
++<<<<<<< HEAD
 +	ret = __mei_cl_send(cldev->cl, buf, size, mode);
 +	if (ret < 0)
 +		return ret;
 +
 +	ret = __mei_cl_recv(cldev->cl, buf, length);
 +	if (ret < 0)
 +		return ret;
 +
 +	return 0;
++=======
+ 	return __mei_cl_send(cldev->cl, buf, size, mode);
++>>>>>>> c6240cacdb2c (mei: don't wait for os version message reply)
  }
  
  static void mei_mkhi_fix(struct mei_cl_device *cldev)
* Unmerged path drivers/misc/mei/bus-fixup.c
