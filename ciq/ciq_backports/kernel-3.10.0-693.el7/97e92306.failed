x86/PCI: VMD: Initialize list item in IRQ disable

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [x86] pci: vmd: Initialize list item in IRQ disable (Myron Stowe) [1388688]
Rebuild_FUZZ: 95.74%
commit-author Keith Busch <keith.busch@intel.com>
commit 97e92306357583c1741f0a111c7befe8673b91ee
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/97e92306.failed

Multiple calls to disable an IRQ would have caused the driver to
dereference a poisoned list item.  This re-initializes the list to allow
multiple requests to disable the IRQ.

	Signed-off-by: Keith Busch <keith.busch@intel.com>
	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
	Acked-by Jon Derrick: <jonathan.derrick@intel.com>
(cherry picked from commit 97e92306357583c1741f0a111c7befe8673b91ee)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/pci/vmd.c
diff --cc arch/x86/pci/vmd.c
index c06f45a0a147,3519a1578752..000000000000
--- a/arch/x86/pci/vmd.c
+++ b/arch/x86/pci/vmd.c
@@@ -116,9 -133,10 +116,14 @@@ static void vmd_irq_disable(struct irq_
  
  	data->chip->irq_mask(data);
  
 -	raw_spin_lock(&list_lock);
 +	raw_spin_lock_irqsave(&list_lock, flags);
  	list_del_rcu(&vmdirq->node);
++<<<<<<< HEAD
 +	raw_spin_unlock_irqrestore(&list_lock, flags);
++=======
+ 	INIT_LIST_HEAD_RCU(&vmdirq->node);
+ 	raw_spin_unlock(&list_lock);
++>>>>>>> 97e923063575 (x86/PCI: VMD: Initialize list item in IRQ disable)
  }
  
  /*
* Unmerged path arch/x86/pci/vmd.c
