scsi: lpfc: Deprecate lpfc_prot_sg_seg_cnt parameter

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [scsi] lpfc: Deprecate lpfc_prot_sg_seg_cnt parameter (Rob Evers) [1382101]
Rebuild_FUZZ: 93.88%
commit-author James Smart <james.smart@broadcom.com>
commit f2bf460cf5ef989f0a593d05932460326376d5f6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/f2bf460c.failed

Deprecate lpfc_prot_sg_seg_cnt parameter. Eliminates driver from
unnecessarily limiting DIF s/g list length.

	Signed-off-by: Dick Kennedy <dick.kennedy@broadcom.com>
	Signed-off-by: James Smart <james.smart@broadcom.com>
	Reviewed-by: Hannes Reinecke <hare@suse.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit f2bf460cf5ef989f0a593d05932460326376d5f6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/lpfc/lpfc_attr.c
diff --cc drivers/scsi/lpfc/lpfc_attr.c
index e064de1e81df,8301c08b8768..000000000000
--- a/drivers/scsi/lpfc/lpfc_attr.c
+++ b/drivers/scsi/lpfc/lpfc_attr.c
@@@ -4754,12 -4466,12 +4754,21 @@@ LPFC_ATTR_R(sg_seg_cnt, LPFC_DEFAULT_SG
  	    LPFC_MAX_SG_SEG_CNT, "Max Scatter Gather Segment Count");
  
  /*
++<<<<<<< HEAD
 + * This parameter will be depricated, the driver cannot limit the
 + * protection data s/g list.
 + */
 +LPFC_ATTR_R(prot_sg_seg_cnt, LPFC_DEFAULT_SG_SEG_CNT,
 +	    LPFC_DEFAULT_SG_SEG_CNT, LPFC_MAX_SG_SEG_CNT,
 +	    "Max Protection Scatter Gather Segment Count");
++=======
+  * lpfc_enable_mds_diags: Enable MDS Diagnostics
+  *       0  = MDS Diagnostics disabled (default)
+  *       1  = MDS Diagnostics enabled
+  * Value range is [0,1]. Default value is 0.
+  */
+ LPFC_ATTR_R(enable_mds_diags, 0, 0, 1, "Enable MDS Diagnostics");
++>>>>>>> f2bf460cf5ef (scsi: lpfc: Deprecate lpfc_prot_sg_seg_cnt parameter)
  
  struct device_attribute *lpfc_hba_attrs[] = {
  	&dev_attr_bg_info,
@@@ -5839,10 -5566,7 +5847,9 @@@ lpfc_get_cfgparam(struct lpfc_hba *phba
  	else
  		phba->cfg_poll = lpfc_poll;
  
 +	phba->cfg_soft_wwnn = 0L;
 +	phba->cfg_soft_wwpn = 0L;
  	lpfc_sg_seg_cnt_init(phba, lpfc_sg_seg_cnt);
- 	lpfc_prot_sg_seg_cnt_init(phba, lpfc_prot_sg_seg_cnt);
  	lpfc_hba_queue_depth_init(phba, lpfc_hba_queue_depth);
  	lpfc_hba_log_verbose_init(phba, lpfc_log_verbose);
  	lpfc_aer_support_init(phba, lpfc_aer_support);
diff --git a/drivers/scsi/lpfc/lpfc.h b/drivers/scsi/lpfc/lpfc.h
index c14c2116a118..e064d56e10cf 100644
--- a/drivers/scsi/lpfc/lpfc.h
+++ b/drivers/scsi/lpfc/lpfc.h
@@ -725,7 +725,6 @@ struct lpfc_hba {
 	uint32_t cfg_fcp_io_channel;
 	uint32_t cfg_total_seg_cnt;
 	uint32_t cfg_sg_seg_cnt;
-	uint32_t cfg_prot_sg_seg_cnt;
 	uint32_t cfg_sg_dma_buf_size;
 	uint64_t cfg_soft_wwnn;
 	uint64_t cfg_soft_wwpn;
* Unmerged path drivers/scsi/lpfc/lpfc_attr.c
