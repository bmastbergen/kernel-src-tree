perf top: Remove old kernel-only symbol filter

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit b6220212d48a9bfbc694d10b38dbdfbaab81f4a0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/b6220212.failed

Not needed, we already have code to prune aliases.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Masami Hiramatsu <mhiramat@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/n/tip-1ysyce7qjgui93gi1efbjwhf@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit b6220212d48a9bfbc694d10b38dbdfbaab81f4a0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-top.c
diff --cc tools/perf/builtin-top.c
index 9e624c5eb663,400785702566..000000000000
--- a/tools/perf/builtin-top.c
+++ b/tools/perf/builtin-top.c
@@@ -657,34 -657,6 +657,37 @@@ repeat
  	return NULL;
  }
  
++<<<<<<< HEAD
 +static int symbol_filter(struct map *map, struct symbol *sym)
 +{
 +	const char *name = sym->name;
 +
 +	if (!__map__is_kernel(map))
 +		return 0;
 +	/*
 +	 * ppc64 uses function descriptors and appends a '.' to the
 +	 * start of every instruction address. Remove it.
 +	 */
 +	if (name[0] == '.')
 +		name++;
 +
 +	if (!strcmp(name, "_text") ||
 +	    !strcmp(name, "_etext") ||
 +	    !strcmp(name, "_sinittext") ||
 +	    !strncmp("init_module", name, 11) ||
 +	    !strncmp("cleanup_module", name, 14) ||
 +	    strstr(name, "_text_start") ||
 +	    strstr(name, "_text_end"))
 +		return 1;
 +
 +	if (symbol__is_idle(sym))
 +		sym->ignore = true;
 +
 +	return 0;
 +}
 +
++=======
++>>>>>>> b6220212d48a (perf top: Remove old kernel-only symbol filter)
  static int hist_iter__top_callback(struct hist_entry_iter *iter,
  				   struct addr_location *al, bool single,
  				   void *arg)
* Unmerged path tools/perf/builtin-top.c
