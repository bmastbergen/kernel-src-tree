wireless: use nla_put_u64_64bit()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Nicolas Dichtel <nicolas.dichtel@6wind.com>
commit 2dad624e6dd65c6048a9bbe0e16559fce182c87c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/2dad624e.failed

	Signed-off-by: Nicolas Dichtel <nicolas.dichtel@6wind.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 2dad624e6dd65c6048a9bbe0e16559fce182c87c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/wireless/nl80211.c
diff --cc net/wireless/nl80211.c
index d6c35d1c99b6,afeb1ef1b199..000000000000
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -6937,8 -6928,8 +6941,13 @@@ static int nl80211_send_bss(struct sk_b
  		goto nla_put_failure;
  
  	if (intbss->ts_boottime &&
++<<<<<<< HEAD
 +	    nla_put_u64(msg, NL80211_BSS_LAST_SEEN_BOOTTIME,
 +			      intbss->ts_boottime))
++=======
+ 	    nla_put_u64_64bit(msg, NL80211_BSS_LAST_SEEN_BOOTTIME,
+ 			      intbss->ts_boottime, NL80211_BSS_PAD))
++>>>>>>> 2dad624e6dd6 (wireless: use nla_put_u64_64bit())
  		goto nla_put_failure;
  
  	switch (rdev->wiphy.signal_type) {
@@@ -7058,28 -7049,28 +7067,49 @@@ static int nl80211_send_survey(struct s
  	    nla_put_flag(msg, NL80211_SURVEY_INFO_IN_USE))
  		goto nla_put_failure;
  	if ((survey->filled & SURVEY_INFO_TIME) &&
- 	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME,
- 			survey->time))
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME,
+ 			survey->time, NL80211_SURVEY_INFO_PAD))
  		goto nla_put_failure;
  	if ((survey->filled & SURVEY_INFO_TIME_BUSY) &&
++<<<<<<< HEAD
 +	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME_BUSY,
 +			      survey->time_busy))
 +		goto nla_put_failure;
 +	if ((survey->filled & SURVEY_INFO_TIME_EXT_BUSY) &&
 +	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME_EXT_BUSY,
 +			      survey->time_ext_busy))
 +		goto nla_put_failure;
 +	if ((survey->filled & SURVEY_INFO_TIME_RX) &&
 +	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME_RX,
 +			      survey->time_rx))
 +		goto nla_put_failure;
 +	if ((survey->filled & SURVEY_INFO_TIME_TX) &&
 +	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME_TX,
 +			      survey->time_tx))
 +		goto nla_put_failure;
 +	if ((survey->filled & SURVEY_INFO_TIME_SCAN) &&
 +	    nla_put_u64(msg, NL80211_SURVEY_INFO_TIME_SCAN,
 +			      survey->time_scan))
++=======
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME_BUSY,
+ 			      survey->time_busy, NL80211_SURVEY_INFO_PAD))
+ 		goto nla_put_failure;
+ 	if ((survey->filled & SURVEY_INFO_TIME_EXT_BUSY) &&
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME_EXT_BUSY,
+ 			      survey->time_ext_busy, NL80211_SURVEY_INFO_PAD))
+ 		goto nla_put_failure;
+ 	if ((survey->filled & SURVEY_INFO_TIME_RX) &&
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME_RX,
+ 			      survey->time_rx, NL80211_SURVEY_INFO_PAD))
+ 		goto nla_put_failure;
+ 	if ((survey->filled & SURVEY_INFO_TIME_TX) &&
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME_TX,
+ 			      survey->time_tx, NL80211_SURVEY_INFO_PAD))
+ 		goto nla_put_failure;
+ 	if ((survey->filled & SURVEY_INFO_TIME_SCAN) &&
+ 	    nla_put_u64_64bit(msg, NL80211_SURVEY_INFO_TIME_SCAN,
+ 			      survey->time_scan, NL80211_SURVEY_INFO_PAD))
++>>>>>>> 2dad624e6dd6 (wireless: use nla_put_u64_64bit())
  		goto nla_put_failure;
  
  	nla_nest_end(msg, infoattr);
@@@ -7799,8 -7790,8 +7829,13 @@@ __cfg80211_alloc_vendor_skb(struct cfg8
  	}
  
  	if (wdev) {
++<<<<<<< HEAD
 +		if (nla_put_u64(skb, NL80211_ATTR_WDEV,
 +				      wdev_id(wdev)))
++=======
+ 		if (nla_put_u64_64bit(skb, NL80211_ATTR_WDEV,
+ 				      wdev_id(wdev), NL80211_ATTR_PAD))
++>>>>>>> 2dad624e6dd6 (wireless: use nla_put_u64_64bit())
  			goto nla_put_failure;
  		if (wdev->netdev &&
  		    nla_put_u32(skb, NL80211_ATTR_IFINDEX,
@@@ -10526,8 -10510,9 +10564,14 @@@ static int nl80211_vendor_cmd_dump(stru
  			break;
  
  		if (nla_put_u32(skb, NL80211_ATTR_WIPHY, rdev->wiphy_idx) ||
++<<<<<<< HEAD
 +		    (wdev && nla_put_u64(skb, NL80211_ATTR_WDEV,
 +					       wdev_id(wdev)))) {
++=======
+ 		    (wdev && nla_put_u64_64bit(skb, NL80211_ATTR_WDEV,
+ 					       wdev_id(wdev),
+ 					       NL80211_ATTR_PAD))) {
++>>>>>>> 2dad624e6dd6 (wireless: use nla_put_u64_64bit())
  			genlmsg_cancel(skb, hdr);
  			break;
  		}
* Unmerged path net/wireless/nl80211.c
