6lowpan: move eui64 uncompress function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Alexander Aring <aar@pengutronix.de>
commit a5862f2aba4ba53d461450685a67ae252935ab94
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/a5862f2a.failed

This function will be use in later functionality in other branches than
generic 6lowpan, so we move it to the global 6lowpan header.

	Signed-off-by: Alexander Aring <aar@pengutronix.de>
	Reviewed-by: Stefan Schmidt<stefan@osg.samsung.com>
	Acked-by: Jukka Rissanen <jukka.rissanen@linux.intel.com>
	Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
(cherry picked from commit a5862f2aba4ba53d461450685a67ae252935ab94)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/6lowpan/iphc.c
diff --cc net/6lowpan/iphc.c
index 8d1cacc961d0,dff15911bd04..000000000000
--- a/net/6lowpan/iphc.c
+++ b/net/6lowpan/iphc.c
@@@ -156,24 -156,9 +156,30 @@@
  #define LOWPAN_IPHC_CID_DCI(cid)	(cid & 0x0f)
  #define LOWPAN_IPHC_CID_SCI(cid)	((cid & 0xf0) >> 4)
  
++<<<<<<< HEAD
 +static inline void iphc_uncompress_eui64_lladdr(struct in6_addr *ipaddr,
 +						const void *lladdr)
 +{
 +	/* fe:80::XXXX:XXXX:XXXX:XXXX
 +	 *        \_________________/
 +	 *              hwaddr
 +	 */
 +	ipaddr->s6_addr[0] = 0xFE;
 +	ipaddr->s6_addr[1] = 0x80;
 +	memcpy(&ipaddr->s6_addr[8], lladdr, EUI64_ADDR_LEN);
 +	/* second bit-flip (Universe/Local)
 +	 * is done according RFC2464
 +	 */
 +	ipaddr->s6_addr[8] ^= 0x02;
 +}
 +
 +static inline void iphc_uncompress_802154_lladdr(struct in6_addr *ipaddr,
 +						 const void *lladdr)
++=======
+ static inline void
+ lowpan_iphc_uncompress_802154_lladdr(struct in6_addr *ipaddr,
+ 				     const void *lladdr)
++>>>>>>> a5862f2aba4b (6lowpan: move eui64 uncompress function)
  {
  	const struct ieee802154_addr *addr = lladdr;
  	u8 eui64[EUI64_ADDR_LEN];
diff --git a/include/net/6lowpan.h b/include/net/6lowpan.h
index da3a77d25fcb..fec1a282111d 100644
--- a/include/net/6lowpan.h
+++ b/include/net/6lowpan.h
@@ -157,6 +157,22 @@ struct lowpan_802154_cb *lowpan_802154_cb(const struct sk_buff *skb)
 	return (struct lowpan_802154_cb *)skb->cb;
 }
 
+static inline void lowpan_iphc_uncompress_eui64_lladdr(struct in6_addr *ipaddr,
+						       const void *lladdr)
+{
+	/* fe:80::XXXX:XXXX:XXXX:XXXX
+	 *        \_________________/
+	 *              hwaddr
+	 */
+	ipaddr->s6_addr[0] = 0xFE;
+	ipaddr->s6_addr[1] = 0x80;
+	memcpy(&ipaddr->s6_addr[8], lladdr, EUI64_ADDR_LEN);
+	/* second bit-flip (Universe/Local)
+	 * is done according RFC2464
+	 */
+	ipaddr->s6_addr[8] ^= 0x02;
+}
+
 #ifdef DEBUG
 /* print data in line */
 static inline void raw_dump_inline(const char *caller, char *msg,
* Unmerged path net/6lowpan/iphc.c
