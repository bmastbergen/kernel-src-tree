bnx2x: Add support for segmentation of tunnels with outer checksums

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Alexander Duyck <aduyck@mirantis.com>
commit 736c4c1da76bc78d3013e791581725c11cd20ead
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/736c4c1d.failed

	Signed-off-by: Alexander Duyck <aduyck@mirantis.com>
	Tested-by: Yuval Mintz <Yuval.Mintz@qlogic.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 736c4c1da76bc78d3013e791581725c11cd20ead)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c
diff --cc drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c
index e78c3666f39b,6f9104b5d599..000000000000
--- a/drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c
+++ b/drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c
@@@ -13240,14 -13238,22 +13240,33 @@@ static int bnx2x_init_dev(struct bnx2x 
  		NETIF_F_RXCSUM | NETIF_F_LRO | NETIF_F_GRO |
  		NETIF_F_RXHASH | NETIF_F_HW_VLAN_CTAG_TX;
  	if (!chip_is_e1x) {
++<<<<<<< HEAD
 +		dev->hw_features |= NETIF_F_GSO_GRE | NETIF_F_GSO_UDP_TUNNEL |
 +				    NETIF_F_GSO_IPIP | NETIF_F_GSO_SIT;
 +		dev->hw_enc_features =
 +			NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM | NETIF_F_SG |
 +			NETIF_F_TSO | NETIF_F_TSO_ECN | NETIF_F_TSO6 |
 +			NETIF_F_GSO_IPIP |
 +			NETIF_F_GSO_SIT |
 +			NETIF_F_GSO_GRE | NETIF_F_GSO_UDP_TUNNEL;
++=======
+ 		dev->hw_features |= NETIF_F_GSO_GRE | NETIF_F_GSO_GRE_CSUM |
+ 				    NETIF_F_GSO_IPXIP4 |
+ 				    NETIF_F_GSO_UDP_TUNNEL |
+ 				    NETIF_F_GSO_UDP_TUNNEL_CSUM |
+ 				    NETIF_F_GSO_PARTIAL;
+ 
+ 		dev->hw_enc_features =
+ 			NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM | NETIF_F_SG |
+ 			NETIF_F_TSO | NETIF_F_TSO_ECN | NETIF_F_TSO6 |
+ 			NETIF_F_GSO_IPXIP4 |
+ 			NETIF_F_GSO_GRE | NETIF_F_GSO_GRE_CSUM |
+ 			NETIF_F_GSO_UDP_TUNNEL | NETIF_F_GSO_UDP_TUNNEL_CSUM |
+ 			NETIF_F_GSO_PARTIAL;
+ 
+ 		dev->gso_partial_features = NETIF_F_GSO_GRE_CSUM |
+ 					    NETIF_F_GSO_UDP_TUNNEL_CSUM;
++>>>>>>> 736c4c1da76b (bnx2x: Add support for segmentation of tunnels with outer checksums)
  	}
  
  	dev->vlan_features = NETIF_F_SG | NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM |
* Unmerged path drivers/net/ethernet/broadcom/bnx2x/bnx2x_main.c
