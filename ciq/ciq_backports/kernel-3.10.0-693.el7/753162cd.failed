mm: hugetlb: fix type of hugetlb_treat_as_movable variable

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [mm] hugetlb: fix type of hugetlb_treat_as_movable variable (Andrea Arcangeli) [1430172]
Rebuild_FUZZ: 96.43%
commit-author Andrey Ryabinin <a.ryabinin@samsung.com>
commit 753162cd849c45580fb5aaa7f3597c81e74e391c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/753162cd.failed

hugetlb_treat_as_movable declared as unsigned long, but
proc_dointvec() used for parsing it:

static struct ctl_table vm_table[] = {
...
        {
                .procname	= "hugepages_treat_as_movable",
                .data		= &hugepages_treat_as_movable,
                .maxlen		= sizeof(int),
                .mode		= 0644,
                .proc_handler	= proc_dointvec,
        },

This seems harmless, but it's better to use int type here.

	Signed-off-by: Andrey Ryabinin <a.ryabinin@samsung.com>
	Cc: Dmitry Vyukov <dvyukov@google.com>
	Cc: Manfred Spraul <manfred@colorfullife.com>
	Acked-by: David Rientjes <rientjes@google.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 753162cd849c45580fb5aaa7f3597c81e74e391c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/hugetlb.h
#	mm/hugetlb.c
diff --cc include/linux/hugetlb.h
index a36491c3c2dc,7d7856359920..000000000000
--- a/include/linux/hugetlb.h
+++ b/include/linux/hugetlb.h
@@@ -88,8 -86,7 +88,12 @@@ void putback_active_hugepage(struct pag
  pte_t *huge_pmd_share(struct mm_struct *mm, unsigned long addr, pud_t *pud);
  #endif
  
++<<<<<<< HEAD
 +extern unsigned long hugepages_treat_as_movable;
 +extern const unsigned long hugetlb_zero, hugetlb_infinity;
++=======
+ extern int hugepages_treat_as_movable;
++>>>>>>> 753162cd849c (mm: hugetlb: fix type of hugetlb_treat_as_movable variable)
  extern int sysctl_hugetlb_shm_group;
  extern struct list_head huge_boot_pages;
  
diff --cc mm/hugetlb.c
index 756884ed9453,be0e5d0db5ec..000000000000
--- a/mm/hugetlb.c
+++ b/mm/hugetlb.c
@@@ -34,8 -35,7 +34,12 @@@
  #include <linux/node.h>
  #include "internal.h"
  
++<<<<<<< HEAD
 +const unsigned long hugetlb_zero = 0, hugetlb_infinity = ~0UL;
 +unsigned long hugepages_treat_as_movable;
++=======
+ int hugepages_treat_as_movable;
++>>>>>>> 753162cd849c (mm: hugetlb: fix type of hugetlb_treat_as_movable variable)
  
  int hugetlb_max_hstate __read_mostly;
  unsigned int default_hstate_idx;
* Unmerged path include/linux/hugetlb.h
* Unmerged path mm/hugetlb.c
