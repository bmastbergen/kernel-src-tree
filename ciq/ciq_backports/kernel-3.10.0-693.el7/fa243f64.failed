mmc: sdhci-pltfm: Drop define for SDHCI_PLTFM_PMOPS

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [mmc] sdhci-pltfm: Drop define for SDHCI_PLTFM_PMOPS (Don Zickus) [1430497]
Rebuild_FUZZ: 94.85%
commit-author Ulf Hansson <ulf.hansson@linaro.org>
commit fa243f645af7116dbc157e48e9b2c0a305e2598e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/fa243f64.failed

Due to previous changes this define has no longer a purpose. Instead move
the sdhci-pltfm drivers over to use the exported struct sdhci_pltfm_pmops.

	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit fa243f645af7116dbc157e48e9b2c0a305e2598e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/host/sdhci-bcm-kona.c
#	drivers/mmc/host/sdhci-cns3xxx.c
#	drivers/mmc/host/sdhci-dove.c
#	drivers/mmc/host/sdhci-iproc.c
#	drivers/mmc/host/sdhci-pxav2.c
#	drivers/mmc/host/sdhci_f_sdh30.c
diff --cc drivers/mmc/host/sdhci-cns3xxx.c
index 8ebb6b650f3f,bd286db7f9af..000000000000
--- a/drivers/mmc/host/sdhci-cns3xxx.c
+++ b/drivers/mmc/host/sdhci-cns3xxx.c
@@@ -107,11 -101,10 +107,15 @@@ static int sdhci_cns3xxx_remove(struct 
  static struct platform_driver sdhci_cns3xxx_driver = {
  	.driver		= {
  		.name	= "sdhci-cns3xxx",
++<<<<<<< HEAD
 +		.owner	= THIS_MODULE,
 +		.pm	= SDHCI_PLTFM_PMOPS,
++=======
+ 		.pm	= &sdhci_pltfm_pmops,
++>>>>>>> fa243f645af7 (mmc: sdhci-pltfm: Drop define for SDHCI_PLTFM_PMOPS)
  	},
  	.probe		= sdhci_cns3xxx_probe,
 -	.remove		= sdhci_pltfm_unregister,
 +	.remove		= sdhci_cns3xxx_remove,
  };
  
  module_platform_driver(sdhci_cns3xxx_driver);
diff --cc drivers/mmc/host/sdhci-dove.c
index 15e7803040f1,de9f9603dbdc..000000000000
--- a/drivers/mmc/host/sdhci-dove.c
+++ b/drivers/mmc/host/sdhci-dove.c
@@@ -206,12 -117,11 +206,17 @@@ MODULE_DEVICE_TABLE(of, sdhci_dove_of_m
  static struct platform_driver sdhci_dove_driver = {
  	.driver		= {
  		.name	= "sdhci-dove",
++<<<<<<< HEAD
 +		.owner	= THIS_MODULE,
 +		.pm	= SDHCI_PLTFM_PMOPS,
 +		.of_match_table = of_match_ptr(sdhci_dove_of_match_table),
++=======
+ 		.pm	= &sdhci_pltfm_pmops,
+ 		.of_match_table = sdhci_dove_of_match_table,
++>>>>>>> fa243f645af7 (mmc: sdhci-pltfm: Drop define for SDHCI_PLTFM_PMOPS)
  	},
  	.probe		= sdhci_dove_probe,
 -	.remove		= sdhci_pltfm_unregister,
 +	.remove		= sdhci_dove_remove,
  };
  
  module_platform_driver(sdhci_dove_driver);
diff --cc drivers/mmc/host/sdhci-pxav2.c
index 6a3f702a38a6,347eae2d7b6a..000000000000
--- a/drivers/mmc/host/sdhci-pxav2.c
+++ b/drivers/mmc/host/sdhci-pxav2.c
@@@ -261,11 -251,8 +261,16 @@@ static int sdhci_pxav2_remove(struct pl
  static struct platform_driver sdhci_pxav2_driver = {
  	.driver		= {
  		.name	= "sdhci-pxav2",
++<<<<<<< HEAD
 +		.owner	= THIS_MODULE,
 +#ifdef CONFIG_OF
 +		.of_match_table = sdhci_pxav2_of_match,
 +#endif
 +		.pm	= SDHCI_PLTFM_PMOPS,
++=======
+ 		.of_match_table = of_match_ptr(sdhci_pxav2_of_match),
+ 		.pm	= &sdhci_pltfm_pmops,
++>>>>>>> fa243f645af7 (mmc: sdhci-pltfm: Drop define for SDHCI_PLTFM_PMOPS)
  	},
  	.probe		= sdhci_pxav2_probe,
  	.remove		= sdhci_pxav2_remove,
* Unmerged path drivers/mmc/host/sdhci-bcm-kona.c
* Unmerged path drivers/mmc/host/sdhci-iproc.c
* Unmerged path drivers/mmc/host/sdhci_f_sdh30.c
* Unmerged path drivers/mmc/host/sdhci-bcm-kona.c
* Unmerged path drivers/mmc/host/sdhci-cns3xxx.c
* Unmerged path drivers/mmc/host/sdhci-dove.c
* Unmerged path drivers/mmc/host/sdhci-iproc.c
diff --git a/drivers/mmc/host/sdhci-of-hlwd.c b/drivers/mmc/host/sdhci-of-hlwd.c
index 200a6a9fa805..0bbccd807d81 100644
--- a/drivers/mmc/host/sdhci-of-hlwd.c
+++ b/drivers/mmc/host/sdhci-of-hlwd.c
@@ -87,7 +87,7 @@ static struct platform_driver sdhci_hlwd_driver = {
 		.name = "sdhci-hlwd",
 		.owner = THIS_MODULE,
 		.of_match_table = sdhci_hlwd_of_match,
-		.pm = SDHCI_PLTFM_PMOPS,
+		.pm = &sdhci_pltfm_pmops,
 	},
 	.probe = sdhci_hlwd_probe,
 	.remove = sdhci_hlwd_remove,
diff --git a/drivers/mmc/host/sdhci-pltfm.h b/drivers/mmc/host/sdhci-pltfm.h
index 0883a2a5caf0..3280f2077959 100644
--- a/drivers/mmc/host/sdhci-pltfm.h
+++ b/drivers/mmc/host/sdhci-pltfm.h
@@ -110,6 +110,5 @@ static inline void *sdhci_pltfm_priv(struct sdhci_pltfm_host *host)
 }
 
 extern const struct dev_pm_ops sdhci_pltfm_pmops;
-#define SDHCI_PLTFM_PMOPS (&sdhci_pltfm_pmops)
 
 #endif /* _DRIVERS_MMC_SDHCI_PLTFM_H */
* Unmerged path drivers/mmc/host/sdhci-pxav2.c
diff --git a/drivers/mmc/host/sdhci-tegra.c b/drivers/mmc/host/sdhci-tegra.c
index e0dba74cff98..09f822f74865 100644
--- a/drivers/mmc/host/sdhci-tegra.c
+++ b/drivers/mmc/host/sdhci-tegra.c
@@ -309,7 +309,7 @@ static struct platform_driver sdhci_tegra_driver = {
 		.name	= "sdhci-tegra",
 		.owner	= THIS_MODULE,
 		.of_match_table = sdhci_tegra_dt_match,
-		.pm	= SDHCI_PLTFM_PMOPS,
+		.pm	= &sdhci_pltfm_pmops,
 	},
 	.probe		= sdhci_tegra_probe,
 	.remove		= sdhci_tegra_remove,
* Unmerged path drivers/mmc/host/sdhci_f_sdh30.c
