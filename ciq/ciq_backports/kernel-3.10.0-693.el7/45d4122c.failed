switchdev: add support for fdb add/del/dump via switchdev_port_obj ops.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Samudrala, Sridhar <sridhar.samudrala@intel.com>
commit 45d4122ca7cdb3a4b91f392605cd22cfa75f1d99
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/45d4122c.failed

- introduce port fdb obj and generic switchdev_port_fdb_add/del/dump()
- use switchdev_port_fdb_add/del/dump in rocker/team/bonding ndo ops.
- add support for fdb obj in switchdev_port_obj_add/del/dump()
- switch rocker to implement fdb ops via switchdev_ops

v3: updated to sync with named union changes.

	Signed-off-by: Sridhar Samudrala <sridhar.samudrala@intel.com>
	Signed-off-by: Scott Feldman <sfeldma@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 45d4122ca7cdb3a4b91f392605cd22cfa75f1d99)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/bonding/bond_main.c
#	drivers/net/ethernet/rocker/rocker.c
#	drivers/net/team/team.c
#	include/net/switchdev.h
#	net/switchdev/switchdev.c
diff --cc drivers/net/bonding/bond_main.c
index ce8e9750aae0,2268438f3f63..000000000000
--- a/drivers/net/bonding/bond_main.c
+++ b/drivers/net/bonding/bond_main.c
@@@ -4085,6 -4036,12 +4085,15 @@@ static const struct net_device_ops bond
  	.ndo_add_slave		= bond_enslave,
  	.ndo_del_slave		= bond_release,
  	.ndo_fix_features	= bond_fix_features,
++<<<<<<< HEAD
++=======
+ 	.ndo_bridge_setlink	= switchdev_port_bridge_setlink,
+ 	.ndo_bridge_getlink	= switchdev_port_bridge_getlink,
+ 	.ndo_bridge_dellink	= switchdev_port_bridge_dellink,
+ 	.ndo_fdb_add		= switchdev_port_fdb_add,
+ 	.ndo_fdb_del		= switchdev_port_fdb_del,
+ 	.ndo_fdb_dump		= switchdev_port_fdb_dump,
++>>>>>>> 45d4122ca7cd (switchdev: add support for fdb add/del/dump via switchdev_port_obj ops.)
  	.ndo_features_check	= passthru_features_check,
  };
  
diff --cc drivers/net/team/team.c
index 75ab1983f4c3,daa054b3ff03..000000000000
--- a/drivers/net/team/team.c
+++ b/drivers/net/team/team.c
@@@ -2004,6 -1977,12 +2004,15 @@@ static const struct net_device_ops team
  	.ndo_del_slave		= team_del_slave,
  	.ndo_fix_features	= team_fix_features,
  	.ndo_change_carrier     = team_change_carrier,
++<<<<<<< HEAD
++=======
+ 	.ndo_bridge_setlink	= switchdev_port_bridge_setlink,
+ 	.ndo_bridge_getlink	= switchdev_port_bridge_getlink,
+ 	.ndo_bridge_dellink	= switchdev_port_bridge_dellink,
+ 	.ndo_fdb_add		= switchdev_port_fdb_add,
+ 	.ndo_fdb_del		= switchdev_port_fdb_del,
+ 	.ndo_fdb_dump		= switchdev_port_fdb_dump,
++>>>>>>> 45d4122ca7cd (switchdev: add support for fdb add/del/dump via switchdev_port_obj ops.)
  	.ndo_features_check	= passthru_features_check,
  };
  
* Unmerged path drivers/net/ethernet/rocker/rocker.c
* Unmerged path include/net/switchdev.h
* Unmerged path net/switchdev/switchdev.c
* Unmerged path drivers/net/bonding/bond_main.c
* Unmerged path drivers/net/ethernet/rocker/rocker.c
* Unmerged path drivers/net/team/team.c
* Unmerged path include/net/switchdev.h
* Unmerged path net/switchdev/switchdev.c
