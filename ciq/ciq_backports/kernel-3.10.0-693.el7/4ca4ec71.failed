HID: wacom: Move handling of Intuos status packets to seperate function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [hid] wacom: Move handling of Intuos status packets to seperate function (Aristeu Rozanski) [1346348 1388646 1385026]
Rebuild_FUZZ: 96.35%
commit-author Jason Gerecke <killertofu@gmail.com>
commit 4ca4ec71c84e4ede2b34d2dcf49e7935c735ad6c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/4ca4ec71.failed

In addition to the touchswitch state for "Intuos", these packets are
also sent by the Intuos Pro, Intuos5, and last-generation Bamboo
tablets when using a wired connection. They contain, among other
things, information about the optional wireless module and battery
charge state (to be supported in subsuquent patches).

	Signed-off-by: Jason Gerecke <killertofu@gmail.com>
	Acked-by: Ping Cheng <pingc@wacom.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit 4ca4ec71c84e4ede2b34d2dcf49e7935c735ad6c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/wacom_wac.c
#	drivers/hid/wacom_wac.h
diff --cc drivers/hid/wacom_wac.c
index d83376be6444,cb308c5f441a..000000000000
--- a/drivers/hid/wacom_wac.c
+++ b/drivers/hid/wacom_wac.c
@@@ -1239,7 -1740,7 +1239,11 @@@ static int wacom_bpt_pen(struct wacom_w
  	unsigned char *data = wacom->data;
  	int prox = 0, x = 0, y = 0, p = 0, d = 0, pen = 0, btn1 = 0, btn2 = 0;
  
++<<<<<<< HEAD
 +	if (data[0] != 0x02)
++=======
+ 	if (data[0] != WACOM_REPORT_PENABLED)
++>>>>>>> 4ca4ec71c84e (HID: wacom: Move handling of Intuos status packets to seperate function)
  	    return 0;
  
  	prox = (data[1] & 0x20) == 0x20;
@@@ -1414,7 -2050,15 +1436,15 @@@ void wacom_wac_irq(struct wacom_wac *wa
  		break;
  
  	case BAMBOO_PT:
++<<<<<<< HEAD
 +		sync = wacom_bpt_irq(wacom_wac, len);
++=======
+ 	case INTUOSHT:
+ 		if (wacom_wac->data[0] == WACOM_REPORT_USB)
+ 			sync = wacom_status_irq(wacom_wac, len);
+ 		else
+ 			sync = wacom_bpt_irq(wacom_wac, len);
 -		break;
 -
 -	case BAMBOO_PAD:
 -		sync = wacom_bamboo_pad_irq(wacom_wac, len);
++>>>>>>> 4ca4ec71c84e (HID: wacom: Move handling of Intuos status packets to seperate function)
  		break;
  
  	case WIRELESS:
diff --cc drivers/hid/wacom_wac.h
index d220d069f329,ee6a545d5869..000000000000
--- a/drivers/hid/wacom_wac.h
+++ b/drivers/hid/wacom_wac.h
@@@ -53,10 -58,20 +53,18 @@@
  #define WACOM_REPORT_TPC1FG		6
  #define WACOM_REPORT_TPC2FG		13
  #define WACOM_REPORT_TPCMT		13
 -#define WACOM_REPORT_TPCMT2		3
  #define WACOM_REPORT_TPCHID		15
 -#define WACOM_REPORT_CINTIQ		16
 -#define WACOM_REPORT_CINTIQPAD		17
  #define WACOM_REPORT_TPCST		16
 -#define WACOM_REPORT_DTUS		17
  #define WACOM_REPORT_TPC1FGE		18
  #define WACOM_REPORT_24HDT		1
++<<<<<<< HEAD
++=======
+ #define WACOM_REPORT_WL			128
+ #define WACOM_REPORT_USB		192
+ #define WACOM_REPORT_BPAD_PEN		3
+ #define WACOM_REPORT_BPAD_TOUCH		16
+ #define WACOM_PKGLEN_STATUS		10
++>>>>>>> 4ca4ec71c84e (HID: wacom: Move handling of Intuos status packets to seperate function)
  
  /* device quirks */
  #define WACOM_QUIRK_MULTI_INPUT		0x0001
* Unmerged path drivers/hid/wacom_wac.c
* Unmerged path drivers/hid/wacom_wac.h
