ACPICA: Common: Enhance acpi_getopt() to improve portability

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Lv Zheng <lv.zheng@intel.com>
commit a92e95773d8e2cd58124aea147cb833f33f1e196
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/a92e9577.failed

This patch enhances acpi_getopt() by converting the standard C library
invocations into portable ACPI string APIs and acpi_log_error() to improve
portability. Lv Zheng.

	Signed-off-by: Lv Zheng <lv.zheng@intel.com>
	Signed-off-by: Bob Moore <robert.moore@intel.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit a92e95773d8e2cd58124aea147cb833f33f1e196)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/power/acpi/common/getopt.c
#	tools/power/acpi/tools/acpidump/apmain.c
* Unmerged path tools/power/acpi/common/getopt.c
* Unmerged path tools/power/acpi/tools/acpidump/apmain.c
diff --git a/drivers/acpi/acpica/acutils.h b/drivers/acpi/acpica/acutils.h
index 7125ee1826be..886defdd82e5 100644
--- a/drivers/acpi/acpica/acutils.h
+++ b/drivers/acpi/acpica/acutils.h
@@ -211,6 +211,8 @@ void acpi_ut_subsystem_shutdown(void);
 
 acpi_size acpi_ut_strlen(const char *string);
 
+char *acpi_ut_strchr(const char *string, int ch);
+
 char *acpi_ut_strcpy(char *dst_string, const char *src_string);
 
 char *acpi_ut_strncpy(char *dst_string,
diff --git a/include/acpi/actypes.h b/include/acpi/actypes.h
index 90953bd39053..2eed88bbac47 100644
--- a/include/acpi/actypes.h
+++ b/include/acpi/actypes.h
@@ -1204,4 +1204,8 @@ struct acpi_memory_list {
 #define ACPI_FILE_BEGIN                 0x01
 #define ACPI_FILE_END                   0x02
 
+/* Definitions of getopt */
+
+#define ACPI_OPT_END                    -1
+
 #endif				/* __ACTYPES_H__ */
* Unmerged path tools/power/acpi/common/getopt.c
* Unmerged path tools/power/acpi/tools/acpidump/apmain.c
