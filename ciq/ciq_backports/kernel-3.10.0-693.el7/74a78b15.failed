net: amd-xgbe: Add hardware dependency

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [netdrv] amd-xgbe: Add hardware dependency (David Arcari) [1339783]
Rebuild_FUZZ: 92.96%
commit-author Jean Delvare <jdelvare@suse.de>
commit 74a78b15e6e3dd909a39e0d99dfa0268c126e2c6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/74a78b15.failed

The amd-xgbe driver currently only works with the Seattle SoC, which
is ARM64 architecture, so there is no point in building this driver on
other architectures except for build testing purpose. The dependency
list can be updated later if the driver ever supports other
architectures.

	Signed-off-by: Jean Delvare <jdelvare@suse.de>
	Cc: Tom Lendacky <thomas.lendacky@amd.com>
	Cc: Florian Fainelli <f.fainelli@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 74a78b15e6e3dd909a39e0d99dfa0268c126e2c6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/amd/Kconfig
#	drivers/net/phy/Kconfig
diff --cc drivers/net/ethernet/amd/Kconfig
index 13d74aa4033d,426916036151..000000000000
--- a/drivers/net/ethernet/amd/Kconfig
+++ b/drivers/net/ethernet/amd/Kconfig
@@@ -179,4 -177,30 +179,33 @@@ config SUNLANC
  	  To compile this driver as a module, choose M here: the module
  	  will be called sunlance.
  
++<<<<<<< HEAD
++=======
+ config AMD_XGBE
+ 	tristate "AMD 10GbE Ethernet driver"
+ 	depends on (OF_NET || ACPI) && HAS_IOMEM && HAS_DMA
+ 	depends on ARM64 || COMPILE_TEST
+ 	select PHYLIB
+ 	select AMD_XGBE_PHY
+ 	select BITREVERSE
+ 	select CRC32
+ 	select PTP_1588_CLOCK
+ 	---help---
+ 	  This driver supports the AMD 10GbE Ethernet device found on an
+ 	  AMD SoC.
+ 
+ 	  To compile this driver as a module, choose M here: the module
+ 	  will be called amd-xgbe.
+ 
+ config AMD_XGBE_DCB
+ 	bool "Data Center Bridging (DCB) support"
+ 	default n
+ 	depends on AMD_XGBE && DCB
+ 	---help---
+ 	  Say Y here to enable Data Center Bridging (DCB) support in the
+ 	  driver.
+ 
+ 	  If unsure, say N.
+ 
++>>>>>>> 74a78b15e6e3 (net: amd-xgbe: Add hardware dependency)
  endif # NET_VENDOR_AMD
diff --cc drivers/net/phy/Kconfig
index d11186ce57fb,70641d2c0429..000000000000
--- a/drivers/net/phy/Kconfig
+++ b/drivers/net/phy/Kconfig
@@@ -24,6 -24,13 +24,16 @@@ config AMD_PH
  	---help---
  	  Currently supports the am79c874
  
++<<<<<<< HEAD
++=======
+ config AMD_XGBE_PHY
+ 	tristate "Driver for the AMD 10GbE (amd-xgbe) PHYs"
+ 	depends on (OF || ACPI) && HAS_IOMEM
+ 	depends on ARM64 || COMPILE_TEST
+ 	---help---
+ 	  Currently supports the AMD 10GbE PHY
+ 
++>>>>>>> 74a78b15e6e3 (net: amd-xgbe: Add hardware dependency)
  config MARVELL_PHY
  	tristate "Drivers for Marvell PHYs"
  	---help---
* Unmerged path drivers/net/ethernet/amd/Kconfig
* Unmerged path drivers/net/phy/Kconfig
