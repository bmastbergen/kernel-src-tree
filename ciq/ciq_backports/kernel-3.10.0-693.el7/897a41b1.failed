btrfs: add dynamic debug support

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Jeff Mahoney <jeffm@suse.com>
commit 897a41b1167955bd543bb252fd3f06f5844f2177
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/897a41b1.failed

We can re-use the dynamic debugging descriptor to make use of the dynamic
debugging mechanism but still use our own printk interface.

Defining the DEBUG macro works as it did before.  When it's defined,
all of the messages default to print.  We can also enable all debug
messages at boot or module-load time using the 'dyndbg' and
'btrfs.dyndbg' options.

	Signed-off-by: Jeff Mahoney <jeffm@suse.com>
	Reviewed-by: David Sterba <dsterba@suse.com>
	Signed-off-by: David Sterba <dsterba@suse.com>
(cherry picked from commit 897a41b1167955bd543bb252fd3f06f5844f2177)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/btrfs/ctree.h
diff --cc fs/btrfs/ctree.h
index 48f38b765f55,ae496e41692a..000000000000
--- a/fs/btrfs/ctree.h
+++ b/fs/btrfs/ctree.h
@@@ -36,6 -36,8 +36,11 @@@
  #include <linux/btrfs_tree.h>
  #include <linux/workqueue.h>
  #include <linux/security.h>
++<<<<<<< HEAD
++=======
+ #include <linux/sizes.h>
+ #include <linux/dynamic_debug.h>
++>>>>>>> 897a41b11679 (btrfs: add dynamic debug support)
  #include "extent_io.h"
  #include "extent_map.h"
  #include "async-thread.h"
* Unmerged path fs/btrfs/ctree.h
