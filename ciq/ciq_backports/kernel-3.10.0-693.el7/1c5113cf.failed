RDS: Initialize all RDS_MPATH_WORKERS in __rds_conn_create

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Sowmini Varadhan <sowmini.varadhan@oracle.com>
commit 1c5113cf796bb730abc1798a3649b61e9e022be6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/1c5113cf.failed

Add a for() loop in __rds_conn_create to initialize all the
conn_paths, in preparate for MP capable transports.

	Signed-off-by: Sowmini Varadhan <sowmini.varadhan@oracle.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1c5113cf796bb730abc1798a3649b61e9e022be6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/rds/connection.c
diff --cc net/rds/connection.c
index dde4562b9b4d,a99ac69f77ac..000000000000
--- a/net/rds/connection.c
+++ b/net/rds/connection.c
@@@ -157,13 -180,8 +183,14 @@@ new_conn
  	INIT_HLIST_NODE(&conn->c_hash_node);
  	conn->c_laddr = laddr;
  	conn->c_faddr = faddr;
++<<<<<<< HEAD
 +	spin_lock_init(&conn->c_lock);
 +	conn->c_next_tx_seq = 1;
 +	rds_conn_net_set(conn, net);
++=======
++>>>>>>> 1c5113cf796b (RDS: Initialize all RDS_MPATH_WORKERS in __rds_conn_create)
  
- 	init_waitqueue_head(&conn->c_waitq);
- 	INIT_LIST_HEAD(&conn->c_send_queue);
- 	INIT_LIST_HEAD(&conn->c_retrans);
+ 	rds_conn_net_set(conn, net);
  
  	ret = rds_cong_get_maps(conn);
  	if (ret) {
@@@ -199,17 -217,6 +226,20 @@@
  		goto out;
  	}
  
++<<<<<<< HEAD
 +	atomic_set(&conn->c_state, RDS_CONN_DOWN);
 +	conn->c_send_gen = 0;
 +	conn->c_outgoing = (is_outgoing ? 1 : 0);
 +	conn->c_reconnect_jiffies = 0;
 +	INIT_DELAYED_WORK(&conn->c_send_w, rds_send_worker);
 +	INIT_DELAYED_WORK(&conn->c_recv_w, rds_recv_worker);
 +	INIT_DELAYED_WORK(&conn->c_conn_w, rds_connect_worker);
 +	INIT_WORK(&conn->c_down_w, rds_shutdown_worker);
 +	mutex_init(&conn->c_cm_lock);
 +	conn->c_flags = 0;
 +
++=======
++>>>>>>> 1c5113cf796b (RDS: Initialize all RDS_MPATH_WORKERS in __rds_conn_create)
  	rdsdebug("allocated conn %p for %pI4 -> %pI4 over %s %s\n",
  	  conn, &laddr, &faddr,
  	  trans->t_name ? trans->t_name : "[unknown]",
* Unmerged path net/rds/connection.c
