fou: Fix typo in returning flags in netlink

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] gre: Fix typo in returning flags in netlink (Jakub Sitnicki) [1369158]
Rebuild_FUZZ: 93.02%
commit-author Tom Herbert <therbert@google.com>
commit e1b2cb655060e081e73b384b1fc8b2e978f73467
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/e1b2cb65.failed

When filling netlink info, dport is being returned as flags. Fix
instances to return correct value.

	Signed-off-by: Tom Herbert <therbert@google.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e1b2cb655060e081e73b384b1fc8b2e978f73467)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv4/ipip.c
diff --cc net/ipv4/ipip.c
index 49cd6bf218a7,40403114f00a..000000000000
--- a/net/ipv4/ipip.c
+++ b/net/ipv4/ipip.c
@@@ -396,6 -457,17 +396,20 @@@ static int ipip_fill_info(struct sk_buf
  	    nla_put_u8(skb, IFLA_IPTUN_PMTUDISC,
  		       !!(parm->iph.frag_off & htons(IP_DF))))
  		goto nla_put_failure;
++<<<<<<< HEAD
++=======
+ 
+ 	if (nla_put_u16(skb, IFLA_IPTUN_ENCAP_TYPE,
+ 			tunnel->encap.type) ||
+ 	    nla_put_u16(skb, IFLA_IPTUN_ENCAP_SPORT,
+ 			tunnel->encap.sport) ||
+ 	    nla_put_u16(skb, IFLA_IPTUN_ENCAP_DPORT,
+ 			tunnel->encap.dport) ||
+ 	    nla_put_u16(skb, IFLA_IPTUN_ENCAP_FLAGS,
+ 			tunnel->encap.flags))
+ 		goto nla_put_failure;
+ 
++>>>>>>> e1b2cb655060 (fou: Fix typo in returning flags in netlink)
  	return 0;
  
  nla_put_failure:
diff --git a/net/ipv4/ip_gre.c b/net/ipv4/ip_gre.c
index 9c178e45801f..7de91a79d047 100644
--- a/net/ipv4/ip_gre.c
+++ b/net/ipv4/ip_gre.c
@@ -1189,7 +1189,7 @@ static int ipgre_fill_info(struct sk_buff *skb, const struct net_device *dev)
 	    nla_put_u16(skb, IFLA_GRE_ENCAP_DPORT,
 			t->encap.dport) ||
 	    nla_put_u16(skb, IFLA_GRE_ENCAP_FLAGS,
-			t->encap.dport))
+			t->encap.flags))
 		goto nla_put_failure;
 
 	if (t->collect_md) {
* Unmerged path net/ipv4/ipip.c
diff --git a/net/ipv6/sit.c b/net/ipv6/sit.c
index 42c69ec981c8..825dd233c921 100644
--- a/net/ipv6/sit.c
+++ b/net/ipv6/sit.c
@@ -1615,7 +1615,7 @@ static int ipip6_fill_info(struct sk_buff *skb, const struct net_device *dev)
 	    nla_put_u16(skb, IFLA_IPTUN_ENCAP_DPORT,
 			tunnel->encap.dport) ||
 	    nla_put_u16(skb, IFLA_IPTUN_ENCAP_FLAGS,
-			tunnel->encap.dport))
+			tunnel->encap.flags))
 		goto nla_put_failure;
 
 	return 0;
