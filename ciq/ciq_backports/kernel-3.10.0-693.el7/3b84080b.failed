KVM: VMX: move msr_ia32_feature_control to vcpu_vmx

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Haozhong Zhang <haozhong.zhang@intel.com>
commit 3b84080b9512bcacad3805f345fb8f092c8d3a7d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/3b84080b.failed

msr_ia32_feature_control will be used for LMCE and not depend only on
nested anymore, so move it from struct nested_vmx to struct vcpu_vmx.

	Signed-off-by: Haozhong Zhang <haozhong.zhang@intel.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 3b84080b9512bcacad3805f345fb8f092c8d3a7d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/vmx.c
diff --cc arch/x86/kvm/vmx.c
index cebaaac0b163,ad66978281c1..000000000000
--- a/arch/x86/kvm/vmx.c
+++ b/arch/x86/kvm/vmx.c
@@@ -593,7 -603,16 +592,16 @@@ struct vcpu_vmx 
  #define PML_ENTITY_NUM		512
  	struct page *pml_pg;
  
 -	/* apic deadline value in host tsc */
 -	u64 hv_deadline_tsc;
 -
  	u64 current_tsc_ratio;
++<<<<<<< HEAD
++=======
+ 
+ 	bool guest_pkru_valid;
+ 	u32 guest_pkru;
+ 	u32 host_pkru;
+ 
+ 	u64 msr_ia32_feature_control;
++>>>>>>> 3b84080b9512 (KVM: VMX: move msr_ia32_feature_control to vcpu_vmx)
  };
  
  enum segment_cache_field {
* Unmerged path arch/x86/kvm/vmx.c
