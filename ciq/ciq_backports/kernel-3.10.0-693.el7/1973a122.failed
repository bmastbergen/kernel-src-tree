autofs: fix autofs4_fill_super() error exit handling

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Ian Kent <raven@themaw.net>
commit 1973a122697168c0585ffce9d4bd46745ddaa6f6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/1973a122.failed

Somewhere along the line the error handling gotos have become incorrect.

Link: http://lkml.kernel.org/r/20160812024749.12352.15100.stgit@pluto.themaw.net
	Signed-off-by: Ian Kent <raven@themaw.net>
	Cc: Tomohiro Kusumi <kusumi.tomohiro@gmail.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 1973a122697168c0585ffce9d4bd46745ddaa6f6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/autofs4/inode.c
diff --cc fs/autofs4/inode.c
index 396178847bf6,3f486c1f5f43..000000000000
--- a/fs/autofs4/inode.c
+++ b/fs/autofs4/inode.c
@@@ -313,8 -312,8 +313,13 @@@ int autofs4_fill_super(struct super_blo
  	pipe = fget(pipefd);
  
  	if (!pipe) {
++<<<<<<< HEAD
 +		AUTOFS_ERROR("could not open pipe file descriptor");
 +		goto fail_dput;
++=======
+ 		pr_err("could not open pipe file descriptor\n");
+ 		goto fail_put_pid;
++>>>>>>> 1973a1226971 (autofs: fix autofs4_fill_super() error exit handling)
  	}
  	ret = autofs_prepare_pipe(pipe);
  	if (ret < 0)
@@@ -333,9 -332,10 +338,10 @@@
  	 * Failure ... clean up.
  	 */
  fail_fput:
 -	pr_err("pipe file descriptor does not contain proper ops\n");
 +	AUTOFS_ERROR("pipe file descriptor does not contain proper ops");
  	fput(pipe);
- 	/* fall through */
+ fail_put_pid:
+ 	put_pid(sbi->oz_pgrp);
  fail_dput:
  	dput(root);
  	goto fail_free;
* Unmerged path fs/autofs4/inode.c
