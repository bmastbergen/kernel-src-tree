HID: wacom: Add support for Cintiq 13HD Touch

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [hid] wacom: Add support for Cintiq 13HD Touch (Aristeu Rozanski) [1346348 1388646 1385026]
Rebuild_FUZZ: 94.12%
commit-author Ping Cheng <pinglinux@gmail.com>
commit b4bf2120d40b96552326a6606d5fb90e2ab04841
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/b4bf2120.failed

Cintiq 13HD Touch is a new display tablet with pen and 10 finger touches.

	Signed-off-by: Ping Cheng <pingc@wacom.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit b4bf2120d40b96552326a6606d5fb90e2ab04841)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/wacom_wac.c
diff --cc drivers/hid/wacom_wac.c
index bc916ccd4c20,69c7df78281d..000000000000
--- a/drivers/hid/wacom_wac.c
+++ b/drivers/hid/wacom_wac.c
@@@ -2066,37 -2878,54 +2066,46 @@@ static const struct wacom_features waco
  	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x32C };
  static const struct wacom_features wacom_features_0x32C =
  	{ "Wacom Cintiq 27QHD touch", .type = WACOM_27QHDT,
 -	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x32B, .touch_max = 10 };
 +	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x32B, .touch_max = 10,
 +	  .pktlen = WACOM_PKGLEN_INTUOS };
  static const struct wacom_features wacom_features_0x3F =
 -	{ "Wacom Cintiq 21UX", 87200, 65600, 1023, 63,
 -	  CINTIQ, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
 +	{ "Wacom Cintiq 21UX",    WACOM_PKGLEN_INTUOS,    87200, 65600, 1023,
 +	  63, CINTIQ, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
  static const struct wacom_features wacom_features_0xC5 =
 -	{ "Wacom Cintiq 20WSX", 86680, 54180, 1023, 63,
 -	  WACOM_BEE, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
 +	{ "Wacom Cintiq 20WSX",   WACOM_PKGLEN_INTUOS,    86680, 54180, 1023,
 +	  63, WACOM_BEE, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
  static const struct wacom_features wacom_features_0xC6 =
 -	{ "Wacom Cintiq 12WX", 53020, 33440, 1023, 63,
 -	  WACOM_BEE, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
 +	{ "Wacom Cintiq 12WX",    WACOM_PKGLEN_INTUOS,    53020, 33440, 1023,
 +	  63, WACOM_BEE, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES };
  static const struct wacom_features wacom_features_0x304 =
 -	{ "Wacom Cintiq 13HD", 59152, 33448, 1023, 63,
 -	  WACOM_13HD, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
 +	{ "Wacom Cintiq 13HD",    WACOM_PKGLEN_INTUOS,    59352, 33648, 1023,
 +	  63, WACOM_13HD, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
  	  WACOM_CINTIQ_OFFSET, WACOM_CINTIQ_OFFSET };
+ static const struct wacom_features wacom_features_0x333 =
+ 	{ "Wacom Cintiq 13HD touch", 59152, 33448, 2047, 63,
+ 	  WACOM_13HD, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
+ 	  WACOM_CINTIQ_OFFSET, WACOM_CINTIQ_OFFSET,
+ 	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x335 };
+ static const struct wacom_features wacom_features_0x335 =
+ 	{ "Wacom Cintiq 13HD touch", .type = WACOM_24HDT, /* Touch */
+ 	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x333, .touch_max = 10,
+ 	  .check_for_hid_type = true, .hid_type = HID_TYPE_USBNONE };
  static const struct wacom_features wacom_features_0xC7 =
 -	{ "Wacom DTU1931", 37832, 30305, 511, 0,
 -	  PL, WACOM_INTUOS_RES, WACOM_INTUOS_RES };
 +	{ "Wacom DTU1931",        WACOM_PKGLEN_GRAPHIRE,  37832, 30305,  511,
 +	  0, PL, WACOM_INTUOS_RES, WACOM_INTUOS_RES };
  static const struct wacom_features wacom_features_0xCE =
 -	{ "Wacom DTU2231", 47864, 27011, 511, 0,
 -	  DTU, WACOM_INTUOS_RES, WACOM_INTUOS_RES,
 -	  .check_for_hid_type = true, .hid_type = HID_TYPE_USBMOUSE };
 +	{ "Wacom DTU2231",        WACOM_PKGLEN_GRAPHIRE,  47864, 27011,  511,
 +	  0, DTU, WACOM_INTUOS_RES, WACOM_INTUOS_RES };
  static const struct wacom_features wacom_features_0xF0 =
 -	{ "Wacom DTU1631", 34623, 19553, 511, 0,
 -	  DTU, WACOM_INTUOS_RES, WACOM_INTUOS_RES };
 -static const struct wacom_features wacom_features_0xFB =
 -	{ "Wacom DTU1031", 21896, 13760, 511, 0,
 -	  DTUS, WACOM_INTUOS_RES, WACOM_INTUOS_RES,
 -	  WACOM_DTU_OFFSET, WACOM_DTU_OFFSET };
 -static const struct wacom_features wacom_features_0x32F =
 -	{ "Wacom DTU1031X", 22472, 12728, 511, 0,
 -	  DTUSX, WACOM_INTUOS_RES, WACOM_INTUOS_RES,
 -	  WACOM_DTU_OFFSET, WACOM_DTU_OFFSET };
 +	{ "Wacom DTU1631",        WACOM_PKGLEN_GRAPHIRE,  34623, 19553,  511,
 +	  0, DTU, WACOM_INTUOS_RES, WACOM_INTUOS_RES };
  static const struct wacom_features wacom_features_0x57 =
 -	{ "Wacom DTK2241", 95640, 54060, 2047, 63,
 -	  DTK, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
 +	{ "Wacom DTK2241",        WACOM_PKGLEN_INTUOS,    95640, 54060, 2047,
 +	  63, DTK, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
  	  WACOM_CINTIQ_OFFSET, WACOM_CINTIQ_OFFSET };
  static const struct wacom_features wacom_features_0x59 = /* Pen */
 -	{ "Wacom DTH2242", 95640, 54060, 2047, 63,
 -	  DTK, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
 +	{ "Wacom DTH2242",        WACOM_PKGLEN_INTUOS,    95640, 54060, 2047,
 +	  63, DTK, WACOM_INTUOS3_RES, WACOM_INTUOS3_RES,
  	  WACOM_CINTIQ_OFFSET, WACOM_CINTIQ_OFFSET,
  	  .oVid = USB_VENDOR_ID_WACOM, .oPid = 0x5D };
  static const struct wacom_features wacom_features_0x5D = /* Touch */
@@@ -2361,13 -3269,17 +2370,19 @@@ const struct usb_device_id wacom_ids[] 
  	{ USB_DEVICE_WACOM(0x32A) },
  	{ USB_DEVICE_WACOM(0x32B) },
  	{ USB_DEVICE_WACOM(0x32C) },
++<<<<<<< HEAD
++=======
+ 	{ USB_DEVICE_WACOM(0x32F) },
+ 	{ USB_DEVICE_WACOM(0x333) },
+ 	{ USB_DEVICE_WACOM(0x335) },
++>>>>>>> b4bf2120d40b (HID: wacom: Add support for Cintiq 13HD Touch)
  	{ USB_DEVICE_WACOM(0x4001) },
 -	{ USB_DEVICE_WACOM(0x4004) },
 -	{ USB_DEVICE_WACOM(0x5000) },
 -	{ USB_DEVICE_WACOM(0x5002) },
 +	{ USB_DEVICE_WACOM(0x47) },
 +	{ USB_DEVICE_WACOM(0xF4) },
 +	{ USB_DEVICE_WACOM(0xF8) },
 +	{ USB_DEVICE_DETAILED(0xF6, USB_CLASS_HID, 0, 0) },
 +	{ USB_DEVICE_WACOM(0xFA) },
  	{ USB_DEVICE_LENOVO(0x6004) },
 -
 -	{ USB_DEVICE_WACOM(HID_ANY_ID) },
 -	{ I2C_DEVICE_WACOM(HID_ANY_ID) },
  	{ }
  };
 -MODULE_DEVICE_TABLE(hid, wacom_ids);
 +MODULE_DEVICE_TABLE(usb, wacom_ids);
* Unmerged path drivers/hid/wacom_wac.c
