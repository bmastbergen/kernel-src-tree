scsi: be2iscsi: Remove redundant iscsi_wrb desc memset

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [scsi] be2iscsi: Remove redundant iscsi_wrb desc memset (Maurizio Lombardi) [1382263]
Rebuild_FUZZ: 94.12%
commit-author Jitendra Bhivare <jitendra.bhivare@broadcom.com>
commit bf9b7554f46c4736d72e61f076a2d91a4303d2ea
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/bf9b7554.failed

alloc_wrb_handle already does memset zero of iscsi_wrb descriptor so
remove redundant memset in WRB submission paths.

Add pwrb_handle NULL check before memsett'ing pwrb.

	Signed-off-by: Jitendra Bhivare <jitendra.bhivare@broadcom.com>
	Reviewed-by: Johannes Thumshirn <jthumshirn@suse.de>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit bf9b7554f46c4736d72e61f076a2d91a4303d2ea)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/be2iscsi/be_main.c
diff --cc drivers/scsi/be2iscsi/be_main.c
index 4e2d77e035c6,6a6906f847db..000000000000
--- a/drivers/scsi/be2iscsi/be_main.c
+++ b/drivers/scsi/be2iscsi/be_main.c
@@@ -1167,6 -967,9 +1167,12 @@@ beiscsi_get_wrb_handle(struct hwi_wrb_c
  	else
  		pwrb_context->alloc_index++;
  	spin_unlock_bh(&pwrb_context->wrb_lock);
++<<<<<<< HEAD
++=======
+ 
+ 	if (pwrb_handle)
+ 		memset(pwrb_handle->pwrb, 0, sizeof(*pwrb_handle->pwrb));
++>>>>>>> bf9b7554f46c (scsi: be2iscsi: Remove redundant iscsi_wrb desc memset)
  
  	return pwrb_handle;
  }
* Unmerged path drivers/scsi/be2iscsi/be_main.c
diff --git a/drivers/scsi/be2iscsi/be_mgmt.c b/drivers/scsi/be2iscsi/be_mgmt.c
index 794ed5647611..4730d3704ba4 100644
--- a/drivers/scsi/be2iscsi/be_mgmt.c
+++ b/drivers/scsi/be2iscsi/be_mgmt.c
@@ -1668,7 +1668,6 @@ void beiscsi_offload_cxn_v0(struct beiscsi_offload_params *params,
 {
 	struct iscsi_wrb *pwrb = pwrb_handle->pwrb;
 
-	memset(pwrb, 0, sizeof(*pwrb));
 	AMAP_SET_BITS(struct amap_iscsi_target_context_update_wrb,
 		      max_send_data_segment_length, pwrb,
 		      params->dw[offsetof(struct amap_beiscsi_offload_params,
@@ -1740,8 +1739,6 @@ void beiscsi_offload_cxn_v2(struct beiscsi_offload_params *params,
 {
 	struct iscsi_wrb *pwrb = pwrb_handle->pwrb;
 
-	memset(pwrb, 0, sizeof(*pwrb));
-
 	AMAP_SET_BITS(struct amap_iscsi_target_context_update_wrb_v2,
 		      max_burst_length, pwrb, params->dw[offsetof
 		      (struct amap_beiscsi_offload_params,
