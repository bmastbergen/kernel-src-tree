NFSv4.1/pnfs: Ensure we handle delegation errors in nfs4_proc_layoutget()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Trond Myklebust <trond.myklebust@primarydata.com>
commit bc23676caf54c9b6e2521ef065dfddf6c50211de
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/bc23676c.failed

nfs4_handle_exception() relies on the caller setting the 'inode' field
in the struct nfs4_exception argument when the error applies to a
delegation.

	Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
	Reviewed-by: Jeff Layton <jlayton@poochiereds.net>
	Signed-off-by: Anna Schumaker <Anna.Schumaker@Netapp.com>
(cherry picked from commit bc23676caf54c9b6e2521ef065dfddf6c50211de)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfs/nfs4proc.c
diff --cc fs/nfs/nfs4proc.c
index 761fc7d53e27,27fe63b502d5..000000000000
--- a/fs/nfs/nfs4proc.c
+++ b/fs/nfs/nfs4proc.c
@@@ -8183,6 -8036,10 +8183,13 @@@ nfs4_proc_layoutget(struct nfs4_layoutg
  		.flags = RPC_TASK_ASYNC,
  	};
  	struct pnfs_layout_segment *lseg = NULL;
++<<<<<<< HEAD
++=======
+ 	struct nfs4_exception exception = {
+ 		.inode = inode,
+ 		.timeout = *timeout,
+ 	};
++>>>>>>> bc23676caf54 (NFSv4.1/pnfs: Ensure we handle delegation errors in nfs4_proc_layoutget())
  	int status = 0;
  
  	dprintk("--> %s\n", __func__);
* Unmerged path fs/nfs/nfs4proc.c
