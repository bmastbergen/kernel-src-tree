tcmu: add helper to check if dev was configured

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Mike Christie <mchristi@redhat.com>
commit 972c7f167974fa41ea8a2eed4b857cc59f59c42c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/972c7f16.failed

This adds a helper to check if the dev was configured. It
will be used in the next patch to prevent updates to some
config settings after the device has been setup.

	Signed-off-by: Mike Christie <mchristi@redhat.com>
	Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
(cherry picked from commit 972c7f167974fa41ea8a2eed4b857cc59f59c42c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/target/target_core_user.c
diff --cc drivers/target/target_core_user.c
index b8011d94f4cc,892b311e7874..000000000000
--- a/drivers/target/target_core_user.c
+++ b/drivers/target/target_core_user.c
@@@ -993,6 -990,19 +993,22 @@@ static int tcmu_check_and_free_pending_
  	return -EINVAL;
  }
  
++<<<<<<< HEAD
++=======
+ static void tcmu_dev_call_rcu(struct rcu_head *p)
+ {
+ 	struct se_device *dev = container_of(p, struct se_device, rcu_head);
+ 	struct tcmu_dev *udev = TCMU_DEV(dev);
+ 
+ 	kfree(udev);
+ }
+ 
+ static bool tcmu_dev_configured(struct tcmu_dev *udev)
+ {
+ 	return udev->uio_info.uio_dev ? true : false;
+ }
+ 
++>>>>>>> 972c7f167974 (tcmu: add helper to check if dev was configured)
  static void tcmu_free_device(struct se_device *dev)
  {
  	struct tcmu_dev *udev = TCMU_DEV(dev);
* Unmerged path drivers/target/target_core_user.c
