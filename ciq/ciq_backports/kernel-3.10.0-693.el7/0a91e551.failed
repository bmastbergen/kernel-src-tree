tools/power turbostat: fix error case overflow read of slm_freq_table[]

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [tools] power turbostat: fix error case overflow read of slm_freq_table[] (Prarit Bhargava) [1422076]
Rebuild_FUZZ: 95.59%
commit-author Colin Ian King <colin.king@canonical.com>
commit 0a91e551527a7b931d36f4822b97e70536bd2bb3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/0a91e551.failed

When i >= SLM_BCLK_FREQS, the frequency read from the slm_freq_table
is off the end of the array because msr is set to 3 rather than the
actual array index i.  Set i to 3 rather than msr to fix this.

	Signed-off-by: Colin Ian King <colin.king@canonical.com>
	Signed-off-by: Len Brown <len.brown@intel.com>
(cherry picked from commit 0a91e551527a7b931d36f4822b97e70536bd2bb3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/power/x86/turbostat/turbostat.c
diff --cc tools/power/x86/turbostat/turbostat.c
index 92e6f5e6c99d,12a6eea2d6ae..000000000000
--- a/tools/power/x86/turbostat/turbostat.c
+++ b/tools/power/x86/turbostat/turbostat.c
@@@ -2607,8 -3035,8 +2607,13 @@@ double slm_bclk(void
  
  	i = msr & 0xf;
  	if (i >= SLM_BCLK_FREQS) {
++<<<<<<< HEAD
 +		fprintf(stderr, "SLM BCLK[%d] invalid\n", i);
 +		msr = 3;
++=======
+ 		fprintf(outf, "SLM BCLK[%d] invalid\n", i);
+ 		i = 3;
++>>>>>>> 0a91e551527a (tools/power turbostat: fix error case overflow read of slm_freq_table[])
  	}
  	freq = slm_freq_table[i];
  
* Unmerged path tools/power/x86/turbostat/turbostat.c
