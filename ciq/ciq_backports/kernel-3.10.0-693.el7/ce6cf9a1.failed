nohz: Add hrtimer sanity check

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Frederic Weisbecker <fweisbec@gmail.com>
commit ce6cf9a15d62fd7ee92f4f9bb754883bacf85a3e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/ce6cf9a1.failed

	Signed-off-by: Frederic Weisbecker <fweisbec@gmail.com>
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit ce6cf9a15d62fd7ee92f4f9bb754883bacf85a3e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/time/tick-sched.c
diff --cc kernel/time/tick-sched.c
index 22bf382ff9a8,d212bb62bc08..000000000000
--- a/kernel/time/tick-sched.c
+++ b/kernel/time/tick-sched.c
@@@ -636,11 -768,16 +636,21 @@@ static ktime_t tick_nohz_stop_sched_tic
  		expires = KTIME_MAX;
  
  	expires = min_t(u64, expires, next_tick);
 -	tick = expires;
 +	tick.tv64 = expires;
  
  	/* Skip reprogram of event if its not changed */
++<<<<<<< HEAD
 +	if (ts->tick_stopped && (expires == dev->next_event.tv64))
 +		goto out;
++=======
+ 	if (ts->tick_stopped) {
+ 		if (hrtimer_active(&ts->sched_timer))
+ 			WARN_ON_ONCE(hrtimer_get_expires(&ts->sched_timer) < dev->next_event);
+ 
+ 		if (expires == dev->next_event)
+ 			goto out;
+ 	}
++>>>>>>> ce6cf9a15d62 (nohz: Add hrtimer sanity check)
  
  	/*
  	 * nohz_stop_sched_tick can be called several times before
* Unmerged path kernel/time/tick-sched.c
