nvme: make NVME_RDMA depend on BLOCK

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [nvme] make NVME_RDMA depend on BLOCK (David Milburn) [1384526 1389755 1366753 1374291 1383834]
Rebuild_FUZZ: 90.91%
commit-author Linus Torvalds <torvalds@linux-foundation.org>
commit bd0b841fee49de421f615cc173ccff063303672f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/bd0b841f.failed

Commit aa71987472a9 ("nvme: fabrics drivers don't need the nvme-pci
driver") removed the dependency on BLK_DEV_NVME, but the cdoe does
depend on the block layer (which used to be an implicit dependency
through BLK_DEV_NVME).

Otherwise you get various errors from the kbuild test robot random
config testing when that happens to hit a configuration with BLOCK
device support disabled.

	Cc: Christoph Hellwig <hch@lst.de>
	Cc: Jay Freyensee <james_p_freyensee@linux.intel.com>
	Cc: Sagi Grimberg <sagi@grimberg.me>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit bd0b841fee49de421f615cc173ccff063303672f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/Kconfig
diff --cc drivers/nvme/host/Kconfig
index 002a94abdbc4,f7d37a62f874..000000000000
--- a/drivers/nvme/host/Kconfig
+++ b/drivers/nvme/host/Kconfig
@@@ -8,3 -12,34 +8,37 @@@ config BLK_DEV_NVM
  
  	  To compile this driver as a module, choose M here: the
  	  module will be called nvme.
++<<<<<<< HEAD
++=======
+ 
+ config BLK_DEV_NVME_SCSI
+ 	bool "SCSI emulation for NVMe device nodes"
+ 	depends on NVME_CORE
+ 	---help---
+ 	  This adds support for the SG_IO ioctl on the NVMe character
+ 	  and block devices nodes, as well as a translation for a small
+ 	  number of selected SCSI commands to NVMe commands to the NVMe
+ 	  driver.  If you don't know what this means you probably want
+ 	  to say N here, unless you run a distro that abuses the SCSI
+ 	  emulation to provide stable device names for mount by id, like
+ 	  some OpenSuSE and SLES versions.
+ 
+ config NVME_FABRICS
+ 	tristate
+ 
+ config NVME_RDMA
+ 	tristate "NVM Express over Fabrics RDMA host driver"
+ 	depends on INFINIBAND && BLOCK
+ 	select NVME_CORE
+ 	select NVME_FABRICS
+ 	select SG_POOL
+ 	help
+ 	  This provides support for the NVMe over Fabrics protocol using
+ 	  the RDMA (Infiniband, RoCE, iWarp) transport.  This allows you
+ 	  to use remote block devices exported using the NVMe protocol set.
+ 
+ 	  To configure a NVMe over Fabrics controller use the nvme-cli tool
+ 	  from https://github.com/linux-nvme/nvme-cli.
+ 
+ 	  If unsure, say N.
++>>>>>>> bd0b841fee49 (nvme: make NVME_RDMA depend on BLOCK)
* Unmerged path drivers/nvme/host/Kconfig
