net: sched: Move TCA_CLS_FLAGS_SKIP_HW to uapi header file.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] sched: Move TCA_CLS_FLAGS_SKIP_HW to uapi header file. (Ivan Vecera) [1390693]
Rebuild_FUZZ: 95.58%
commit-author Samudrala, Sridhar <sridhar.samudrala@intel.com>
commit 760edee8b59ebf05bb268d0a6b568f76bb1bb599
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/760edee8.failed

	Signed-off-by: Sridhar Samudrala <sridhar.samudrala@intel.com>
	Acked-by: John Fastabend <john.r.fastabend@intel.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 760edee8b59ebf05bb268d0a6b568f76bb1bb599)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/net/pkt_cls.h
diff --cc include/net/pkt_cls.h
index b606c03c3836,339ef08e35ae..000000000000
--- a/include/net/pkt_cls.h
+++ b/include/net/pkt_cls.h
@@@ -392,9 -392,32 +392,13 @@@ struct tc_cls_u32_offload 
  	};
  };
  
++<<<<<<< HEAD
 +static inline bool tc_should_offload(struct net_device *dev)
++=======
+ static inline bool tc_should_offload(struct net_device *dev, u32 flags)
++>>>>>>> 760edee8b59e (net: sched: Move TCA_CLS_FLAGS_SKIP_HW to uapi header file.)
  {
 -	if (!(dev->features & NETIF_F_HW_TC))
 -		return false;
 -
 -	if (flags & TCA_CLS_FLAGS_SKIP_HW)
 -		return false;
 -
 -	if (!dev->netdev_ops->ndo_setup_tc)
 -		return false;
 -
 -	return true;
 +	return dev->netdev_ops->ndo_setup_tc;
  }
  
 -enum tc_fl_command {
 -	TC_CLSFLOWER_REPLACE,
 -	TC_CLSFLOWER_DESTROY,
 -};
 -
 -struct tc_cls_flower_offload {
 -	enum tc_fl_command command;
 -	unsigned long cookie;
 -	struct flow_dissector *dissector;
 -	struct fl_flow_key *mask;
 -	struct fl_flow_key *key;
 -	struct tcf_exts *exts;
 -};
 -
  #endif
* Unmerged path include/net/pkt_cls.h
diff --git a/include/uapi/linux/pkt_cls.h b/include/uapi/linux/pkt_cls.h
index 3abfe7f00823..5205470377d8 100644
--- a/include/uapi/linux/pkt_cls.h
+++ b/include/uapi/linux/pkt_cls.h
@@ -171,6 +171,9 @@ enum {
 
 #define TCA_POLICE_MAX (__TCA_POLICE_MAX - 1)
 
+/* tca flags definitions */
+#define TCA_CLS_FLAGS_SKIP_HW	(1 << 0)
+
 /* U32 filters */
 
 #define TC_U32_HTID(h) ((h)&0xFFF00000)
