perf jvmti: Create libdir directory before installing libperf-jvmti.so

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Laura Abbott <labbott@redhat.com>
commit cd7f355ac4067177e0a45e7331d11472bd7fd7ca
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/cd7f355a.failed

The install command for libperf-jvmti.so does not check if libdir exists
before installing. This means that when the install command is run:

install libperf-jvmti.so '/tmp/test_root/usr/lib64';

libperf-jvmti.so will get installed to /usr/lib64 as a file and break
further installation. Fix this by ensuring the directory gets created
first.

See https://bugzilla.redhat.com/show_bug.cgi?id=1410296

	Signed-off-by: Laura Abbott <labbott@redhat.com>
	Acked-by: Jiri Olsa <jolsa@redhat.com>
	Cc: Alexander Shishkin <alexander.shishkin@linux.intel.com>
	Cc: Peter Zijlstra <peterz@infradead.org>
Fixes: d4dfdf00d43e ("perf jvmti: Plug compilation into perf build")
Link: http://lkml.kernel.org/r/1483741088-13543-1-git-send-email-labbott@redhat.com
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit cd7f355ac4067177e0a45e7331d11472bd7fd7ca)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/Makefile.perf
diff --cc tools/perf/Makefile.perf
index 732d2d4a11d3,4da19b6ba94a..000000000000
--- a/tools/perf/Makefile.perf
+++ b/tools/perf/Makefile.perf
@@@ -544,6 -659,11 +544,14 @@@ ifndef NO_PERF_READ_VDSOX3
  	$(call QUIET_INSTALL, perf-read-vdsox32) \
  		$(INSTALL) $(OUTPUT)perf-read-vdsox32 '$(DESTDIR_SQ)$(bindir_SQ)';
  endif
++<<<<<<< HEAD
++=======
+ ifndef NO_JVMTI
+ 	$(call QUIET_INSTALL, $(LIBJVMTI)) \
+ 		$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(libdir_SQ)'; \
+ 		$(INSTALL) $(OUTPUT)$(LIBJVMTI) '$(DESTDIR_SQ)$(libdir_SQ)';
+ endif
++>>>>>>> cd7f355ac406 (perf jvmti: Create libdir directory before installing libperf-jvmti.so)
  	$(call QUIET_INSTALL, libexec) \
  		$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(perfexec_instdir_SQ)'
  	$(call QUIET_INSTALL, perf-archive) \
* Unmerged path tools/perf/Makefile.perf
