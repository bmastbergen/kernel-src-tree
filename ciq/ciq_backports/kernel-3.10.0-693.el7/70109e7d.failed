KVM: MTRR: remove mtrr_state.have_fixed

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Xiao Guangrong <guangrong.xiao@linux.intel.com>
commit 70109e7d9d4ac7182786ddf7cd53bc651a157896
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/70109e7d.failed

vMTRR does not depend on any host MTRR feature and fixed MTRRs have always
been implemented, so drop this field

	Signed-off-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 70109e7d9d4ac7182786ddf7cd53bc651a157896)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/include/asm/kvm_host.h
#	arch/x86/kvm/mtrr.c
diff --cc arch/x86/include/asm/kvm_host.h
index 38430109c621,cbf9f076f57c..000000000000
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@@ -357,9 -342,11 +357,17 @@@ enum 
  	KVM_DEBUGREG_RELOAD = 4,
  };
  
++<<<<<<< HEAD
 +/* Hyper-V per vcpu emulation context */
 +struct kvm_vcpu_hv {
 +	u64 hv_vapic;
++=======
+ struct kvm_mtrr {
+ 	struct mtrr_var_range var_ranges[MTRR_MAX_VAR_RANGES];
+ 	mtrr_type fixed_ranges[KVM_NR_FIXED_MTRR_REGION];
+ 	unsigned char enabled;
+ 	mtrr_type def_type;
++>>>>>>> 70109e7d9d4a (KVM: MTRR: remove mtrr_state.have_fixed)
  };
  
  struct kvm_vcpu_arch {
* Unmerged path arch/x86/kvm/mtrr.c
* Unmerged path arch/x86/include/asm/kvm_host.h
* Unmerged path arch/x86/kvm/mtrr.c
diff --git a/arch/x86/kvm/x86.c b/arch/x86/kvm/x86.c
index 5adefe6db615..b37be27f336b 100644
--- a/arch/x86/kvm/x86.c
+++ b/arch/x86/kvm/x86.c
@@ -7541,7 +7541,6 @@ int kvm_arch_vcpu_setup(struct kvm_vcpu *vcpu)
 {
 	int r;
 
-	vcpu->arch.mtrr_state.have_fixed = 1;
 	r = vcpu_load(vcpu);
 	if (r)
 		return r;
