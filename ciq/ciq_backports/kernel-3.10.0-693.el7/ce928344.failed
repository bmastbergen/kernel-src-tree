perf target: str_error_r() always returns the buffer it receives

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit ce92834407a465c25c0be1a4a0339c625e44c4db
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/ce928344.failed

So no need for checking if it uses the strerror_r() GNU variant error
reporting mechanism, i.e. if it returns a pointer to a immutable string
internal to glibc.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Fixes: c8b5f2c96d1b ("tools: Introduce str_error_r()")
Link: http://lkml.kernel.org/n/tip-xr83cd4y4r3cn6tq6w4f59jb@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit ce92834407a465c25c0be1a4a0339c625e44c4db)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/target.c
diff --cc tools/perf/util/target.c
index a53603b27e52,21c4d9b23c24..000000000000
--- a/tools/perf/util/target.c
+++ b/tools/perf/util/target.c
@@@ -121,11 -122,7 +121,15 @@@ int target__strerror(struct target *tar
  	BUG_ON(buflen == 0);
  
  	if (errnum >= 0) {
++<<<<<<< HEAD
 +		const char *err = strerror_r(errnum, buf, buflen);
 +
 +		if (err != buf)
 +			scnprintf(buf, buflen, "%s", err);
 +
++=======
+ 		str_error_r(errnum, buf, buflen);
++>>>>>>> ce92834407a4 (perf target: str_error_r() always returns the buffer it receives)
  		return 0;
  	}
  
* Unmerged path tools/perf/util/target.c
