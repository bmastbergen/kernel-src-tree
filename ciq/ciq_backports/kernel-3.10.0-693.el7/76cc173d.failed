bridge: mdb: reduce the indentation level in br_mdb_fill_info

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
commit 76cc173d48d9ed2206a1affe13b70d0e8e134010
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/76cc173d.failed

Switch the port check and skip if it's null, this allows us to reduce one
indentation level.

	Signed-off-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 76cc173d48d9ed2206a1affe13b70d0e8e134010)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bridge/br_mdb.c
diff --cc net/bridge/br_mdb.c
index 51431890398f,e66619171386..000000000000
--- a/net/bridge/br_mdb.c
+++ b/net/bridge/br_mdb.c
@@@ -79,24 -88,26 +79,36 @@@ static int br_mdb_fill_info(struct sk_b
  			for (pp = &mp->ports;
  			     (p = rcu_dereference(*pp)) != NULL;
  			      pp = &p->next) {
+ 				struct br_mdb_entry e;
+ 
  				port = p->port;
++<<<<<<< HEAD
 +				if (port) {
 +					struct br_mdb_entry e;
 +					memset(&e, 0, sizeof(e));
 +					e.ifindex = port->dev->ifindex;
 +					e.state = p->state;
 +					if (p->addr.proto == htons(ETH_P_IP))
 +						e.addr.u.ip4 = p->addr.u.ip4;
++=======
+ 				if (!port)
+ 					continue;
+ 				memset(&e, 0, sizeof(e));
+ 				e.ifindex = port->dev->ifindex;
+ 				e.vid = p->addr.vid;
+ 				__mdb_entry_fill_flags(&e, p->flags);
+ 				if (p->addr.proto == htons(ETH_P_IP))
+ 					e.addr.u.ip4 = p->addr.u.ip4;
++>>>>>>> 76cc173d48d9 (bridge: mdb: reduce the indentation level in br_mdb_fill_info)
  #if IS_ENABLED(CONFIG_IPV6)
- 					if (p->addr.proto == htons(ETH_P_IPV6))
- 						e.addr.u.ip6 = p->addr.u.ip6;
+ 				if (p->addr.proto == htons(ETH_P_IPV6))
+ 					e.addr.u.ip6 = p->addr.u.ip6;
  #endif
- 					e.addr.proto = p->addr.proto;
- 					if (nla_put(skb, MDBA_MDB_ENTRY_INFO, sizeof(e), &e)) {
- 						nla_nest_cancel(skb, nest2);
- 						err = -EMSGSIZE;
- 						goto out;
- 					}
+ 				e.addr.proto = p->addr.proto;
+ 				if (nla_put(skb, MDBA_MDB_ENTRY_INFO, sizeof(e), &e)) {
+ 					nla_nest_cancel(skb, nest2);
+ 					err = -EMSGSIZE;
+ 					goto out;
  				}
  			}
  			nla_nest_end(skb, nest2);
* Unmerged path net/bridge/br_mdb.c
