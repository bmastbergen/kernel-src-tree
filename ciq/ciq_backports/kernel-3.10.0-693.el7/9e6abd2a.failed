x86, boot: Don't compile aslr.c when !CONFIG_RANDOMIZE_BASE

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [x86] boot: Don't compile aslr.c when !CONFIG_RANDOMIZE_BASE (Baoquan He) [1290840]
Rebuild_FUZZ: 95.58%
commit-author Josh Triplett <josh@joshtriplett.org>
commit 9e6abd2a98ca599e0efb8c46acc17f17dc1a6fe9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/9e6abd2a.failed

All the code in aslr.c gets compiled out if !CONFIG_RANDOMIZE_BASE, but
aslr.o itself still gets compiled in.  Eliminate it from the compile
entirely in that case.

This does not change the generated code at all, in either case.

	Signed-off-by: Josh Triplett <josh@joshtriplett.org>
(cherry picked from commit 9e6abd2a98ca599e0efb8c46acc17f17dc1a6fe9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/boot/compressed/Makefile
#	arch/x86/boot/compressed/aslr.c
diff --cc arch/x86/boot/compressed/Makefile
index 1dc427850e11,3b9b00c68fd8..000000000000
--- a/arch/x86/boot/compressed/Makefile
+++ b/arch/x86/boot/compressed/Makefile
@@@ -26,9 -26,11 +26,15 @@@ LDFLAGS_vmlinux := -
  hostprogs-y	:= mkpiggy
  HOST_EXTRACFLAGS += -I$(srctree)/tools/include
  
 -vmlinux-objs-y := $(obj)/vmlinux.lds $(obj)/head_$(BITS).o $(obj)/misc.o \
 +VMLINUX_OBJS = $(obj)/vmlinux.lds $(obj)/head_$(BITS).o $(obj)/misc.o \
  	$(obj)/string.o $(obj)/cmdline.o $(obj)/early_serial_console.o \
++<<<<<<< HEAD
 +	$(obj)/piggy.o
++=======
+ 	$(obj)/piggy.o $(obj)/cpuflags.o
+ 
+ vmlinux-objs-$(CONFIG_RANDOMIZE_BASE) += $(obj)/aslr.o
++>>>>>>> 9e6abd2a98ca (x86, boot: Don't compile aslr.c when !CONFIG_RANDOMIZE_BASE)
  
  $(obj)/eboot.o: KBUILD_CFLAGS += -fshort-wchar -mno-red-zone
  
* Unmerged path arch/x86/boot/compressed/aslr.c
* Unmerged path arch/x86/boot/compressed/Makefile
* Unmerged path arch/x86/boot/compressed/aslr.c
