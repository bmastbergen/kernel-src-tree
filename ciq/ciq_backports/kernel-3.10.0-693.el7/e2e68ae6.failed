x86: Use $(OBJDUMP) instead of plain objdump

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [x86] Use $(OBJDUMP) instead of plain objdump (Baoquan He) [1290840]
Rebuild_FUZZ: 93.98%
commit-author Chris Clayton <chris2553@googlemail.com>
commit e2e68ae688b0a3766cd75aedf4ed4e39be402009
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/e2e68ae6.failed

commit e6023367d779 'x86, kaslr: Prevent .bss from overlaping initrd'
broke the cross compile of x86. It added a objdump invocation, which
invokes the host native objdump and ignores an active cross tool
chain.

Use $(OBJDUMP) instead which takes the CROSS_COMPILE prefix into
account.

[ tglx: Massage changelog and use $(OBJDUMP) ]

Fixes: e6023367d779 'x86, kaslr: Prevent .bss from overlaping initrd'
	Signed-off-by: Chris Clayton <chris2553@googlemail.com>
	Acked-by: Kees Cook <keescook@chromium.org>
	Acked-by: Borislav Petkov <bp@suse.de>
	Cc: Junjie Mao <eternal.n08@gmail.com>
	Cc: Ingo Molnar <mingo@kernel.org>
	Cc: H. Peter Anvin <hpa@linux.intel.com>
	Cc: stable@vger.kernel.org
Link: http://lkml.kernel.org/r/54705C8E.1080400@googlemail.com
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
(cherry picked from commit e2e68ae688b0a3766cd75aedf4ed4e39be402009)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/boot/compressed/Makefile
diff --cc arch/x86/boot/compressed/Makefile
index 1dc427850e11,45abc363dd3e..000000000000
--- a/arch/x86/boot/compressed/Makefile
+++ b/arch/x86/boot/compressed/Makefile
@@@ -74,9 -74,12 +74,14 @@@ suffix-$(CONFIG_KERNEL_BZIP2)	:= bz
  suffix-$(CONFIG_KERNEL_LZMA)	:= lzma
  suffix-$(CONFIG_KERNEL_XZ)	:= xz
  suffix-$(CONFIG_KERNEL_LZO) 	:= lzo
 -suffix-$(CONFIG_KERNEL_LZ4) 	:= lz4
  
++<<<<<<< HEAD
++=======
+ RUN_SIZE = $(shell $(OBJDUMP) -h vmlinux | \
+ 	     perl $(srctree)/arch/x86/tools/calc_run_size.pl)
++>>>>>>> e2e68ae688b0 (x86: Use $(OBJDUMP) instead of plain objdump)
  quiet_cmd_mkpiggy = MKPIGGY $@
 -      cmd_mkpiggy = $(obj)/mkpiggy $< $(RUN_SIZE) > $@ || ( rm -f $@ ; false )
 +      cmd_mkpiggy = $(obj)/mkpiggy $< > $@ || ( rm -f $@ ; false )
  
  targets += piggy.S
  $(obj)/piggy.S: $(obj)/vmlinux.bin.$(suffix-y) $(obj)/mkpiggy FORCE
* Unmerged path arch/x86/boot/compressed/Makefile
