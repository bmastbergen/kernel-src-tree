fq_codel: return non zero qlen in class dumps

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] sched: fq_codel: return non zero qlen in class dumps (Ivan Vecera) [1428588]
Rebuild_FUZZ: 92.78%
commit-author Eric Dumazet <edumazet@google.com>
commit aafddbf0cffeb790f919436285328c762279b5d4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/aafddbf0.failed

We properly scan the flow list to count number of packets,
but John passed 0 to gnet_stats_copy_queue() so we report
a zero value to user space instead of the result.

Fixes: 640158536632 ("net: sched: restrict use of qstats qlen")
	Signed-off-by: Eric Dumazet <edumazet@google.com>
	Cc: John Fastabend <john.r.fastabend@intel.com>
	Acked-by: John Fastabend <john.r.fastabend@intel.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit aafddbf0cffeb790f919436285328c762279b5d4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/sch_fq_codel.c
diff --cc net/sched/sch_fq_codel.c
index 325552fe3cde,da250b2e06ae..000000000000
--- a/net/sched/sch_fq_codel.c
+++ b/net/sched/sch_fq_codel.c
@@@ -579,7 -661,7 +579,11 @@@ static int fq_codel_dump_class_stats(st
  		qs.backlog = q->backlogs[idx];
  		qs.drops = flow->dropped;
  	}
++<<<<<<< HEAD
 +	if (gnet_stats_copy_queue(d, &qs) < 0)
++=======
+ 	if (gnet_stats_copy_queue(d, NULL, &qs, qs.qlen) < 0)
++>>>>>>> aafddbf0cffe (fq_codel: return non zero qlen in class dumps)
  		return -1;
  	if (idx < q->flows_cnt)
  		return gnet_stats_copy_app(d, &xstats, sizeof(xstats));
* Unmerged path net/sched/sch_fq_codel.c
