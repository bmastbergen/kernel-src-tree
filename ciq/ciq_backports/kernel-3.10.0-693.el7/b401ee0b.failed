KVM: x86: lower default for halt_poll_ns

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Paolo Bonzini <pbonzini@redhat.com>
commit b401ee0b85a53e89739ff68a5b1a0667d664afc9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/b401ee0b.failed

In some fio benchmarks, halt_poll_ns=400000 caused CPU utilization to
increase heavily even in cases where the performance improvement was
small.  In particular, bandwidth divided by CPU usage was as much as
60% lower.

To some extent this is the expected effect of the patch, and the
additional CPU utilization is only visible when running the
benchmarks.  However, halving the threshold also halves the extra
CPU utilization (from +30-130% to +20-70%) and has no negative
effect on performance.

	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
	Signed-off-by: Radim Krčmář <rkrcmar@redhat.com>
(cherry picked from commit b401ee0b85a53e89739ff68a5b1a0667d664afc9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/include/asm/kvm_host.h
diff --cc arch/x86/include/asm/kvm_host.h
index c4a4bfc6a009,695605eb1dfb..000000000000
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@@ -39,10 -43,7 +39,14 @@@
  #define KVM_PRIVATE_MEM_SLOTS 3
  #define KVM_MEM_SLOTS_NUM (KVM_USER_MEM_SLOTS + KVM_PRIVATE_MEM_SLOTS)
  
++<<<<<<< HEAD
 +#define KVM_MMIO_SIZE 16
 +
 +#define KVM_PIO_PAGE_OFFSET 1
 +#define KVM_COALESCED_MMIO_PAGE_OFFSET 2
++=======
+ #define KVM_HALT_POLL_NS_DEFAULT 200000
++>>>>>>> b401ee0b85a5 (KVM: x86: lower default for halt_poll_ns)
  
  #define KVM_IRQCHIP_NUM_PINS  KVM_IOAPIC_NUM_PINS
  
* Unmerged path arch/x86/include/asm/kvm_host.h
