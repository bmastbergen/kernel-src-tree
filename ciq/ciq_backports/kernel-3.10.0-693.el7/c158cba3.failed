bonding: handle NETIF_F_HW_SWITCH_OFFLOAD flag and add ndo_bridge_setlink/dellink handlers

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Roopa Prabhu <roopa@cumulusnetworks.com>
commit c158cba38ccd6e7c7787a6ec904d97b9d22537f5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/c158cba3.failed

We want bond to pick up the offload flag if any of its slaves have it.

NETIF_F_HW_SWITCH_OFFLOAD flag is added to the mask, so that
netdev_increment_features does not ignore it.

This also adds ndo_bridge_setlink and ndo_bridge_dellink handlers.
These currently point to the default handlers provided by the
switchdev api.

	Signed-off-by: Roopa Prabhu <roopa@cumulusnetworks.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c158cba38ccd6e7c7787a6ec904d97b9d22537f5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/bonding/bond_main.c
diff --cc drivers/net/bonding/bond_main.c
index ce8e9750aae0,c9e519cb9214..000000000000
--- a/drivers/net/bonding/bond_main.c
+++ b/drivers/net/bonding/bond_main.c
@@@ -4085,7 -3957,8 +4090,12 @@@ static const struct net_device_ops bond
  	.ndo_add_slave		= bond_enslave,
  	.ndo_del_slave		= bond_release,
  	.ndo_fix_features	= bond_fix_features,
++<<<<<<< HEAD
 +	.ndo_features_check	= passthru_features_check,
++=======
+ 	.ndo_bridge_setlink	= ndo_dflt_netdev_switch_port_bridge_setlink,
+ 	.ndo_bridge_dellink	= ndo_dflt_netdev_switch_port_bridge_dellink,
++>>>>>>> c158cba38ccd (bonding: handle NETIF_F_HW_SWITCH_OFFLOAD flag and add ndo_bridge_setlink/dellink handlers)
  };
  
  static const struct device_type bond_type = {
* Unmerged path drivers/net/bonding/bond_main.c
