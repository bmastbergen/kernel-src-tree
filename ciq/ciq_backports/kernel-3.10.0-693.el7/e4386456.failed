net_sched: cls_basic: remove unnecessary iteration and use passed arg

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] sched: cls_basic: remove unnecessary iteration and use passed arg (Ivan Vecera) [1428588]
Rebuild_FUZZ: 97.01%
commit-author Jiri Pirko <jiri@resnulli.us>
commit e4386456ae4eca2104e67f70a8ff7b7c949fb248
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/e4386456.failed

	Signed-off-by: Jiri Pirko <jiri@resnulli.us>
	Acked-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e4386456ae4eca2104e67f70a8ff7b7c949fb248)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/cls_basic.c
diff --cc net/sched/cls_basic.c
index a2883e2cb8ec,1c122c7e0549..000000000000
--- a/net/sched/cls_basic.c
+++ b/net/sched/cls_basic.c
@@@ -114,17 -113,12 +114,23 @@@ static void basic_destroy(struct tcf_pr
  
  static int basic_delete(struct tcf_proto *tp, unsigned long arg)
  {
- 	struct basic_head *head = rtnl_dereference(tp->root);
- 	struct basic_filter *t, *f = (struct basic_filter *) arg;
+ 	struct basic_filter *f = (struct basic_filter *) arg;
  
++<<<<<<< HEAD
 +	list_for_each_entry(t, &head->flist, link)
 +		if (t == f) {
 +			list_del_rcu(&t->link);
 +			call_rcu(&t->rcu, basic_delete_filter);
 +			return 0;
 +		}
 +
 +	return -ENOENT;
++=======
+ 	list_del_rcu(&f->link);
+ 	tcf_unbind_filter(tp, &f->res);
+ 	call_rcu(&f->rcu, basic_delete_filter);
+ 	return 0;
++>>>>>>> e4386456ae4e (net_sched: cls_basic: remove unnecessary iteration and use passed arg)
  }
  
  static const struct nla_policy basic_policy[TCA_BASIC_MAX + 1] = {
* Unmerged path net/sched/cls_basic.c
