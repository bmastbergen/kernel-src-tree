NFSv4.1/pNFS: Cleanup constify struct pnfs_layout_range arguments

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Trond Myklebust <trond.myklebust@primarydata.com>
commit 506c0d68269e90d354b3cbfc7523611b026c88d0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/506c0d68.failed

	Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
(cherry picked from commit 506c0d68269e90d354b3cbfc7523611b026c88d0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfs/pnfs.h
diff --cc fs/nfs/pnfs.h
index 263ac8a4f7d1,78df618a1596..000000000000
--- a/fs/nfs/pnfs.h
+++ b/fs/nfs/pnfs.h
@@@ -264,10 -265,10 +264,15 @@@ int pnfs_choose_layoutget_stateid(nfs4_
  				  struct nfs4_state *open_state);
  int pnfs_mark_matching_lsegs_invalid(struct pnfs_layout_hdr *lo,
  				struct list_head *tmp_list,
++<<<<<<< HEAD
 +				struct pnfs_layout_range *recall_range);
 +void pnfs_mark_matching_lsegs_return(struct pnfs_layout_hdr *lo,
++=======
+ 				const struct pnfs_layout_range *recall_range);
+ int pnfs_mark_matching_lsegs_return(struct pnfs_layout_hdr *lo,
++>>>>>>> 506c0d68269e (NFSv4.1/pNFS: Cleanup constify struct pnfs_layout_range arguments)
  				struct list_head *tmp_list,
- 				struct pnfs_layout_range *recall_range);
+ 				const struct pnfs_layout_range *recall_range);
  bool pnfs_roc(struct inode *ino);
  void pnfs_roc_release(struct inode *ino);
  void pnfs_roc_set_barrier(struct inode *ino, u32 barrier);
diff --git a/fs/nfs/pnfs.c b/fs/nfs/pnfs.c
index db4c7577c4f5..f5e98987b6f7 100644
--- a/fs/nfs/pnfs.c
+++ b/fs/nfs/pnfs.c
@@ -566,7 +566,7 @@ static int mark_lseg_invalid(struct pnfs_layout_segment *lseg,
 int
 pnfs_mark_matching_lsegs_invalid(struct pnfs_layout_hdr *lo,
 			    struct list_head *tmp_list,
-			    struct pnfs_layout_range *recall_range)
+			    const struct pnfs_layout_range *recall_range)
 {
 	struct pnfs_layout_segment *lseg, *next;
 	int remaining = 0;
@@ -825,7 +825,7 @@ pnfs_layoutgets_blocked(const struct pnfs_layout_hdr *lo)
 
 int
 pnfs_choose_layoutget_stateid(nfs4_stateid *dst, struct pnfs_layout_hdr *lo,
-			      struct pnfs_layout_range *range,
+			      const struct pnfs_layout_range *range,
 			      struct nfs4_state *open_state)
 {
 	int status = 0;
@@ -1737,7 +1737,7 @@ out_forget_reply:
 void
 pnfs_mark_matching_lsegs_return(struct pnfs_layout_hdr *lo,
 				struct list_head *tmp_list,
-				struct pnfs_layout_range *return_range)
+				const struct pnfs_layout_range *return_range)
 {
 	struct pnfs_layout_segment *lseg, *next;
 
* Unmerged path fs/nfs/pnfs.h
