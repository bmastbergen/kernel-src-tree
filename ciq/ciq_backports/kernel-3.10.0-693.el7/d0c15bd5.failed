crypto: qat - make adf_vf_isr.c dependant on IOV config

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [crypto] qat - make adf_vf_isr.c dependant on IOV config (Neil Horman) [1382849]
Rebuild_FUZZ: 92.16%
commit-author Tadeusz Struk <tadeusz.struk@intel.com>
commit d0c15bd5067ec75d8738f4d4ba1e5e3ab0ea6f2d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/d0c15bd5.failed

The adf_vf_isr.c should only be build if CONFIG_PCI_IOV is enabled

	Signed-off-by: Tadeusz Struk <tadeusz.struk@intel.com>
	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit d0c15bd5067ec75d8738f4d4ba1e5e3ab0ea6f2d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/crypto/qat/qat_common/adf_common_drv.h
diff --cc drivers/crypto/qat/qat_common/adf_common_drv.h
index 557ea361d385,75faa39bc8d0..000000000000
--- a/drivers/crypto/qat/qat_common/adf_common_drv.h
+++ b/drivers/crypto/qat/qat_common/adf_common_drv.h
@@@ -241,6 -239,10 +239,13 @@@ void adf_disable_pf2vf_interrupts(struc
  
  int adf_vf2pf_init(struct adf_accel_dev *accel_dev);
  void adf_vf2pf_shutdown(struct adf_accel_dev *accel_dev);
++<<<<<<< HEAD
++=======
+ int adf_init_pf_wq(void);
+ void adf_exit_pf_wq(void);
+ int adf_init_vf_wq(void);
+ void adf_exit_vf_wq(void);
++>>>>>>> d0c15bd5067e (crypto: qat - make adf_vf_isr.c dependant on IOV config)
  #else
  static inline int adf_sriov_configure(struct pci_dev *pdev, int numvfs)
  {
@@@ -267,5 -269,24 +272,27 @@@ static inline int adf_vf2pf_init(struc
  static inline void adf_vf2pf_shutdown(struct adf_accel_dev *accel_dev)
  {
  }
++<<<<<<< HEAD
++=======
+ 
+ static inline int adf_init_pf_wq(void)
+ {
+ 	return 0;
+ }
+ 
+ static inline void adf_exit_pf_wq(void)
+ {
+ }
+ 
+ static inline int adf_init_vf_wq(void)
+ {
+ 	return 0;
+ }
+ 
+ static inline void adf_exit_vf_wq(void)
+ {
+ }
+ 
++>>>>>>> d0c15bd5067e (crypto: qat - make adf_vf_isr.c dependant on IOV config)
  #endif
  #endif
diff --git a/drivers/crypto/qat/qat_common/Makefile b/drivers/crypto/qat/qat_common/Makefile
index b9b03fe30002..65820f4ffdb8 100644
--- a/drivers/crypto/qat/qat_common/Makefile
+++ b/drivers/crypto/qat/qat_common/Makefile
@@ -10,7 +10,6 @@ clean-files += qat_rsaprivkey-asn1.c qat_rsapvivkey-asn1.h
 obj-$(CONFIG_CRYPTO_DEV_QAT) += intel_qat.o
 intel_qat-objs := adf_cfg.o \
 	adf_isr.o \
-	adf_vf_isr.o \
 	adf_ctl_drv.o \
 	adf_dev_mgr.o \
 	adf_init.o \
@@ -28,4 +27,5 @@ intel_qat-objs := adf_cfg.o \
 	qat_hal.o
 
 intel_qat-$(CONFIG_DEBUG_FS) += adf_transport_debug.o
-intel_qat-$(CONFIG_PCI_IOV) += adf_sriov.o adf_pf2vf_msg.o adf_vf2pf_msg.o
+intel_qat-$(CONFIG_PCI_IOV) += adf_sriov.o adf_pf2vf_msg.o \
+			       adf_vf2pf_msg.o adf_vf_isr.o
* Unmerged path drivers/crypto/qat/qat_common/adf_common_drv.h
