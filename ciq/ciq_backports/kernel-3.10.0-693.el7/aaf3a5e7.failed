dell-wmi: support Dell Inspiron M5110

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Michał Kępień <kernel@kempniu.pl>
commit aaf3a5e77566ad186a85d28a0afd26b8dd0afd11
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/aaf3a5e7.failed

Similarly to Dell Vostro V131, Dell Inspiron M5110 also requires an
SMBIOS request to be issued in order for WMI events to be generated and
does not raise an i8042 interrupt when the Dell Instant Launch hotkey is
pressed.  However, the event code for that hotkey on this machine is
0xe029, so add it to the legacy keymap.

	Signed-off-by: Michał Kępień <kernel@kempniu.pl>
	Tested-by: Darek Stojaczyk <darek.stojaczyk@gmail.com>
	Reviewed-by: Pali Rohár <pali.rohar@gmail.com>
	Signed-off-by: Darren Hart <dvhart@linux.intel.com>
(cherry picked from commit aaf3a5e77566ad186a85d28a0afd26b8dd0afd11)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/platform/x86/dell-wmi.c
diff --cc drivers/platform/x86/dell-wmi.c
index bdf6820002db,15c6f1191aec..000000000000
--- a/drivers/platform/x86/dell-wmi.c
+++ b/drivers/platform/x86/dell-wmi.c
@@@ -52,6 -53,32 +52,35 @@@ static u32 dell_wmi_interface_version
  MODULE_ALIAS("wmi:"DELL_EVENT_GUID);
  MODULE_ALIAS("wmi:"DELL_DESCRIPTOR_GUID);
  
++<<<<<<< HEAD
++=======
+ static int __init dmi_matched(const struct dmi_system_id *dmi)
+ {
+ 	wmi_requires_smbios_request = 1;
+ 	return 1;
+ }
+ 
+ static const struct dmi_system_id dell_wmi_smbios_list[] __initconst = {
+ 	{
+ 		.callback = dmi_matched,
+ 		.ident = "Dell Inspiron M5110",
+ 		.matches = {
+ 			DMI_MATCH(DMI_SYS_VENDOR, "Dell Inc."),
+ 			DMI_MATCH(DMI_PRODUCT_NAME, "Inspiron M5110"),
+ 		},
+ 	},
+ 	{
+ 		.callback = dmi_matched,
+ 		.ident = "Dell Vostro V131",
+ 		.matches = {
+ 			DMI_MATCH(DMI_SYS_VENDOR, "Dell Inc."),
+ 			DMI_MATCH(DMI_PRODUCT_NAME, "Vostro V131"),
+ 		},
+ 	},
+ 	{ }
+ };
+ 
++>>>>>>> aaf3a5e77566 (dell-wmi: support Dell Inspiron M5110)
  /*
   * Certain keys are flagged as KE_IGNORE. All of these are either
   * notifications (rather than requests for change) or are also sent
* Unmerged path drivers/platform/x86/dell-wmi.c
