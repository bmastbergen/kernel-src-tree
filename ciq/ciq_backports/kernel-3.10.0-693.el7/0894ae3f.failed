net: add netif_is_bridge_master helper

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] add netif_is_bridge_master helper (Ivan Vecera) [1275772 1297841 1331748]
Rebuild_FUZZ: 92.96%
commit-author Jiri Pirko <jiri@mellanox.com>
commit 0894ae3f0a587bda9733ec4a4b67af7ded3a9498
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/0894ae3f.failed

Add this helper so code can easily figure out if netdev is a bridge.

	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 0894ae3f0a587bda9733ec4a4b67af7ded3a9498)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/netdevice.h
diff --cc include/linux/netdevice.h
index b6150f910ad9,be625f4754b9..000000000000
--- a/include/linux/netdevice.h
+++ b/include/linux/netdevice.h
@@@ -3958,14 -3843,35 +3958,23 @@@ static inline bool netif_supports_nofcs
  	return dev->priv_flags & IFF_SUPP_NOFCS;
  }
  
 -static inline bool netif_is_vrf(const struct net_device *dev)
 +static inline bool netif_is_ovs_master(const struct net_device *dev)
  {
 -	return dev->priv_flags & IFF_VRF_MASTER;
 +	return dev->priv_flags & IFF_OPENVSWITCH;
  }
  
++<<<<<<< HEAD
 +static inline bool netif_is_rxfh_configured(const struct net_device *dev)
++=======
+ static inline bool netif_is_bridge_master(const struct net_device *dev)
+ {
+ 	return dev->priv_flags & IFF_EBRIDGE;
+ }
+ 
+ static inline bool netif_index_is_vrf(struct net *net, int ifindex)
++>>>>>>> 0894ae3f0a58 (net: add netif_is_bridge_master helper)
  {
 -	bool rc = false;
 -
 -#if IS_ENABLED(CONFIG_NET_VRF)
 -	struct net_device *dev;
 -
 -	if (ifindex == 0)
 -		return false;
 -
 -	rcu_read_lock();
 -
 -	dev = dev_get_by_index_rcu(net, ifindex);
 -	if (dev)
 -		rc = netif_is_vrf(dev);
 -
 -	rcu_read_unlock();
 -#endif
 -	return rc;
 +	return dev->priv_flags & IFF_RXFH_CONFIGURED;
  }
  
  /* This device needs to keep skb dst for qdisc enqueue or ndo_start_xmit() */
* Unmerged path include/linux/netdevice.h
