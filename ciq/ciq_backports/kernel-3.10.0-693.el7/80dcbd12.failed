net_sched: fix suspicious RCU usage in cls_bpf_classify()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [net] sched: fix suspicious RCU usage in cls_bpf_classify() (Ivan Vecera) [1420506]
Rebuild_FUZZ: 96.36%
commit-author WANG Cong <xiyou.wangcong@gmail.com>
commit 80dcbd12fb30932bb001b913ffe36843e2a1fe3a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/80dcbd12.failed

Fixes: commit 1f947bf151e90ec0baad2948 ("net: sched: rcu'ify cls_bpf")
	Cc: John Fastabend <john.fastabend@gmail.com>
	Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>
	Acked-by: John Fastabend <john.r.fastabend@intel.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 80dcbd12fb30932bb001b913ffe36843e2a1fe3a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/cls_bpf.c
diff --cc net/sched/cls_bpf.c
index 05dcfa2963bb,4e3f5bfc0b26..000000000000
--- a/net/sched/cls_bpf.c
+++ b/net/sched/cls_bpf.c
@@@ -49,7 -52,7 +49,11 @@@ static const struct nla_policy bpf_poli
  static int cls_bpf_classify(struct sk_buff *skb, const struct tcf_proto *tp,
  			    struct tcf_result *res)
  {
++<<<<<<< HEAD
 +	struct cls_bpf_head *head = tp->root;
++=======
+ 	struct cls_bpf_head *head = rcu_dereference_bh(tp->root);
++>>>>>>> 80dcbd12fb30 (net_sched: fix suspicious RCU usage in cls_bpf_classify())
  	struct cls_bpf_prog *prog;
  	int ret;
  
* Unmerged path net/sched/cls_bpf.c
