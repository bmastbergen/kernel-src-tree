gre: move iptunnel_pull_header down to ipgre_rcv

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Jiri Benc <jbenc@redhat.com>
commit 244a797bdcf1b74567fa59d7e72d89ed0ee1ffd9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/244a797b.failed

This will allow to make the pull dependent on the tunnel type.

	Signed-off-by: Jiri Benc <jbenc@redhat.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 244a797bdcf1b74567fa59d7e72d89ed0ee1ffd9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv4/ip_gre.c
diff --cc net/ipv4/ip_gre.c
index 5cd0e7261a0a,8f377dad5489..000000000000
--- a/net/ipv4/ip_gre.c
+++ b/net/ipv4/ip_gre.c
@@@ -429,10 -318,11 +437,18 @@@ static int gre_rcv(struct sk_buff *skb
  	}
  #endif
  
++<<<<<<< HEAD
 +	if (parse_gre_header(skb, &tpi, &csum_err) < 0)
 +		goto drop;
 +
 +	if (ipgre_rcv(skb, &tpi) == PACKET_RCVD)
++=======
+ 	hdr_len = gre_parse_header(skb, &tpi, &csum_err);
+ 	if (hdr_len < 0)
+ 		goto drop;
+ 
+ 	if (ipgre_rcv(skb, &tpi, hdr_len) == PACKET_RCVD)
++>>>>>>> 244a797bdcf1 (gre: move iptunnel_pull_header down to ipgre_rcv)
  		return 0;
  
  	icmp_send(skb, ICMP_DEST_UNREACH, ICMP_PORT_UNREACH, 0);
* Unmerged path net/ipv4/ip_gre.c
