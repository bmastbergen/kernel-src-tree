drm/i915: Nuke debug messages from the pipe update critical section

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
Rebuild_CHGLOG: - [drm] i915: Nuke debug messages from the pipe update critical section (Rob Clark) [1422186]
Rebuild_FUZZ: 96.92%
commit-author Ville Syrj채l채 <ville.syrjala@linux.intel.com>
commit c3f8ad57a01a31397e5a0349a226a32f35ddc19c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/c3f8ad57.failed

printks are slow so we should not be doing them from the vblank evade
critical section. These could explain why we sometimes seem to
blow past our 100 usec deadline.

The problem has been there ever since commit bfd16b2a23dc ("drm/i915:
Make updating pipe without modeset atomic.") but it may not have
been readily visible until commit e1edbd44e23b ("drm/i915: Complain
if we take too long under vblank evasion.") increased our chances
of noticing it.

	Cc: stable@vger.kernel.org
	Cc: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>
Fixes: bfd16b2a23dc ("drm/i915: Make updating pipe without modeset atomic.")
	Signed-off-by: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
Link: http://patchwork.freedesktop.org/patch/msgid/20170307205419.19447-1-ville.syrjala@linux.intel.com
	Reviewed-by: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>
(cherry picked from commit c3f8ad57a01a31397e5a0349a226a32f35ddc19c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/intel_display.c
diff --cc drivers/gpu/drm/i915/intel_display.c
index 460d1c5248a2,726ae191076b..000000000000
--- a/drivers/gpu/drm/i915/intel_display.c
+++ b/drivers/gpu/drm/i915/intel_display.c
@@@ -3322,13 -3650,6 +3322,16 @@@ static void intel_update_pipe_config(st
  	/* drm_atomic_helper_update_legacy_modeset_state might not be called. */
  	crtc->base.mode = crtc->base.state->mode;
  
++<<<<<<< HEAD
 +	DRM_DEBUG_KMS("Updating pipe size %ix%i -> %ix%i\n",
 +		      old_crtc_state->pipe_src_w, old_crtc_state->pipe_src_h,
 +		      pipe_config->pipe_src_w, pipe_config->pipe_src_h);
 +
 +	if (HAS_DDI(dev))
 +		intel_set_pipe_csc(&crtc->base);
 +
++=======
++>>>>>>> c3f8ad57a01a (drm/i915: Nuke debug messages from the pipe update critical section)
  	/*
  	 * Update pipe size and adjust fitter if needed: the reason for this is
  	 * that in compute_mode_changes we check the native mode (not the pfit
* Unmerged path drivers/gpu/drm/i915/intel_display.c
