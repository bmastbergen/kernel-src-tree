bridge: a netlink notification should be sent when those attributes are changed by ioctl

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-693.el7
commit-author Xin Long <lucien.xin@gmail.com>
commit bf871ad792e3c9f5dda0ef5bd519e0a2f1564001
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-693.el7/bf871ad7.failed

Now when we change the attributes of bridge or br_port by netlink,
a relevant netlink notification will be sent, but if we change them
by ioctl or sysfs, no notification will be sent.

We should ensure that whenever those attributes change internally or from
sysfs/ioctl, that a netlink notification is sent out to listeners.

Also, NetworkManager will use this in the future to listen for out-of-band
bridge master attribute updates and incorporate them into the runtime
configuration.

This patch is used for ioctl.

	Signed-off-by: Xin Long <lucien.xin@gmail.com>
	Reviewed-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit bf871ad792e3c9f5dda0ef5bd519e0a2f1564001)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bridge/br_ioctl.c
diff --cc net/bridge/br_ioctl.c
index b73eaba85667,f8fc6241469a..000000000000
--- a/net/bridge/br_ioctl.c
+++ b/net/bridge/br_ioctl.c
@@@ -200,8 -205,8 +205,13 @@@ static int old_dev_ioctl(struct net_dev
  		if (!ns_capable(dev_net(dev)->user_ns, CAP_NET_ADMIN))
  			return -EPERM;
  
++<<<<<<< HEAD
 +		br->ageing_time = clock_t_to_jiffies(args[1]);
 +		return 0;
++=======
+ 		ret = br_set_ageing_time(br, args[1]);
+ 		break;
++>>>>>>> bf871ad792e3 (bridge: a netlink notification should be sent when those attributes are changed by ioctl)
  
  	case BRCTL_GET_PORT_INFO:
  	{
* Unmerged path net/bridge/br_ioctl.c
