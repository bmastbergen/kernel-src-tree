i40e: add DCB option to Kconfig

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Neerav Parikh <Neerav.Parikh@intel.com>
commit 9d488727b44881f96700a45fe80c3781ddd689d3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/9d488727.failed

Allow compiling DCB related files if I40E_DCB option
is supported in the kernel configuration.

DCB is disabled by default.

	Signed-off-by: Neerav Parikh <Neerav.Parikh@intel.com>
	Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
	Tested-by: Kavindya Deegala <kavindya.s.deegala@intel.com>
Tested-By: Jack Morgan<jack.morgan@intel.com>
	Signed-off-by: Aaron Brown <aaron.f.brown@intel.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 9d488727b44881f96700a45fe80c3781ddd689d3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/Kconfig
diff --cc drivers/net/ethernet/intel/Kconfig
index 2766d5f73a1c,bb9f0ba9d164..000000000000
--- a/drivers/net/ethernet/intel/Kconfig
+++ b/drivers/net/ethernet/intel/Kconfig
@@@ -260,4 -260,44 +260,47 @@@ config I40
  	  To compile this driver as a module, choose M here. The module
  	  will be called i40e.
  
++<<<<<<< HEAD
++=======
+ config I40E_VXLAN
+ 	bool "Virtual eXtensible Local Area Network Support"
+ 	default n
+ 	depends on I40E && VXLAN && !(I40E=y && VXLAN=m)
+ 	---help---
+ 	  This allows one to create VXLAN virtual interfaces that provide
+ 	  Layer 2 Networks over Layer 3 Networks. VXLAN is often used
+ 	  to tunnel virtual network infrastructure in virtualized environments.
+ 	  Say Y here if you want to use Virtual eXtensible Local Area Network
+ 	  (VXLAN) in the driver.
+ 
+ config I40E_DCB
+ 	bool "Data Center Bridging (DCB) Support"
+ 	default n
+ 	depends on I40E && DCB
+ 	---help---
+ 	  Say Y here if you want to use Data Center Bridging (DCB) in the
+ 	  driver.
+ 
+ 	  If unsure, say N.
+ 
+ config I40EVF
+ 	tristate "Intel(R) XL710 X710 Virtual Function Ethernet support"
+ 	depends on PCI_MSI
+ 	---help---
+ 	  This driver supports Intel(R) XL710 and X710 virtual functions.
+ 	  For more information on how to identify your adapter, go to the
+ 	  Adapter & Driver ID Guide at:
+ 
+ 	  <http://support.intel.com/support/network/sb/CS-008441.htm>
+ 
+ 	  For general information and support, go to the Intel support
+ 	  website at:
+ 
+ 	  <http://support.intel.com>
+ 
+ 	  To compile this driver as a module, choose M here. The module
+ 	  will be called i40evf.  MSI-X interrupt support is required
+ 	  for this driver to work correctly.
+ 
++>>>>>>> 9d488727b448 (i40e: add DCB option to Kconfig)
  endif # NET_VENDOR_INTEL
* Unmerged path drivers/net/ethernet/intel/Kconfig
diff --git a/drivers/net/ethernet/intel/i40e/Makefile b/drivers/net/ethernet/intel/i40e/Makefile
index 6ec1a795f184..7aac5d519b37 100644
--- a/drivers/net/ethernet/intel/i40e/Makefile
+++ b/drivers/net/ethernet/intel/i40e/Makefile
@@ -41,3 +41,5 @@ i40e-objs := i40e_main.o \
 	i40e_diag.o	\
 	i40e_txrx.o	\
 	i40e_virtchnl_pf.o
+
+i40e-$(CONFIG_I40E_DCB) += i40e_dcb.o i40e_dcb_nl.o
