drm/radeon/atom: fix bus probes when hw_i2c is set (v2)

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [drm] radeon/atom: fix bus probes when hw_i2c is set (Rob Clark) [1054409]
Rebuild_FUZZ: 91.09%
commit-author Alex Deucher <alexander.deucher@amd.com>
commit ffd3d3361d583cb73fa65a5fed3a196ba6f261bb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/ffd3d336.failed

When probing the bus, we need to set the byte count
to 0 rather than 1.

v2: Don't count the first byte.

bug:
https://bugzilla.kernel.org/show_bug.cgi?id=66241

	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit ffd3d3361d583cb73fa65a5fed3a196ba6f261bb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/radeon/atombios_i2c.c
diff --cc drivers/gpu/drm/radeon/atombios_i2c.c
index 082338df708a,f685035dbe39..000000000000
--- a/drivers/gpu/drm/radeon/atombios_i2c.c
+++ b/drivers/gpu/drm/radeon/atombios_i2c.c
@@@ -50,10 -52,17 +50,21 @@@ static int radeon_process_i2c_ch(struc
  
  	if (flags & HW_I2C_WRITE) {
  		if (num > ATOM_MAX_HW_I2C_WRITE) {
 -			DRM_ERROR("hw i2c: tried to write too many bytes (%d vs 3)\n", num);
 +			DRM_ERROR("hw i2c: tried to write too many bytes (%d vs 2)\n", num);
  			return -EINVAL;
  		}
++<<<<<<< HEAD
 +		memcpy(&out, buf, num);
++=======
+ 		if (buf == NULL)
+ 			args.ucRegIndex = 0;
+ 		else
+ 			args.ucRegIndex = buf[0];
+ 		if (num)
+ 			num--;
+ 		if (num)
+ 			memcpy(&out, &buf[1], num);
++>>>>>>> ffd3d3361d58 (drm/radeon/atom: fix bus probes when hw_i2c is set (v2))
  		args.lpI2CDataOut = cpu_to_le16(out);
  	} else {
  		if (num > ATOM_MAX_HW_I2C_READ) {
* Unmerged path drivers/gpu/drm/radeon/atombios_i2c.c
