drm/radeon: use sw CTS/N values for audio on DCE4+

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [drm] radeon: use sw CTS/N values for audio on DCE4+ (Rob Clark) [1054409]
Rebuild_FUZZ: 95.83%
commit-author Alex Deucher <alexander.deucher@amd.com>
commit de926800b155886c61b06146e28c0ba2e6fafc39
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/de926800.failed

Use the driver calculated CTS and N values rather than
having hardware generate them.  This allows us to use
the modeline pixel clock rather than the actual pll clock
when setting up the dto for audio.  Fixes problems with
audio playback rate on certain asics if the pll clock
does not match the pixel clock exactly.

	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit de926800b155886c61b06146e28c0ba2e6fafc39)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/radeon/evergreen_hdmi.c
diff --cc drivers/gpu/drm/radeon/evergreen_hdmi.c
index ed7c8a768092,57fcc4b16a52..000000000000
--- a/drivers/gpu/drm/radeon/evergreen_hdmi.c
+++ b/drivers/gpu/drm/radeon/evergreen_hdmi.c
@@@ -223,8 -291,8 +223,13 @@@ void evergreen_hdmi_setmode(struct drm_
  	/* fglrx clears sth in AFMT_AUDIO_PACKET_CONTROL2 here */
  
  	WREG32(HDMI_ACR_PACKET_CONTROL + offset,
++<<<<<<< HEAD
 +	       HDMI_ACR_AUTO_SEND | /* allow hw to sent ACR packets when required */
 +	       HDMI_ACR_SOURCE); /* select SW CTS value */
++=======
+ 	       HDMI_ACR_SOURCE | /* select SW CTS value */
+ 	       HDMI_ACR_AUTO_SEND); /* allow hw to sent ACR packets when required */
++>>>>>>> de926800b155 (drm/radeon: use sw CTS/N values for audio on DCE4+)
  
  	evergreen_hdmi_update_ACR(encoder, mode->clock);
  
* Unmerged path drivers/gpu/drm/radeon/evergreen_hdmi.c
