net/mlx4_core: Fix memory access error in mlx4_QUERY_DEV_CAP_wrapper()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [ethernet] mlx4: Fix memory access error in mlx4_QUERY_DEV_CAP_wrapper() (Amir Vadai) [1058413]
Rebuild_FUZZ: 93.13%
commit-author Amir Vadai <amirv@mellanox.com>
commit 57352ef4f5f19969a50d42e84b274287993b576f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/57352ef4.failed

Fix a regression introduced by [1]. outbox was accessed instead of
outbox->buf. Typo was copy-pasted to [2] and [3].

[1] - cc1ade9 mlx4_core: Disable memory windows for virtual functions
[2] - 4de6580 mlx4_core: Add support for steerable IB UD QPs
[3] - 7ffdf72 net/mlx4_core: Add basic support for TCP/IP offloads under
      tunneling

	Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com>
	Signed-off-by: Amir Vadai <amirv@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 57352ef4f5f19969a50d42e84b274287993b576f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx4/fw.c
diff --cc drivers/net/ethernet/mellanox/mlx4/fw.c
index 4adc5a52e1dd,8726e34cee22..000000000000
--- a/drivers/net/ethernet/mellanox/mlx4/fw.c
+++ b/drivers/net/ethernet/mellanox/mlx4/fw.c
@@@ -877,6 -881,12 +877,15 @@@ int mlx4_QUERY_DEV_CAP_wrapper(struct m
  		MLX4_PUT(outbox->buf, field,
  			 QUERY_DEV_CAP_FLOW_STEERING_RANGE_EN_OFFSET);
  	}
++<<<<<<< HEAD
++=======
+ 
+ 	/* turn off ipoib managed steering for guests */
+ 	MLX4_GET(field, outbox->buf, QUERY_DEV_CAP_FLOW_STEERING_IPOIB_OFFSET);
+ 	field &= ~0x80;
+ 	MLX4_PUT(outbox->buf, field, QUERY_DEV_CAP_FLOW_STEERING_IPOIB_OFFSET);
+ 
++>>>>>>> 57352ef4f5f1 (net/mlx4_core: Fix memory access error in mlx4_QUERY_DEV_CAP_wrapper())
  	return 0;
  }
  
* Unmerged path drivers/net/ethernet/mellanox/mlx4/fw.c
