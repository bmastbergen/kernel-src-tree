i40e: reinit flow for the main VSI

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Anjali Singhai Jain <anjali.singhai@intel.com>
commit bc7d338fbb3fb0901fe6db4ff2a9430bdd0f15db
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/bc7d338f.failed

This patch is the first in a 3 series patchset to implement
dynamically changing the queue count for the main VSI.

This patch starts by adding a reinit flow. This flow is designed
to be able to change just the queue count and not the number of
interrupt vectors that the device originally came up with.

Change-Id: I0634aaebf7dc4dd6c66af8f9dbbef89d7beac438
	Signed-off-by: Anjali Singhai Jain <anjali.singhai@intel.com>
	Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
	Tested-by: Kavindya Deegala <kavindya.s.deegala@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit bc7d338fbb3fb0901fe6db4ff2a9430bdd0f15db)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_main.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_main.c
index f085e7317b9d,73110cda75e0..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@@ -354,7 -354,7 +354,11 @@@ static struct rtnl_link_stats64 *i40e_g
  	struct rtnl_link_stats64 *vsi_stats = i40e_get_vsi_stats_struct(vsi);
  	int i;
  
++<<<<<<< HEAD
 +	if (!vsi->tx_rings)
++=======
+ 	if (test_bit(__I40E_DOWN, &vsi->state))
++>>>>>>> bc7d338fbb3f (i40e: reinit flow for the main VSI)
  		return stats;
  
  	rcu_read_lock();
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_main.c
