drm/nouveau/device: use an additional bit from NV_PMC_BOOT_0 to identify chipset

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [drm] nouveau/device: use an additional bit from NV_PMC_BOOT_0 to identify chipset (Rob Clark) [1018414]
Rebuild_FUZZ: 97.44%
commit-author Ben Skeggs <bskeggs@redhat.com>
commit dd5b84ac3ca410ed531fb4e1038b907cfc5e1351
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/dd5b84ac.failed

	Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
(cherry picked from commit dd5b84ac3ca410ed531fb4e1038b907cfc5e1351)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/nouveau/core/engine/device/base.c
diff --cc drivers/gpu/drm/nouveau/core/engine/device/base.c
index 4c72571655ad,1485d7c352db..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/base.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/base.c
@@@ -158,10 -158,16 +158,23 @@@ nouveau_devobj_ctor(struct nouveau_obje
  		iounmap(map);
  
  		/* determine chipset and derive architecture from it */
++<<<<<<< HEAD
 +		if ((boot0 & 0x0f000000) > 0) {
 +			device->chipset = (boot0 & 0xff00000) >> 20;
 +			switch (device->chipset & 0xf0) {
 +			case 0x10: device->card_type = NV_10; break;
++=======
+ 		if ((boot0 & 0x1f000000) > 0) {
+ 			device->chipset = (boot0 & 0x1ff00000) >> 20;
+ 			switch (device->chipset & 0x1f0) {
+ 			case 0x10: {
+ 				if (0x461 & (1 << (device->chipset & 0xf)))
+ 					device->card_type = NV_10;
+ 				else
+ 					device->card_type = NV_11;
+ 				break;
+ 			}
++>>>>>>> dd5b84ac3ca4 (drm/nouveau/device: use an additional bit from NV_PMC_BOOT_0 to identify chipset)
  			case 0x20: device->card_type = NV_20; break;
  			case 0x30: device->card_type = NV_30; break;
  			case 0x40:
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/base.c
