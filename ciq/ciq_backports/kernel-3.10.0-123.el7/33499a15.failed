ALSA: hda - Force buffer alignment for Haswell HDMI controllers

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [alsa] hda: Force buffer alignment for Haswell HDMI controllers (Jaroslav Kysela) [1044022]
Rebuild_FUZZ: 92.44%
commit-author Takashi Iwai <tiwai@suse.de>
commit 33499a15c2f7addc81695778753c2338b960eff7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/33499a15.failed

Haswell HDMI audio controllers seem to get stuck when unaligned buffer
size is used.  Let's enable the buffer alignment for the corresponding
entries.

Since AZX_DCAPS_INTEL_PCH contains AZX_DCAPS_BUFSIZE that disables the
buffer alignment forcibly, define AZX_DCAPS_INTEL_HASWELL and put the
necessary AZX_DCAPS bits there.

Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=60769
	Reported-by: Alexander E. Patrakov <patrakov@gmail.com>
	Cc: <stable@vger.kernel.org>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 33499a15c2f7addc81695778753c2338b960eff7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/hda_intel.c
diff --cc sound/pci/hda/hda_intel.c
index 7261d0500bfd,9cbd1259a5be..000000000000
--- a/sound/pci/hda/hda_intel.c
+++ b/sound/pci/hda/hda_intel.c
@@@ -3884,11 -3997,11 +3889,19 @@@ static DEFINE_PCI_DEVICE_TABLE(azx_ids
  	  .driver_data = AZX_DRIVER_PCH | AZX_DCAPS_INTEL_PCH },
  	/* Haswell */
  	{ PCI_DEVICE(0x8086, 0x0a0c),
++<<<<<<< HEAD
 +	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_PCH },
 +	{ PCI_DEVICE(0x8086, 0x0c0c),
 +	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_PCH },
 +	{ PCI_DEVICE(0x8086, 0x0d0c),
 +	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_PCH },
++=======
+ 	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_HASWELL },
+ 	{ PCI_DEVICE(0x8086, 0x0c0c),
+ 	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_HASWELL },
+ 	{ PCI_DEVICE(0x8086, 0x0d0c),
+ 	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_HASWELL },
++>>>>>>> 33499a15c2f7 (ALSA: hda - Force buffer alignment for Haswell HDMI controllers)
  	/* 5 Series/3400 */
  	{ PCI_DEVICE(0x8086, 0x3b56),
  	  .driver_data = AZX_DRIVER_SCH | AZX_DCAPS_INTEL_PCH_NOPM },
* Unmerged path sound/pci/hda/hda_intel.c
