netfilter: synproxy_core: fix warning in __nf_ct_ext_add_length()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Patrick McHardy <kaber@trash.net>
commit f4de4c89d89df5ead42de9fea895f5b8155270da
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/f4de4c89.failed

With CONFIG_NETFILTER_DEBUG we get the following warning during SYNPROXY init:

[   80.558906] WARNING: CPU: 1 PID: 4833 at net/netfilter/nf_conntrack_extend.c:80 __nf_ct_ext_add_length+0x217/0x220 [nf_conntrack]()

The reason is that the conntrack template is set to confirmed before adding
the extension and it is invalid to add extensions to already confirmed
conntracks. Fix by adding the extensions before setting the conntrack to
confirmed.

	Reported-by: Jesper Dangaard Brouer <jesper.brouer@gmail.com>
	Signed-off-by: Patrick McHardy <kaber@trash.net>
	Acked-by: Jesper Dangaard Brouer <brouer@redhat.com>
	Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
(cherry picked from commit f4de4c89d89df5ead42de9fea895f5b8155270da)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/netfilter/nf_synproxy_core.c
* Unmerged path net/netfilter/nf_synproxy_core.c
* Unmerged path net/netfilter/nf_synproxy_core.c
