mpt2sas: MPI2 Rev AA (2.00.19) specifications

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [scsi] mpt2sas: MPI2 Rev X (2.00.16) specifications (Tomas Henzl) [736230]
Rebuild_FUZZ: 94.38%
commit-author Sreekanth Reddy <sreekanth.reddy@avagotech.com>
commit cb16ef384f15d33a53b4db47878aa818be059d77
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/cb16ef38.failed

Below is the changeset from the MPI specification and 2.00.34 header
files:

1) Defined additional bits in the BiosOptions field of BIOS Page 1 to
   allow for finer control of X86 BIOS and UEFI BSD.
2) For the Clean Tool, reserved bit 26 of the Flags field for product
   specific use.

	Signed-off-by: Sreekanth Reddy <Sreekanth.Reddy@avagotech.com>
	Reviewed-by: Martin K. Petersen <martin.petersen@oracle.com>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit cb16ef384f15d33a53b4db47878aa818be059d77)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/mpt2sas/mpi/mpi2.h
#	drivers/scsi/mpt2sas/mpi/mpi2_cnfg.h
#	drivers/scsi/mpt2sas/mpi/mpi2_ioc.h
#	drivers/scsi/mpt2sas/mpi/mpi2_tool.h
diff --cc drivers/scsi/mpt2sas/mpi/mpi2.h
index e960f9625c78,76cde3fa5d62..000000000000
--- a/drivers/scsi/mpt2sas/mpi/mpi2.h
+++ b/drivers/scsi/mpt2sas/mpi/mpi2.h
@@@ -8,7 -8,7 +8,11 @@@
   *                  scatter/gather formats.
   *  Creation Date:  June 21, 2006
   *
++<<<<<<< HEAD
 + *  mpi2.h Version:  02.00.25
++=======
+  *  mpi2.h Version:  02.00.34
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *
   *  Version History
   *  ---------------
@@@ -75,6 -75,16 +79,19 @@@
   *  02-06-12  02.00.24  Bumped MPI2_HEADER_VERSION_UNIT.
   *  03-29-12  02.00.25  Bumped MPI2_HEADER_VERSION_UNIT.
   *                      Added Hard Reset delay timings.
++<<<<<<< HEAD
++=======
+  *  07-10-12  02.00.26  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  07-26-12  02.00.27  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  11-27-12  02.00.28  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  12-20-12  02.00.29  Bumped MPI2_HEADER_VERSION_UNIT.
+  *			Added MPI25_SUP_REPLY_POST_HOST_INDEX_OFFSET.
+  *  04-09-13  02.00.30  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  04-17-13  02.00.31  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  08-19-13  02.00.32  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  12-05-13  02.00.33  Bumped MPI2_HEADER_VERSION_UNIT.
+  *  01-08-14  02.00.34  Bumped MPI2_HEADER_VERSION_UNIT.
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *  --------------------------------------------------------------------------
   */
  
diff --cc drivers/scsi/mpt2sas/mpi/mpi2_cnfg.h
index 737fa8cfb54a,f055310ab427..000000000000
--- a/drivers/scsi/mpt2sas/mpi/mpi2_cnfg.h
+++ b/drivers/scsi/mpt2sas/mpi/mpi2_cnfg.h
@@@ -6,7 -6,7 +6,11 @@@
   *          Title:  MPI Configuration messages and pages
   *  Creation Date:  November 10, 2006
   *
++<<<<<<< HEAD
 + *    mpi2_cnfg.h Version:  02.00.22
++=======
+  *    mpi2_cnfg.h Version:  02.00.28
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *
   *  Version History
   *  ---------------
@@@ -149,6 -149,26 +153,29 @@@
   *  11-18-11  02.00.22  Added define MPI2_IOCPAGE6_CAP_FLAGS_4K_SECTORS_SUPPORT.
   *                      Added UEFIVersion field to BIOS Page 1 and defined new
   *                      BiosOptions bits.
++<<<<<<< HEAD
++=======
+  *  11-27-12  02.00.23  Added MPI2_MANPAGE7_FLAG_EVENTREPLAY_SLOT_ORDER.
+  *			Added MPI2_BIOSPAGE1_OPTIONS_MASK_OEM_ID.
+  *  12-20-12  02.00.24  Marked MPI2_SASIOUNIT1_CONTROL_CLEAR_AFFILIATION as
+  *			obsolete for MPI v2.5 and later.
+  *			Added some defines for 12G SAS speeds.
+  *  04-09-13  02.00.25  Added MPI2_IOUNITPAGE1_ATA_SECURITY_FREEZE_LOCK.
+  *			Fixed MPI2_IOUNITPAGE5_DMA_CAP_MASK_MAX_REQUESTS to
+  *			match the specification.
+  *  12-05-13  02.00.27  Added MPI2_MANPAGE7_FLAG_BASE_ENCLOSURE_LEVEL for
+  *			MPI2_CONFIG_PAGE_MAN_7.
+  *			Added EnclosureLevel and ConnectorName fields to
+  *			MPI2_CONFIG_PAGE_SAS_DEV_0.
+  *			Added MPI2_SAS_DEVICE0_FLAGS_ENCL_LEVEL_VALID for
+  *			MPI2_CONFIG_PAGE_SAS_DEV_0.
+  *			Added EnclosureLevel field to
+  *			MPI2_CONFIG_PAGE_SAS_ENCLOSURE_0.
+  *			Added MPI2_SAS_ENCLS0_FLAGS_ENCL_LEVEL_VALID for
+  *			MPI2_CONFIG_PAGE_SAS_ENCLOSURE_0.
+  *  01-08-14  02.00.28  Added more defines for the BiosOptions field of
+  *			MPI2_CONFIG_PAGE_BIOS_1.
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *  --------------------------------------------------------------------------
   */
  
@@@ -698,6 -718,8 +725,11 @@@ typedef struct _MPI2_CONFIG_PAGE_MAN_
  #define MPI2_MANUFACTURING7_PAGEVERSION                 (0x01)
  
  /* defines for the Flags field */
++<<<<<<< HEAD
++=======
+ #define MPI2_MANPAGE7_FLAG_BASE_ENCLOSURE_LEVEL         (0x00000008)
+ #define MPI2_MANPAGE7_FLAG_EVENTREPLAY_SLOT_ORDER       (0x00000002)
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
  #define MPI2_MANPAGE7_FLAG_USE_SLOT_INFO                (0x00000001)
  
  
@@@ -1221,9 -1248,20 +1253,23 @@@ typedef struct _MPI2_CONFIG_PAGE_BIOS_
  } MPI2_CONFIG_PAGE_BIOS_1, MPI2_POINTER PTR_MPI2_CONFIG_PAGE_BIOS_1,
    Mpi2BiosPage1_t, MPI2_POINTER pMpi2BiosPage1_t;
  
- #define MPI2_BIOSPAGE1_PAGEVERSION                      (0x05)
+ #define MPI2_BIOSPAGE1_PAGEVERSION                      (0x06)
  
  /* values for BIOS Page 1 BiosOptions field */
++<<<<<<< HEAD
++=======
+ #define MPI2_BIOSPAGE1_OPTIONS_X86_DISABLE_BIOS                 (0x00000400)
+ 
+ #define MPI2_BIOSPAGE1_OPTIONS_MASK_REGISTRATION_UEFI_BSD       (0x00000300)
+ #define MPI2_BIOSPAGE1_OPTIONS_USE_BIT0_REGISTRATION_UEFI_BSD   (0x00000000)
+ #define MPI2_BIOSPAGE1_OPTIONS_FULL_REGISTRATION_UEFI_BSD       (0x00000100)
+ #define MPI2_BIOSPAGE1_OPTIONS_ADAPTER_REGISTRATION_UEFI_BSD    (0x00000200)
+ #define MPI2_BIOSPAGE1_OPTIONS_DISABLE_REGISTRATION_UEFI_BSD    (0x00000300)
+ 
+ #define MPI2_BIOSPAGE1_OPTIONS_MASK_OEM_ID                  (0x000000F0)
+ #define MPI2_BIOSPAGE1_OPTIONS_LSI_OEM_ID                   (0x00000000)
+ 
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
  #define MPI2_BIOSPAGE1_OPTIONS_MASK_UEFI_HII_REGISTRATION   (0x00000006)
  #define MPI2_BIOSPAGE1_OPTIONS_ENABLE_UEFI_HII              (0x00000000)
  #define MPI2_BIOSPAGE1_OPTIONS_DISABLE_UEFI_HII             (0x00000002)
diff --cc drivers/scsi/mpt2sas/mpi/mpi2_ioc.h
index b0d4760bb17d,b02de48be204..000000000000
--- a/drivers/scsi/mpt2sas/mpi/mpi2_ioc.h
+++ b/drivers/scsi/mpt2sas/mpi/mpi2_ioc.h
@@@ -6,7 -6,7 +6,11 @@@
   *          Title:  MPI IOC, Port, Event, FW Download, and FW Upload messages
   *  Creation Date:  October 11, 2006
   *
++<<<<<<< HEAD
 + *  mpi2_ioc.h Version:  02.00.21
++=======
+  *  mpi2_ioc.h Version:  02.00.24
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *
   *  Version History
   *  ---------------
@@@ -118,6 -118,15 +122,18 @@@
   *                      MPI2_EVENT_DATA_SAS_DEVICE_STATUS_CHANGE structure.
   *                      Marked MPI2_PM_CONTROL_FEATURE_PCIE_LINK as obsolete.
   *  03-29-12  02.00.21  Added a product specific range to event values.
++<<<<<<< HEAD
++=======
+  *  07-26-12  02.00.22  Added MPI2_IOCFACTS_EXCEPT_PARTIAL_MEMORY_FAILURE.
+  *                      Added ElapsedSeconds field to
+  *                      MPI2_EVENT_DATA_IR_OPERATION_STATUS.
+  *  08-19-13  02.00.23  For IOCInit, added MPI2_IOCINIT_MSGFLAG_RDPQ_ARRAY_MODE
+  *                      and MPI2_IOC_INIT_RDPQ_ARRAY_ENTRY.
+  *                      Added MPI2_IOCFACTS_CAPABILITY_RDPQ_ARRAY_CAPABLE.
+  *                      Added MPI2_FW_DOWNLOAD_ITYPE_PUBLIC_KEY.
+  *                      Added Encrypted Hash Extended Image.
+  *  12-05-13  02.00.24  Added MPI25_HASH_IMAGE_TYPE_BIOS.
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *  --------------------------------------------------------------------------
   */
  
@@@ -1551,6 -1575,40 +1567,43 @@@ typedef struct _MPI2_INIT_IMAGE_FOOTE
  #define MPI2_INIT_IMAGE_RESETVECTOR_OFFSET      (0x14)
  
  
++<<<<<<< HEAD
++=======
+ /* Encrypted Hash Extended Image Data */
+ 
+ typedef struct _MPI25_ENCRYPTED_HASH_ENTRY {
+ 	U8                  HashImageType;          /* 0x00 */
+ 	U8                  HashAlgorithm;          /* 0x01 */
+ 	U8                  EncryptionAlgorithm;    /* 0x02 */
+ 	U8                  Reserved1;              /* 0x03 */
+ 	U32                 Reserved2;              /* 0x04 */
+ 	U32                 EncryptedHash[1];       /* 0x08 */
+ } MPI25_ENCRYPTED_HASH_ENTRY, MPI2_POINTER PTR_MPI25_ENCRYPTED_HASH_ENTRY,
+ Mpi25EncryptedHashEntry_t, MPI2_POINTER pMpi25EncryptedHashEntry_t;
+ 
+ /* values for HashImageType */
+ #define MPI25_HASH_IMAGE_TYPE_UNUSED            (0x00)
+ #define MPI25_HASH_IMAGE_TYPE_FIRMWARE          (0x01)
+ #define MPI25_HASH_IMAGE_TYPE_BIOS              (0x02)
+ 
+ /* values for HashAlgorithm */
+ #define MPI25_HASH_ALGORITHM_UNUSED             (0x00)
+ #define MPI25_HASH_ALGORITHM_SHA256             (0x01)
+ 
+ /* values for EncryptionAlgorithm */
+ #define MPI25_ENCRYPTION_ALG_UNUSED             (0x00)
+ #define MPI25_ENCRYPTION_ALG_RSA256             (0x01)
+ 
+ typedef struct _MPI25_ENCRYPTED_HASH_DATA {
+ 	U8                              ImageVersion;           /* 0x00 */
+ 	U8                              NumHash;                /* 0x01 */
+ 	U16                             Reserved1;              /* 0x02 */
+ 	U32                             Reserved2;              /* 0x04 */
+ 	MPI25_ENCRYPTED_HASH_ENTRY      EncryptedHashEntry[1];  /* 0x08 */
+ } MPI25_ENCRYPTED_HASH_DATA, MPI2_POINTER PTR_MPI25_ENCRYPTED_HASH_DATA,
+ Mpi25EncryptedHashData_t, MPI2_POINTER pMpi25EncryptedHashData_t;
+ 
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
  /****************************************************************************
  *  PowerManagementControl message
  ****************************************************************************/
diff --cc drivers/scsi/mpt2sas/mpi/mpi2_tool.h
index 3cbe677c6886,659b8ac83ceb..000000000000
--- a/drivers/scsi/mpt2sas/mpi/mpi2_tool.h
+++ b/drivers/scsi/mpt2sas/mpi/mpi2_tool.h
@@@ -6,7 -6,7 +6,11 @@@
   *          Title:  MPI diagnostic tool structures and definitions
   *  Creation Date:  March 26, 2007
   *
++<<<<<<< HEAD
 + *    mpi2_tool.h Version:  02.00.07
++=======
+  *    mpi2_tool.h Version:  02.00.12
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *
   *  Version History
   *  ---------------
@@@ -27,6 -27,10 +31,13 @@@
   *                      Post Request.
   *  05-25-11  02.00.07  Added Flags field and related defines to
   *                      MPI2_TOOLBOX_ISTWI_READ_WRITE_REQUEST.
++<<<<<<< HEAD
++=======
+  *  07-26-12  02.00.10  Modified MPI2_TOOLBOX_DIAGNOSTIC_CLI_REQUEST so that
+  *			it uses MPI Chain SGE as well as MPI Simple SGE.
+  *  08-19-13  02.00.11  Added MPI2_TOOLBOX_TEXT_DISPLAY_TOOL and related info.
+  *  01-08-14  02.00.12  Added MPI2_TOOLBOX_CLEAN_BIT26_PRODUCT_SPECIFIC.
++>>>>>>> cb16ef384f15 (mpt2sas: MPI2 Rev AA (2.00.19) specifications)
   *  --------------------------------------------------------------------------
   */
  
* Unmerged path drivers/scsi/mpt2sas/mpi/mpi2.h
* Unmerged path drivers/scsi/mpt2sas/mpi/mpi2_cnfg.h
* Unmerged path drivers/scsi/mpt2sas/mpi/mpi2_ioc.h
* Unmerged path drivers/scsi/mpt2sas/mpi/mpi2_tool.h
