xfs: remove the unused XFS_ATTR_NONBLOCK flag

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Christoph Hellwig <hch@infradead.org>
commit 001a3e73706fcb8c52dcca1d4742679384d04184
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/001a3e73.failed

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Reviewed-by: Dave Chinner <dchinner@redhat.com>
	Signed-off-by: Ben Myers <bpm@sgi.com>

(cherry picked from commit 001a3e73706fcb8c52dcca1d4742679384d04184)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/xfs_iops.h
diff --cc fs/xfs/xfs_iops.h
index ef41c92ce66e,fe4013af2586..000000000000
--- a/fs/xfs/xfs_iops.h
+++ b/fs/xfs/xfs_iops.h
@@@ -27,4 -27,16 +27,19 @@@ extern ssize_t xfs_vn_listxattr(struct 
  
  extern void xfs_setup_inode(struct xfs_inode *);
  
++<<<<<<< HEAD
++=======
+ /*
+  * Internal setattr interfaces.
+  */
+ #define	XFS_ATTR_DMI		0x01	/* invocation from a DMI function */
+ #define XFS_ATTR_NOLOCK		0x04	/* Don't grab any conflicting locks */
+ #define XFS_ATTR_NOACL		0x08	/* Don't call xfs_acl_chmod */
+ #define XFS_ATTR_SYNC		0x10	/* synchronous operation required */
+ 
+ extern int xfs_setattr_nonsize(struct xfs_inode *ip, struct iattr *vap,
+ 			       int flags);
+ extern int xfs_setattr_size(struct xfs_inode *ip, struct iattr *vap);
+ 
++>>>>>>> 001a3e73706f (xfs: remove the unused XFS_ATTR_NONBLOCK flag)
  #endif /* __XFS_IOPS_H__ */
diff --git a/fs/xfs/xfs_ioctl.c b/fs/xfs/xfs_ioctl.c
index a75e5fdeef8f..512872bdba73 100644
--- a/fs/xfs/xfs_ioctl.c
+++ b/fs/xfs/xfs_ioctl.c
@@ -629,9 +629,6 @@ xfs_ioc_space(
 	if (!S_ISREG(inode->i_mode))
 		return -XFS_ERROR(EINVAL);
 
-	if (filp->f_flags & (O_NDELAY|O_NONBLOCK))
-		attr_flags |= XFS_ATTR_NONBLOCK;
-
 	if (filp->f_flags & O_DSYNC)
 		attr_flags |= XFS_ATTR_SYNC;
 
* Unmerged path fs/xfs/xfs_iops.h
