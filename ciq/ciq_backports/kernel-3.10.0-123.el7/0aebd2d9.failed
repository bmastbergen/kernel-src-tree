i40e: updates to AdminQ interface

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Shannon Nelson <shannon.nelson@intel.com>
commit 0aebd2d9ab42b764ba43875e185ef52cec2afdec
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/0aebd2d9.failed

Refinements to cloud support in the Firmware API.

	Signed-off-by: Shannon Nelson <shannon.nelson@intel.com>
	Tested-by: Kavindya Deegala <kavindya.s.deegala@intel.com>
	Signed-off-by: Aaron Brown <aaron.f.brown@intel.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 0aebd2d9ab42b764ba43875e185ef52cec2afdec)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h
#	drivers/net/ethernet/intel/i40e/i40e_common.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h
index 402b36979704,7b6374a8f8da..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h
+++ b/drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h
@@@ -1913,11 -1948,12 +1914,20 @@@ I40E_CHECK_CMD_LENGTH(i40e_aqc_lldp_sta
  /* Add Udp Tunnel command and completion (direct 0x0B00) */
  struct i40e_aqc_add_udp_tunnel {
  	__le16 udp_port;
++<<<<<<< HEAD
 +	u8     header_len; /* in DWords, 1 to 15 */
 +	u8     protocol_index;
 +#define I40E_AQC_TUNNEL_TYPE_MAC    0x0
 +#define I40E_AQC_TUNNEL_TYPE_UDP    0x1
 +	u8     reserved[12];
++=======
+ 	u8     reserved0[3];
+ 	u8     protocol_type;
+ #define I40E_AQC_TUNNEL_TYPE_VXLAN	0x00
+ #define I40E_AQC_TUNNEL_TYPE_NGE	0x01
+ #define I40E_AQC_TUNNEL_TYPE_TEREDO	0x10
+ 	u8     reserved1[10];
++>>>>>>> 0aebd2d9ab42 (i40e: updates to AdminQ interface)
  };
  
  I40E_CHECK_CMD_LENGTH(i40e_aqc_add_udp_tunnel);
diff --cc drivers/net/ethernet/intel/i40e/i40e_common.c
index 9a22b8285408,529ecb4da076..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_common.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_common.c
@@@ -1718,6 -1719,63 +1718,66 @@@ i40e_status i40e_aq_start_lldp(struct i
  }
  
  /**
++<<<<<<< HEAD
++=======
+  * i40e_aq_add_udp_tunnel
+  * @hw: pointer to the hw struct
+  * @udp_port: the UDP port to add
+  * @header_len: length of the tunneling header length in DWords
+  * @protocol_index: protocol index type
+  * @filter_index: pointer to filter index
+  * @cmd_details: pointer to command details structure or NULL
+  **/
+ i40e_status i40e_aq_add_udp_tunnel(struct i40e_hw *hw,
+ 				u16 udp_port, u8 header_len,
+ 				u8 protocol_index, u8 *filter_index,
+ 				struct i40e_asq_cmd_details *cmd_details)
+ {
+ 	struct i40e_aq_desc desc;
+ 	struct i40e_aqc_add_udp_tunnel *cmd =
+ 		(struct i40e_aqc_add_udp_tunnel *)&desc.params.raw;
+ 	struct i40e_aqc_del_udp_tunnel_completion *resp =
+ 		(struct i40e_aqc_del_udp_tunnel_completion *)&desc.params.raw;
+ 	i40e_status status;
+ 
+ 	i40e_fill_default_direct_cmd_desc(&desc, i40e_aqc_opc_add_udp_tunnel);
+ 
+ 	cmd->udp_port = cpu_to_le16(udp_port);
+ 	cmd->protocol_type = protocol_index;
+ 
+ 	status = i40e_asq_send_command(hw, &desc, NULL, 0, cmd_details);
+ 
+ 	if (!status)
+ 		*filter_index = resp->index;
+ 
+ 	return status;
+ }
+ 
+ /**
+  * i40e_aq_del_udp_tunnel
+  * @hw: pointer to the hw struct
+  * @index: filter index
+  * @cmd_details: pointer to command details structure or NULL
+  **/
+ i40e_status i40e_aq_del_udp_tunnel(struct i40e_hw *hw, u8 index,
+ 				struct i40e_asq_cmd_details *cmd_details)
+ {
+ 	struct i40e_aq_desc desc;
+ 	struct i40e_aqc_remove_udp_tunnel *cmd =
+ 		(struct i40e_aqc_remove_udp_tunnel *)&desc.params.raw;
+ 	i40e_status status;
+ 
+ 	i40e_fill_default_direct_cmd_desc(&desc, i40e_aqc_opc_del_udp_tunnel);
+ 
+ 	cmd->index = index;
+ 
+ 	status = i40e_asq_send_command(hw, &desc, NULL, 0, cmd_details);
+ 
+ 	return status;
+ }
+ 
+ /**
++>>>>>>> 0aebd2d9ab42 (i40e: updates to AdminQ interface)
   * i40e_aq_delete_element - Delete switch element
   * @hw: pointer to the hw struct
   * @seid: the SEID to delete from the switch
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_adminq_cmd.h
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_common.c
