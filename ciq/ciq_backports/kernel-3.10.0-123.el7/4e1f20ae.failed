mpt2sas: Added driver module parameter max_msix_vectors

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [scsi] mpt3sas: Added a driver module parameter max_msix_vectors (Tomas Henzl) [889435]
Rebuild_FUZZ: 96.43%
commit-author Sreekanth Reddy <sreekanth.reddy@avagotech.com>
commit 4e1f20ae4f92706518d6c18b13da8c2bc28339c7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/4e1f20ae.failed

Added driver module parameter max_msix_vectors. Using this
module parameter the maximum number of MSI-X vectors could be set.

The number of MSI-X vectors used would be the minimum of MSI-X vectors
supported by the HBA, the number of CPU cores and the value set to
max_msix_vectors module parameters.

	Signed-off-by: Sreekanth Reddy <Sreekanth.Reddy@avagotech.com>
	Reviewed-by: Martin K. Petersen <martin.petersen@oracle.com>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 4e1f20ae4f92706518d6c18b13da8c2bc28339c7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/mpt2sas/mpt2sas_base.c
diff --cc drivers/scsi/mpt2sas/mpt2sas_base.c
index bcb23d28b3e8,b1726280595a..000000000000
--- a/drivers/scsi/mpt2sas/mpt2sas_base.c
+++ b/drivers/scsi/mpt2sas/mpt2sas_base.c
@@@ -80,9 -80,9 +80,15 @@@ static int msix_disable = -1
  module_param(msix_disable, int, 0);
  MODULE_PARM_DESC(msix_disable, " disable msix routed interrupts (default=0)");
  
++<<<<<<< HEAD
 +static int missing_delay[2] = {-1, -1};
 +module_param_array(missing_delay, int, NULL, 0);
 +MODULE_PARM_DESC(missing_delay, " device missing delay , io missing delay");
++=======
+ static int max_msix_vectors = -1;
+ module_param(max_msix_vectors, int, 0);
+ MODULE_PARM_DESC(max_msix_vectors, " max msix vectors ");
++>>>>>>> 4e1f20ae4f92 (mpt2sas: Added driver module parameter max_msix_vectors)
  
  static int mpt2sas_fwfault_debug;
  MODULE_PARM_DESC(mpt2sas_fwfault_debug, " enable detection of firmware fault "
* Unmerged path drivers/scsi/mpt2sas/mpt2sas_base.c
