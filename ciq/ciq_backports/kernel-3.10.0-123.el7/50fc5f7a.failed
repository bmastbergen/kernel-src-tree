xfs: dtype changed xfs_dir2_sfe_put_ino to xfs_dir3_sfe_put_ino

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Dave Chinner <david@fromorbit.com>
commit 50fc5f7accfeaaaa1bba07725f26945cf8033bb7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/50fc5f7a.failed

So fix up the export in xfs_dir2.h that is needed by userspace.

<sigh>

Now xfs_dir3_sfe_put_ino has been made static. Revert 98f7462 ("xfs:
xfs_dir3_sfe_put_ino can be static") to being non static so that the
code shared with userspace is identical again.

	Signed-off-by: Dave Chinner <dchinner@redhat.com>
	Reviewed-by: Ben Myers <bpm@sgi.com>
	Signed-off-by: Ben Myers <bpm@sgi.com>
(cherry picked from commit 50fc5f7accfeaaaa1bba07725f26945cf8033bb7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/xfs_dir2.h
#	fs/xfs/xfs_dir2_sf.c
diff --cc fs/xfs/xfs_dir2.h
index e937d9991c18,9910401327d4..000000000000
--- a/fs/xfs/xfs_dir2.h
+++ b/fs/xfs/xfs_dir2.h
@@@ -57,4 -62,45 +57,48 @@@ extern int xfs_dir_canenter(struct xfs_
   */
  extern int xfs_dir2_sf_to_block(struct xfs_da_args *args);
  
++<<<<<<< HEAD
++=======
+ /*
+  * Interface routines used by userspace utilities
+  */
+ extern xfs_ino_t xfs_dir2_sf_get_parent_ino(struct xfs_dir2_sf_hdr *sfp);
+ extern void xfs_dir2_sf_put_parent_ino(struct xfs_dir2_sf_hdr *sfp,
+ 		xfs_ino_t ino);
+ extern xfs_ino_t xfs_dir3_sfe_get_ino(struct xfs_mount *mp,
+ 		struct xfs_dir2_sf_hdr *sfp, struct xfs_dir2_sf_entry *sfep);
+ extern void xfs_dir3_sfe_put_ino(struct xfs_mount *mp,
+ 		struct xfs_dir2_sf_hdr *hdr, struct xfs_dir2_sf_entry *sfep,
+ 		xfs_ino_t ino);
+ 
+ extern int xfs_dir2_isblock(struct xfs_trans *tp, struct xfs_inode *dp, int *r);
+ extern int xfs_dir2_isleaf(struct xfs_trans *tp, struct xfs_inode *dp, int *r);
+ extern int xfs_dir2_shrink_inode(struct xfs_da_args *args, xfs_dir2_db_t db,
+ 				struct xfs_buf *bp);
+ 
+ extern void xfs_dir2_data_freescan(struct xfs_mount *mp,
+ 		struct xfs_dir2_data_hdr *hdr, int *loghead);
+ extern void xfs_dir2_data_log_entry(struct xfs_trans *tp, struct xfs_buf *bp,
+ 		struct xfs_dir2_data_entry *dep);
+ extern void xfs_dir2_data_log_header(struct xfs_trans *tp,
+ 		struct xfs_buf *bp);
+ extern void xfs_dir2_data_log_unused(struct xfs_trans *tp, struct xfs_buf *bp,
+ 		struct xfs_dir2_data_unused *dup);
+ extern void xfs_dir2_data_make_free(struct xfs_trans *tp, struct xfs_buf *bp,
+ 		xfs_dir2_data_aoff_t offset, xfs_dir2_data_aoff_t len,
+ 		int *needlogp, int *needscanp);
+ extern void xfs_dir2_data_use_free(struct xfs_trans *tp, struct xfs_buf *bp,
+ 		struct xfs_dir2_data_unused *dup, xfs_dir2_data_aoff_t offset,
+ 		xfs_dir2_data_aoff_t len, int *needlogp, int *needscanp);
+ 
+ extern struct xfs_dir2_data_free *xfs_dir2_data_freefind(
+ 		struct xfs_dir2_data_hdr *hdr, struct xfs_dir2_data_unused *dup);
+ 
+ extern const struct xfs_buf_ops xfs_dir3_block_buf_ops;
+ extern const struct xfs_buf_ops xfs_dir3_leafn_buf_ops;
+ extern const struct xfs_buf_ops xfs_dir3_leaf1_buf_ops;
+ extern const struct xfs_buf_ops xfs_dir3_free_buf_ops;
+ extern const struct xfs_buf_ops xfs_dir3_data_buf_ops;
+ 
++>>>>>>> 50fc5f7accfe (xfs: dtype changed xfs_dir2_sfe_put_ino to xfs_dir3_sfe_put_ino)
  #endif	/* __XFS_DIR2_H__ */
diff --cc fs/xfs/xfs_dir2_sf.c
index 6157424dbf8f,bb6e2848f473..000000000000
--- a/fs/xfs/xfs_dir2_sf.c
+++ b/fs/xfs/xfs_dir2_sf.c
@@@ -120,11 -126,12 +120,17 @@@ xfs_dir2_sfe_get_ino
  	struct xfs_dir2_sf_hdr	*hdr,
  	struct xfs_dir2_sf_entry *sfep)
  {
 -	return xfs_dir2_sf_get_ino(hdr, xfs_dir3_sfe_inop(mp, sfep));
 +	return xfs_dir2_sf_get_ino(hdr, xfs_dir2_sfe_inop(sfep));
  }
  
++<<<<<<< HEAD
 +static void
 +xfs_dir2_sfe_put_ino(
++=======
+ void
+ xfs_dir3_sfe_put_ino(
+ 	struct xfs_mount	*mp,
++>>>>>>> 50fc5f7accfe (xfs: dtype changed xfs_dir2_sfe_put_ino to xfs_dir3_sfe_put_ino)
  	struct xfs_dir2_sf_hdr	*hdr,
  	struct xfs_dir2_sf_entry *sfep,
  	xfs_ino_t		ino)
* Unmerged path fs/xfs/xfs_dir2.h
* Unmerged path fs/xfs/xfs_dir2_sf.c
