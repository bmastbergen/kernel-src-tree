xfs: use xfs_icluster_size_fsb in xfs_bulkstat

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
commit-author Jie Liu <jeff.liu@oracle.com>
commit a2ba07b2d2215bed560aa67c84275304314d9691
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/a2ba07b2.failed

Use xfs_icluster_size_fsb() in xfs_bulkstat(), make the related
variables more meaningful and remove an unused variable nimask
from it.

	Signed-off-by: Jie Liu <jeff.liu@oracle.com>
	Reviewed-by: Dave Chinner <dchinner@redhat.com>
	Signed-off-by: Dave Chinner <david@fromorbit.com>
(cherry picked from commit a2ba07b2d2215bed560aa67c84275304314d9691)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/xfs_itable.c
diff --cc fs/xfs/xfs_itable.c
index 4f50e637f33b,f46338285152..000000000000
--- a/fs/xfs/xfs_itable.c
+++ b/fs/xfs/xfs_itable.c
@@@ -244,11 -242,8 +243,16 @@@ xfs_bulkstat
  	*done = 0;
  	fmterror = 0;
  	ubufp = ubuffer;
++<<<<<<< HEAD
 +	nicluster = mp->m_sb.sb_blocksize >= XFS_INODE_CLUSTER_SIZE(mp) ?
 +		mp->m_sb.sb_inopblock :
 +		(XFS_INODE_CLUSTER_SIZE(mp) >> mp->m_sb.sb_inodelog);
 +	nimask = ~(nicluster - 1);
 +	nbcluster = nicluster >> mp->m_sb.sb_inopblog;
++=======
+ 	blks_per_cluster = xfs_icluster_size_fsb(mp);
+ 	inodes_per_cluster = blks_per_cluster << mp->m_sb.sb_inopblog;
++>>>>>>> a2ba07b2d221 (xfs: use xfs_icluster_size_fsb in xfs_bulkstat)
  	irbuf = kmem_zalloc_greedy(&irbsize, PAGE_SIZE, PAGE_SIZE * 4);
  	if (!irbuf)
  		return ENOMEM;
* Unmerged path fs/xfs/xfs_itable.c
