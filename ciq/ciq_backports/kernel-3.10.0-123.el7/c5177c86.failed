ALSA: hda - Fix the noise after suspend on ALC283 codec

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [alsa] hda: Fix the noise after suspend on ALC283 codec (Jaroslav Kysela) [1044022]
Rebuild_FUZZ: 91.26%
commit-author Kailang Yang <kailang@realtek.com>
commit c5177c861e2bae584996f60667dc7b291ba6600a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/c5177c86.failed

When the power state of ALC283 codec goes to D3, it gives a noise via
headphone output.  This is because the driver tries to clear all pins
via snd_hda_shutup_pins().  Setting the mic pin to zero triggers such
a noise.

Define a new shutup call specific to this codec and control the pins
there more precisely.  Also, add the power-save enable/disable
sequences in the resume and the new shutup calls.

	Signed-off-by: Kailang Yang <kailang@realtek.com>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit c5177c861e2bae584996f60667dc7b291ba6600a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/patch_realtek.c
diff --cc sound/pci/hda/patch_realtek.c
index 97578b42174a,04a69e3fca47..000000000000
--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@@ -2696,7 -2711,14 +2696,18 @@@ static int alc269_resume(struct hda_cod
  	alc_inv_dmic_sync(codec, true);
  	hda_call_check_power_status(codec, 0x01);
  	if (spec->has_alc5505_dsp)
++<<<<<<< HEAD
 +		alc5505_dsp_back_from_halt(codec);
++=======
+ 		alc5505_dsp_resume(codec);
+ 
+ 	/* clear the power-save mode for ALC283 */
+ 	if (codec->vendor_id == 0x10ec0283) {
+ 		alc_write_coef_idx(codec, 0x4, 0xaf01);
+ 		alc_write_coef_idx(codec, 0x6, 0x2104);
+ 	}
+ 
++>>>>>>> c5177c861e2b (ALSA: hda - Fix the noise after suspend on ALC283 codec)
  	return 0;
  }
  #endif /* CONFIG_PM */
* Unmerged path sound/pci/hda/patch_realtek.c
