drm/nouveau/devinit: tidy up the subdev class definition

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-123.el7
Rebuild_CHGLOG: - [drm] nouveau/devinit: tidy up the subdev class definition (Rob Clark) [1054409]
Rebuild_FUZZ: 96.30%
commit-author Ben Skeggs <bskeggs@redhat.com>
commit cf336014c6dc3ef1431d84b5a94e47a22660493b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-123.el7/cf336014.failed

	Reviewed-by: Ilia Mirkin <imirkin@alum.mit.edu>
	Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
(cherry picked from commit cf336014c6dc3ef1431d84b5a94e47a22660493b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/nouveau/core/engine/device/nv04.c
#	drivers/gpu/drm/nouveau/core/engine/device/nv10.c
#	drivers/gpu/drm/nouveau/core/engine/device/nv20.c
#	drivers/gpu/drm/nouveau/core/engine/device/nv30.c
#	drivers/gpu/drm/nouveau/core/engine/device/nv40.c
#	drivers/gpu/drm/nouveau/core/engine/device/nv50.c
#	drivers/gpu/drm/nouveau/core/engine/device/nvc0.c
#	drivers/gpu/drm/nouveau/core/engine/device/nve0.c
#	drivers/gpu/drm/nouveau/core/include/subdev/devinit.h
#	drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv05.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv10.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv1a.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv20.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nva3.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/nvc0.c
#	drivers/gpu/drm/nouveau/core/subdev/devinit/priv.h
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv04.c
index a0284cf09c0f,32113b08c4d5..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv04.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv04.c
@@@ -49,16 -49,16 +49,22 @@@ nv04_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv04_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv04_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv04_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv04_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv04_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv04_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv04_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv04_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv04_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -67,16 -67,16 +73,22 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv05_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv05_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv04_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv04_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv04_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv04_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv04_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv04_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv04_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv10.c
index 1b7809a095c3,744f15d7e131..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv10.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv10.c
@@@ -51,12 -51,12 +51,18 @@@ nv10_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
@@@ -68,16 -68,16 +74,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv10_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv10_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -87,16 -87,16 +99,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv10_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv10_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -106,16 -106,16 +124,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv1a_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv1a_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv10_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv10_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -125,16 -125,16 +149,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv10_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv10_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -144,16 -144,16 +174,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -163,16 -163,16 +199,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv1a_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv1a_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -182,16 -182,16 +224,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv10_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv20.c
index 12a4005fa619,27ba61fb2710..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv20.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv20.c
@@@ -52,16 -52,16 +52,22 @@@ nv20_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv20_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv20_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv20_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -71,16 -71,16 +77,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv25_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv25_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv25_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -90,16 -90,16 +102,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv25_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv25_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv25_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -109,16 -109,16 +127,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv25_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv25_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv2a_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv30.c
index cef0f1ea4c21,fd47ace67543..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv30.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv30.c
@@@ -52,16 -52,16 +52,22 @@@ nv30_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv30_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv30_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv30_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -71,16 -71,16 +77,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv04_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv04_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv35_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv35_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv35_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
  		break;
@@@ -90,16 -90,16 +102,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv30_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv30_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv30_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv31_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -110,16 -110,16 +128,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv20_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv36_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv36_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv35_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv31_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -130,16 -130,16 +154,22 @@@
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv10_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv04_clock_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv10_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv10_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv04_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv10_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv04_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv10_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv17_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv17_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv34_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv31_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv40.c
index 1719cb0ee595,1b653dd74a70..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv40.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv40.c
@@@ -55,16 -57,17 +55,22 @@@ nv40_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv40_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv40_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -76,16 -80,17 +82,22 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv41_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv41_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -97,16 -103,17 +109,22 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv41_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv41_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -118,16 -126,17 +136,22 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv41_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv41_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
@@@ -139,19 -149,21 +163,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv40_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv40_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv04_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x47:
  		device->cname = "G70";
@@@ -160,19 -172,21 +190,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv47_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv47_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x49:
  		device->cname = "G71";
@@@ -181,19 -195,21 +217,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv49_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv49_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x4b:
  		device->cname = "G73";
@@@ -202,19 -218,21 +244,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv04_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv40_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv49_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv49_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv41_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x44:
  		device->cname = "NV44";
@@@ -223,19 -241,21 +271,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv44_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv44_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x46:
  		device->cname = "G72";
@@@ -244,19 -264,21 +298,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv46_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv46_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x4a:
  		device->cname = "NV44A";
@@@ -265,19 -287,21 +325,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv44_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv44_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x4c:
  		device->cname = "C61";
@@@ -286,19 -310,21 +352,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv46_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv46_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x4e:
  		device->cname = "C51";
@@@ -307,19 -333,21 +379,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv4e_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv4e_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv4e_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x63:
  		device->cname = "C73";
@@@ -328,19 -356,21 +406,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv46_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv46_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x67:
  		device->cname = "C67";
@@@ -349,19 -379,21 +433,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv46_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv46_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	case 0x68:
  		device->cname = "C68";
@@@ -370,19 -402,21 +460,25 @@@
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv04_i2c_oclass;
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv40_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv40_therm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv1a_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv44_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv31_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv1a_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv44_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv31_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv46_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv40_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv46_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv40_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv44_vmmgr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv40_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv10_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv40_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv10_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv40_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv44_mpeg_oclass;
 +		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv40_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv04_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv40_perfmon_oclass;
  		break;
  	default:
  		nv_fatal(device, "unknown Curie chipset\n");
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nv50.c
index 5e8c3de75593,5ae94475a3f1..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nv50.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nv50.c
@@@ -59,20 -62,21 +59,26 @@@ nv50_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv50_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv50_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv50_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv50_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv50_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv50_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv50_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv50_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv50_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv50_disp_oclass;
@@@ -82,20 -87,21 +88,26 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv50_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv50_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv50_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -108,20 -115,21 +120,26 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv50_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv50_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv50_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -134,20 -143,21 +152,26 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv50_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv50_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv50_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -160,20 -171,21 +184,26 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv94_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv94_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -186,20 -199,21 +216,26 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv94_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv50_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv94_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -212,46 -227,49 +248,58 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv94_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
  		device->oclass[NVDEV_ENGINE_CRYPT  ] = &nv98_crypt_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv94_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv84_perfmon_oclass;
  		break;
  	case 0xa0:
  		device->cname = "G200";
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv50_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nv84_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nv84_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
@@@ -264,52 -283,56 +312,64 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv94_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nvaa_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvaa_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
  		device->oclass[NVDEV_ENGINE_CRYPT  ] = &nv98_crypt_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv94_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv84_perfmon_oclass;
  		break;
  	case 0xac:
  		device->cname = "MCP79/MCP7A";
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nv50_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nv94_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] =  nvaa_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nv50_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nv84_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nv50_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvaa_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
  		device->oclass[NVDEV_ENGINE_CRYPT  ] = &nv98_crypt_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nv94_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_PERFMON] =  nv84_perfmon_oclass;
  		break;
  	case 0xa3:
  		device->cname = "GT215";
@@@ -319,21 -342,23 +379,27 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nva3_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nva3_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nva3_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nva3_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
  		device->oclass[NVDEV_ENGINE_MPEG   ] = &nv84_mpeg_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nva3_copy_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nva3_disp_oclass;
@@@ -346,20 -372,22 +412,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nva3_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nva3_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nva3_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nva3_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nva3_copy_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nva3_disp_oclass;
@@@ -372,20 -401,22 +444,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nva3_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nva3_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nva3_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nva3_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nva3_copy_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nva3_disp_oclass;
@@@ -398,20 -430,22 +476,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nva3_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nv98_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nv50_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nva3_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nv98_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nv94_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvaf_fb_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nv50_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nv50_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nv50_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nva3_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv50_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv84_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nv50_software_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nv84_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nv50_software_oclass;
  		device->oclass[NVDEV_ENGINE_GR     ] = &nv50_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nv98_vp_oclass;
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nv98_bsp_oclass;
 +		device->oclass[NVDEV_ENGINE_VP     ] = &nv84_vp_oclass;
 +		device->oclass[NVDEV_ENGINE_BSP    ] = &nv84_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nv98_ppp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nva3_copy_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nva3_disp_oclass;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nvc0.c
index a36e64e98ef3,b7d66b59f43d..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nvc0.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nvc0.c
@@@ -62,20 -65,22 +62,26 @@@ nvc0_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc0_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc0_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -91,20 -97,22 +97,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc0_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc3_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -120,20 -129,22 +132,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc3_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -148,20 -160,22 +166,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc0_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc3_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -177,20 -192,22 +201,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc3_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -206,20 -224,22 +236,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc1_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -234,20 -255,22 +270,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nva3_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc0_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvc0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvc0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvc8_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -263,20 -287,22 +305,26 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvd0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nvc0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvd9_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nvc0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nvc0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_VP     ] = &nvc0_vp_oclass;
  		device->oclass[NVDEV_ENGINE_BSP    ] = &nvc0_bsp_oclass;
  		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
@@@ -291,14 -318,14 +339,20 @@@
  		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nvc0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nvc0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
diff --cc drivers/gpu/drm/nouveau/core/engine/device/nve0.c
index a354e409cdff,987edbc30a09..000000000000
--- a/drivers/gpu/drm/nouveau/core/engine/device/nve0.c
+++ b/drivers/gpu/drm/nouveau/core/engine/device/nve0.c
@@@ -59,23 -62,25 +59,29 @@@ nve0_identify(struct nouveau_device *de
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nve0_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nvd0_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nve0_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nve0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nve0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvd0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nve0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nve4_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nve0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nve0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nve0_disp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nve0_copy0_oclass;
  		device->oclass[NVDEV_ENGINE_COPY1  ] = &nve0_copy1_oclass;
@@@ -88,23 -95,25 +94,29 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nve0_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nvd0_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nve0_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nve0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nve0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvd0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nve0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nve4_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nve0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nve0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nve0_disp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nve0_copy0_oclass;
  		device->oclass[NVDEV_ENGINE_COPY1  ] = &nve0_copy1_oclass;
@@@ -117,23 -128,25 +129,29 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nve0_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nvd0_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nve0_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nve0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nve0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvd0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nve0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nve4_graph_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nve0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nve0_graph_oclass;
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nve0_disp_oclass;
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nve0_copy0_oclass;
  		device->oclass[NVDEV_ENGINE_COPY1  ] = &nve0_copy1_oclass;
@@@ -146,27 -161,61 +164,62 @@@
  		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
  		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nve0_gpio_oclass;
  		device->oclass[NVDEV_SUBDEV_I2C    ] = &nvd0_i2c_oclass;
 -		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nve0_clock_oclass;
 +		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nvc0_clock_oclass;
  		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
  		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
++<<<<<<< HEAD
 +		device->oclass[NVDEV_SUBDEV_DEVINIT] = &nv50_devinit_oclass;
 +		device->oclass[NVDEV_SUBDEV_MC     ] = &nvc0_mc_oclass;
 +		device->oclass[NVDEV_SUBDEV_BUS    ] = &nvc0_bus_oclass;
++=======
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
 -		device->oclass[NVDEV_SUBDEV_FB     ] =  nve0_fb_oclass;
 +		device->oclass[NVDEV_SUBDEV_FB     ] = &nvc0_fb_oclass;
  		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
  		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nve0_ibus_oclass;
 -		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
 +		device->oclass[NVDEV_SUBDEV_INSTMEM] = &nv50_instmem_oclass;
  		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
  		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
 -		device->oclass[NVDEV_SUBDEV_PWR    ] = &nvd0_pwr_oclass;
 -		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
  		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
 -		device->oclass[NVDEV_ENGINE_FIFO   ] =  nve0_fifo_oclass;
 -		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
 -		device->oclass[NVDEV_ENGINE_GR     ] =  nvf0_graph_oclass;
 -		device->oclass[NVDEV_ENGINE_DISP   ] = &nvf0_disp_oclass;
 -		device->oclass[NVDEV_ENGINE_COPY0  ] = &nve0_copy0_oclass;
 -		device->oclass[NVDEV_ENGINE_COPY1  ] = &nve0_copy1_oclass;
 -		device->oclass[NVDEV_ENGINE_COPY2  ] = &nve0_copy2_oclass;
  #if 0
 -		device->oclass[NVDEV_ENGINE_BSP    ] = &nve0_bsp_oclass;
 -		device->oclass[NVDEV_ENGINE_VP     ] = &nve0_vp_oclass;
 -		device->oclass[NVDEV_ENGINE_PPP    ] = &nvc0_ppp_oclass;
 +		device->oclass[NVDEV_ENGINE_FIFO   ] = &nve0_fifo_oclass;
 +		device->oclass[NVDEV_ENGINE_SW     ] = &nvc0_software_oclass;
 +		device->oclass[NVDEV_ENGINE_GR     ] = &nve0_graph_oclass;
  #endif
++<<<<<<< HEAD
++=======
+ 		device->oclass[NVDEV_ENGINE_PERFMON] = &nvf0_perfmon_oclass;
+ 		break;
+ 	case 0x108:
+ 		device->cname = "GK208";
+ 		device->oclass[NVDEV_SUBDEV_VBIOS  ] = &nouveau_bios_oclass;
+ 		device->oclass[NVDEV_SUBDEV_GPIO   ] = &nve0_gpio_oclass;
+ 		device->oclass[NVDEV_SUBDEV_I2C    ] = &nvd0_i2c_oclass;
+ 		device->oclass[NVDEV_SUBDEV_CLOCK  ] = &nve0_clock_oclass;
+ 		device->oclass[NVDEV_SUBDEV_THERM  ] = &nvd0_therm_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MXM    ] = &nv50_mxm_oclass;
+ 		device->oclass[NVDEV_SUBDEV_DEVINIT] =  nvc0_devinit_oclass;
+ 		device->oclass[NVDEV_SUBDEV_MC     ] =  nvc3_mc_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BUS    ] =  nvc0_bus_oclass;
+ 		device->oclass[NVDEV_SUBDEV_TIMER  ] = &nv04_timer_oclass;
+ 		device->oclass[NVDEV_SUBDEV_FB     ] =  nve0_fb_oclass;
+ 		device->oclass[NVDEV_SUBDEV_LTCG   ] = &nvc0_ltcg_oclass;
+ 		device->oclass[NVDEV_SUBDEV_IBUS   ] = &nve0_ibus_oclass;
+ 		device->oclass[NVDEV_SUBDEV_INSTMEM] =  nv50_instmem_oclass;
+ 		device->oclass[NVDEV_SUBDEV_VM     ] = &nvc0_vmmgr_oclass;
+ 		device->oclass[NVDEV_SUBDEV_BAR    ] = &nvc0_bar_oclass;
+ 		device->oclass[NVDEV_SUBDEV_PWR    ] = &nv108_pwr_oclass;
+ 		device->oclass[NVDEV_SUBDEV_VOLT   ] = &nv40_volt_oclass;
+ 		device->oclass[NVDEV_ENGINE_DMAOBJ ] = &nvd0_dmaeng_oclass;
+ 		device->oclass[NVDEV_ENGINE_FIFO   ] =  nv108_fifo_oclass;
+ 		device->oclass[NVDEV_ENGINE_SW     ] =  nvc0_software_oclass;
+ 		device->oclass[NVDEV_ENGINE_GR     ] =  nv108_graph_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		device->oclass[NVDEV_ENGINE_DISP   ] = &nvf0_disp_oclass;
 +#if 0
  		device->oclass[NVDEV_ENGINE_COPY0  ] = &nve0_copy0_oclass;
  		device->oclass[NVDEV_ENGINE_COPY1  ] = &nve0_copy1_oclass;
  		device->oclass[NVDEV_ENGINE_COPY2  ] = &nve0_copy2_oclass;
diff --cc drivers/gpu/drm/nouveau/core/include/subdev/devinit.h
index 29e4cc1f6cc0,e59384d04870..000000000000
--- a/drivers/gpu/drm/nouveau/core/include/subdev/devinit.h
+++ b/drivers/gpu/drm/nouveau/core/include/subdev/devinit.h
@@@ -8,6 -8,7 +8,10 @@@ struct nouveau_devinit 
  	struct nouveau_subdev base;
  	bool post;
  	void (*meminit)(struct nouveau_devinit *);
++<<<<<<< HEAD
++=======
+ 	int  (*pll_set)(struct nouveau_devinit *, u32 type, u32 freq);
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  };
  
  static inline struct nouveau_devinit *
@@@ -16,25 -17,13 +20,36 @@@ nouveau_devinit(void *obj
  	return (void *)nv_device(obj)->subdev[NVDEV_SUBDEV_DEVINIT];
  }
  
++<<<<<<< HEAD
 +#define nouveau_devinit_create(p,e,o,d)                                        \
 +	nouveau_devinit_create_((p), (e), (o), sizeof(**d), (void **)d)
 +#define nouveau_devinit_destroy(p)                                             \
 +	nouveau_subdev_destroy(&(p)->base)
 +
 +int nouveau_devinit_create_(struct nouveau_object *, struct nouveau_object *,
 +			    struct nouveau_oclass *, int, void **);
 +int nouveau_devinit_init(struct nouveau_devinit *);
 +int nouveau_devinit_fini(struct nouveau_devinit *, bool suspend);
 +
 +extern struct nouveau_oclass nv04_devinit_oclass;
 +extern struct nouveau_oclass nv05_devinit_oclass;
 +extern struct nouveau_oclass nv10_devinit_oclass;
 +extern struct nouveau_oclass nv1a_devinit_oclass;
 +extern struct nouveau_oclass nv20_devinit_oclass;
 +extern struct nouveau_oclass nv50_devinit_oclass;
 +
 +void nv04_devinit_dtor(struct nouveau_object *);
 +int  nv04_devinit_init(struct nouveau_object *);
 +int  nv04_devinit_fini(struct nouveau_object *, bool);
++=======
+ extern struct nouveau_oclass *nv04_devinit_oclass;
+ extern struct nouveau_oclass *nv05_devinit_oclass;
+ extern struct nouveau_oclass *nv10_devinit_oclass;
+ extern struct nouveau_oclass *nv1a_devinit_oclass;
+ extern struct nouveau_oclass *nv20_devinit_oclass;
+ extern struct nouveau_oclass *nv50_devinit_oclass;
+ extern struct nouveau_oclass *nva3_devinit_oclass;
+ extern struct nouveau_oclass *nvc0_devinit_oclass;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  #endif
diff --cc drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c
index b7fd1151166e,b74db6cfc4e2..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c
@@@ -22,9 -22,10 +22,14 @@@
   * Authors: Ben Skeggs
   */
  
 +#include <subdev/clock.h>
  #include <subdev/bios.h>
  #include <subdev/bios/pll.h>
++<<<<<<< HEAD
++=======
+ #include <subdev/clock.h>
+ #include <subdev/devinit/nv04.h>
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  #include "pll.h"
  
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.c
index 7a72d9394340,24025e4e882a..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.c
@@@ -28,11 -27,7 +28,15 @@@
  #include <subdev/vga.h>
  
  #include "fbmem.h"
++<<<<<<< HEAD
 +
 +struct nv04_devinit_priv {
 +	struct nouveau_devinit base;
 +	int owner;
 +};
++=======
+ #include "nv04.h"
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  static void
  nv04_devinit_meminit(struct nouveau_devinit *devinit)
@@@ -165,22 -426,34 +169,40 @@@ nv04_devinit_fini(struct nouveau_objec
  {
  	struct nv04_devinit_priv *priv = (void *)object;
  
 -	/* restore vga owner saved at first init, and lock crtc regs  */
 -	nv_wrvgaowner(priv, priv->owner);
 -	nv_lockvgac(priv, true);
 +	/* make i2c busses accessible */
 +	nv_mask(priv, 0x000200, 0x00000001, 0x00000001);
  
 -	nouveau_devinit_destroy(&priv->base);
 -}
 +	/* unlock extended vga crtc regs, and unslave crtcs */
 +	nv_lockvgac(priv, false);
 +	if (priv->owner < 0)
 +		priv->owner = nv_rdvgaowner(priv);
 +	nv_wrvgaowner(priv, 0);
  
++<<<<<<< HEAD
 +	return nouveau_devinit_fini(&priv->base, suspend);
++=======
+ int
+ nv04_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
+ 		  struct nouveau_oclass *oclass, void *data, u32 size,
+ 		  struct nouveau_object **pobject)
+ {
+ 	struct nv04_devinit_priv *priv;
+ 	int ret;
+ 
+ 	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
+ 	*pobject = nv_object(priv);
+ 	if (ret)
+ 		return ret;
+ 
+ 	priv->owner = -1;
+ 	return 0;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  }
  
- struct nouveau_oclass
- nv04_devinit_oclass = {
- 	.handle = NV_SUBDEV(DEVINIT, 0x04),
- 	.ofuncs = &(struct nouveau_ofuncs) {
+ struct nouveau_oclass *
+ nv04_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x04),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
  		.ctor = nv04_devinit_ctor,
  		.dtor = nv04_devinit_dtor,
  		.init = nv04_devinit_init,
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv05.c
index 191447d0d252,98b7e6780dc7..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv05.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv05.c
@@@ -30,11 -29,7 +30,15 @@@
  #include <subdev/vga.h>
  
  #include "fbmem.h"
++<<<<<<< HEAD
 +
 +struct nv05_devinit_priv {
 +	struct nouveau_devinit base;
 +	u8 owner;
 +};
++=======
+ #include "nv04.h"
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  static void
  nv05_devinit_meminit(struct nouveau_devinit *devinit)
@@@ -130,28 -125,11 +134,36 @@@ out
  	fbmem_fini(fb);
  }
  
++<<<<<<< HEAD
 +static int
 +nv05_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
 +		  struct nouveau_oclass *oclass, void *data, u32 size,
 +		  struct nouveau_object **pobject)
 +{
 +	struct nv05_devinit_priv *priv;
 +	int ret;
 +
 +	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
 +	*pobject = nv_object(priv);
 +	if (ret)
 +		return ret;
 +
 +	priv->base.meminit = nv05_devinit_meminit;
 +	return 0;
 +}
 +
 +struct nouveau_oclass
 +nv05_devinit_oclass = {
 +	.handle = NV_SUBDEV(DEVINIT, 0x05),
 +	.ofuncs = &(struct nouveau_ofuncs) {
 +		.ctor = nv05_devinit_ctor,
++=======
+ struct nouveau_oclass *
+ nv05_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x05),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
+ 		.ctor = nv04_devinit_ctor,
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		.dtor = nv04_devinit_dtor,
  		.init = nv04_devinit_init,
  		.fini = nv04_devinit_fini,
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv10.c
index eb76ffab6b0c,32b3d2131a7f..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv10.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv10.c
@@@ -28,18 -27,14 +28,28 @@@
  #include <subdev/vga.h>
  
  #include "fbmem.h"
++<<<<<<< HEAD
 +
 +struct nv10_devinit_priv {
 +	struct nouveau_devinit base;
 +	u8 owner;
 +};
++=======
+ #include "nv04.h"
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  static void
  nv10_devinit_meminit(struct nouveau_devinit *devinit)
  {
++<<<<<<< HEAD
 +	struct nv10_devinit_priv *priv = (void *)devinit;
 +	const int mem_width[] = { 0x10, 0x00, 0x20 };
 +	const int mem_width_count = nv_device(priv)->chipset >= 0x17 ? 3 : 2;
++=======
+ 	struct nv04_devinit_priv *priv = (void *)devinit;
+ 	static const int mem_width[] = { 0x10, 0x00, 0x20 };
+ 	int mem_width_count;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  	uint32_t patt = 0xdeadbeef;
  	struct io_mapping *fb;
  	int i, j, k;
@@@ -95,28 -96,11 +105,36 @@@ amount_found
  	fbmem_fini(fb);
  }
  
++<<<<<<< HEAD
 +static int
 +nv10_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
 +		  struct nouveau_oclass *oclass, void *data, u32 size,
 +		  struct nouveau_object **pobject)
 +{
 +	struct nv10_devinit_priv *priv;
 +	int ret;
 +
 +	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
 +	*pobject = nv_object(priv);
 +	if (ret)
 +		return ret;
 +
 +	priv->base.meminit = nv10_devinit_meminit;
 +	return 0;
 +}
 +
 +struct nouveau_oclass
 +nv10_devinit_oclass = {
 +	.handle = NV_SUBDEV(DEVINIT, 0x10),
 +	.ofuncs = &(struct nouveau_ofuncs) {
 +		.ctor = nv10_devinit_ctor,
++=======
+ struct nouveau_oclass *
+ nv10_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x10),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
+ 		.ctor = nv04_devinit_ctor,
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		.dtor = nv04_devinit_dtor,
  		.init = nv04_devinit_init,
  		.fini = nv04_devinit_fini,
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv1a.c
index 5b2ba630d913,526d0c6faacd..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv1a.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv1a.c
@@@ -22,35 -22,13 +22,45 @@@
   * Authors: Ben Skeggs
   */
  
++<<<<<<< HEAD
 +#include <subdev/devinit.h>
 +#include <subdev/vga.h>
 +
 +struct nv1a_devinit_priv {
 +	struct nouveau_devinit base;
 +	u8 owner;
 +};
 +
 +static int
 +nv1a_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
 +		  struct nouveau_oclass *oclass, void *data, u32 size,
 +		  struct nouveau_object **pobject)
 +{
 +	struct nv1a_devinit_priv *priv;
 +	int ret;
 +
 +	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
 +	*pobject = nv_object(priv);
 +	if (ret)
 +		return ret;
 +
 +	return 0;
 +}
 +
 +struct nouveau_oclass
 +nv1a_devinit_oclass = {
 +	.handle = NV_SUBDEV(DEVINIT, 0x1a),
 +	.ofuncs = &(struct nouveau_ofuncs) {
 +		.ctor = nv1a_devinit_ctor,
++=======
+ #include "nv04.h"
+ 
+ struct nouveau_oclass *
+ nv1a_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x1a),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
+ 		.ctor = nv04_devinit_ctor,
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		.dtor = nv04_devinit_dtor,
  		.init = nv04_devinit_init,
  		.fini = nv04_devinit_fini,
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv20.c
index eb32e99005e4,4689ba303b0b..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv20.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv20.c
@@@ -24,16 -24,9 +24,15 @@@
   *
   */
  
++<<<<<<< HEAD
 +#include <subdev/devinit.h>
 +#include <subdev/vga.h>
 +
++=======
+ #include "nv04.h"
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  #include "fbmem.h"
  
- struct nv20_devinit_priv {
- 	struct nouveau_devinit base;
- 	u8 owner;
- };
- 
  static void
  nv20_devinit_meminit(struct nouveau_devinit *devinit)
  {
@@@ -67,28 -60,11 +66,36 @@@
  	fbmem_fini(fb);
  }
  
++<<<<<<< HEAD
 +static int
 +nv20_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
 +		  struct nouveau_oclass *oclass, void *data, u32 size,
 +		  struct nouveau_object **pobject)
 +{
 +	struct nv20_devinit_priv *priv;
 +	int ret;
 +
 +	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
 +	*pobject = nv_object(priv);
 +	if (ret)
 +		return ret;
 +
 +	priv->base.meminit = nv20_devinit_meminit;
 +	return 0;
 +}
 +
 +struct nouveau_oclass
 +nv20_devinit_oclass = {
 +	.handle = NV_SUBDEV(DEVINIT, 0x20),
 +	.ofuncs = &(struct nouveau_ofuncs) {
 +		.ctor = nv20_devinit_ctor,
++=======
+ struct nouveau_oclass *
+ nv20_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x20),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
+ 		.ctor = nv04_devinit_ctor,
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  		.dtor = nv04_devinit_dtor,
  		.init = nv04_devinit_init,
  		.fini = nv04_devinit_fini,
diff --cc drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.c
index 4a8577838417,f81509eb6c3e..000000000000
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.c
@@@ -26,25 -26,50 +26,29 @@@
  #include <subdev/bios/dcb.h>
  #include <subdev/bios/disp.h>
  #include <subdev/bios/init.h>
 +#include <subdev/devinit.h>
  #include <subdev/vga.h>
  
++<<<<<<< HEAD
 +struct nv50_devinit_priv {
 +	struct nouveau_devinit base;
 +};
++=======
+ #include "nv50.h"
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  
  static int
 -nv50_devinit_pll_set(struct nouveau_devinit *devinit, u32 type, u32 freq)
 +nv50_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
 +		  struct nouveau_oclass *oclass, void *data, u32 size,
 +		  struct nouveau_object **pobject)
  {
 -	struct nv50_devinit_priv *priv = (void *)devinit;
 -	struct nouveau_bios *bios = nouveau_bios(priv);
 -	struct nvbios_pll info;
 -	int N1, M1, N2, M2, P;
 +	struct nv50_devinit_priv *priv;
  	int ret;
  
 -	ret = nvbios_pll_parse(bios, type, &info);
 -	if (ret) {
 -		nv_error(devinit, "failed to retrieve pll data, %d\n", ret);
 -		return ret;
 -	}
 -
 -	ret = nv04_pll_calc(nv_subdev(devinit), &info, freq, &N1, &M1, &N2, &M2, &P);
 -	if (!ret) {
 -		nv_error(devinit, "failed pll calculation\n");
 +	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
 +	*pobject = nv_object(priv);
 +	if (ret)
  		return ret;
 -	}
 -
 -	switch (info.type) {
 -	case PLL_VPLL0:
 -	case PLL_VPLL1:
 -		nv_wr32(priv, info.reg + 0, 0x10000611);
 -		nv_mask(priv, info.reg + 4, 0x00ff00ff, (M1 << 16) | N1);
 -		nv_mask(priv, info.reg + 8, 0x7fff00ff, (P  << 28) |
 -							(M2 << 16) | N2);
 -		break;
 -	case PLL_MEMORY:
 -		nv_mask(priv, info.reg + 0, 0x01ff0000, (P << 22) |
 -						        (info.bias_p << 19) |
 -							(P << 16));
 -		nv_wr32(priv, info.reg + 4, (N1 << 8) | M1);
 -		break;
 -	default:
 -		nv_mask(priv, info.reg + 0, 0x00070000, (P << 16));
 -		nv_wr32(priv, info.reg + 4, (N1 << 8) | M1);
 -		break;
 -	}
  
  	return 0;
  }
@@@ -102,20 -120,30 +106,38 @@@ nv50_devinit_init(struct nouveau_objec
  	return 0;
  }
  
++<<<<<<< HEAD
 +static int
 +nv50_devinit_fini(struct nouveau_object *object, bool suspend)
 +{
 +	struct nv50_devinit_priv *priv = (void *)object;
 +	return nouveau_devinit_fini(&priv->base, suspend);
++=======
+ int
+ nv50_devinit_ctor(struct nouveau_object *parent, struct nouveau_object *engine,
+ 		  struct nouveau_oclass *oclass, void *data, u32 size,
+ 		  struct nouveau_object **pobject)
+ {
+ 	struct nv50_devinit_priv *priv;
+ 	int ret;
+ 
+ 	ret = nouveau_devinit_create(parent, engine, oclass, &priv);
+ 	*pobject = nv_object(priv);
+ 	if (ret)
+ 		return ret;
+ 
+ 	return 0;
++>>>>>>> cf336014c6dc (drm/nouveau/devinit: tidy up the subdev class definition)
  }
  
- struct nouveau_oclass
- nv50_devinit_oclass = {
- 	.handle = NV_SUBDEV(DEVINIT, 0x50),
- 	.ofuncs = &(struct nouveau_ofuncs) {
+ struct nouveau_oclass *
+ nv50_devinit_oclass = &(struct nouveau_devinit_impl) {
+ 	.base.handle = NV_SUBDEV(DEVINIT, 0x50),
+ 	.base.ofuncs = &(struct nouveau_ofuncs) {
  		.ctor = nv50_devinit_ctor,
 -		.dtor = _nouveau_devinit_dtor,
 +		.dtor = nv50_devinit_dtor,
  		.init = nv50_devinit_init,
 -		.fini = _nouveau_devinit_fini,
 +		.fini = nv50_devinit_fini,
  	},
- };
+ 	.pll_set = nv50_devinit_pll_set,
+ }.base;
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nva3.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nvc0.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/priv.h
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv04.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv10.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv20.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv30.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv40.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nv50.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nvc0.c
* Unmerged path drivers/gpu/drm/nouveau/core/engine/device/nve0.c
* Unmerged path drivers/gpu/drm/nouveau/core/include/subdev/devinit.h
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/clock/nv04.c
diff --git a/drivers/gpu/drm/nouveau/core/subdev/devinit/base.c b/drivers/gpu/drm/nouveau/core/subdev/devinit/base.c
index 5a07a39c1735..dbccb6ee17a8 100644
--- a/drivers/gpu/drm/nouveau/core/subdev/devinit/base.c
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/base.c
@@ -24,10 +24,11 @@
 
 #include <core/option.h>
 
-#include <subdev/devinit.h>
 #include <subdev/bios.h>
 #include <subdev/bios/init.h>
 
+#include "priv.h"
+
 int
 nouveau_devinit_init(struct nouveau_devinit *devinit)
 {
@@ -54,6 +55,7 @@ nouveau_devinit_create_(struct nouveau_object *parent,
 			struct nouveau_oclass *oclass,
 			int size, void **pobject)
 {
+	struct nouveau_devinit_impl *impl = (void *)oclass;
 	struct nouveau_device *device = nv_device(parent);
 	struct nouveau_devinit *devinit;
 	int ret;
@@ -65,5 +67,7 @@ nouveau_devinit_create_(struct nouveau_object *parent,
 		return ret;
 
 	devinit->post = nouveau_boolopt(device->cfgopt, "NvForcePost", false);
+	devinit->meminit = impl->meminit;
+	devinit->pll_set = impl->pll_set;
 	return 0;
 }
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.c
diff --git a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.h b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.h
new file mode 100644
index 000000000000..23470a57510c
--- /dev/null
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv04.h
@@ -0,0 +1,23 @@
+#ifndef __NVKM_DEVINIT_NV04_H__
+#define __NVKM_DEVINIT_NV04_H__
+
+#include "priv.h"
+
+struct nv04_devinit_priv {
+	struct nouveau_devinit base;
+	u8 owner;
+};
+
+int  nv04_devinit_ctor(struct nouveau_object *, struct nouveau_object *,
+		       struct nouveau_oclass *, void *, u32,
+		       struct nouveau_object **);
+void nv04_devinit_dtor(struct nouveau_object *);
+int  nv04_devinit_init(struct nouveau_object *);
+int  nv04_devinit_fini(struct nouveau_object *, bool);
+int  nv04_devinit_pll_set(struct nouveau_devinit *, u32, u32);
+
+void setPLL_single(struct nouveau_devinit *, u32, struct nouveau_pll_vals *);
+void setPLL_double_highregs(struct nouveau_devinit *, u32, struct nouveau_pll_vals *);
+void setPLL_double_lowregs(struct nouveau_devinit *, u32, struct nouveau_pll_vals *);
+
+#endif
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv05.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv10.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv1a.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv20.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.c
diff --git a/drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.h b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.h
new file mode 100644
index 000000000000..f87e483b0977
--- /dev/null
+++ b/drivers/gpu/drm/nouveau/core/subdev/devinit/nv50.h
@@ -0,0 +1,15 @@
+#ifndef __NVKM_DEVINIT_NV50_H__
+#define __NVKM_DEVINIT_NV50_H__
+
+#include "priv.h"
+
+struct nv50_devinit_priv {
+	struct nouveau_devinit base;
+};
+
+int  nv50_devinit_ctor(struct nouveau_object *, struct nouveau_object *,
+		       struct nouveau_oclass *, void *, u32,
+		       struct nouveau_object **);
+int  nv50_devinit_init(struct nouveau_object *);
+
+#endif
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nva3.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/nvc0.c
* Unmerged path drivers/gpu/drm/nouveau/core/subdev/devinit/priv.h
