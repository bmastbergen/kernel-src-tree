net/mlx5e: Remove unused mlx5e_xsk_first_unused_channel

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Maxim Mikityanskiy <maximmi@mellanox.com>
commit d39c9885b65740e737db8303ed3d344f2f6ceb35
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/d39c9885.failed

mlx5e_xsk_first_unused_channel is a leftover from old versions of the
first XSK commit, and it was never used. Remove it.

Fixes: db05815b36cb ("net/mlx5e: Add XSK zero-copy support")
	Signed-off-by: Maxim Mikityanskiy <maximmi@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit d39c9885b65740e737db8303ed3d344f2f6ceb35)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.c
index 4baaa5788320,331ca2b0f8a4..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.c
@@@ -240,28 -215,3 +240,31 @@@ int mlx5e_xsk_setup_umem(struct net_dev
  	return umem ? mlx5e_xsk_enable_umem(priv, umem, ix) :
  		      mlx5e_xsk_disable_umem(priv, ix);
  }
++<<<<<<< HEAD
 +
 +int mlx5e_xsk_resize_reuseq(struct xdp_umem *umem, u32 nentries)
 +{
 +	struct xdp_umem_fq_reuse *reuseq;
 +
 +	reuseq = xsk_reuseq_prepare(nentries);
 +	if (unlikely(!reuseq))
 +		return -ENOMEM;
 +	xsk_reuseq_free(xsk_reuseq_swap(umem, reuseq));
 +
 +	return 0;
 +}
 +
 +u16 mlx5e_xsk_first_unused_channel(struct mlx5e_params *params, struct mlx5e_xsk *xsk)
 +{
 +	u16 res = xsk->refcnt ? params->num_channels : 0;
 +
 +	while (res) {
 +		if (mlx5e_xsk_get_umem(params, xsk, res - 1))
 +			break;
 +		--res;
 +	}
 +
 +	return res;
 +}
++=======
++>>>>>>> d39c9885b657 (net/mlx5e: Remove unused mlx5e_xsk_first_unused_channel)
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.c
diff --git a/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.h b/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.h
index 25b4cbe58b54..bada94973586 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.h
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en/xsk/umem.h
@@ -26,6 +26,4 @@ int mlx5e_xsk_setup_umem(struct net_device *dev, struct xdp_umem *umem, u16 qid)
 
 int mlx5e_xsk_resize_reuseq(struct xdp_umem *umem, u32 nentries);
 
-u16 mlx5e_xsk_first_unused_channel(struct mlx5e_params *params, struct mlx5e_xsk *xsk);
-
 #endif /* __MLX5_EN_XSK_UMEM_H__ */
