drm/amdgpu: force fbdev into vram

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Alex Deucher <alexander.deucher@amd.com>
commit 1cba0987610a1508358d1a3704fdb9c98b3be0ba
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/1cba0987.failed

We set the fb smem pointer to the offset into the BAR, so keep
the fbdev bo in vram.

Bug: https://bugzilla.kernel.org/show_bug.cgi?id=207581
Fixes: 6c8d74caa2fa33 ("drm/amdgpu: Enable scatter gather display support")
	Reviewed-by: Christian KÃ¶nig <christian.koenig@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 1cba0987610a1508358d1a3704fdb9c98b3be0ba)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c
index 430c56f9544a,25ddb482466a..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c
@@@ -131,6 -131,9 +131,12 @@@ static int amdgpufb_create_pinned_objec
  	int aligned_size, size;
  	int height = mode_cmd->height;
  	u32 cpp;
++<<<<<<< HEAD
++=======
+ 	u64 flags = AMDGPU_GEM_CREATE_CPU_ACCESS_REQUIRED |
+ 			       AMDGPU_GEM_CREATE_VRAM_CONTIGUOUS     |
+ 			       AMDGPU_GEM_CREATE_VRAM_CLEARED;
++>>>>>>> 1cba0987610a (drm/amdgpu: force fbdev into vram)
  
  	info = drm_get_format_info(adev->ddev, mode_cmd);
  	cpp = info->cpp[0];
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_fb.c
