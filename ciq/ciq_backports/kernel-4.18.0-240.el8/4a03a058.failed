arm64/mm: enable HugeTLB migration

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Anshuman Khandual <anshuman.khandual@arm.com>
commit 4a03a058d1fe7558faffab1a831dde508501e85c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/4a03a058.failed

Let arm64 subscribe to generic HugeTLB page migration framework.  Right
now this only works on the following PMD and PUD level HugeTLB page
sizes with various kernel base page size combinations.

         CONT PTE    PMD    CONT PMD    PUD
         --------    ---    --------    ---
  4K:         NA     2M         NA      1G
  16K:        NA    32M         NA
  64K:        NA   512M         NA

Link: http://lkml.kernel.org/r/1545121450-1663-5-git-send-email-anshuman.khandual@arm.com
	Signed-off-by: Anshuman Khandual <anshuman.khandual@arm.com>
	Reviewed-by: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
	Reviewed-by: Steve Capper <steve.capper@arm.com>
	Acked-by: Catalin Marinas <catalin.marinas@arm.com>
	Cc: Michal Hocko <mhocko@kernel.org>
	Cc: Michal Hocko <mhocko@suse.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 4a03a058d1fe7558faffab1a831dde508501e85c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/Kconfig
diff --cc arch/arm64/Kconfig
index 347f141befab,cfbf307d6dc4..000000000000
--- a/arch/arm64/Kconfig
+++ b/arch/arm64/Kconfig
@@@ -1544,7 -1467,9 +1544,13 @@@ config SYSVIPC_COMPA
  	def_bool y
  	depends on COMPAT && SYSVIPC
  
++<<<<<<< HEAD
 +endmenu
++=======
+ config ARCH_ENABLE_HUGEPAGE_MIGRATION
+ 	def_bool y
+ 	depends on HUGETLB_PAGE && MIGRATION
++>>>>>>> 4a03a058d1fe (arm64/mm: enable HugeTLB migration)
  
  menu "Power management options"
  
* Unmerged path arch/arm64/Kconfig
