ice: add support for E823 devices

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Bruce Allan <bruce.w.allan@intel.com>
commit e36aeec0f4e551a7fe01758e652d135638b4865b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/e36aeec0.failed

Add E823 device ids and convert conditional expressions to a more
appropriate switch statement.

	Signed-off-by: Bruce Allan <bruce.w.allan@intel.com>
	Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit e36aeec0f4e551a7fe01758e652d135638b4865b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ice/ice_devids.h
#	drivers/net/ethernet/intel/ice/ice_main.c
diff --cc drivers/net/ethernet/intel/ice/ice_devids.h
index ce63017c56c7,6fccb66ff43c..000000000000
--- a/drivers/net/ethernet/intel/ice/ice_devids.h
+++ b/drivers/net/ethernet/intel/ice/ice_devids.h
@@@ -11,6 -21,18 +21,21 @@@
  #define ICE_DEV_ID_E810C_QSFP		0x1592
  /* Intel(R) Ethernet Controller E810-C for SFP */
  #define ICE_DEV_ID_E810C_SFP		0x1593
++<<<<<<< HEAD
++=======
+ /* Intel(R) Ethernet Controller E810-XXV for SFP */
+ #define ICE_DEV_ID_E810_XXV_SFP		0x159B
+ /* Intel(R) Ethernet Connection E823-C for backplane */
+ #define ICE_DEV_ID_E823C_BACKPLANE	0x188A
+ /* Intel(R) Ethernet Connection E823-C for QSFP */
+ #define ICE_DEV_ID_E823C_QSFP		0x188B
+ /* Intel(R) Ethernet Connection E823-C for SFP */
+ #define ICE_DEV_ID_E823C_SFP		0x188C
+ /* Intel(R) Ethernet Connection E823-C/X557-AT 10GBASE-T */
+ #define ICE_DEV_ID_E823C_10G_BASE_T	0x188D
+ /* Intel(R) Ethernet Connection E823-C 1GbE */
+ #define ICE_DEV_ID_E823C_SGMII		0x188E
++>>>>>>> e36aeec0f4e5 (ice: add support for E823 devices)
  /* Intel(R) Ethernet Connection E822-C for backplane */
  #define ICE_DEV_ID_E822C_BACKPLANE	0x1890
  /* Intel(R) Ethernet Connection E822-C for QSFP */
diff --cc drivers/net/ethernet/intel/ice/ice_main.c
index f483b0b864fc,3eef423226f7..000000000000
--- a/drivers/net/ethernet/intel/ice/ice_main.c
+++ b/drivers/net/ethernet/intel/ice/ice_main.c
@@@ -3533,6 -3552,12 +3533,15 @@@ static const struct pci_device_id ice_p
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E810C_BACKPLANE), 0 },
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E810C_QSFP), 0 },
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E810C_SFP), 0 },
++<<<<<<< HEAD
++=======
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E810_XXV_SFP), 0 },
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E823C_BACKPLANE), 0 },
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E823C_QSFP), 0 },
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E823C_SFP), 0 },
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E823C_10G_BASE_T), 0 },
+ 	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E823C_SGMII), 0 },
++>>>>>>> e36aeec0f4e5 (ice: add support for E823 devices)
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E822C_BACKPLANE), 0 },
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E822C_QSFP), 0 },
  	{ PCI_VDEVICE(INTEL, ICE_DEV_ID_E822C_SFP), 0 },
* Unmerged path drivers/net/ethernet/intel/ice/ice_devids.h
* Unmerged path drivers/net/ethernet/intel/ice/ice_main.c
diff --git a/drivers/net/ethernet/intel/ice/ice_nvm.c b/drivers/net/ethernet/intel/ice/ice_nvm.c
index 7525ac50742e..75cd4cbb473b 100644
--- a/drivers/net/ethernet/intel/ice/ice_nvm.c
+++ b/drivers/net/ethernet/intel/ice/ice_nvm.c
@@ -289,17 +289,31 @@ enum ice_status ice_init_nvm(struct ice_hw *hw)
 
 	nvm->eetrack = (eetrack_hi << 16) | eetrack_lo;
 
+	switch (hw->device_id) {
 	/* the following devices do not have boot_cfg_tlv yet */
-	if (hw->device_id == ICE_DEV_ID_E822C_BACKPLANE ||
-	    hw->device_id == ICE_DEV_ID_E822C_QSFP ||
-	    hw->device_id == ICE_DEV_ID_E822C_10G_BASE_T ||
-	    hw->device_id == ICE_DEV_ID_E822C_SGMII ||
-	    hw->device_id == ICE_DEV_ID_E822C_SFP ||
-	    hw->device_id == ICE_DEV_ID_E822X_BACKPLANE ||
-	    hw->device_id == ICE_DEV_ID_E822L_SFP ||
-	    hw->device_id == ICE_DEV_ID_E822L_10G_BASE_T ||
-	    hw->device_id == ICE_DEV_ID_E822L_SGMII)
+	case ICE_DEV_ID_E823C_BACKPLANE:
+	case ICE_DEV_ID_E823C_QSFP:
+	case ICE_DEV_ID_E823C_SFP:
+	case ICE_DEV_ID_E823C_10G_BASE_T:
+	case ICE_DEV_ID_E823C_SGMII:
+	case ICE_DEV_ID_E822C_BACKPLANE:
+	case ICE_DEV_ID_E822C_QSFP:
+	case ICE_DEV_ID_E822C_10G_BASE_T:
+	case ICE_DEV_ID_E822C_SGMII:
+	case ICE_DEV_ID_E822C_SFP:
+	case ICE_DEV_ID_E822X_BACKPLANE:
+	case ICE_DEV_ID_E822L_SFP:
+	case ICE_DEV_ID_E822L_10G_BASE_T:
+	case ICE_DEV_ID_E822L_SGMII:
+	case ICE_DEV_ID_E823L_BACKPLANE:
+	case ICE_DEV_ID_E823L_SFP:
+	case ICE_DEV_ID_E823L_10G_BASE_T:
+	case ICE_DEV_ID_E823L_1GBE:
+	case ICE_DEV_ID_E823L_QSFP:
 		return status;
+	default:
+		break;
+	}
 
 	status = ice_get_pfa_module_tlv(hw, &boot_cfg_tlv, &boot_cfg_tlv_len,
 					ICE_SR_BOOT_CFG_PTR);
