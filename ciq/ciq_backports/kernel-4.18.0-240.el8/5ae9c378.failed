drm/amd/display: Enable output_bpc property on all outputs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Stylon Wang <stylon.wang@amd.com>
commit 5ae9c378c3d88b40af72f8e8f961808e29f3e70b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/5ae9c378.failed

[Why]
Connector property output_bpc is available on DP/eDP only. New IGT tests
would benifit if this property works on HDMI.

[How]
Enable this read-only property on all types of connectors.

	Signed-off-by: Stylon Wang <stylon.wang@amd.com>
	Reviewed-by: Nicholas Kazlauskas <Nicholas.Kazlauskas@amd.com>
	Acked-by: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit 5ae9c378c3d88b40af72f8e8f961808e29f3e70b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
diff --cc drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
index 36a1d794b4af,1d692f4f42f3..000000000000
--- a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
+++ b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
@@@ -934,8 -1058,10 +934,7 @@@ static const struct 
  		{"link_settings", &dp_link_settings_debugfs_fops},
  		{"phy_settings", &dp_phy_settings_debugfs_fop},
  		{"test_pattern", &dp_phy_test_pattern_fops},
- 		{"output_bpc", &output_bpc_fops},
  		{"vrr_range", &vrr_range_fops},
 -#ifdef CONFIG_DRM_AMD_DC_HDCP
 -		{"hdcp_sink_capability", &hdcp_sink_capability_fops},
 -#endif
  		{"sdp_message", &sdp_message_fops},
  		{"aux_dpcd_address", &dp_dpcd_address_debugfs_fops},
  		{"aux_dpcd_size", &dp_dpcd_size_debugfs_fops},
@@@ -955,6 -1135,27 +954,30 @@@ void connector_debugfs_init(struct amdg
  					    dp_debugfs_entries[i].fops);
  		}
  	}
++<<<<<<< HEAD
++=======
+ 	if (connector->base.connector_type == DRM_MODE_CONNECTOR_eDP)
+ 		debugfs_create_file_unsafe("psr_state", 0444, dir, connector, &psr_fops);
+ 
+ 	debugfs_create_file_unsafe("force_yuv420_output", 0644, dir, connector,
+ 				   &force_yuv420_output_fops);
+ 
+ 	debugfs_create_file("output_bpc", 0644, dir, connector,
+ 			    &output_bpc_fops);
+ 
+ 	connector->debugfs_dpcd_address = 0;
+ 	connector->debugfs_dpcd_size = 0;
+ 
+ #ifdef CONFIG_DRM_AMD_DC_HDCP
+ 	if (connector->base.connector_type == DRM_MODE_CONNECTOR_HDMIA) {
+ 		for (i = 0; i < ARRAY_SIZE(hdmi_debugfs_entries); i++) {
+ 			debugfs_create_file(hdmi_debugfs_entries[i].name,
+ 					    0644, dir, connector,
+ 					    hdmi_debugfs_entries[i].fops);
+ 		}
+ 	}
+ #endif
++>>>>>>> 5ae9c378c3d8 (drm/amd/display: Enable output_bpc property on all outputs)
  }
  
  /*
* Unmerged path drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_debugfs.c
