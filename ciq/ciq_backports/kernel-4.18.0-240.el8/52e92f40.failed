perf/x86/cstate: Add Tiger Lake CPU support

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Kan Liang <kan.liang@linux.intel.com>
commit 52e92f409dede388b7dc3ee13491fbf7a80db935
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/52e92f40.failed

Tiger Lake is the followon to Ice Lake. From the perspective of Intel
cstate residency counters, there is nothing changed compared with
Ice Lake.

Share icl_cstates with Ice Lake.
Update the comments for Tiger Lake.

The External Design Specification (EDS) is not published yet. It comes
from an authoritative internal source.

The patch has been tested on real hardware.

	Signed-off-by: Kan Liang <kan.liang@linux.intel.com>
	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Thomas Gleixner <tglx@linutronix.de>
Link: https://lkml.kernel.org/r/1570549810-25049-10-git-send-email-kan.liang@linux.intel.com
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 52e92f409dede388b7dc3ee13491fbf7a80db935)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/events/intel/cstate.c
diff --cc arch/x86/events/intel/cstate.c
index 3bd898f59953,e1daf4151e11..000000000000
--- a/arch/x86/events/intel/cstate.c
+++ b/arch/x86/events/intel/cstate.c
@@@ -50,43 -50,44 +50,80 @@@
   *	MSR_CORE_C6_RESIDENCY: CORE C6 Residency Counter
   *			       perf code: 0x02
   *			       Available model: SLM,AMT,NHM,WSM,SNB,IVB,HSW,BDW,
++<<<<<<< HEAD
 + *						SKL,KNL,GLM,CNL,KBL,CML
 + *			       Scope: Core
 + *	MSR_CORE_C7_RESIDENCY: CORE C7 Residency Counter
 + *			       perf code: 0x03
 + *			       Available model: SNB,IVB,HSW,BDW,SKL,CNL,KBL,CML
++=======
+  *						SKL,KNL,GLM,CNL,KBL,CML,ICL,TGL
+  *			       Scope: Core
+  *	MSR_CORE_C7_RESIDENCY: CORE C7 Residency Counter
+  *			       perf code: 0x03
+  *			       Available model: SNB,IVB,HSW,BDW,SKL,CNL,KBL,CML,
+  *						ICL,TGL
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
   *			       Scope: Core
   *	MSR_PKG_C2_RESIDENCY:  Package C2 Residency Counter.
   *			       perf code: 0x00
   *			       Available model: SNB,IVB,HSW,BDW,SKL,KNL,GLM,CNL,
++<<<<<<< HEAD
 + *						KBL,CML
++=======
+  *						KBL,CML,ICL,TGL
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
   *			       Scope: Package (physical package)
   *	MSR_PKG_C3_RESIDENCY:  Package C3 Residency Counter.
   *			       perf code: 0x01
   *			       Available model: NHM,WSM,SNB,IVB,HSW,BDW,SKL,KNL,
++<<<<<<< HEAD
 + *						GLM,CNL,KBL,CML
++=======
+  *						GLM,CNL,KBL,CML,ICL,TGL
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
   *			       Scope: Package (physical package)
   *	MSR_PKG_C6_RESIDENCY:  Package C6 Residency Counter.
   *			       perf code: 0x02
   *			       Available model: SLM,AMT,NHM,WSM,SNB,IVB,HSW,BDW
++<<<<<<< HEAD
 + *						SKL,KNL,GLM,CNL,KBL,CML
++=======
+  *						SKL,KNL,GLM,CNL,KBL,CML,ICL,TGL
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
   *			       Scope: Package (physical package)
   *	MSR_PKG_C7_RESIDENCY:  Package C7 Residency Counter.
   *			       perf code: 0x03
   *			       Available model: NHM,WSM,SNB,IVB,HSW,BDW,SKL,CNL,
++<<<<<<< HEAD
 + *						KBL,CML
 + *			       Scope: Package (physical package)
 + *	MSR_PKG_C8_RESIDENCY:  Package C8 Residency Counter.
 + *			       perf code: 0x04
 + *			       Available model: HSW ULT,KBL,CNL,CML
 + *			       Scope: Package (physical package)
 + *	MSR_PKG_C9_RESIDENCY:  Package C9 Residency Counter.
 + *			       perf code: 0x05
 + *			       Available model: HSW ULT,KBL,CNL,CML
 + *			       Scope: Package (physical package)
 + *	MSR_PKG_C10_RESIDENCY: Package C10 Residency Counter.
 + *			       perf code: 0x06
 + *			       Available model: HSW ULT,KBL,GLM,CNL,CML
++=======
+  *						KBL,CML,ICL,TGL
+  *			       Scope: Package (physical package)
+  *	MSR_PKG_C8_RESIDENCY:  Package C8 Residency Counter.
+  *			       perf code: 0x04
+  *			       Available model: HSW ULT,KBL,CNL,CML,ICL,TGL
+  *			       Scope: Package (physical package)
+  *	MSR_PKG_C9_RESIDENCY:  Package C9 Residency Counter.
+  *			       perf code: 0x05
+  *			       Available model: HSW ULT,KBL,CNL,CML,ICL,TGL
+  *			       Scope: Package (physical package)
+  *	MSR_PKG_C10_RESIDENCY: Package C10 Residency Counter.
+  *			       perf code: 0x06
+  *			       Available model: HSW ULT,KBL,GLM,CNL,CML,ICL,TGL
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
   *			       Scope: Package (physical package)
   *
   */
@@@ -629,8 -643,10 +666,15 @@@ static const struct x86_cpu_id intel_cs
  
  	X86_CSTATES_MODEL(INTEL_FAM6_ATOM_GOLDMONT_PLUS, glm_cstates),
  
++<<<<<<< HEAD
 +	X86_CSTATES_MODEL(INTEL_FAM6_ICELAKE_L, snb_cstates),
 +	X86_CSTATES_MODEL(INTEL_FAM6_ICELAKE, snb_cstates),
++=======
+ 	X86_CSTATES_MODEL(INTEL_FAM6_ICELAKE_L, icl_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_ICELAKE,   icl_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_TIGERLAKE_L, icl_cstates),
+ 	X86_CSTATES_MODEL(INTEL_FAM6_TIGERLAKE, icl_cstates),
++>>>>>>> 52e92f409ded (perf/x86/cstate: Add Tiger Lake CPU support)
  	{ },
  };
  MODULE_DEVICE_TABLE(x86cpu, intel_cstates_match);
* Unmerged path arch/x86/events/intel/cstate.c
