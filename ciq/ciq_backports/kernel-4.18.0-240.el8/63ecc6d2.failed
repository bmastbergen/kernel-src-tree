Drivers: hv: vmbus: Suspend/resume the synic for hibernation

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [hv] hv: vmbus: Suspend/resume the synic for hibernation (Mohammed Gamal) [1816731]
Rebuild_FUZZ: 91.89%
commit-author Dexuan Cui <decui@microsoft.com>
commit 63ecc6d22ce46643165c391a9c90ba67e22e1c0f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/63ecc6d2.failed

This is needed when we resume the old kernel from the "current" kernel.

Note: when hv_synic_suspend() and hv_synic_resume() run, all the
non-boot CPUs have been offlined, and interrupts are disabled on CPU0.

	Signed-off-by: Dexuan Cui <decui@microsoft.com>
	Reviewed-by: Michael Kelley <mikelley@microsoft.com>
	Signed-off-by: Sasha Levin <sashal@kernel.org>
(cherry picked from commit 63ecc6d22ce46643165c391a9c90ba67e22e1c0f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hv/vmbus_drv.c
diff --cc drivers/hv/vmbus_drv.c
index 698977f33670,2ef375ce58ac..000000000000
--- a/drivers/hv/vmbus_drv.c
+++ b/drivers/hv/vmbus_drv.c
@@@ -43,6 -30,8 +43,11 @@@
  #include <linux/kdebug.h>
  #include <linux/efi.h>
  #include <linux/random.h>
++<<<<<<< HEAD
++=======
+ #include <linux/syscore_ops.h>
+ #include <clocksource/hyperv_timer.h>
++>>>>>>> 63ecc6d22ce4 (Drivers: hv: vmbus: Suspend/resume the synic for hibernation)
  #include "hyperv_vmbus.h"
  
  struct vmbus_dynid {
* Unmerged path drivers/hv/vmbus_drv.c
