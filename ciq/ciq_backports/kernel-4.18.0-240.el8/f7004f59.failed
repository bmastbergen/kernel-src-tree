perf evsel: Switch to libperf's cpumap.h

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit f7004f5990e230710112b89f2f11777e5e64e258
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/f7004f59.failed

We don't need what is in perf's util/cpumap.h, just the struct cpu_map
that is in libperf's internal/cpumap.h file to cover this one case:

  tools/perf/util/evsel.h:215:27: error: dereferencing pointer to incomplete type ‘struct perf_cpu_map’
  215 |  return evsel__cpus(evsel)->nr;

So switch to libperf's cpumap.h and add some missing struct foward
declarations and include sys/types.h to get pid_t.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
Link: https://lkml.kernel.org/n/tip-ufjkpohijti05ggk69s91ktf@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit f7004f5990e230710112b89f2f11777e5e64e258)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/evsel.h
diff --cc tools/perf/util/evsel.h
index 139ed11fb6f6,5a351cae66df..000000000000
--- a/tools/perf/util/evsel.h
+++ b/tools/perf/util/evsel.h
@@@ -5,14 -5,17 +5,23 @@@
  #include <linux/list.h>
  #include <stdbool.h>
  #include <stdio.h>
+ #include <sys/types.h>
  #include <linux/perf_event.h>
  #include <linux/types.h>
 -#include <internal/evsel.h>
 -#include <perf/evsel.h>
 +#include "xyarray.h"
  #include "symbol_conf.h"
++<<<<<<< HEAD
 +#include "cpumap.h"
 +#include "counts.h"
 +
 +struct perf_evsel;
++=======
+ #include <internal/cpumap.h>
+ 
+ struct addr_location;
+ struct evsel;
+ union perf_event;
++>>>>>>> f7004f5990e2 (perf evsel: Switch to libperf's cpumap.h)
  
  /*
   * Per fd, to map back from PERF_SAMPLE_ID to evsel, only used when there are
* Unmerged path tools/perf/util/evsel.h
