net/mlx5e: CT: Support clear action

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Paul Blakey <paulb@mellanox.com>
commit 1ef3018f5af3da6376fae546e4dfc3f05f063815
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/1ef3018f.failed

Clear action, as with software, removes all ct metadata from
the packet.

	Signed-off-by: Paul Blakey <paulb@mellanox.com>
	Reviewed-by: Oz Shlomo <ozsh@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1ef3018f5af3da6376fae546e4dfc3f05f063815)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.c
#	drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.h
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index 2e22a8de6513,044891a03be3..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -1039,7 -1151,15 +1039,18 @@@ mlx5e_tc_offload_fdb_rules(struct mlx5_
  			   struct mlx5_flow_spec *spec,
  			   struct mlx5_esw_flow_attr *attr)
  {
+ 	struct mlx5e_tc_mod_hdr_acts *mod_hdr_acts;
  	struct mlx5_flow_handle *rule;
++<<<<<<< HEAD
++=======
+ 
+ 	if (flow_flag_test(flow, CT)) {
+ 		mod_hdr_acts = &attr->parse_attr->mod_hdr_acts;
+ 
+ 		return mlx5_tc_ct_flow_offload(flow->priv, flow, spec, attr,
+ 					       mod_hdr_acts);
+ 	}
++>>>>>>> 1ef3018f5af3 (net/mlx5e: CT: Support clear action)
  
  	rule = mlx5_eswitch_add_offloaded_rule(esw, spec, attr);
  	if (IS_ERR(rule))
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.c
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.h
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.c
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en/tc_ct.h
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
