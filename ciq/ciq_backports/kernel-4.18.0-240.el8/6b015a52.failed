net_sched: sch_fq: avoid calling ktime_get_ns() if not needed

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Eric Dumazet <edumazet@google.com>
commit 6b015a523fa3ba57ccd9c72697163b560fcdedb4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/6b015a52.failed

There are two cases were we can avoid calling ktime_get_ns() :

1) Queue is empty.
2) Internal queue is not empty.

	Signed-off-by: Eric Dumazet <edumazet@google.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 6b015a523fa3ba57ccd9c72697163b560fcdedb4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/sch_fq.c
diff --cc net/sched/sch_fq.c
index f3a0ec615e61,1a662f2bb7bb..000000000000
--- a/net/sched/sch_fq.c
+++ b/net/sched/sch_fq.c
@@@ -414,8 -417,12 +414,16 @@@ static struct sk_buff *fq_dequeue(struc
  	struct fq_flow_head *head;
  	struct sk_buff *skb;
  	struct fq_flow *f;
++<<<<<<< HEAD
 +	u32 rate, plen;
++=======
+ 	unsigned long rate;
+ 	u32 plen;
+ 	u64 now;
+ 
+ 	if (!sch->q.qlen)
+ 		return NULL;
++>>>>>>> 6b015a523fa3 (net_sched: sch_fq: avoid calling ktime_get_ns() if not needed)
  
  	skb = fq_dequeue_head(sch, &q->internal);
  	if (skb)
* Unmerged path net/sched/sch_fq.c
