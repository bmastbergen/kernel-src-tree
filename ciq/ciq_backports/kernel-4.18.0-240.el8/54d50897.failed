linux/kernel.h: split *_MAX and *_MIN macros into <linux/limits.h>

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Masahiro Yamada <yamada.masahiro@socionext.com>
commit 54d50897d544c874562253e2a8f70dfcad22afe8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/54d50897.failed

<linux/kernel.h> tends to be cluttered because we often put various sort
of unrelated stuff in it.  So, we have split out a sensible chunk of
code into a separate header from time to time.

This commit splits out the *_MAX and *_MIN defines.

The standard header <limits.h> contains various MAX, MIN constants
including numerial limits.  [1]

I think it makes sense to move in-kernel MAX, MIN constants into
include/linux/limits.h.

We already have include/uapi/linux/limits.h to contain some user-space
constants.  I changed its include guard to _UAPI_LINUX_LIMITS_H.  This
change has no impact to the user-space because
scripts/headers_install.sh rips off the '_UAPI' prefix from the include
guards of exported headers.

[1] http://pubs.opengroup.org/onlinepubs/009604499/basedefs/limits.h.html

Link: http://lkml.kernel.org/r/1549156242-20806-2-git-send-email-yamada.masahiro@socionext.com
	Signed-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>
	Cc: Alex Elder <elder@linaro.org>
	Cc: Alexey Dobriyan <adobriyan@gmail.com>
	Cc: Zhang Yanmin <yanmin.zhang@intel.com>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
(cherry picked from commit 54d50897d544c874562253e2a8f70dfcad22afe8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/kernel.h
diff --cc include/linux/kernel.h
index e00b6c98fb5b,34a5036debd3..000000000000
--- a/include/linux/kernel.h
+++ b/include/linux/kernel.h
@@@ -14,37 -15,9 +15,40 @@@
  #include <linux/printk.h>
  #include <linux/build_bug.h>
  #include <asm/byteorder.h>
 -#include <asm/div64.h>
  #include <uapi/linux/kernel.h>
 +#include <asm/div64.h>
  
++<<<<<<< HEAD
 +#define USHRT_MAX	((u16)(~0U))
 +#define SHRT_MAX	((s16)(USHRT_MAX>>1))
 +#define SHRT_MIN	((s16)(-SHRT_MAX - 1))
 +#define INT_MAX		((int)(~0U>>1))
 +#define INT_MIN		(-INT_MAX - 1)
 +#define UINT_MAX	(~0U)
 +#define LONG_MAX	((long)(~0UL>>1))
 +#define LONG_MIN	(-LONG_MAX - 1)
 +#define ULONG_MAX	(~0UL)
 +#define LLONG_MAX	((long long)(~0ULL>>1))
 +#define LLONG_MIN	(-LLONG_MAX - 1)
 +#define ULLONG_MAX	(~0ULL)
 +#define SIZE_MAX	(~(size_t)0)
 +#define PHYS_ADDR_MAX	(~(phys_addr_t)0)
 +
 +#define U8_MAX		((u8)~0U)
 +#define S8_MAX		((s8)(U8_MAX>>1))
 +#define S8_MIN		((s8)(-S8_MAX - 1))
 +#define U16_MAX		((u16)~0U)
 +#define S16_MAX		((s16)(U16_MAX>>1))
 +#define S16_MIN		((s16)(-S16_MAX - 1))
 +#define U32_MAX		((u32)~0U)
 +#define S32_MAX		((s32)(U32_MAX>>1))
 +#define S32_MIN		((s32)(-S32_MAX - 1))
 +#define U64_MAX		((u64)~0ULL)
 +#define S64_MAX		((s64)(U64_MAX>>1))
 +#define S64_MIN		((s64)(-S64_MAX - 1))
 +
++=======
++>>>>>>> 54d50897d544 (linux/kernel.h: split *_MAX and *_MIN macros into <linux/limits.h>)
  #define STACK_MAGIC	0xdeadbeef
  
  /**
* Unmerged path include/linux/kernel.h
diff --git a/include/linux/limits.h b/include/linux/limits.h
new file mode 100644
index 000000000000..76afcd24ff8c
--- /dev/null
+++ b/include/linux/limits.h
@@ -0,0 +1,36 @@
+/* SPDX-License-Identifier: GPL-2.0 */
+#ifndef _LINUX_LIMITS_H
+#define _LINUX_LIMITS_H
+
+#include <uapi/linux/limits.h>
+#include <linux/types.h>
+
+#define USHRT_MAX	((unsigned short)~0U)
+#define SHRT_MAX	((short)(USHRT_MAX >> 1))
+#define SHRT_MIN	((short)(-SHRT_MAX - 1))
+#define INT_MAX		((int)(~0U >> 1))
+#define INT_MIN		(-INT_MAX - 1)
+#define UINT_MAX	(~0U)
+#define LONG_MAX	((long)(~0UL >> 1))
+#define LONG_MIN	(-LONG_MAX - 1)
+#define ULONG_MAX	(~0UL)
+#define LLONG_MAX	((long long)(~0ULL >> 1))
+#define LLONG_MIN	(-LLONG_MAX - 1)
+#define ULLONG_MAX	(~0ULL)
+#define SIZE_MAX	(~(size_t)0)
+#define PHYS_ADDR_MAX	(~(phys_addr_t)0)
+
+#define U8_MAX		((u8)~0U)
+#define S8_MAX		((s8)(U8_MAX >> 1))
+#define S8_MIN		((s8)(-S8_MAX - 1))
+#define U16_MAX		((u16)~0U)
+#define S16_MAX		((s16)(U16_MAX >> 1))
+#define S16_MIN		((s16)(-S16_MAX - 1))
+#define U32_MAX		((u32)~0U)
+#define S32_MAX		((s32)(U32_MAX >> 1))
+#define S32_MIN		((s32)(-S32_MAX - 1))
+#define U64_MAX		((u64)~0ULL)
+#define S64_MAX		((s64)(U64_MAX >> 1))
+#define S64_MIN		((s64)(-S64_MAX - 1))
+
+#endif /* _LINUX_LIMITS_H */
diff --git a/include/uapi/linux/limits.h b/include/uapi/linux/limits.h
index c3547f07605c..6bcbe3068761 100644
--- a/include/uapi/linux/limits.h
+++ b/include/uapi/linux/limits.h
@@ -1,6 +1,6 @@
 /* SPDX-License-Identifier: GPL-2.0 WITH Linux-syscall-note */
-#ifndef _LINUX_LIMITS_H
-#define _LINUX_LIMITS_H
+#ifndef _UAPI_LINUX_LIMITS_H
+#define _UAPI_LINUX_LIMITS_H
 
 #define NR_OPEN	        1024
 
