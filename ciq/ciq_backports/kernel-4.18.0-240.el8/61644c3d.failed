net/mlx5e: Use NL_SET_ERR_MSG_MOD() extack for errors

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Roi Dayan <roid@mellanox.com>
commit 61644c3de8a30245c1d4aae7f164175a0498ca76
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/61644c3d.failed

This to be consistent and adds the module name to the error message.

	Signed-off-by: Roi Dayan <roid@mellanox.com>
	Reviewed-by: Eli Cohen <eli@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 61644c3de8a30245c1d4aae7f164175a0498ca76)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index 3a708d1db4f9,1288d7fe67d7..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -1171,8 -1171,10 +1171,14 @@@ mlx5e_tc_add_fdb_flow(struct mlx5e_pri
  	int err = 0;
  	int out_index;
  
++<<<<<<< HEAD
 +	if (!mlx5_eswitch_prios_supported(esw) && attr->prio != 1) {
 +		NL_SET_ERR_MSG(extack, "E-switch priorities unsupported, upgrade FW");
++=======
+ 	if (!mlx5_esw_chains_prios_supported(esw) && attr->prio != 1) {
+ 		NL_SET_ERR_MSG_MOD(extack,
+ 				   "E-switch priorities unsupported, upgrade FW");
++>>>>>>> 61644c3de8a3 (net/mlx5e: Use NL_SET_ERR_MSG_MOD() extack for errors)
  		return -EOPNOTSUPP;
  	}
  
@@@ -1181,13 -1183,17 +1187,15 @@@
  	 * FDB_FT_CHAIN which is outside tc range.
  	 * See mlx5e_rep_setup_ft_cb().
  	 */
 -	max_chain = mlx5_esw_chains_get_chain_range(esw);
  	if (!mlx5e_is_ft_flow(flow) && attr->chain > max_chain) {
- 		NL_SET_ERR_MSG(extack, "Requested chain is out of supported range");
+ 		NL_SET_ERR_MSG_MOD(extack,
+ 				   "Requested chain is out of supported range");
  		return -EOPNOTSUPP;
  	}
  
 -	max_prio = mlx5_esw_chains_get_prio_range(esw);
  	if (attr->prio > max_prio) {
- 		NL_SET_ERR_MSG(extack, "Requested priority is out of supported range");
+ 		NL_SET_ERR_MSG_MOD(extack,
+ 				   "Requested priority is out of supported range");
  		return -EOPNOTSUPP;
  	}
  
@@@ -3476,8 -3541,10 +3484,15 @@@ static int parse_tc_fdb_actions(struct 
  				NL_SET_ERR_MSG_MOD(extack, "Goto action is not supported");
  				return -EOPNOTSUPP;
  			}
++<<<<<<< HEAD
 +			if (dest_chain <= attr->chain) {
 +				NL_SET_ERR_MSG(extack, "Goto earlier chain isn't supported");
++=======
+ 			if (!mlx5_esw_chains_backwards_supported(esw) &&
+ 			    dest_chain <= attr->chain) {
+ 				NL_SET_ERR_MSG_MOD(extack,
+ 						   "Goto earlier chain isn't supported");
++>>>>>>> 61644c3de8a3 (net/mlx5e: Use NL_SET_ERR_MSG_MOD() extack for errors)
  				return -EOPNOTSUPP;
  			}
  			if (dest_chain > max_chain) {
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
