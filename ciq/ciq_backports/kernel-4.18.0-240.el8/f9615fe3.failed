gfs2: Change BUG_ON to an assert_withdraw in gfs2_quota_change

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Bob Peterson <rpeterso@redhat.com>
commit f9615fe3113f1067093f7f68d46d281b4c9a5978
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/f9615fe3.failed

Before this patch, gfs2_quota_change() would BUG_ON if the
qa_ref counter was not a positive number. This patch changes it to
be a withdraw instead. That way we can debug things more easily.

	Signed-off-by: Bob Peterson <rpeterso@redhat.com>
	Signed-off-by: Andreas Gruenbacher <agruenba@redhat.com>
(cherry picked from commit f9615fe3113f1067093f7f68d46d281b4c9a5978)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/gfs2/quota.c
diff --cc fs/gfs2/quota.c
index 0efae7a0ee80,a62be4267c17..000000000000
--- a/fs/gfs2/quota.c
+++ b/fs/gfs2/quota.c
@@@ -1262,6 -1270,9 +1262,12 @@@ void gfs2_quota_change(struct gfs2_inod
  	if (ip->i_diskflags & GFS2_DIF_SYSTEM)
  		return;
  
++<<<<<<< HEAD
++=======
+ 	if (gfs2_assert_withdraw(sdp, ip->i_qadata &&
+ 				 ip->i_qadata->qa_ref > 0))
+ 		return;
++>>>>>>> f9615fe3113f (gfs2: Change BUG_ON to an assert_withdraw in gfs2_quota_change)
  	for (x = 0; x < ip->i_qadata->qa_qd_num; x++) {
  		qd = ip->i_qadata->qa_qd[x];
  
* Unmerged path fs/gfs2/quota.c
