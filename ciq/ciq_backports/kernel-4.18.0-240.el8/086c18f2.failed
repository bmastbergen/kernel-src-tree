ionic: centralize queue reset code

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Shannon Nelson <snelson@pensando.io>
commit 086c18f2452d0028f81e319f098bcb8e53133dbf
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/086c18f2.failed

The queue reset pattern is used in a couple different places,
only slightly different from each other, and could cause
issues if one gets changed and the other didn't.  This puts
them together so that only one version is needed, yet each
can have slighty different effects by passing in a pointer
to a work function to do whatever configuration twiddling is
needed in the middle of the reset.

This specifically addresses issues seen where under loops
of changing ring size or queue count parameters we could
occasionally bump into the netdev watchdog.

v2: added more commit message commentary

Fixes: 4d03e00a2140 ("ionic: Add initial ethtool support")
	Signed-off-by: Shannon Nelson <snelson@pensando.io>
	Acked-by: Jakub Kicinski <kuba@kernel.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 086c18f2452d0028f81e319f098bcb8e53133dbf)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
#	drivers/net/ethernet/pensando/ionic/ionic_lif.c
#	drivers/net/ethernet/pensando/ionic/ionic_lif.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.h
