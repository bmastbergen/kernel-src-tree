KVM: PPC: Book3S HV: H_SVM_INIT_START must call UV_RETURN

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Laurent Dufour <ldufour@linux.ibm.com>
commit 377f02d487b5f74a2411fa01316ba4aff1819629
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/377f02d4.failed

When the call to UV_REGISTER_MEM_SLOT is failing, for instance because
there is not enough free secured memory, the Hypervisor (HV) has to call
UV_RETURN to report the error to the Ultravisor (UV). Then the UV will call
H_SVM_INIT_ABORT to abort the securing phase and go back to the calling VM.

If the kvm->arch.secure_guest is not set, in the return path rfid is called
but there is no valid context to get back to the SVM since the Hcall has
been routed by the Ultravisor.

Move the setting of kvm->arch.secure_guest earlier in
kvmppc_h_svm_init_start() so in the return path, UV_RETURN will be called
instead of rfid.

	Cc: Bharata B Rao <bharata@linux.ibm.com>
	Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
	Cc: Michael Ellerman <mpe@ellerman.id.au>
	Signed-off-by: Laurent Dufour <ldufour@linux.ibm.com>
	Reviewed-by: Ram Pai <linuxram@us.ibm.com>
	Tested-by: Fabiano Rosas <farosas@linux.ibm.com>
	Signed-off-by: Paul Mackerras <paulus@ozlabs.org>
(cherry picked from commit 377f02d487b5f74a2411fa01316ba4aff1819629)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/kvm/book3s_hv_uvmem.c
* Unmerged path arch/powerpc/kvm/book3s_hv_uvmem.c
* Unmerged path arch/powerpc/kvm/book3s_hv_uvmem.c
