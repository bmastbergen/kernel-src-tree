locking/percpu-rwsem: Add might_sleep() for writer locking

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Davidlohr Bueso <dave@stgolabs.net>
commit 41f0e29190ac9e38099a37abd1a8a4cb1dc21233
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/41f0e291.failed

We are missing this annotation in percpu_down_write(). Correct
this.

	Signed-off-by: Davidlohr Bueso <dbueso@suse.de>
	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
	Acked-by: Will Deacon <will@kernel.org>
	Acked-by: Waiman Long <longman@redhat.com>
Link: https://lkml.kernel.org/r/20200108013305.7732-1-dave@stgolabs.net
(cherry picked from commit 41f0e29190ac9e38099a37abd1a8a4cb1dc21233)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/locking/percpu-rwsem.c
diff --cc kernel/locking/percpu-rwsem.c
index eb5134b6ac21,183a3aaa8509..000000000000
--- a/kernel/locking/percpu-rwsem.c
+++ b/kernel/locking/percpu-rwsem.c
@@@ -143,6 -212,9 +143,12 @@@ static bool readers_active_check(struc
  
  void percpu_down_write(struct percpu_rw_semaphore *sem)
  {
++<<<<<<< HEAD
++=======
+ 	might_sleep();
+ 	rwsem_acquire(&sem->dep_map, 0, 0, _RET_IP_);
+ 
++>>>>>>> 41f0e29190ac (locking/percpu-rwsem: Add might_sleep() for writer locking)
  	/* Notify readers to take the slow path. */
  	rcu_sync_enter(&sem->rss);
  
* Unmerged path kernel/locking/percpu-rwsem.c
