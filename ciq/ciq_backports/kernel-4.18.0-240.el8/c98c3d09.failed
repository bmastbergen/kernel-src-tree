block: cleanup the !zoned case in blk_revalidate_disk_zones

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Christoph Hellwig <hch@lst.de>
commit c98c3d09fca41323765af0dc7926b150cf29ebff
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/c98c3d09.failed

blk_revalidate_disk_zones is never called for non-zoned devices.  Just
return early and warn instead of trying to handle this case.

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Damien Le Moal <damien.lemoal@wdc.com>
	Reviewed-by: Hannes Reinecke <hare@suse.de>
	Reviewed-by: Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit c98c3d09fca41323765af0dc7926b150cf29ebff)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	block/blk-zoned.c
diff --cc block/blk-zoned.c
index 023c295c4f36,523a28d7a15c..000000000000
--- a/block/blk-zoned.c
+++ b/block/blk-zoned.c
@@@ -447,10 -532,14 +450,19 @@@ int blk_revalidate_disk_zones(struct ge
  		return 0;
  	}
  
++<<<<<<< HEAD
 +	if (!blk_queue_is_zoned(q) || !nr_zones) {
 +		nr_zones = 0;
++=======
+ 	/*
+ 	 * Ensure that all memory allocations in this context are done as
+ 	 * if GFP_NOIO was specified.
+ 	 */
+ 	noio_flag = memalloc_noio_save();
+ 
+ 	if (!nr_zones)
++>>>>>>> c98c3d09fca4 (block: cleanup the !zoned case in blk_revalidate_disk_zones)
  		goto update;
- 	}
  
  	/* Allocate bitmaps */
  	ret = -ENOMEM;
* Unmerged path block/blk-zoned.c
