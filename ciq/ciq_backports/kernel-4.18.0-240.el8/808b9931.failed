gpio: of: Fix bogus reference to gpiod_get_count()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Geert Uytterhoeven <geert+renesas@glider.be>
commit 808b9931d5a06760315c0dd02519da78cb944d8e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/808b9931.failed

The recommended function is called gpiod_count(), not gpiod_get_count().

Fixes: f626d6dfb7098525 ("gpio: of: Break out OF-only code")
	Signed-off-by: Geert Uytterhoeven <geert+renesas@glider.be>
Link: https://lore.kernel.org/r/20191120154521.16273-1-geert+renesas@glider.be
	Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
(cherry picked from commit 808b9931d5a06760315c0dd02519da78cb944d8e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpio/gpiolib-of.c
diff --cc drivers/gpio/gpiolib-of.c
index f90ba3c6ac6b,dc27b1a88e93..000000000000
--- a/drivers/gpio/gpiolib-of.c
+++ b/drivers/gpio/gpiolib-of.c
@@@ -21,6 -21,34 +21,37 @@@
  #include <linux/gpio/machine.h>
  
  #include "gpiolib.h"
++<<<<<<< HEAD
++=======
+ #include "gpiolib-of.h"
+ 
+ /*
+  * This is used by external users of of_gpio_count() from <linux/of_gpio.h>
+  *
+  * FIXME: get rid of those external users by converting them to GPIO
+  * descriptors and let them all use gpiod_count()
+  */
+ int of_gpio_get_count(struct device *dev, const char *con_id)
+ {
+ 	int ret;
+ 	char propname[32];
+ 	unsigned int i;
+ 
+ 	for (i = 0; i < ARRAY_SIZE(gpio_suffixes); i++) {
+ 		if (con_id)
+ 			snprintf(propname, sizeof(propname), "%s-%s",
+ 				 con_id, gpio_suffixes[i]);
+ 		else
+ 			snprintf(propname, sizeof(propname), "%s",
+ 				 gpio_suffixes[i]);
+ 
+ 		ret = of_gpio_named_count(dev->of_node, propname);
+ 		if (ret > 0)
+ 			break;
+ 	}
+ 	return ret ? ret : -ENOENT;
+ }
++>>>>>>> 808b9931d5a0 (gpio: of: Fix bogus reference to gpiod_get_count())
  
  static int of_gpiochip_match_node_and_xlate(struct gpio_chip *chip, void *data)
  {
* Unmerged path drivers/gpio/gpiolib-of.c
