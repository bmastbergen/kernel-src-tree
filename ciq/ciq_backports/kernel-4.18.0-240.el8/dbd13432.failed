perf intel-pt: Add support for decoding AUX area samples

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Adrian Hunter <adrian.hunter@intel.com>
commit dbd134322e74f19dbabf174b2cbf7fca9bbc34d3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/dbd13432.failed

Add support for dumping, queuing and decoding AUX area samples. Decoding
samples is the same as regular decoding, except in the case where there
are no timestamps, in which case buffers are decoded immediately before
the sample event.

	Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Jiri Olsa <jolsa@redhat.com>
Link: http://lore.kernel.org/lkml/20191115124225.5247-15-adrian.hunter@intel.com
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit dbd134322e74f19dbabf174b2cbf7fca9bbc34d3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/intel-pt.c
diff --cc tools/perf/util/intel-pt.c
index e9ac11860229,409afc611be9..000000000000
--- a/tools/perf/util/intel-pt.c
+++ b/tools/perf/util/intel-pt.c
@@@ -3271,7 -3380,12 +3371,16 @@@ int intel_pt_process_auxtrace_info(unio
  	if (err)
  		goto err_delete_thread;
  
++<<<<<<< HEAD
 +	err = auxtrace_queues__process_index(&pt->queues, session);
++=======
+ 	intel_pt_setup_pebs_events(pt);
+ 
+ 	if (pt->sampling_mode || list_empty(&session->auxtrace_index))
+ 		err = auxtrace_queue_data(session, true, true);
+ 	else
+ 		err = auxtrace_queues__process_index(&pt->queues, session);
++>>>>>>> dbd134322e74 (perf intel-pt: Add support for decoding AUX area samples)
  	if (err)
  		goto err_delete_thread;
  
* Unmerged path tools/perf/util/intel-pt.c
