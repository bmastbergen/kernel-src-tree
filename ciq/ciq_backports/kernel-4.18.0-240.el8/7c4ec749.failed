net: Init backlog NAPI's gro_hash.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [net] Init backlog NAPI's gro_hash. (Ivan Vecera) [1805302]
Rebuild_FUZZ: 92.06%
commit-author David S. Miller <davem@davemloft.net>
commit 7c4ec749a3bd89237d7195ccd621bf5d4124d6b5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/7c4ec749.failed

Based upon a patch by Sean Tranchetti.

Fixes: d4546c2509b1 ("net: Convert GRO SKB handling to list_head.")
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 7c4ec749a3bd89237d7195ccd621bf5d4124d6b5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/core/dev.c
diff --cc net/core/dev.c
index cd8bd05e0222,87c42c8249ae..000000000000
--- a/net/core/dev.c
+++ b/net/core/dev.c
@@@ -6011,14 -6115,24 +6011,32 @@@ static enum hrtimer_restart napi_watchd
  	return HRTIMER_NORESTART;
  }
  
- void netif_napi_add(struct net_device *dev, struct napi_struct *napi,
- 		    int (*poll)(struct napi_struct *, int), int weight)
+ static void init_gro_hash(struct napi_struct *napi)
  {
++<<<<<<< HEAD
 +	INIT_LIST_HEAD(&napi->poll_list);
 +	hrtimer_init(&napi->timer, CLOCK_MONOTONIC, HRTIMER_MODE_REL_PINNED);
 +	napi->timer.function = napi_watchdog;
 +	napi->gro_count = 0;
 +	napi->gro_list = NULL;
++=======
+ 	int i;
+ 
+ 	for (i = 0; i < GRO_HASH_BUCKETS; i++) {
+ 		INIT_LIST_HEAD(&napi->gro_hash[i].list);
+ 		napi->gro_hash[i].count = 0;
+ 	}
+ 	napi->gro_bitmask = 0;
+ }
+ 
+ void netif_napi_add(struct net_device *dev, struct napi_struct *napi,
+ 		    int (*poll)(struct napi_struct *, int), int weight)
+ {
+ 	INIT_LIST_HEAD(&napi->poll_list);
+ 	hrtimer_init(&napi->timer, CLOCK_MONOTONIC, HRTIMER_MODE_REL_PINNED);
+ 	napi->timer.function = napi_watchdog;
+ 	init_gro_hash(napi);
++>>>>>>> 7c4ec749a3bd (net: Init backlog NAPI's gro_hash.)
  	napi->skb = NULL;
  	napi->poll = poll;
  	if (weight > NAPI_POLL_WEIGHT)
* Unmerged path net/core/dev.c
