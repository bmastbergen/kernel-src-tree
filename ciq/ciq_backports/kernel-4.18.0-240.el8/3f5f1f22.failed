Documentation/ABI: Mark /sys/kernel/fadump_* sysfs files deprecated

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Sourabh Jain <sourabhjain@linux.ibm.com>
commit 3f5f1f22ef10ee0278cef1243944c93aca01b236
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/3f5f1f22.failed

Add a deprecation note in FADump sysfs ABI documentation files and
move them from ABI/testing to ABI/obsolete directory.

	Signed-off-by: Sourabh Jain <sourabhjain@linux.ibm.com>
[mpe: Use a proper table to fix errors from the documentation build]
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: https://lore.kernel.org/r/20191211160910.21656-6-sourabhjain@linux.ibm.com
(cherry picked from commit 3f5f1f22ef10ee0278cef1243944c93aca01b236)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/powerpc/firmware-assisted-dump.txt
diff --cc Documentation/powerpc/firmware-assisted-dump.txt
index 63b10b17678e,2cd65a0df9b8..000000000000
--- a/Documentation/powerpc/firmware-assisted-dump.txt
+++ b/Documentation/powerpc/firmware-assisted-dump.txt
@@@ -290,6 -283,30 +290,33 @@@ Here is the list of files under kernel 
      enhanced to use this interface to release the memory reserved for
      dump and continue without 2nd reboot.
  
++<<<<<<< HEAD:Documentation/powerpc/firmware-assisted-dump.txt
++=======
+ Note: /sys/kernel/fadump_release_opalcore sysfs has moved to
+       /sys/firmware/opal/mpipl/release_core
+ 
+  /sys/firmware/opal/mpipl/release_core
+ 
+     This file is available only on OPAL based machines when FADump is
+     active during capture kernel. This is used to release the memory
+     used by the kernel to export /sys/firmware/opal/mpipl/core file. To
+     release this memory, echo '1' to it:
+ 
+     echo 1  > /sys/firmware/opal/mpipl/release_core
+ 
+ Note: The following FADump sysfs files are deprecated.
+ 
+ +----------------------------------+--------------------------------+
+ | Deprecated                       | Alternative                    |
+ +----------------------------------+--------------------------------+
+ | /sys/kernel/fadump_enabled       | /sys/kernel/fadump/enabled     |
+ +----------------------------------+--------------------------------+
+ | /sys/kernel/fadump_registered    | /sys/kernel/fadump/registered  |
+ +----------------------------------+--------------------------------+
+ | /sys/kernel/fadump_release_mem   | /sys/kernel/fadump/release_mem |
+ +----------------------------------+--------------------------------+
+ 
++>>>>>>> 3f5f1f22ef10 (Documentation/ABI: Mark /sys/kernel/fadump_* sysfs files deprecated):Documentation/powerpc/firmware-assisted-dump.rst
  Here is the list of files under powerpc debugfs:
  (Assuming debugfs is mounted on /sys/kernel/debug directory.)
  
diff --git a/Documentation/ABI/testing/sysfs-kernel-fadump_enabled b/Documentation/ABI/obsolete/sysfs-kernel-fadump_enabled
similarity index 73%
rename from Documentation/ABI/testing/sysfs-kernel-fadump_enabled
rename to Documentation/ABI/obsolete/sysfs-kernel-fadump_enabled
index f73632b1c006..e9c2de8b3688 100644
--- a/Documentation/ABI/testing/sysfs-kernel-fadump_enabled
+++ b/Documentation/ABI/obsolete/sysfs-kernel-fadump_enabled
@@ -1,3 +1,5 @@
+This ABI is renamed and moved to a new location /sys/kernel/fadump/enabled.
+
 What:		/sys/kernel/fadump_enabled
 Date:		Feb 2012
 Contact:	linuxppc-dev@lists.ozlabs.org
diff --git a/Documentation/ABI/testing/sysfs-kernel-fadump_registered b/Documentation/ABI/obsolete/sysfs-kernel-fadump_registered
similarity index 77%
rename from Documentation/ABI/testing/sysfs-kernel-fadump_registered
rename to Documentation/ABI/obsolete/sysfs-kernel-fadump_registered
index dcf925e53f0f..0360be39c98e 100644
--- a/Documentation/ABI/testing/sysfs-kernel-fadump_registered
+++ b/Documentation/ABI/obsolete/sysfs-kernel-fadump_registered
@@ -1,3 +1,5 @@
+This ABI is renamed and moved to a new location /sys/kernel/fadump/registered.¬
+
 What:		/sys/kernel/fadump_registered
 Date:		Feb 2012
 Contact:	linuxppc-dev@lists.ozlabs.org
diff --git a/Documentation/ABI/testing/sysfs-kernel-fadump_release_mem b/Documentation/ABI/obsolete/sysfs-kernel-fadump_release_mem
similarity index 78%
rename from Documentation/ABI/testing/sysfs-kernel-fadump_release_mem
rename to Documentation/ABI/obsolete/sysfs-kernel-fadump_release_mem
index 9c20d64ab48d..6ce0b129ab12 100644
--- a/Documentation/ABI/testing/sysfs-kernel-fadump_release_mem
+++ b/Documentation/ABI/obsolete/sysfs-kernel-fadump_release_mem
@@ -1,3 +1,5 @@
+This ABI is renamed and moved to a new location /sys/kernel/fadump/release_mem.¬
+
 What:		/sys/kernel/fadump_release_mem
 Date:		Feb 2012
 Contact:	linuxppc-dev@lists.ozlabs.org
* Unmerged path Documentation/powerpc/firmware-assisted-dump.txt
