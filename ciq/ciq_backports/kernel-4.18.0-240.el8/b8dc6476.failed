Bluetooth: btbcm: Add entry for BCM4334B0 UART Bluetooth

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Stephan Gerhold <stephan@gerhold.net>
commit b8dc647657d523ea6d6f169992c99fc3680a5f81
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/b8dc6476.failed

Add the device ID for the WiFi/BT/FM combo chip BCM4334 (rev B0).

The chip seems to use 43:34:b0:00:00:00 as default address,
so add it to the list of default addresses and leave it up
to the user to configure a valid one.

	Signed-off-by: Stephan Gerhold <stephan@gerhold.net>
	Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
(cherry picked from commit b8dc647657d523ea6d6f169992c99fc3680a5f81)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/bluetooth/btbcm.c
diff --cc drivers/bluetooth/btbcm.c
index 99cde1f9467d,0bb9023ec214..000000000000
--- a/drivers/bluetooth/btbcm.c
+++ b/drivers/bluetooth/btbcm.c
@@@ -33,8 -18,14 +33,14 @@@
  #define VERSION "0.1"
  
  #define BDADDR_BCM20702A0 (&(bdaddr_t) {{0x00, 0xa0, 0x02, 0x70, 0x20, 0x00}})
 -#define BDADDR_BCM20702A1 (&(bdaddr_t) {{0x00, 0x00, 0xa0, 0x02, 0x70, 0x20}})
 -#define BDADDR_BCM2076B1 (&(bdaddr_t) {{0x79, 0x56, 0x00, 0xa0, 0x76, 0x20}})
 -#define BDADDR_BCM43430A0 (&(bdaddr_t) {{0xac, 0x1f, 0x12, 0xa0, 0x43, 0x43}})
  #define BDADDR_BCM4324B3 (&(bdaddr_t) {{0x00, 0x00, 0x00, 0xb3, 0x24, 0x43}})
  #define BDADDR_BCM4330B1 (&(bdaddr_t) {{0x00, 0x00, 0x00, 0xb1, 0x30, 0x43}})
++<<<<<<< HEAD
++=======
+ #define BDADDR_BCM4334B0 (&(bdaddr_t) {{0x00, 0x00, 0x00, 0xb0, 0x34, 0x43}})
+ #define BDADDR_BCM4345C5 (&(bdaddr_t) {{0xac, 0x1f, 0x00, 0xc5, 0x45, 0x43}})
+ #define BDADDR_BCM43341B (&(bdaddr_t) {{0xac, 0x1f, 0x00, 0x1b, 0x34, 0x43}})
++>>>>>>> b8dc647657d5 (Bluetooth: btbcm: Add entry for BCM4334B0 UART Bluetooth)
  
  int btbcm_check_bdaddr(struct hci_dev *hdev)
  {
@@@ -69,10 -66,19 +75,18 @@@
  	 *
  	 * The address 43:30:B1:00:00:00 indicates a BCM4330B1 controller
  	 * with waiting for configuration state.
 -	 *
 -	 * The address 43:43:A0:12:1F:AC indicates a BCM43430A0 controller
 -	 * with no configured address.
  	 */
  	if (!bacmp(&bda->bdaddr, BDADDR_BCM20702A0) ||
 -	    !bacmp(&bda->bdaddr, BDADDR_BCM20702A1) ||
 -	    !bacmp(&bda->bdaddr, BDADDR_BCM2076B1) ||
  	    !bacmp(&bda->bdaddr, BDADDR_BCM4324B3) ||
++<<<<<<< HEAD
 +	    !bacmp(&bda->bdaddr, BDADDR_BCM4330B1)) {
++=======
+ 	    !bacmp(&bda->bdaddr, BDADDR_BCM4330B1) ||
+ 	    !bacmp(&bda->bdaddr, BDADDR_BCM4334B0) ||
+ 	    !bacmp(&bda->bdaddr, BDADDR_BCM4345C5) ||
+ 	    !bacmp(&bda->bdaddr, BDADDR_BCM43430A0) ||
+ 	    !bacmp(&bda->bdaddr, BDADDR_BCM43341B)) {
++>>>>>>> b8dc647657d5 (Bluetooth: btbcm: Add entry for BCM4334B0 UART Bluetooth)
  		bt_dev_info(hdev, "BCM: Using default device address (%pMR)",
  			    &bda->bdaddr);
  		set_bit(HCI_QUIRK_INVALID_BDADDR, &hdev->quirks);
@@@ -322,8 -328,11 +336,9 @@@ struct bcm_subver_table 
  
  static const struct bcm_subver_table bcm_uart_subver_table[] = {
  	{ 0x4103, "BCM4330B1"	},	/* 002.001.003 */
+ 	{ 0x410d, "BCM4334B0"	},	/* 002.001.013 */
  	{ 0x410e, "BCM43341B0"	},	/* 002.001.014 */
 -	{ 0x4204, "BCM2076B1"	},	/* 002.002.004 */
  	{ 0x4406, "BCM4324B3"	},	/* 002.004.006 */
 -	{ 0x6109, "BCM4335C0"	},	/* 003.001.009 */
  	{ 0x610c, "BCM4354"	},	/* 003.001.012 */
  	{ 0x2122, "BCM4343A0"	},	/* 001.001.034 */
  	{ 0x2209, "BCM43430A1"  },	/* 001.002.009 */
* Unmerged path drivers/bluetooth/btbcm.c
