drm/amd/display: dmcu wait loop calculation is incorrect in RV

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Paul Hsieh <paul.hsieh@amd.com>
commit 7fc5c319efceaed1a23b7ef35c333553ce39fecf
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/7fc5c319.failed

[Why]
Driver already get display clock from SMU base on MHz, but driver read
again and mutiple 1000 cause wait loop value is overflow.

[How]
remove coding error

	Signed-off-by: Paul Hsieh <paul.hsieh@amd.com>
	Reviewed-by: Eric Yang <eric.yang2@amd.com>
	Acked-by: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 7fc5c319efceaed1a23b7ef35c333553ce39fecf)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/display/dc/clk_mgr/dcn10/rv1_clk_mgr_vbios_smu.c
diff --cc drivers/gpu/drm/amd/display/dc/clk_mgr/dcn10/rv1_clk_mgr_vbios_smu.c
index 1897e91c8ccb,c320b7af7d34..000000000000
--- a/drivers/gpu/drm/amd/display/dc/clk_mgr/dcn10/rv1_clk_mgr_vbios_smu.c
+++ b/drivers/gpu/drm/amd/display/dc/clk_mgr/dcn10/rv1_clk_mgr_vbios_smu.c
@@@ -97,10 -97,7 +97,14 @@@ int rv1_vbios_smu_set_dispclk(struct cl
  			VBIOSSMC_MSG_SetDispclkFreq,
  			requested_dispclk_khz / 1000);
  
++<<<<<<< HEAD
 +	/* Actual dispclk set is returned in the parameter register */
 +	actual_dispclk_set_mhz = REG_READ(MP1_SMN_C2PMSG_83) * 1000;
 +
 +	if (!IS_FPGA_MAXIMUS_DC(core_dc->ctx->dce_environment)) {
++=======
+ 	if (!IS_FPGA_MAXIMUS_DC(dc->ctx->dce_environment)) {
++>>>>>>> 7fc5c319efce (drm/amd/display: dmcu wait loop calculation is incorrect in RV)
  		if (dmcu && dmcu->funcs->is_dmcu_initialized(dmcu)) {
  			if (clk_mgr->dfs_bypass_disp_clk != actual_dispclk_set_mhz)
  				dmcu->funcs->set_psr_wait_loop(dmcu,
* Unmerged path drivers/gpu/drm/amd/display/dc/clk_mgr/dcn10/rv1_clk_mgr_vbios_smu.c
