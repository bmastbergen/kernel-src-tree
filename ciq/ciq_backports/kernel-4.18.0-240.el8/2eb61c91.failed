EDAC/amd64: Add family ops for Family 19h Models 00h-0Fh

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Yazen Ghannam <yazen.ghannam@amd.com>
commit 2eb61c91c3e2738218e55f2eaf7e78a4435c233d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/2eb61c91.failed

Add family ops to support AMD Family 19h systems. Existing Family 17h
functions can be used. Also, add Family 19h to the list of families to
automatically load the module.

	Signed-off-by: Yazen Ghannam <yazen.ghannam@amd.com>
	Signed-off-by: Borislav Petkov <bp@suse.de>
Link: https://lkml.kernel.org/r/20200110015651.14887-5-Yazen.Ghannam@amd.com
(cherry picked from commit 2eb61c91c3e2738218e55f2eaf7e78a4435c233d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/edac/amd64_edac.c
#	drivers/edac/amd64_edac.h
diff --cc drivers/edac/amd64_edac.c
index 2ddde0ed0a89,2488cbf76814..000000000000
--- a/drivers/edac/amd64_edac.c
+++ b/drivers/edac/amd64_edac.c
@@@ -3351,11 -3364,26 +3361,17 @@@ static struct amd64_family_type *per_fa
  			fam_type = &family_types[F17_M30H_CPUS];
  			pvt->ops = &family_types[F17_M30H_CPUS].ops;
  			break;
 -		} else if (pvt->model >= 0x70 && pvt->model <= 0x7f) {
 -			fam_type = &family_types[F17_M70H_CPUS];
 -			pvt->ops = &family_types[F17_M70H_CPUS].ops;
 -			break;
  		}
 -		/* fall through */
 -	case 0x18:
  		fam_type	= &family_types[F17_CPUS];
  		pvt->ops	= &family_types[F17_CPUS].ops;
 -
 -		if (pvt->fam == 0x18)
 -			family_types[F17_CPUS].ctl_name = "F18h";
  		break;
  
+ 	case 0x19:
+ 		fam_type	= &family_types[F19_CPUS];
+ 		pvt->ops	= &family_types[F19_CPUS].ops;
+ 		family_types[F19_CPUS].ctl_name = "F19h";
+ 		break;
+ 
  	default:
  		amd64_err("Unsupported family!\n");
  		return NULL;
@@@ -3614,6 -3641,8 +3630,11 @@@ static const struct x86_cpu_id amd64_cp
  	{ X86_VENDOR_AMD, 0x15, X86_MODEL_ANY,	X86_FEATURE_ANY, 0 },
  	{ X86_VENDOR_AMD, 0x16, X86_MODEL_ANY,	X86_FEATURE_ANY, 0 },
  	{ X86_VENDOR_AMD, 0x17, X86_MODEL_ANY,	X86_FEATURE_ANY, 0 },
++<<<<<<< HEAD
++=======
+ 	{ X86_VENDOR_HYGON, 0x18, X86_MODEL_ANY, X86_FEATURE_ANY, 0 },
+ 	{ X86_VENDOR_AMD, 0x19, X86_MODEL_ANY,	X86_FEATURE_ANY, 0 },
++>>>>>>> 2eb61c91c3e2 (EDAC/amd64: Add family ops for Family 19h Models 00h-0Fh)
  	{ }
  };
  MODULE_DEVICE_TABLE(x86cpu, amd64_cpuids);
diff --cc drivers/edac/amd64_edac.h
index 8addc4d95577,abbf3c274d74..000000000000
--- a/drivers/edac/amd64_edac.h
+++ b/drivers/edac/amd64_edac.h
@@@ -120,6 -120,10 +120,13 @@@
  #define PCI_DEVICE_ID_AMD_17H_M10H_DF_F6 0x15ee
  #define PCI_DEVICE_ID_AMD_17H_M30H_DF_F0 0x1490
  #define PCI_DEVICE_ID_AMD_17H_M30H_DF_F6 0x1496
++<<<<<<< HEAD
++=======
+ #define PCI_DEVICE_ID_AMD_17H_M70H_DF_F0 0x1440
+ #define PCI_DEVICE_ID_AMD_17H_M70H_DF_F6 0x1446
+ #define PCI_DEVICE_ID_AMD_19H_DF_F0	0x1650
+ #define PCI_DEVICE_ID_AMD_19H_DF_F6	0x1656
++>>>>>>> 2eb61c91c3e2 (EDAC/amd64: Add family ops for Family 19h Models 00h-0Fh)
  
  /*
   * Function 1 - Address Map
@@@ -289,6 -293,8 +296,11 @@@ enum amd_families 
  	F17_CPUS,
  	F17_M10H_CPUS,
  	F17_M30H_CPUS,
++<<<<<<< HEAD
++=======
+ 	F17_M70H_CPUS,
+ 	F19_CPUS,
++>>>>>>> 2eb61c91c3e2 (EDAC/amd64: Add family ops for Family 19h Models 00h-0Fh)
  	NUM_FAMILIES,
  };
  
* Unmerged path drivers/edac/amd64_edac.c
* Unmerged path drivers/edac/amd64_edac.h
