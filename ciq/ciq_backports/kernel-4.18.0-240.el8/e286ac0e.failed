KVM: VMX: Annotate vmx_x86_ops as __initdata

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Sean Christopherson <sean.j.christopherson@intel.com>
commit e286ac0e38cbe187fbbc72d7e9da503f5ed26cc8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/e286ac0e.failed

Tag vmx_x86_ops with __initdata now the the struct is copied by value to
a common x86 instance of kvm_x86_ops as part of kvm_init().

	Signed-off-by: Sean Christopherson <sean.j.christopherson@intel.com>
Message-Id: <20200321202603.19355-9-sean.j.christopherson@intel.com>
	Reviewed-by: Vitaly Kuznetsov <vkuznets@redhat.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit e286ac0e38cbe187fbbc72d7e9da503f5ed26cc8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/vmx/vmx.c
diff --cc arch/x86/kvm/vmx/vmx.c
index 833b3f7d7961,4f844257a72d..000000000000
--- a/arch/x86/kvm/vmx/vmx.c
+++ b/arch/x86/kvm/vmx/vmx.c
@@@ -7872,12 -7654,17 +7872,24 @@@ static __exit void hardware_unsetup(voi
  	free_kvm_area();
  }
  
++<<<<<<< HEAD
 +static struct kvm_x86_ops vmx_x86_ops __ro_after_init = {
 +	.cpu_has_kvm_support = cpu_has_kvm_support,
 +	.disabled_by_bios = vmx_disabled_by_bios,
 +	.hardware_setup = hardware_setup,
++=======
+ static bool vmx_check_apicv_inhibit_reasons(ulong bit)
+ {
+ 	ulong supported = BIT(APICV_INHIBIT_REASON_DISABLE) |
+ 			  BIT(APICV_INHIBIT_REASON_HYPERV);
+ 
+ 	return supported & BIT(bit);
+ }
+ 
+ static struct kvm_x86_ops vmx_x86_ops __initdata = {
++>>>>>>> e286ac0e38cb (KVM: VMX: Annotate vmx_x86_ops as __initdata)
  	.hardware_unsetup = hardware_unsetup,
 -
 +	.check_processor_compatibility = vmx_check_processor_compat,
  	.hardware_enable = hardware_enable,
  	.hardware_disable = hardware_disable,
  	.cpu_has_accelerated_tpr = report_flexpriority,
* Unmerged path arch/x86/kvm/vmx/vmx.c
