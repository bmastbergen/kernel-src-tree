PCI/ATS: Add PASID stubs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Jean-Philippe Brucker <jean-philippe@linaro.org>
commit 5a4549fd790500d7db94b7d2af6d60cee42110c3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/5a4549fd.failed

The SMMUv3 driver, which may be built without CONFIG_PCI, will soon gain
PASID support.  Partially revert commit c6e9aefbf9db ("PCI/ATS: Remove
unused PRI and PASID stubs") to re-introduce the PASID stubs, and avoid
adding more #ifdefs to the SMMU driver.

	Acked-by: Bjorn Helgaas <bhelgaas@google.com>
	Reviewed-by: Eric Auger <eric.auger@redhat.com>
	Reviewed-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>
	Signed-off-by: Jean-Philippe Brucker <jean-philippe@linaro.org>
	Signed-off-by: Will Deacon <will@kernel.org>
(cherry picked from commit 5a4549fd790500d7db94b7d2af6d60cee42110c3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/pci-ats.h
diff --cc include/linux/pci-ats.h
index a7a2b3d94fcc,d08f0869f121..000000000000
--- a/include/linux/pci-ats.h
+++ b/include/linux/pci-ats.h
@@@ -39,38 -28,18 +39,45 @@@ static inline int pci_prg_resp_pasid_re
  #endif /* CONFIG_PCI_PRI */
  
  #ifdef CONFIG_PCI_PASID
 +
  int pci_enable_pasid(struct pci_dev *pdev, int features);
  void pci_disable_pasid(struct pci_dev *pdev);
 +void pci_restore_pasid_state(struct pci_dev *pdev);
  int pci_pasid_features(struct pci_dev *pdev);
  int pci_max_pasids(struct pci_dev *pdev);
++<<<<<<< HEAD
 +
 +#else  /* CONFIG_PCI_PASID */
 +
 +static inline int pci_enable_pasid(struct pci_dev *pdev, int features)
 +{
 +	return -EINVAL;
 +}
 +
 +static inline void pci_disable_pasid(struct pci_dev *pdev)
 +{
 +}
 +
 +static inline void pci_restore_pasid_state(struct pci_dev *pdev)
 +{
 +}
 +
++=======
+ #else /* CONFIG_PCI_PASID */
+ static inline int pci_enable_pasid(struct pci_dev *pdev, int features)
+ { return -EINVAL; }
+ static inline void pci_disable_pasid(struct pci_dev *pdev) { }
++>>>>>>> 5a4549fd7905 (PCI/ATS: Add PASID stubs)
  static inline int pci_pasid_features(struct pci_dev *pdev)
 -{ return -EINVAL; }
 +{
 +	return -EINVAL;
 +}
 +
  static inline int pci_max_pasids(struct pci_dev *pdev)
 -{ return -EINVAL; }
 +{
 +	return -EINVAL;
 +}
  #endif /* CONFIG_PCI_PASID */
  
 -#endif /* LINUX_PCI_ATS_H */
 +
 +#endif /* LINUX_PCI_ATS_H*/
* Unmerged path include/linux/pci-ats.h
