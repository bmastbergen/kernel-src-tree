drivers: Remove inclusion of vermagic header

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [netdrv] drivers:Remove inclusion of vermagic header (Jonathan Toppins) [1848149]
Rebuild_FUZZ: 98.85%
commit-author Leon Romanovsky <leon@kernel.org>
commit 1c79031f8a75c132bbd42e3ef20267af97b67466
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/1c79031f.failed

Get rid of linux/vermagic.h includes, so that MODULE_ARCH_VERMAGIC from
the arch header arch/x86/include/asm/module.h won't be redefined.

  In file included from ./include/linux/module.h:30,
                   from drivers/net/ethernet/3com/3c515.c:56:
  ./arch/x86/include/asm/module.h:73: warning: "MODULE_ARCH_VERMAGIC"
redefined
     73 | # define MODULE_ARCH_VERMAGIC MODULE_PROC_FAMILY
        |
  In file included from drivers/net/ethernet/3com/3c515.c:25:
  ./include/linux/vermagic.h:28: note: this is the location of the
previous definition
     28 | #define MODULE_ARCH_VERMAGIC ""
        |

Fixes: 6bba2e89a88c ("net/3com: Delete driver and module versions from 3com drivers")
Co-developed-by: Borislav Petkov <bp@suse.de>
	Signed-off-by: Borislav Petkov <bp@suse.de>
	Acked-by: Shannon Nelson <snelson@pensando.io> # ionic
	Acked-by: Sebastian Reichel <sre@kernel.org> # power
	Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1c79031f8a75c132bbd42e3ef20267af97b67466)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/bonding/bonding_priv.h
#	drivers/net/ethernet/pensando/ionic/ionic_main.c
#	net/core/ethtool.c
diff --cc drivers/net/bonding/bonding_priv.h
index 5a4d81a9437c,48cdf3a49a7d..000000000000
--- a/drivers/net/bonding/bonding_priv.h
+++ b/drivers/net/bonding/bonding_priv.h
@@@ -14,9 -14,8 +14,13 @@@
  
  #ifndef _BONDING_PRIV_H
  #define _BONDING_PRIV_H
++<<<<<<< HEAD
++=======
+ #include <generated/utsrelease.h>
++>>>>>>> 1c79031f8a75 (drivers: Remove inclusion of vermagic header)
  
 +#define DRV_VERSION	"3.7.1"
 +#define DRV_RELDATE	"April 27, 2011"
  #define DRV_NAME	"bonding"
  #define DRV_DESCRIPTION	"Ethernet Channel Bonding Driver"
  
diff --cc net/core/ethtool.c
index d16226ead406,226d5ecdd567..000000000000
--- a/net/core/ethtool.c
+++ b/net/core/ethtool.c
@@@ -30,8 -24,11 +30,14 @@@
  #include <linux/sched/signal.h>
  #include <linux/net.h>
  #include <net/devlink.h>
 -#include <net/xdp_sock.h>
 +#include RH_KABI_HIDE_INCLUDE(<net/xdp_sock.h>)
  #include <net/flow_offload.h>
++<<<<<<< HEAD:net/core/ethtool.c
++=======
+ #include <linux/ethtool_netlink.h>
+ #include <generated/utsrelease.h>
+ #include "common.h"
++>>>>>>> 1c79031f8a75 (drivers: Remove inclusion of vermagic header):net/ethtool/ioctl.c
  
  /*
   * Some useful ethtool_ops methods that're device independent.
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_main.c
* Unmerged path drivers/net/bonding/bonding_priv.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_main.c
diff --git a/drivers/power/supply/test_power.c b/drivers/power/supply/test_power.c
index 57246cdbd042..a17df98ef1eb 100644
--- a/drivers/power/supply/test_power.c
+++ b/drivers/power/supply/test_power.c
@@ -19,7 +19,7 @@
 #include <linux/power_supply.h>
 #include <linux/errno.h>
 #include <linux/delay.h>
-#include <linux/vermagic.h>
+#include <generated/utsrelease.h>
 
 enum test_power_id {
 	TEST_AC,
* Unmerged path net/core/ethtool.c
