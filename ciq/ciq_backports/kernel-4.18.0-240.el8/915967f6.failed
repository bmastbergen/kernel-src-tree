io_uring: improve trace_io_uring_defer() trace point

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Jens Axboe <axboe@kernel.dk>
commit 915967f69c591b34c5a18d6618af021a81ffd700
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/915967f6.failed

We don't have shadow requests anymore, so get rid of the shadow
argument. Add the user_data argument, as that's often useful to easily
match up requests, instead of having to look at request pointers.

	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 915967f69c591b34c5a18d6618af021a81ffd700)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/io_uring.c
#	include/trace/events/io_uring.h
diff --cc fs/io_uring.c
index 66de1d702552,736f27808f99..000000000000
--- a/fs/io_uring.c
+++ b/fs/io_uring.c
@@@ -1857,9 -2585,10 +1857,13 @@@ static int io_req_defer(struct io_ring_
  	}
  
  	memcpy(sqe_copy, sqe, sizeof(*sqe_copy));
 -	req->flags |= REQ_F_FREE_SQE;
  	req->submit.sqe = sqe_copy;
  
++<<<<<<< HEAD
 +	INIT_WORK(&req->work, io_sq_wq_submit_work);
++=======
+ 	trace_io_uring_defer(ctx, req, req->user_data);
++>>>>>>> 915967f69c59 (io_uring: improve trace_io_uring_defer() trace point)
  	list_add_tail(&req->list, &ctx->defer_list);
  	spin_unlock_irq(&ctx->completion_lock);
  	return -EIOCBQUEUED;
* Unmerged path include/trace/events/io_uring.h
* Unmerged path fs/io_uring.c
* Unmerged path include/trace/events/io_uring.h
