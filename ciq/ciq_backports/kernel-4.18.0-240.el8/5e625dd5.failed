media: tw686x: Use managed buffer allocation

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [sound] ALSA: media: tw686x: Use managed buffer allocation (Jaroslav Kysela) [1797509]
Rebuild_FUZZ: 93.62%
commit-author Takashi Iwai <tiwai@suse.de>
commit 5e625dd5792ea7ea0bf462f4f13a2dc6d8183058
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/5e625dd5.failed

Clean up the driver with the new managed buffer allocation API.
The hw_params and hw_free callbacks became superfluous and dropped.

	Cc: Ezequiel Garcia <ezequiel@vanguardiasur.com.ar>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
	Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>
	Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
(cherry picked from commit 5e625dd5792ea7ea0bf462f4f13a2dc6d8183058)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/media/pci/tw686x/tw686x-audio.c
diff --cc drivers/media/pci/tw686x/tw686x-audio.c
index 030d547ac12c,f5065c72bb28..000000000000
--- a/drivers/media/pci/tw686x/tw686x-audio.c
+++ b/drivers/media/pci/tw686x/tw686x-audio.c
@@@ -301,7 -285,7 +288,11 @@@ static int tw686x_snd_pcm_init(struct t
  	     ss; ss = ss->next, i++)
  		snprintf(ss->name, sizeof(ss->name), "vch%u audio", i);
  
++<<<<<<< HEAD
 +	return snd_pcm_lib_preallocate_pages_for_all(pcm,
++=======
+ 	snd_pcm_set_managed_buffer_all(pcm,
++>>>>>>> 5e625dd5792e (media: tw686x: Use managed buffer allocation)
  				SNDRV_DMA_TYPE_DEV,
  				&dev->pci_dev->dev,
  				TW686X_AUDIO_PAGE_MAX * AUDIO_DMA_SIZE_MAX,
* Unmerged path drivers/media/pci/tw686x/tw686x-audio.c
