io_uring: simplify io_req_link_next()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Pavel Begunkov <asml.silence@gmail.com>
commit b18fdf71e01fba29a804d63f8c1e2ed61011170d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/b18fdf71.failed

"if (nxt)" is always true, as it was checked in the while's condition.
io_wq_current_is_worker() is unnecessary, as non-async callers don't
pass nxt, so io_queue_async_work() will be called for them anyway.

	Signed-off-by: Pavel Begunkov <asml.silence@gmail.com>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit b18fdf71e01fba29a804d63f8c1e2ed61011170d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/io_uring.c
diff --cc fs/io_uring.c
index 66de1d702552,f6f5871bd7d2..000000000000
--- a/fs/io_uring.c
+++ b/fs/io_uring.c
@@@ -649,10 -903,13 +649,15 @@@ static void io_req_link_next(struct io_
  			nxt->flags |= REQ_F_LINK;
  		}
  
++<<<<<<< HEAD
 +		nxt->flags |= REQ_F_LINK_DONE;
 +		INIT_WORK(&nxt->work, io_sq_wq_submit_work);
 +		io_queue_async_work(req->ctx, nxt);
++=======
+ 		*nxtptr = nxt;
+ 		break;
++>>>>>>> b18fdf71e01f (io_uring: simplify io_req_link_next())
  	}
 -
 -	req->flags |= REQ_F_LINK_NEXT;
 -	if (wake_ev)
 -		io_cqring_ev_posted(ctx);
  }
  
  /*
* Unmerged path fs/io_uring.c
