media: solo6x10: Use managed buffer allocation

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [sound] ALSA: media: solo6x10: Use managed buffer allocation (Jaroslav Kysela) [1797509]
Rebuild_FUZZ: 93.88%
commit-author Takashi Iwai <tiwai@suse.de>
commit a98e2e229da776bbc8fa90b7311aab0ba05686bb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/a98e2e22.failed

Clean up the driver with the new managed buffer allocation API.
The hw_params and hw_free callbacks became superfluous and dropped.

	Cc: Bluecherry Maintainers <maintainers@bluecherrydvr.com>
	Cc: Anton Sviridenko <anton@corp.bluecherry.net>
	Cc: Andrey Utkin <andrey.utkin@corp.bluecherry.net>
	Cc: Ismael Luceno <ismael@iodev.co.uk>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
	Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>
	Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
(cherry picked from commit a98e2e229da776bbc8fa90b7311aab0ba05686bb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/media/pci/solo6x10/solo6x10-g723.c
diff --cc drivers/media/pci/solo6x10/solo6x10-g723.c
index 9a31a0cfaf32,ca349d447610..000000000000
--- a/drivers/media/pci/solo6x10/solo6x10-g723.c
+++ b/drivers/media/pci/solo6x10/solo6x10-g723.c
@@@ -360,13 -338,11 +347,21 @@@ static int solo_snd_pcm_init(struct sol
  	     ss; ss = ss->next, i++)
  		sprintf(ss->name, "Camera #%d Audio", i);
  
++<<<<<<< HEAD
 +	ret = snd_pcm_lib_preallocate_pages_for_all(pcm,
 +					SNDRV_DMA_TYPE_CONTINUOUS,
 +					NULL,
 +					G723_PERIOD_BYTES * PERIODS,
 +					G723_PERIOD_BYTES * PERIODS);
 +	if (ret < 0)
 +		return ret;
++=======
+ 	snd_pcm_set_managed_buffer_all(pcm,
+ 				       SNDRV_DMA_TYPE_CONTINUOUS,
+ 				       NULL,
+ 				       G723_PERIOD_BYTES * PERIODS,
+ 				       G723_PERIOD_BYTES * PERIODS);
++>>>>>>> a98e2e229da7 (media: solo6x10: Use managed buffer allocation)
  
  	solo_dev->snd_pcm = pcm;
  
* Unmerged path drivers/media/pci/solo6x10/solo6x10-g723.c
