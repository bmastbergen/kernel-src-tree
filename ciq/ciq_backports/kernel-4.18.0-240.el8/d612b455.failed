ASoC: SOF: nocodec: Amend arguments for sof_nocodec_setup()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
Rebuild_CHGLOG: - [sound] ALSA: ASoC: SOF: nocodec: Amend arguments for sof_nocodec_setup() (Jaroslav Kysela) [1797509]
Rebuild_FUZZ: 95.16%
commit-author Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
commit d612b455f120d05a42c95ccd7469fa13efb8d307
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/d612b455.failed

Set the drv_name and tplg_filename for nocodec
machine driver in sof_machine_check().
This means the sof_nocodec_setup() does not
need the mach, plat_data or desc arguments any longer.

	Signed-off-by: Daniel Baluta <daniel.baluta@nxp.com>
	Signed-off-by: Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
	Signed-off-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/20191204211556.12671-14-pierre-louis.bossart@linux.intel.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit d612b455f120d05a42c95ccd7469fa13efb8d307)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/sof/nocodec.c
#	sound/soc/sof/sof-audio.c
diff --cc sound/soc/sof/nocodec.c
index 3c7d87b4040c,2233146386cc..000000000000
--- a/sound/soc/sof/nocodec.c
+++ b/sound/soc/sof/nocodec.c
@@@ -71,13 -68,6 +68,16 @@@ int sof_nocodec_setup(struct device *de
  	struct snd_soc_dai_link *links;
  	int ret;
  
++<<<<<<< HEAD
 +	if (!mach)
 +		return -EINVAL;
 +
 +	mach->drv_name = "sof-nocodec";
 +	sof_pdata->fw_filename = desc->nocodec_fw_filename;
 +	sof_pdata->tplg_filename = desc->nocodec_tplg_filename;
 +
++=======
++>>>>>>> d612b455f120 (ASoC: SOF: nocodec: Amend arguments for sof_nocodec_setup())
  	/* create dummy BE dai_links */
  	links = devm_kzalloc(dev, sizeof(struct snd_soc_dai_link) *
  			     ops->num_drv, GFP_KERNEL);
* Unmerged path sound/soc/sof/sof-audio.c
diff --git a/include/sound/sof.h b/include/sound/sof.h
index c1d42cdbe5f6..199b65a258cd 100644
--- a/include/sound/sof.h
+++ b/include/sound/sof.h
@@ -94,8 +94,5 @@ struct sof_dev_desc {
 };
 
 int sof_nocodec_setup(struct device *dev,
-		      struct snd_sof_pdata *sof_pdata,
-		      struct snd_soc_acpi_mach *mach,
-		      const struct sof_dev_desc *desc,
 		      const struct snd_sof_dsp_ops *ops);
 #endif
* Unmerged path sound/soc/sof/nocodec.c
* Unmerged path sound/soc/sof/sof-audio.c
