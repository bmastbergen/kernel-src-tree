drm/amdgpu: move kfd suspend after ip_suspend_phase1

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Evan Quan <evan.quan@amd.com>
commit 94fa56605866282512a7589e22f47195cdcc5cf8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/94fa5660.failed

This sequence change should be safe as what did in ip_suspend_phase1
is to suspend DCE only. And this is a prerequisite for coming
redundant cg/pg ungate dropping.

	Signed-off-by: Evan Quan <evan.quan@amd.com>
	Acked-by: Alex Deucher <alexander.deucher@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 94fa56605866282512a7589e22f47195cdcc5cf8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
index 2877ce84aef2,e51e73587f51..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
@@@ -2973,7 -3432,8 +2973,12 @@@ int amdgpu_device_suspend(struct drm_de
  		}
  	}
  
++<<<<<<< HEAD
 +	amdgpu_amdkfd_suspend(adev);
++=======
+ 	amdgpu_device_set_pg_state(adev, AMD_PG_STATE_UNGATE);
+ 	amdgpu_device_set_cg_state(adev, AMD_CG_STATE_UNGATE);
++>>>>>>> 94fa56605866 (drm/amdgpu: move kfd suspend after ip_suspend_phase1)
  
  	amdgpu_ras_suspend(adev);
  
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
