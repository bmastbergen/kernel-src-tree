ionic: support longer tx sg lists

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Shannon Nelson <snelson@pensando.io>
commit 5b3f3f2a71ed1cecf6fcf9e8c858a89589415449
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/5b3f3f2a.failed

The version 1 Tx queues can use longer SG lists than the
original version 0 queues, but we need to check to see if the
firmware supports the v1 Tx queues.  This implements the queue
type query for all queue types, and uses the information to
set up for using the longer Tx SG lists.

Because the Tx SG list can be longer, we need to limit the
max ring length to be sure we stay inside the boundaries of a
DMA allocation max size, so we lower the max Tx ring size.

The driver sets its highest known version in the Q_IDENTITY
command, and the FW returns the highest version that it knows,
bounded by the driver's version.  The negotiated version number
is later used in the Q_INIT commands.

	Signed-off-by: Shannon Nelson <snelson@pensando.io>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 5b3f3f2a71ed1cecf6fcf9e8c858a89589415449)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/pensando/ionic/ionic_dev.c
#	drivers/net/ethernet/pensando/ionic/ionic_dev.h
#	drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
#	drivers/net/ethernet/pensando/ionic/ionic_if.h
#	drivers/net/ethernet/pensando/ionic/ionic_lif.c
#	drivers/net/ethernet/pensando/ionic/ionic_lif.h
#	drivers/net/ethernet/pensando/ionic/ionic_main.c
#	drivers/net/ethernet/pensando/ionic/ionic_txrx.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_dev.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_dev.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_if.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_main.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_txrx.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_dev.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_dev.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_ethtool.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_if.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_lif.h
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_main.c
* Unmerged path drivers/net/ethernet/pensando/ionic/ionic_txrx.c
