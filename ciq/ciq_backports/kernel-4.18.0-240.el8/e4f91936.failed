net: sfp: Add more extended compliance codes

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Danielle Ratson <danieller@nvidia.com>
commit e4f91936993ce4d0954688ec3cb80b3471b9eda5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/e4f91936.failed

SFF-8024 is used to define various constants re-used in several SFF
SFP-related specifications.

Add SFF-8024 extended compliance code definitions for CMIS compliant
modules and use them in the next patch to determine the firmware flashing
work.

	Signed-off-by: Danielle Ratson <danieller@nvidia.com>
	Reviewed-by: Petr Machata <petrm@nvidia.com>
	Reviewed-by: Russell King (Oracle) <rmk+kernel@armlinux.org.uk>
	Reviewed-by: Andrew Lunn <andrew@lunn.ch>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e4f91936993ce4d0954688ec3cb80b3471b9eda5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/sfp.h
diff --cc include/linux/sfp.h
index d37518e89db2,b14be59550e3..000000000000
--- a/include/linux/sfp.h
+++ b/include/linux/sfp.h
@@@ -275,68 -275,102 +275,132 @@@ struct sfp_diag 
  	__be16 cal_v_offset;
  } __packed;
  
++<<<<<<< HEAD
++=======
+ /* SFF8024 defined constants */
+ enum {
+ 	SFF8024_ID_UNK			= 0x00,
+ 	SFF8024_ID_SFF_8472		= 0x02,
+ 	SFF8024_ID_SFP			= 0x03,
+ 	SFF8024_ID_DWDM_SFP		= 0x0b,
+ 	SFF8024_ID_QSFP_8438		= 0x0c,
+ 	SFF8024_ID_QSFP_8436_8636	= 0x0d,
+ 	SFF8024_ID_QSFP28_8636		= 0x11,
+ 	SFF8024_ID_QSFP_DD		= 0x18,
+ 	SFF8024_ID_OSFP			= 0x19,
+ 	SFF8024_ID_DSFP			= 0x1B,
+ 	SFF8024_ID_QSFP_PLUS_CMIS	= 0x1E,
+ 	SFF8024_ID_SFP_DD_CMIS		= 0x1F,
+ 	SFF8024_ID_SFP_PLUS_CMIS	= 0x20,
+ 
+ 	SFF8024_ENCODING_UNSPEC		= 0x00,
+ 	SFF8024_ENCODING_8B10B		= 0x01,
+ 	SFF8024_ENCODING_4B5B		= 0x02,
+ 	SFF8024_ENCODING_NRZ		= 0x03,
+ 	SFF8024_ENCODING_8472_MANCHESTER= 0x04,
+ 	SFF8024_ENCODING_8472_SONET	= 0x05,
+ 	SFF8024_ENCODING_8472_64B66B	= 0x06,
+ 	SFF8024_ENCODING_8436_MANCHESTER= 0x06,
+ 	SFF8024_ENCODING_8436_SONET	= 0x04,
+ 	SFF8024_ENCODING_8436_64B66B	= 0x05,
+ 	SFF8024_ENCODING_256B257B	= 0x07,
+ 	SFF8024_ENCODING_PAM4		= 0x08,
+ 
+ 	SFF8024_CONNECTOR_UNSPEC	= 0x00,
+ 	/* codes 01-05 not supportable on SFP, but some modules have single SC */
+ 	SFF8024_CONNECTOR_SC		= 0x01,
+ 	SFF8024_CONNECTOR_FIBERJACK	= 0x06,
+ 	SFF8024_CONNECTOR_LC		= 0x07,
+ 	SFF8024_CONNECTOR_MT_RJ		= 0x08,
+ 	SFF8024_CONNECTOR_MU		= 0x09,
+ 	SFF8024_CONNECTOR_SG		= 0x0a,
+ 	SFF8024_CONNECTOR_OPTICAL_PIGTAIL= 0x0b,
+ 	SFF8024_CONNECTOR_MPO_1X12	= 0x0c,
+ 	SFF8024_CONNECTOR_MPO_2X16	= 0x0d,
+ 	SFF8024_CONNECTOR_HSSDC_II	= 0x20,
+ 	SFF8024_CONNECTOR_COPPER_PIGTAIL= 0x21,
+ 	SFF8024_CONNECTOR_RJ45		= 0x22,
+ 	SFF8024_CONNECTOR_NOSEPARATE	= 0x23,
+ 	SFF8024_CONNECTOR_MXC_2X16	= 0x24,
+ 
+ 	SFF8024_ECC_UNSPEC		= 0x00,
+ 	SFF8024_ECC_100G_25GAUI_C2M_AOC	= 0x01,
+ 	SFF8024_ECC_100GBASE_SR4_25GBASE_SR = 0x02,
+ 	SFF8024_ECC_100GBASE_LR4_25GBASE_LR = 0x03,
+ 	SFF8024_ECC_100GBASE_ER4_25GBASE_ER = 0x04,
+ 	SFF8024_ECC_100GBASE_SR10	= 0x05,
+ 	SFF8024_ECC_100GBASE_CR4	= 0x0b,
+ 	SFF8024_ECC_25GBASE_CR_S	= 0x0c,
+ 	SFF8024_ECC_25GBASE_CR_N	= 0x0d,
+ 	SFF8024_ECC_10GBASE_T_SFI	= 0x16,
+ 	SFF8024_ECC_10GBASE_T_SR	= 0x1c,
+ 	SFF8024_ECC_5GBASE_T		= 0x1d,
+ 	SFF8024_ECC_2_5GBASE_T		= 0x1e,
+ };
+ 
++>>>>>>> e4f91936993c (net: sfp: Add more extended compliance codes)
  /* SFP EEPROM registers */
  enum {
 -	SFP_PHYS_ID			= 0,
 -
 -	SFP_PHYS_EXT_ID			= 1,
 +	SFP_PHYS_ID			= 0x00,
 +	SFP_PHYS_EXT_ID			= 0x01,
 +	SFP_CONNECTOR			= 0x02,
 +	SFP_COMPLIANCE			= 0x03,
 +	SFP_ENCODING			= 0x0b,
 +	SFP_BR_NOMINAL			= 0x0c,
 +	SFP_RATE_ID			= 0x0d,
 +	SFP_LINK_LEN_SM_KM		= 0x0e,
 +	SFP_LINK_LEN_SM_100M		= 0x0f,
 +	SFP_LINK_LEN_50UM_OM2_10M	= 0x10,
 +	SFP_LINK_LEN_62_5UM_OM1_10M	= 0x11,
 +	SFP_LINK_LEN_COPPER_1M		= 0x12,
 +	SFP_LINK_LEN_50UM_OM4_10M	= 0x12,
 +	SFP_LINK_LEN_50UM_OM3_10M	= 0x13,
 +	SFP_VENDOR_NAME			= 0x14,
 +	SFP_VENDOR_OUI			= 0x25,
 +	SFP_VENDOR_PN			= 0x28,
 +	SFP_VENDOR_REV			= 0x38,
 +	SFP_OPTICAL_WAVELENGTH_MSB	= 0x3c,
 +	SFP_OPTICAL_WAVELENGTH_LSB	= 0x3d,
 +	SFP_CABLE_SPEC			= 0x3c,
 +	SFP_CC_BASE			= 0x3f,
 +	SFP_OPTIONS			= 0x40,	/* 2 bytes, MSB, LSB */
 +	SFP_BR_MAX			= 0x42,
 +	SFP_BR_MIN			= 0x43,
 +	SFP_VENDOR_SN			= 0x44,
 +	SFP_DATECODE			= 0x54,
 +	SFP_DIAGMON			= 0x5c,
 +	SFP_ENHOPTS			= 0x5d,
 +	SFP_SFF8472_COMPLIANCE		= 0x5e,
 +	SFP_CC_EXT			= 0x5f,
 +
 +	SFP_PHYS_ID_SFF			= 0x02,
 +	SFP_PHYS_ID_SFP			= 0x03,
  	SFP_PHYS_EXT_ID_SFP		= 0x04,
 -
 -	SFP_CONNECTOR			= 2,
 -	SFP_COMPLIANCE			= 3,
 -	SFP_ENCODING			= 11,
 -	SFP_BR_NOMINAL			= 12,
 -	SFP_RATE_ID			= 13,
 -	SFF_RID_8079			= 0x01,
 -	SFF_RID_8431_RX_ONLY		= 0x02,
 -	SFF_RID_8431_TX_ONLY		= 0x04,
 -	SFF_RID_8431			= 0x06,
 -	SFF_RID_10G8G			= 0x0e,
 -
 -	SFP_LINK_LEN_SM_KM		= 14,
 -	SFP_LINK_LEN_SM_100M		= 15,
 -	SFP_LINK_LEN_50UM_OM2_10M	= 16,
 -	SFP_LINK_LEN_62_5UM_OM1_10M	= 17,
 -	SFP_LINK_LEN_COPPER_1M		= 18,
 -	SFP_LINK_LEN_50UM_OM4_10M	= 18,
 -	SFP_LINK_LEN_50UM_OM3_10M	= 19,
 -	SFP_VENDOR_NAME			= 20,
 -	SFP_VENDOR_OUI			= 37,
 -	SFP_VENDOR_PN			= 40,
 -	SFP_VENDOR_REV			= 56,
 -	SFP_OPTICAL_WAVELENGTH_MSB	= 60,
 -	SFP_OPTICAL_WAVELENGTH_LSB	= 61,
 -	SFP_CABLE_SPEC			= 60,
 -	SFP_CC_BASE			= 63,
 -
 -	SFP_OPTIONS			= 64,	/* 2 bytes, MSB, LSB */
 +	SFP_CONNECTOR_UNSPEC		= 0x00,
 +	/* codes 01-05 not supportable on SFP, but some modules have single SC */
 +	SFP_CONNECTOR_SC		= 0x01,
 +	SFP_CONNECTOR_FIBERJACK		= 0x06,
 +	SFP_CONNECTOR_LC		= 0x07,
 +	SFP_CONNECTOR_MT_RJ		= 0x08,
 +	SFP_CONNECTOR_MU		= 0x09,
 +	SFP_CONNECTOR_SG		= 0x0a,
 +	SFP_CONNECTOR_OPTICAL_PIGTAIL	= 0x0b,
 +	SFP_CONNECTOR_MPO_1X12		= 0x0c,
 +	SFP_CONNECTOR_MPO_2X16		= 0x0d,
 +	SFP_CONNECTOR_HSSDC_II		= 0x20,
 +	SFP_CONNECTOR_COPPER_PIGTAIL	= 0x21,
 +	SFP_CONNECTOR_RJ45		= 0x22,
 +	SFP_CONNECTOR_NOSEPARATE	= 0x23,
 +	SFP_CONNECTOR_MXC_2X16		= 0x24,
 +	SFP_ENCODING_UNSPEC		= 0x00,
 +	SFP_ENCODING_8B10B		= 0x01,
 +	SFP_ENCODING_4B5B		= 0x02,
 +	SFP_ENCODING_NRZ		= 0x03,
 +	SFP_ENCODING_8472_MANCHESTER	= 0x04,
 +	SFP_ENCODING_8472_SONET		= 0x05,
 +	SFP_ENCODING_8472_64B66B	= 0x06,
 +	SFP_ENCODING_256B257B		= 0x07,
 +	SFP_ENCODING_PAM4		= 0x08,
  	SFP_OPTIONS_HIGH_POWER_LEVEL	= BIT(13),
  	SFP_OPTIONS_PAGING_A2		= BIT(12),
  	SFP_OPTIONS_RETIMER		= BIT(11),
* Unmerged path include/linux/sfp.h
