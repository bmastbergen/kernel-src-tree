drm/amdgpu: drop redundant cg/pg ungate on runpm enter

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Evan Quan <evan.quan@amd.com>
commit fde812b32c1e3f24da305aa5e761840c2460974b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/fde812b3.failed

CG/PG ungate is already performed in ip_suspend_phase1. Otherwise,
the CG/PG ungate will be performed twice. That will cause gfxoff
disablement is performed twice also on runpm enter while gfxoff
enablemnt once on rump exit. That will put gfxoff into disabled
state.

	Signed-off-by: Evan Quan <evan.quan@amd.com>
	Acked-by: Alex Deucher <alexander.deucher@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit fde812b32c1e3f24da305aa5e761840c2460974b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
index 2877ce84aef2,11f7c4e0a360..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
@@@ -2973,8 -3432,6 +2973,11 @@@ int amdgpu_device_suspend(struct drm_de
  		}
  	}
  
++<<<<<<< HEAD
 +	amdgpu_amdkfd_suspend(adev);
 +
++=======
++>>>>>>> fde812b32c1e (drm/amdgpu: drop redundant cg/pg ungate on runpm enter)
  	amdgpu_ras_suspend(adev);
  
  	r = amdgpu_device_ip_suspend_phase1(adev);
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
