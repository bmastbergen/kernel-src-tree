EDAC/mce_amd: Always load on SMCA systems

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Yazen Ghannam <yazen.ghannam@amd.com>
commit 9f6aef86315ac31481a288ba1b3f43b2aac93757
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/9f6aef86.failed

MCA error decoding on SMCA systems is not dependent on family. Return
success early if the system supports the SMCA feature.

	Signed-off-by: Yazen Ghannam <yazen.ghannam@amd.com>
	Signed-off-by: Borislav Petkov <bp@suse.de>
Link: https://lkml.kernel.org/r/20200110015651.14887-3-Yazen.Ghannam@amd.com
(cherry picked from commit 9f6aef86315ac31481a288ba1b3f43b2aac93757)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/edac/mce_amd.c
diff --cc drivers/edac/mce_amd.c
index e2d8a7fb6773,524c63fdad42..000000000000
--- a/drivers/edac/mce_amd.c
+++ b/drivers/edac/mce_amd.c
@@@ -1232,11 -1241,9 +1237,17 @@@ static int __init mce_amd_init(void
  		break;
  
  	case 0x17:
++<<<<<<< HEAD
 +		xec_mask = 0x3f;
 +		if (!boot_cpu_has(X86_FEATURE_SMCA)) {
 +			printk(KERN_WARNING "Decoding supported only on Scalable MCA processors.\n");
 +			goto err_out;
 +		}
++=======
+ 	case 0x18:
+ 		pr_warn("Decoding supported only on Scalable MCA processors.\n");
+ 		goto err_out;
++>>>>>>> 9f6aef86315a (EDAC/mce_amd: Always load on SMCA systems)
  		break;
  
  	default:
* Unmerged path drivers/edac/mce_amd.c
