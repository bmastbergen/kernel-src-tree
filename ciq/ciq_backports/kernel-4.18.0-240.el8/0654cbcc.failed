media: uvcvideo: Use usb_make_path to fill in usb_info

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Hans Verkuil <hverkuil@xs4all.nl>
commit 0654cbcc8dfbf3bc5e6f93916b67fa57ed826a4b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/0654cbcc.failed

The uvc driver uses this function to fill in bus_info for VIDIOC_QUERYCAP,
so use the same function when filling in the bus_info for the media device.

The current implementation only fills in part of the info. E.g. if the full
bus_info is usb-0000:01:00.0-1.4.2, then the media bus_info only has 1.4.2.

	Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>
	Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
	Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>
(cherry picked from commit 0654cbcc8dfbf3bc5e6f93916b67fa57ed826a4b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/media/usb/uvc/uvc_driver.c
diff --cc drivers/media/usb/uvc/uvc_driver.c
index def212bb266a,10cfe8e51626..000000000000
--- a/drivers/media/usb/uvc/uvc_driver.c
+++ b/drivers/media/usb/uvc/uvc_driver.c
@@@ -2179,11 -2179,11 +2179,15 @@@ static int uvc_probe(struct usb_interfa
  	/* Initialize the media device and register the V4L2 device. */
  #ifdef CONFIG_MEDIA_CONTROLLER
  	dev->mdev.dev = &intf->dev;
 -	strscpy(dev->mdev.model, dev->name, sizeof(dev->mdev.model));
 +	strlcpy(dev->mdev.model, dev->name, sizeof(dev->mdev.model));
  	if (udev->serial)
 -		strscpy(dev->mdev.serial, udev->serial,
 +		strlcpy(dev->mdev.serial, udev->serial,
  			sizeof(dev->mdev.serial));
++<<<<<<< HEAD
 +	strcpy(dev->mdev.bus_info, udev->devpath);
++=======
+ 	usb_make_path(udev, dev->mdev.bus_info, sizeof(dev->mdev.bus_info));
++>>>>>>> 0654cbcc8dfb (media: uvcvideo: Use usb_make_path to fill in usb_info)
  	dev->mdev.hw_revision = le16_to_cpu(udev->descriptor.bcdDevice);
  	media_device_init(&dev->mdev);
  
* Unmerged path drivers/media/usb/uvc/uvc_driver.c
