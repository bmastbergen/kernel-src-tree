RDMA/uapi: Fix and re-organize the usage of rdma_driver_id

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Yishai Hadas <yishaih@mellanox.com>
commit 45b268543a8d720e929c71dff7302eed5f7dfed4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/45b26854.failed

Fix 'enum rdma_driver_id' to preserve other driver values before that
RDMA_DRIVER_CXGB3 was deleted. As this value is UAPI we can't affect
other values as of a deletion of one driver id.

Fixes: 30e0f6cf5acb ("RDMA/iw_cxgb3: Remove the iw_cxgb3 module from kernel")
	Signed-off-by: Yishai Hadas <yishaih@mellanox.com>
	Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
Link: https://lore.kernel.org/r/20191015075419.18185-2-leon@kernel.org
	Signed-off-by: Doug Ledford <dledford@redhat.com>
(cherry picked from commit 45b268543a8d720e929c71dff7302eed5f7dfed4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/uapi/rdma/rdma_user_ioctl_cmds.h
diff --cc include/uapi/rdma/rdma_user_ioctl_cmds.h
index 64c14cb0022f,7b1ec806f8f9..000000000000
--- a/include/uapi/rdma/rdma_user_ioctl_cmds.h
+++ b/include/uapi/rdma/rdma_user_ioctl_cmds.h
@@@ -84,26 -84,4 +84,29 @@@ struct ib_uverbs_ioctl_hdr 
  	struct ib_uverbs_attr  attrs[0];
  };
  
++<<<<<<< HEAD
 +enum rdma_driver_id {
 +	RDMA_DRIVER_UNKNOWN,
 +	RDMA_DRIVER_MLX5,
 +	RDMA_DRIVER_MLX4,
 +	RDMA_DRIVER_CXGB3,
 +	RDMA_DRIVER_CXGB4,
 +	RDMA_DRIVER_MTHCA,
 +	RDMA_DRIVER_BNXT_RE,
 +	RDMA_DRIVER_OCRDMA,
 +	RDMA_DRIVER_NES,
 +	RDMA_DRIVER_I40IW,
 +	RDMA_DRIVER_VMW_PVRDMA,
 +	RDMA_DRIVER_QEDR,
 +	RDMA_DRIVER_HNS,
 +	RDMA_DRIVER_USNIC,
 +	RDMA_DRIVER_RXE,
 +	RDMA_DRIVER_HFI1,
 +	RDMA_DRIVER_QIB,
 +	RDMA_DRIVER_EFA,
 +	RDMA_DRIVER_SIW,
 +};
 +
++=======
++>>>>>>> 45b268543a8d (RDMA/uapi: Fix and re-organize the usage of rdma_driver_id)
  #endif
diff --git a/include/uapi/rdma/ib_user_ioctl_verbs.h b/include/uapi/rdma/ib_user_ioctl_verbs.h
index 72c7fc75f960..9019b2d906ea 100644
--- a/include/uapi/rdma/ib_user_ioctl_verbs.h
+++ b/include/uapi/rdma/ib_user_ioctl_verbs.h
@@ -173,4 +173,26 @@ struct ib_uverbs_query_port_resp_ex {
 	__u8  reserved[6];
 };
 
+enum rdma_driver_id {
+	RDMA_DRIVER_UNKNOWN,
+	RDMA_DRIVER_MLX5,
+	RDMA_DRIVER_MLX4,
+	RDMA_DRIVER_CXGB3,
+	RDMA_DRIVER_CXGB4,
+	RDMA_DRIVER_MTHCA,
+	RDMA_DRIVER_BNXT_RE,
+	RDMA_DRIVER_OCRDMA,
+	RDMA_DRIVER_NES,
+	RDMA_DRIVER_I40IW,
+	RDMA_DRIVER_VMW_PVRDMA,
+	RDMA_DRIVER_QEDR,
+	RDMA_DRIVER_HNS,
+	RDMA_DRIVER_USNIC,
+	RDMA_DRIVER_RXE,
+	RDMA_DRIVER_HFI1,
+	RDMA_DRIVER_QIB,
+	RDMA_DRIVER_EFA,
+	RDMA_DRIVER_SIW,
+};
+
 #endif
* Unmerged path include/uapi/rdma/rdma_user_ioctl_cmds.h
