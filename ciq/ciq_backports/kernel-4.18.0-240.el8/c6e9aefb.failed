PCI/ATS: Remove unused PRI and PASID stubs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Bjorn Helgaas <bhelgaas@google.com>
commit c6e9aefbf9db818d60818aa5540d78c1da289aae
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/c6e9aefb.failed

The following functions are only used by amd_iommu.c and intel-iommu.c
(when CONFIG_INTEL_IOMMU_SVM is enabled).  CONFIG_PCI_PRI and
CONFIG_PCI_PASID are always defined in those cases, so there's no need for
the stubs.

  pci_enable_pri()
  pci_disable_pri()
  pci_reset_pri()
  pci_prg_resp_pasid_required()
  pci_enable_pasid()
  pci_disable_pasid()

Remove the unused stubs.

	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
	Reviewed-by: Kuppuswamy Sathyanarayanan <sathyanarayanan.kuppuswamy@linux.intel.com>
	Reviewed-by: Joerg Roedel <jroedel@suse.de>
(cherry picked from commit c6e9aefbf9db818d60818aa5540d78c1da289aae)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/pci-ats.h
diff --cc include/linux/pci-ats.h
index a7a2b3d94fcc,963c11f7c56b..000000000000
--- a/include/linux/pci-ats.h
+++ b/include/linux/pci-ats.h
@@@ -11,31 -26,8 +11,35 @@@ void pci_disable_pri(struct pci_dev *pd
  void pci_restore_pri_state(struct pci_dev *pdev);
  int pci_reset_pri(struct pci_dev *pdev);
  int pci_prg_resp_pasid_required(struct pci_dev *pdev);
 +
  #else /* CONFIG_PCI_PRI */
++<<<<<<< HEAD
 +
 +static inline int pci_enable_pri(struct pci_dev *pdev, u32 reqs)
 +{
 +	return -ENODEV;
 +}
 +
 +static inline void pci_disable_pri(struct pci_dev *pdev)
 +{
 +}
 +
 +static inline void pci_restore_pri_state(struct pci_dev *pdev)
 +{
 +}
 +
 +static inline int pci_reset_pri(struct pci_dev *pdev)
 +{
 +	return -ENODEV;
 +}
 +
 +static inline int pci_prg_resp_pasid_required(struct pci_dev *pdev)
 +{
 +	return 0;
 +}
++=======
+ static inline void pci_restore_pri_state(struct pci_dev *pdev) { }
++>>>>>>> c6e9aefbf9db (PCI/ATS: Remove unused PRI and PASID stubs)
  #endif /* CONFIG_PCI_PRI */
  
  #ifdef CONFIG_PCI_PASID
@@@ -45,32 -36,12 +49,37 @@@ void pci_disable_pasid(struct pci_dev *
  void pci_restore_pasid_state(struct pci_dev *pdev);
  int pci_pasid_features(struct pci_dev *pdev);
  int pci_max_pasids(struct pci_dev *pdev);
++<<<<<<< HEAD
 +
 +#else  /* CONFIG_PCI_PASID */
 +
 +static inline int pci_enable_pasid(struct pci_dev *pdev, int features)
 +{
 +	return -EINVAL;
 +}
 +
 +static inline void pci_disable_pasid(struct pci_dev *pdev)
 +{
 +}
 +
 +static inline void pci_restore_pasid_state(struct pci_dev *pdev)
 +{
 +}
 +
++=======
+ #else /* CONFIG_PCI_PASID */
+ static inline void pci_restore_pasid_state(struct pci_dev *pdev) { }
++>>>>>>> c6e9aefbf9db (PCI/ATS: Remove unused PRI and PASID stubs)
  static inline int pci_pasid_features(struct pci_dev *pdev)
 -{ return -EINVAL; }
 +{
 +	return -EINVAL;
 +}
 +
  static inline int pci_max_pasids(struct pci_dev *pdev)
 -{ return -EINVAL; }
 +{
 +	return -EINVAL;
 +}
  #endif /* CONFIG_PCI_PASID */
  
 -#endif /* LINUX_PCI_ATS_H */
 +
 +#endif /* LINUX_PCI_ATS_H*/
* Unmerged path include/linux/pci-ats.h
