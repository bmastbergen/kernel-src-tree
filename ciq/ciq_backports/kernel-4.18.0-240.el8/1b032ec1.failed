iommu: Unexport iommu_group_get_for_dev()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Joerg Roedel <jroedel@suse.de>
commit 1b032ec1ecbce6047af7d11c9db432e237cb17d8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/1b032ec1.failed

The function is now only used in IOMMU core code and shouldn't be used
outside of it anyway, so remove the export for it.

	Signed-off-by: Joerg Roedel <jroedel@suse.de>
	Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
	Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
Link: https://lore.kernel.org/r/20200429133712.31431-35-joro@8bytes.org
	Signed-off-by: Joerg Roedel <jroedel@suse.de>
(cherry picked from commit 1b032ec1ecbce6047af7d11c9db432e237cb17d8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iommu/iommu.c
diff --cc drivers/iommu/iommu.c
index 7997fcb701e0,a9e5618cde80..000000000000
--- a/drivers/iommu/iommu.c
+++ b/drivers/iommu/iommu.c
@@@ -91,6 -80,19 +91,22 @@@ static bool iommu_cmd_line_dma_api(void
  	return !!(iommu_cmd_line & IOMMU_CMD_LINE_DMA_API);
  }
  
++<<<<<<< HEAD
++=======
+ static int iommu_alloc_default_domain(struct device *dev);
+ static struct iommu_domain *__iommu_domain_alloc(struct bus_type *bus,
+ 						 unsigned type);
+ static int __iommu_attach_device(struct iommu_domain *domain,
+ 				 struct device *dev);
+ static int __iommu_attach_group(struct iommu_domain *domain,
+ 				struct iommu_group *group);
+ static void __iommu_detach_group(struct iommu_domain *domain,
+ 				 struct iommu_group *group);
+ static int iommu_create_device_direct_mappings(struct iommu_group *group,
+ 					       struct device *dev);
+ static struct iommu_group *iommu_group_get_for_dev(struct device *dev);
+ 
++>>>>>>> 1b032ec1ecbc (iommu: Unexport iommu_group_get_for_dev())
  #define IOMMU_GROUP_ATTR(_name, _mode, _show, _store)		\
  struct iommu_group_attribute iommu_group_attr_##_name =		\
  	__ATTR(_name, _mode, _show, _store)
* Unmerged path drivers/iommu/iommu.c
diff --git a/include/linux/iommu.h b/include/linux/iommu.h
index c0752afea934..683bcd1cadcc 100644
--- a/include/linux/iommu.h
+++ b/include/linux/iommu.h
@@ -447,7 +447,6 @@ extern int iommu_group_register_notifier(struct iommu_group *group,
 extern int iommu_group_unregister_notifier(struct iommu_group *group,
 					   struct notifier_block *nb);
 extern int iommu_group_id(struct iommu_group *group);
-extern struct iommu_group *iommu_group_get_for_dev(struct device *dev);
 extern struct iommu_domain *iommu_group_default_domain(struct iommu_group *);
 
 extern int iommu_domain_get_attr(struct iommu_domain *domain, enum iommu_attr,
