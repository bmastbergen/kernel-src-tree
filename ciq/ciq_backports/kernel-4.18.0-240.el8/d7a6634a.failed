drm/amdgpu/atomfirmware: fix vram_info fetching for renoir

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Alex Deucher <alexander.deucher@amd.com>
commit d7a6634a4cfba073ff6a526cb4265d6e58ece234
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/d7a6634a.failed

Renoir uses integrated_system_info table v12.  The table
has the same layout as v11 with respect to this data.  Just
reuse the existing code for v12 for stable.

Fixes incorrectly reported vram info in the driver output.

	Acked-by: Evan Quan <evan.quan@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit d7a6634a4cfba073ff6a526cb4265d6e58ece234)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_atomfirmware.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_atomfirmware.c
index daf687428cdb,44f927641b89..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_atomfirmware.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_atomfirmware.c
@@@ -247,10 -204,17 +247,18 @@@ int amdgpu_atomfirmware_get_vram_type(s
  				(mode_info->atom_context->bios + data_offset);
  			switch (crev) {
  			case 11:
++<<<<<<< HEAD
++=======
+ 			case 12:
+ 				mem_channel_number = igp_info->v11.umachannelnumber;
+ 				/* channel width is 64 */
+ 				if (vram_width)
+ 					*vram_width = mem_channel_number * 64;
++>>>>>>> d7a6634a4cfb (drm/amdgpu/atomfirmware: fix vram_info fetching for renoir)
  				mem_type = igp_info->v11.memorytype;
 -				if (vram_type)
 -					*vram_type = convert_atom_mem_type_to_vram_type(adev, mem_type);
 -				break;
 +				return convert_atom_mem_type_to_vram_type(adev, mem_type);
  			default:
 -				return -EINVAL;
 +				return 0;
  			}
  		} else {
  			vram_info = (union vram_info *)
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_atomfirmware.c
