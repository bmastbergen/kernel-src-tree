kvm: x86: Expose RDPID in KVM_GET_SUPPORTED_CPUID

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Jim Mattson <jmattson@google.com>
commit 41cd02c6f7f6e66e7abf02a4379e355a7db89f78
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/41cd02c6.failed

When the RDPID instruction is supported on the host, enumerate it in
KVM_GET_SUPPORTED_CPUID.

	Signed-off-by: Jim Mattson <jmattson@google.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 41cd02c6f7f6e66e7abf02a4379e355a7db89f78)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/cpuid.c
diff --cc arch/x86/kvm/cpuid.c
index 2e69331b8580,f68c0c753c38..000000000000
--- a/arch/x86/kvm/cpuid.c
+++ b/arch/x86/kvm/cpuid.c
@@@ -367,7 -363,7 +367,11 @@@ static inline void do_cpuid_7_mask(stru
  
  	/* cpuid 7.0.ecx*/
  	const u32 kvm_cpuid_7_0_ecx_x86_features =
++<<<<<<< HEAD
 +		F(AVX512VBMI) | F(LA57) | 0 /*PKU*/ | 0 /*OSPKE*/ |
++=======
+ 		F(AVX512VBMI) | F(LA57) | F(PKU) | 0 /*OSPKE*/ | F(RDPID) |
++>>>>>>> 41cd02c6f7f6 (kvm: x86: Expose RDPID in KVM_GET_SUPPORTED_CPUID)
  		F(AVX512_VPOPCNTDQ) | F(UMIP) | F(AVX512_VBMI2) | F(GFNI) |
  		F(VAES) | F(VPCLMULQDQ) | F(AVX512_VNNI) | F(AVX512_BITALG) |
  		F(CLDEMOTE) | F(MOVDIRI) | F(MOVDIR64B) | 0 /*WAITPKG*/;
* Unmerged path arch/x86/kvm/cpuid.c
