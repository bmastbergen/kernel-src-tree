perf evswitch: Introduce OPTS_EVSWITCH() for cmd line processing

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit add3a719c95f0443d563889b4af255b78ba54521
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/add3a719.failed

All tools will want those, so provide a convenient way to get them.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Florian Weimer <fweimer@redhat.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: William Cohen <wcohen@redhat.com>
Link: https://lkml.kernel.org/n/tip-v16pe3sbf3wjmn152u18f649@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit add3a719c95f0443d563889b4af255b78ba54521)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-script.c
#	tools/perf/util/evswitch.h
diff --cc tools/perf/builtin-script.c
index e747fa78aabb,2a5b8af80e6b..000000000000
--- a/tools/perf/builtin-script.c
+++ b/tools/perf/builtin-script.c
@@@ -3539,6 -3543,7 +3539,10 @@@ int cmd_script(int argc, const char **a
  		   "file", "file saving guest os /proc/kallsyms"),
  	OPT_STRING(0, "guestmodules", &symbol_conf.default_guest_modules,
  		   "file", "file saving guest os /proc/modules"),
++<<<<<<< HEAD
++=======
+ 	OPTS_EVSWITCH(&script.evswitch),
++>>>>>>> add3a719c95f (perf evswitch: Introduce OPTS_EVSWITCH() for cmd line processing)
  	OPT_END()
  	};
  	const char * const script_subcommands[] = { "record", "report", NULL };
diff --cc tools/perf/util/evswitch.h
index bb88e8002f39,94220d1bb479..000000000000
--- a/tools/perf/util/evswitch.h
+++ b/tools/perf/util/evswitch.h
@@@ -13,4 -14,14 +13,17 @@@ struct evswitch 
  	bool	     show_on_off_events;
  };
  
++<<<<<<< HEAD
++=======
+ bool evswitch__discard(struct evswitch *evswitch, struct evsel *evsel);
+ 
+ #define OPTS_EVSWITCH(evswitch)								  \
+ 	OPT_STRING(0, "switch-on", &(evswitch)->on_name,				  \
+ 		   "event", "Consider events after the ocurrence of this event"),	  \
+ 	OPT_STRING(0, "switch-off", &(evswitch)->off_name,				  \
+ 		   "event", "Stop considering events after the ocurrence of this event"), \
+ 	OPT_BOOLEAN(0, "show-on-off-events", &(evswitch)->show_on_off_events,		  \
+ 		    "Show the on/off switch events, used with --switch-on and --switch-off")
+ 
++>>>>>>> add3a719c95f (perf evswitch: Introduce OPTS_EVSWITCH() for cmd line processing)
  #endif /* __PERF_EVSWITCH_H */
* Unmerged path tools/perf/builtin-script.c
* Unmerged path tools/perf/util/evswitch.h
