net: sched: act_ife: fix memory leak in ife init

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-80.el8
Rebuild_CHGLOG: - [net] sched: act_ife: fix memory leak in ife init (Ivan Vecera) [1638022]
Rebuild_FUZZ: 94.51%
commit-author Vlad Buslov <vladbu@mellanox.com>
commit 01e866bf07fbb10e96bff46ea1e5e0410d6e40b9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-80.el8/01e866bf.failed

Free params if tcf_idr_check_alloc() returned error.

Fixes: 0190c1d452a9 ("net: sched: atomically check-allocate action")
	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
	Signed-off-by: Vlad Buslov <vladbu@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 01e866bf07fbb10e96bff46ea1e5e0410d6e40b9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/act_ife.c
diff --cc net/sched/act_ife.c
index 2aab42c549af,3d6e265758c0..000000000000
--- a/net/sched/act_ife.c
+++ b/net/sched/act_ife.c
@@@ -484,7 -484,12 +484,16 @@@ static int tcf_ife_init(struct net *net
  	if (!p)
  		return -ENOMEM;
  
++<<<<<<< HEAD
 +	exists = tcf_idr_check(tn, parm->index, a, bind);
++=======
+ 	err = tcf_idr_check_alloc(tn, &parm->index, a, bind);
+ 	if (err < 0) {
+ 		kfree(p);
+ 		return err;
+ 	}
+ 	exists = err;
++>>>>>>> 01e866bf07fb (net: sched: act_ife: fix memory leak in ife init)
  	if (exists && bind) {
  		kfree(p);
  		return 0;
* Unmerged path net/sched/act_ife.c
