x86/hyper-v: Fix wrong merge conflict resolution

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-80.el8
commit-author K. Y. Srinivasan <kys@microsoft.com>
commit be0e16ce7c3bf9855f1ef5ae46cf889e1784ddea
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-80.el8/be0e16ce.failed

When the mapping betwween the Linux notion of CPU ID to the hypervisor's
notion of CPU ID is not initialized, IPI must fall back to the
non-enlightened path.

The recent merge of upstream changes into the hyperv branch resolved a
merge conflict wronly by returning success in that case, which results in
the IPI not being sent at all. Fix it up.

Fixes: 8f63e9230dec ("Merge branch 'x86/urgent' into x86/hyperv")
	Reported-by: Michael Kelley <mikelley@microsoft.com>
	Signed-off-by: K. Y. Srinivasan <kys@microsoft.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Cc: gregkh@linuxfoundation.org
	Cc: devel@linuxdriverproject.org
	Cc: olaf@aepfle.de
	Cc: apw@canonical.com
	Cc: jasowang@redhat.com
	Cc: hpa@zytor.com
	Cc: sthemmin@microsoft.com
	Cc: Michael.H.Kelley@microsoft.com
	Cc: vkuznets@redhat.com
Link: https://lkml.kernel.org/r/20180720035009.3995-1-kys@linuxonhyperv.com
(cherry picked from commit be0e16ce7c3bf9855f1ef5ae46cf889e1784ddea)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/hyperv/hv_apic.c
diff --cc arch/x86/hyperv/hv_apic.c
index b8b411beb2f9,5b0f613428c2..000000000000
--- a/arch/x86/hyperv/hv_apic.c
+++ b/arch/x86/hyperv/hv_apic.c
@@@ -164,7 -168,7 +164,11 @@@ static bool __send_ipi_mask(const struc
  	for_each_cpu(cur_cpu, mask) {
  		vcpu = hv_cpu_number_to_vp_number(cur_cpu);
  		if (vcpu == VP_INVAL)
++<<<<<<< HEAD
 +			goto ipi_mask_done;
++=======
+ 			return false;
++>>>>>>> be0e16ce7c3b (x86/hyper-v: Fix wrong merge conflict resolution)
  
  		/*
  		 * This particular version of the IPI hypercall can
* Unmerged path arch/x86/hyperv/hv_apic.c
