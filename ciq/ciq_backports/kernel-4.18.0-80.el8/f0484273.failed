ide: don't acquire queue_lock in ide_complete_pm_rq

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-80.el8
commit-author Christoph Hellwig <hch@lst.de>
commit f04842734c7a68381ab3cb45628ffb3ff1029490
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-80.el8/f0484273.failed

blk_mq_stop_hw_queues doesn't need any locking, and the ide
dev_flags field isn't protected by it either.

	Reviewed-by: Omar Sandoval <osandov@fb.com>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit f04842734c7a68381ab3cb45628ffb3ff1029490)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/ide/ide-pm.c
diff --cc drivers/ide/ide-pm.c
index a8c53c98252d,192e6c65d34e..000000000000
--- a/drivers/ide/ide-pm.c
+++ b/drivers/ide/ide-pm.c
@@@ -214,12 -210,10 +213,18 @@@ void ide_complete_pm_rq(ide_drive_t *dr
  	printk("%s: completing PM request, %s\n", drive->name,
  	       (ide_req(rq)->type == ATA_PRIV_PM_SUSPEND) ? "suspend" : "resume");
  #endif
++<<<<<<< HEAD
 +	spin_lock_irqsave(q->queue_lock, flags);
++=======
++>>>>>>> f04842734c7a (ide: don't acquire queue_lock in ide_complete_pm_rq)
  	if (ide_req(rq)->type == ATA_PRIV_PM_SUSPEND)
  		blk_mq_stop_hw_queues(q);
  	else
  		drive->dev_flags &= ~IDE_DFLAG_BLOCKED;
++<<<<<<< HEAD
 +	spin_unlock_irqrestore(q->queue_lock, flags);
++=======
++>>>>>>> f04842734c7a (ide: don't acquire queue_lock in ide_complete_pm_rq)
  
  	drive->hwif->rq = NULL;
  
* Unmerged path drivers/ide/ide-pm.c
