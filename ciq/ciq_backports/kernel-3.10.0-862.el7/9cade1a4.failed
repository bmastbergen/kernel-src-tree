dma: dw: split driver to library part and platform code

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [sound] alsa: dma: dw: split driver to library part and platform code (Jaroslav Kysela) [1463624]
Rebuild_FUZZ: 94.83%
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit 9cade1a46c77dfc96d57a3ea6354e95b2a7fcf61
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/9cade1a4.failed

To simplify the driver development let's split driver to library and platform
code parts. It helps us to add PCI driver in future.

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Acked-by: Arnd Bergmann <arnd@arndb.de>
	Acked-by: Viresh Kumar <viresh.kumar@linaro.org>
[Fixed compile error and few checkpatch issues]
	Signed-off-by: Vinod Koul <vinod.koul@intel.com>
(cherry picked from commit 9cade1a46c77dfc96d57a3ea6354e95b2a7fcf61)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/dma/Makefile
#	drivers/dma/core.c
#	drivers/dma/dw/Kconfig
#	drivers/dma/dw/Makefile
#	drivers/dma/dw/dw_dmac.c
#	drivers/dma/dw/dw_dmac_regs.h
#	drivers/dma/dw_dmac.c
#	drivers/dma/dw_dmac_regs.h
#	drivers/dma/internal.h
#	drivers/dma/platform.c
#	drivers/dma/regs.h
diff --cc drivers/dma/Makefile
index 51f4f297bc4a,6e2a521fbbe3..000000000000
--- a/drivers/dma/Makefile
+++ b/drivers/dma/Makefile
@@@ -14,8 -15,7 +14,12 @@@ obj-$(CONFIG_FSL_DMA) += fsldma.
  obj-$(CONFIG_MPC512X_DMA) += mpc512x_dma.o
  obj-$(CONFIG_PPC_BESTCOMM) += bestcomm/
  obj-$(CONFIG_MV_XOR) += mv_xor.o
++<<<<<<< HEAD
 +obj-$(CONFIG_IDMA64) += idma64.o
 +obj-$(CONFIG_DW_DMAC) += dw_dmac.o
++=======
+ obj-$(CONFIG_DW_DMAC_CORE) += dw/
++>>>>>>> 9cade1a46c77 (dma: dw: split driver to library part and platform code)
  obj-$(CONFIG_AT_HDMAC) += at_hdmac.o
  obj-$(CONFIG_MX3_IPU) += ipu/
  obj-$(CONFIG_TXX9_DMAC) += txx9dmac.o
* Unmerged path drivers/dma/core.c
* Unmerged path drivers/dma/dw/Kconfig
* Unmerged path drivers/dma/dw/Makefile
* Unmerged path drivers/dma/dw/dw_dmac.c
* Unmerged path drivers/dma/dw/dw_dmac_regs.h
* Unmerged path drivers/dma/dw_dmac.c
* Unmerged path drivers/dma/dw_dmac_regs.h
* Unmerged path drivers/dma/internal.h
* Unmerged path drivers/dma/platform.c
* Unmerged path drivers/dma/regs.h
* Unmerged path drivers/dma/Makefile
* Unmerged path drivers/dma/core.c
* Unmerged path drivers/dma/dw/Kconfig
* Unmerged path drivers/dma/dw/Makefile
* Unmerged path drivers/dma/dw/dw_dmac.c
* Unmerged path drivers/dma/dw/dw_dmac_regs.h
* Unmerged path drivers/dma/dw_dmac.c
* Unmerged path drivers/dma/dw_dmac_regs.h
* Unmerged path drivers/dma/internal.h
* Unmerged path drivers/dma/platform.c
* Unmerged path drivers/dma/regs.h
