scsi: qla2xxx: silence -Wformat-security warning

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: silence -Wformat-security warning (Himanshu Madhani) [1327621]
Rebuild_FUZZ: 93.33%
commit-author Nicolas Iooss <nicolas.iooss_linux@m4x.org>
commit e2e8f619adaaa1b31c3739640beb0bd72ac87f4d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/e2e8f619.failed

qla24xx_enable_msix() calls scnprintf() with a non-literal format
string. This makes clang report -Wformat-security warnings when
compiling this function:

    drivers/scsi/qla2xxx/qla_isr.c:3083:7: error: format string is not a
    string literal (potentially insecure) [-Werror,-Wformat-security]
                        msix_entries[i].name);
                        ^~~~~~~~~~~~~~~~~~~~
    drivers/scsi/qla2xxx/qla_isr.c:3083:7: note: treat the string as an
    argument to avoid this
                        msix_entries[i].name);
                        ^
                        "%s",
    drivers/scsi/qla2xxx/qla_isr.c:3119:7: error: format string is not a
    string literal (potentially insecure) [-Werror,-Wformat-security]
                        msix_entries[QLA_ATIO_VECTOR].name);
                        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    drivers/scsi/qla2xxx/qla_isr.c:3119:7: note: treat the string as an
    argument to avoid this
                        msix_entries[QLA_ATIO_VECTOR].name);
                        ^
                        "%s",

Even though msix_entries[...].name are initialized as literal strings
with no % character and are never modified, introduce a "%s" format
parameter in order to silence this -Wformat-security warning and make
clang able to detect at compile time real bugs related to string
formatting.

[mkp: typo]

	Signed-off-by: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
	Reviewed-by: Bart Van Assche <bart.vanassche@sandisk.com>
	Acked-by: Himanshu Madhani <himanshu.madhani@cavium.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit e2e8f619adaaa1b31c3739640beb0bd72ac87f4d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_isr.c
diff --cc drivers/scsi/qla2xxx/qla_isr.c
index c86d2203063c,474b415217df..000000000000
--- a/drivers/scsi/qla2xxx/qla_isr.c
+++ b/drivers/scsi/qla2xxx/qla_isr.c
@@@ -3079,7 -3080,7 +3079,11 @@@ qla24xx_enable_msix(struct qla_hw_data 
  		qentry->handle = rsp;
  		rsp->msix = qentry;
  		scnprintf(qentry->name, sizeof(qentry->name),
++<<<<<<< HEAD
 +			msix_entries[i].name);
++=======
+ 		    "%s", msix_entries[i].name);
++>>>>>>> e2e8f619adaa (scsi: qla2xxx: silence -Wformat-security warning)
  		if (IS_P3P_TYPE(ha))
  			ret = request_irq(qentry->vector,
  				qla82xx_msix_entries[i].handler,
@@@ -3123,6 -3107,23 +3127,26 @@@
  		schedule_work(&qentry->irq_notify.work);
  	}
  
++<<<<<<< HEAD
++=======
+ 	/*
+ 	 * If target mode is enable, also request the vector for the ATIO
+ 	 * queue.
+ 	 */
+ 	if (QLA_TGT_MODE_ENABLED() && IS_ATIO_MSIX_CAPABLE(ha)) {
+ 		qentry = &ha->msix_entries[QLA_ATIO_VECTOR];
+ 		rsp->msix = qentry;
+ 		qentry->handle = rsp;
+ 		scnprintf(qentry->name, sizeof(qentry->name),
+ 		    "%s", msix_entries[QLA_ATIO_VECTOR].name);
+ 		qentry->in_use = 1;
+ 		ret = request_irq(qentry->vector,
+ 			msix_entries[QLA_ATIO_VECTOR].handler,
+ 			0, msix_entries[QLA_ATIO_VECTOR].name, rsp);
+ 		qentry->have_irq = 1;
+ 	}
+ 
++>>>>>>> e2e8f619adaa (scsi: qla2xxx: silence -Wformat-security warning)
  msix_register_fail:
  	if (ret) {
  		ql_log(ql_log_fatal, vha, 0x00cb,
* Unmerged path drivers/scsi/qla2xxx/qla_isr.c
