drm/amd/amdgpu: Remove workaround check for UVD6 on APUs

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Tom St Denis <tom.stdenis@amd.com>
commit d3daa2c7865cbfa830651b11c8ad1df23465b46e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/d3daa2c7.failed

On APUs the uvd6 driver was skipping proper suspend/resume routines resulting
in a broken state upon resume.

	Signed-off-by: Tom St Denis <tom.stdenis@amd.com>
	Acked-by: Alex Deucher <alexander.deucher@amd.com>
	Reviewed-by: Leo Liu <leo.liu@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit d3daa2c7865cbfa830651b11c8ad1df23465b46e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c
diff --cc drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c
index 65d961e6e9e6,430a6b4dfac9..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c
@@@ -227,14 -225,7 +227,18 @@@ static int uvd_v6_0_suspend(void *handl
  	if (r)
  		return r;
  
++<<<<<<< HEAD
 +	/* Skip this for APU for now */
 +	if (!(adev->flags & AMD_IS_APU)) {
 +		r = amdgpu_uvd_suspend(adev);
 +		if (r)
 +			return r;
 +	}
 +
 +	return r;
++=======
+ 	return amdgpu_uvd_suspend(adev);
++>>>>>>> d3daa2c7865c (drm/amd/amdgpu: Remove workaround check for UVD6 on APUs)
  }
  
  static int uvd_v6_0_resume(void *handle)
@@@ -242,17 -233,11 +246,25 @@@
  	int r;
  	struct amdgpu_device *adev = (struct amdgpu_device *)handle;
  
++<<<<<<< HEAD
 +	/* Skip this for APU for now */
 +	if (!(adev->flags & AMD_IS_APU)) {
 +		r = amdgpu_uvd_resume(adev);
 +		if (r)
 +			return r;
 +	}
 +	r = uvd_v6_0_hw_init(adev);
 +	if (r)
 +		return r;
 +
 +	return r;
++=======
+ 	r = amdgpu_uvd_resume(adev);
+ 	if (r)
+ 		return r;
+ 
+ 	return uvd_v6_0_hw_init(adev);
++>>>>>>> d3daa2c7865c (drm/amd/amdgpu: Remove workaround check for UVD6 on APUs)
  }
  
  /**
* Unmerged path drivers/gpu/drm/amd/amdgpu/uvd_v6_0.c
