nvme: Quirk APST on Intel 600P/P3100 devices

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [nvme] Quirk APST on Intel 600P/P3100 devices (David Milburn) [1389600]
Rebuild_FUZZ: 92.68%
commit-author Andy Lutomirski <luto@kernel.org>
commit 50af47d04ca530544b27affffb0722f158e2bb9c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/50af47d0.failed

They have known firmware bugs.  A fix is apparently in the works --
once fixed firmware is available, someone from Intel (Hi, Keith!)
can adjust the quirk accordingly.

	Cc: stable@vger.kernel.org # v4.11
	Cc: Kai-Heng Feng <kai.heng.feng@canonical.com>
	Cc: Mario Limonciello <mario_limonciello@dell.com>
	Signed-off-by: Andy Lutomirski <luto@kernel.org>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 50af47d04ca530544b27affffb0722f158e2bb9c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/pci.c
diff --cc drivers/nvme/host/pci.c
index 98f199a372c5,d52701df7245..000000000000
--- a/drivers/nvme/host/pci.c
+++ b/drivers/nvme/host/pci.c
@@@ -2025,13 -2287,15 +2025,19 @@@ static const struct pci_error_handlers 
  static const struct pci_device_id nvme_id_table[] = {
  	{ PCI_VDEVICE(INTEL, 0x0953),
  		.driver_data = NVME_QUIRK_STRIPE_SIZE |
 -				NVME_QUIRK_DEALLOCATE_ZEROES, },
 +				NVME_QUIRK_DISCARD_ZEROES, },
  	{ PCI_VDEVICE(INTEL, 0x0a53),
  		.driver_data = NVME_QUIRK_STRIPE_SIZE |
 -				NVME_QUIRK_DEALLOCATE_ZEROES, },
 +				NVME_QUIRK_DISCARD_ZEROES, },
  	{ PCI_VDEVICE(INTEL, 0x0a54),
  		.driver_data = NVME_QUIRK_STRIPE_SIZE |
++<<<<<<< HEAD
 +				NVME_QUIRK_DISCARD_ZEROES, },
++=======
+ 				NVME_QUIRK_DEALLOCATE_ZEROES, },
+ 	{ PCI_VDEVICE(INTEL, 0xf1a5),	/* Intel 600P/P3100 */
+ 		.driver_data = NVME_QUIRK_NO_DEEPEST_PS },
++>>>>>>> 50af47d04ca5 (nvme: Quirk APST on Intel 600P/P3100 devices)
  	{ PCI_VDEVICE(INTEL, 0x5845),	/* Qemu emulated controller */
  		.driver_data = NVME_QUIRK_IDENTIFY_CNS, },
  	{ PCI_DEVICE(0x1c58, 0x0003),	/* HGST adapter */
* Unmerged path drivers/nvme/host/pci.c
