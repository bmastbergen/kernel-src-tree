net/sched: act_mirred: Rename tcfm_ok_push to tcfm_mac_header_xmit and make it a bool

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [net] sched: act_mirred: Rename tcfm_ok_push to tcfm_mac_header_xmit and make it a bool (Ivan Vecera) [1445420]
Rebuild_FUZZ: 97.59%
commit-author Shmulik Ladkani <shmulik.ladkani@gmail.com>
commit 165779231ff9e9c4ac7baaee84eff91d589f3e22
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/16577923.failed

'tcfm_ok_push' specifies whether a mac_len sized push is needed upon
egress to the target device (if action is performed at ingress).

Rename it to 'tcfm_mac_header_xmit' as this is actually an attribute of
the target device (and use a bool instead of int).

This allows to decouple the attribute from the action to be taken.

	Signed-off-by: Shmulik Ladkani <shmulik.ladkani@gmail.com>
	Acked-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 165779231ff9e9c4ac7baaee84eff91d589f3e22)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/act_mirred.c
diff --cc net/sched/act_mirred.c
index 80554d23769d,16e17a887bd6..000000000000
--- a/net/sched/act_mirred.c
+++ b/net/sched/act_mirred.c
@@@ -51,15 -51,21 +51,21 @@@ static const struct nla_policy mirred_p
  	[TCA_MIRRED_PARMS]	= { .len = sizeof(struct tc_mirred) },
  };
  
 -static int mirred_net_id;
 -static struct tc_action_ops act_mirred_ops;
 -
  static int tcf_mirred_init(struct net *net, struct nlattr *nla,
 -			   struct nlattr *est, struct tc_action **a, int ovr,
 +			   struct nlattr *est, struct tc_action *a, int ovr,
  			   int bind)
  {
 -	struct tc_action_net *tn = net_generic(net, mirred_net_id);
  	struct nlattr *tb[TCA_MIRRED_MAX + 1];
+ 	bool mac_header_xmit = false;
  	struct tc_mirred *parm;
  	struct tcf_mirred *m;
  	struct net_device *dev;
++<<<<<<< HEAD
 +	int ret, ok_push = 0;
++=======
+ 	bool exists = false;
+ 	int ret;
++>>>>>>> 165779231ff9 (net/sched: act_mirred: Rename tcfm_ok_push to tcfm_mac_header_xmit and make it a bool)
  
  	if (nla == NULL)
  		return -EINVAL;
diff --git a/include/net/tc_act/tc_mirred.h b/include/net/tc_act/tc_mirred.h
index 9ea601b2d0be..5cfba404bf6f 100644
--- a/include/net/tc_act/tc_mirred.h
+++ b/include/net/tc_act/tc_mirred.h
@@ -8,7 +8,7 @@ struct tcf_mirred {
 	struct tcf_common	common;
 	int			tcfm_eaction;
 	int			tcfm_ifindex;
-	int			tcfm_ok_push;
+	bool			tcfm_mac_header_xmit;
 	struct net_device __rcu	*tcfm_dev;
 	struct list_head	tcfm_list;
 };
* Unmerged path net/sched/act_mirred.c
