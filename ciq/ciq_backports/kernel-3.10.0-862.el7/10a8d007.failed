net/mlx5: Remove the flag MLX5_INTERFACE_STATE_SHUTDOWN

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [netdrv] mlx5: Remove the flag MLX5_INTERFACE_STATE_SHUTDOWN (Kamal Heib) [1456694]
Rebuild_FUZZ: 96.23%
commit-author Huy Nguyen <huyn@mellanox.com>
commit 10a8d00707082955b177164d4b4e758ffcbd4017
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/10a8d007.failed

MLX5_INTERFACE_STATE_SHUTDOWN is not used in the code.

Fixes: 5fc7197d3a25 ("net/mlx5: Add pci shutdown callback")
	Signed-off-by: Huy Nguyen <huyn@mellanox.com>
	Reviewed-by: Daniel Jurgens <danielj@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 10a8d00707082955b177164d4b4e758ffcbd4017)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/main.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/main.c
index 83ed808b199e,16885827367b..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/main.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/main.c
@@@ -1463,11 -1560,12 +1463,17 @@@ static void shutdown(struct pci_dev *pd
  {
  	struct mlx5_core_dev *dev  = pci_get_drvdata(pdev);
  	struct mlx5_priv *priv = &dev->priv;
 -	int err;
  
  	dev_info(&pdev->dev, "Shutdown was called\n");
++<<<<<<< HEAD
 +	/* Notify mlx5 clients that the kernel is being shut down */
 +	set_bit(MLX5_INTERFACE_STATE_SHUTDOWN, &dev->intf_state);
 +	mlx5_unload_one(dev, priv, false);
++=======
+ 	err = mlx5_try_fast_unload(dev);
+ 	if (err)
+ 		mlx5_unload_one(dev, priv, false);
++>>>>>>> 10a8d0070708 (net/mlx5: Remove the flag MLX5_INTERFACE_STATE_SHUTDOWN)
  	mlx5_pci_disable_device(dev);
  }
  
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/main.c
diff --git a/include/linux/mlx5/driver.h b/include/linux/mlx5/driver.h
index 031f38b662df..5bfa7522ea30 100644
--- a/include/linux/mlx5/driver.h
+++ b/include/linux/mlx5/driver.h
@@ -633,7 +633,6 @@ enum mlx5_device_state {
 
 enum mlx5_interface_state {
 	MLX5_INTERFACE_STATE_UP = BIT(0),
-	MLX5_INTERFACE_STATE_SHUTDOWN = BIT(1),
 };
 
 enum mlx5_pci_status {
