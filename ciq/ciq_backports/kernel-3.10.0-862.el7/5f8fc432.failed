PCI: Include pci/pcie/Kconfig directly from pci/Kconfig

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [pci] Include pci/pcie/Kconfig directly from pci/Kconfig (Myron Stowe) [1466891]
Rebuild_FUZZ: 95.24%
commit-author Bogicevic Sasa <brutallesale@gmail.com>
commit 5f8fc43217a01c98be88aa53794b4d1333a07a5a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/5f8fc432.failed

Include pci/pcie/Kconfig directly from pci/Kconfig, so arches don't
have to source both pci/Kconfig and pci/pcie/Kconfig.

Note that this effectively adds pci/pcie/Kconfig to the following
arches, because they already sourced drivers/pci/Kconfig but they
previously did not source drivers/pci/pcie/Kconfig:

  alpha
  avr32
  blackfin
  frv
  m32r
  m68k
  microblaze
  mn10300
  parisc
  sparc
  unicore32
  xtensa

[bhelgaas: changelog, source pci/pcie/Kconfig at top of pci/Kconfig, whitespace]
	Signed-off-by: Sasa Bogicevic <brutallesale@gmail.com>
	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
(cherry picked from commit 5f8fc43217a01c98be88aa53794b4d1333a07a5a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/Kconfig
#	arch/tile/Kconfig
diff --cc arch/arm64/Kconfig
index 56b3f6d447ae,128ec3c8d475..000000000000
--- a/arch/arm64/Kconfig
+++ b/arch/arm64/Kconfig
@@@ -115,8 -218,24 +115,29 @@@ endmen
  
  menu "Bus support"
  
++<<<<<<< HEAD
 +config ARM_AMBA
 +	bool
++=======
+ config PCI
+ 	bool "PCI support"
+ 	help
+ 	  This feature enables support for PCI bus system. If you say Y
+ 	  here, the kernel will include drivers and infrastructure code
+ 	  to support PCI bus devices.
+ 
+ config PCI_DOMAINS
+ 	def_bool PCI
+ 
+ config PCI_DOMAINS_GENERIC
+ 	def_bool PCI
+ 
+ config PCI_SYSCALL
+ 	def_bool PCI
+ 
+ source "drivers/pci/Kconfig"
+ source "drivers/pci/hotplug/Kconfig"
++>>>>>>> 5f8fc43217a0 (PCI: Include pci/pcie/Kconfig directly from pci/Kconfig)
  
  endmenu
  
diff --cc arch/tile/Kconfig
index 3aa37669ff8c,0c95266d102b..000000000000
--- a/arch/tile/Kconfig
+++ b/arch/tile/Kconfig
@@@ -392,11 -440,22 +392,15 @@@ config PCI_DOMAIN
  config NO_IOMEM
  	def_bool !PCI
  
 -config NO_IOPORT_MAP
 +config NO_IOPORT
  	def_bool !PCI
  
 -config TILE_PCI_IO
 -	bool "PCI I/O space support"
 -	default n
 -	depends on PCI
 -	depends on TILEGX
 -	---help---
 -	  Enable PCI I/O space support on TILEGx. Since the PCI I/O space
 -	  is used by few modern PCIe endpoint devices, its support is disabled
 -	  by default to save the TRIO PIO Region resource for other purposes.
 -
  source "drivers/pci/Kconfig"
  
++<<<<<<< HEAD
++=======
+ 
++>>>>>>> 5f8fc43217a0 (PCI: Include pci/pcie/Kconfig directly from pci/Kconfig)
  config TILE_USB
  	tristate "Tilera USB host adapter support"
  	default y
* Unmerged path arch/arm64/Kconfig
diff --git a/arch/ia64/Kconfig b/arch/ia64/Kconfig
index cc595fb7224a..1601909459e4 100644
--- a/arch/ia64/Kconfig
+++ b/arch/ia64/Kconfig
@@ -611,8 +611,6 @@ config PCI_DOMAINS
 config PCI_SYSCALL
 	def_bool PCI
 
-source "drivers/pci/pcie/Kconfig"
-
 source "drivers/pci/Kconfig"
 
 source "drivers/pci/hotplug/Kconfig"
diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index e53e2b40d695..65d451b3438d 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -2425,8 +2425,6 @@ config PCI_DOMAINS
 
 source "drivers/pci/Kconfig"
 
-source "drivers/pci/pcie/Kconfig"
-
 #
 # ISA support is now enabled via select.  Too many systems still have the one
 # or other ISA chip on the board that users don't know about so don't expect
diff --git a/arch/powerpc/Kconfig b/arch/powerpc/Kconfig
index cae2cf0c3760..5060e61aaf08 100644
--- a/arch/powerpc/Kconfig
+++ b/arch/powerpc/Kconfig
@@ -869,8 +869,6 @@ config PCI_8260
 	select PPC_INDIRECT_PCI
 	default y
 
-source "drivers/pci/pcie/Kconfig"
-
 source "drivers/pci/Kconfig"
 
 source "drivers/pcmcia/Kconfig"
diff --git a/arch/s390/Kconfig b/arch/s390/Kconfig
index 0b509ac80e06..24dc39ffb46c 100644
--- a/arch/s390/Kconfig
+++ b/arch/s390/Kconfig
@@ -547,7 +547,6 @@ config PCI_NR_FUNCTIONS
 	  this kernel will support.
 
 source "drivers/pci/Kconfig"
-source "drivers/pci/pcie/Kconfig"
 source "drivers/pci/hotplug/Kconfig"
 
 endif	# PCI
diff --git a/arch/sh/Kconfig b/arch/sh/Kconfig
index ff90bc498893..4d31455cf7fa 100644
--- a/arch/sh/Kconfig
+++ b/arch/sh/Kconfig
@@ -883,8 +883,6 @@ config PCI
 config PCI_DOMAINS
 	bool
 
-source "drivers/pci/pcie/Kconfig"
-
 source "drivers/pci/Kconfig"
 
 source "drivers/pcmcia/Kconfig"
* Unmerged path arch/tile/Kconfig
diff --git a/arch/x86/Kconfig b/arch/x86/Kconfig
index c83b7a921031..dbc7fb0321d9 100644
--- a/arch/x86/Kconfig
+++ b/arch/x86/Kconfig
@@ -2315,8 +2315,6 @@ config PCI_CNB20LE_QUIRK
 
 	  You should say N unless you know you need this.
 
-source "drivers/pci/pcie/Kconfig"
-
 source "drivers/pci/Kconfig"
 
 # x86_64 have no ISA slots, but can have ISA-style DMA.
diff --git a/drivers/pci/Kconfig b/drivers/pci/Kconfig
index cc4d9d08c33e..8c648a2b8687 100644
--- a/drivers/pci/Kconfig
+++ b/drivers/pci/Kconfig
@@ -1,6 +1,9 @@
 #
 # PCI configuration
 #
+
+source "drivers/pci/pcie/Kconfig"
+
 config PCI_BUS_ADDR_T_64BIT
 	def_bool y if (ARCH_DMA_ADDR_T_64BIT || 64BIT)
 	depends on PCI
