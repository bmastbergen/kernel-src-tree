net/mlx5e: Remove limitation of single NIC offloaded TC action per rule

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [netdrv] mlx5e: Remove limitation of single NIC offloaded TC action per rule (Don Dutile) [1499363 1456694]
Rebuild_FUZZ: 97.10%
commit-author Or Gerlitz <ogerlitz@mellanox.com>
commit de6ea92382f6d93f73ce1f77b9af5051e3f40798
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/de6ea923.failed

Remove the limitation that offloaded NIC filters can have only one
action. This allows us for example to provide flow tag as a note
to upper layers / apps that that HW header re-write was applied.

	Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com>
	Reviewed-by: Paul Blakey <paulb@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit de6ea92382f6d93f73ce1f77b9af5051e3f40798)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index d3c637b0294b,cfb32fe5129d..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -688,11 -1192,8 +688,16 @@@ static int parse_tc_nic_actions(struct 
  	attr->flow_tag = MLX5_FS_DEFAULT_FLOW_TAG;
  	attr->action = 0;
  
++<<<<<<< HEAD
 +	tc_for_each_action(a, exts) {
 +		/* Only support a single action per rule */
 +		if (attr->action)
 +			return -EINVAL;
 +
++=======
+ 	tcf_exts_to_list(exts, &actions);
+ 	list_for_each_entry(a, &actions, list) {
++>>>>>>> de6ea92382f6 (net/mlx5e: Remove limitation of single NIC offloaded TC action per rule)
  		if (is_tcf_gact_shot(a)) {
  			attr->action |= MLX5_FLOW_CONTEXT_ACTION_DROP;
  			if (MLX5_CAP_FLOWTABLE(priv->mdev,
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
