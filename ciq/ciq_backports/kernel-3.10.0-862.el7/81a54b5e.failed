thunderbolt: Let the connection manager handle all notifications

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [thunderbolt] Let the connection manager handle all notifications (Jeremy McNicoll) [1172010]
Rebuild_FUZZ: 88.70%
commit-author Mika Westerberg <mika.westerberg@linux.intel.com>
commit 81a54b5e1986d02da33c59133556ce9fe2032049
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/81a54b5e.failed

Currently the control channel (ctl.c) handles the one supported
notification (PLUG_EVENT) and sends back ACK accordingly. However, we
are going to add support for the internal connection manager (ICM) that
needs to handle a different notifications. So instead of dealing
everything in the control channel, we change the callback to take an
arbitrary thunderbolt packet and convert the native connection manager
to handle the event itself.

In addition we only push replies we know of to the response FIFO.
Everything else is treated as notification (or request) and is expected
to be dealt by the connection manager implementation.

	Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
	Reviewed-by: Yehezkel Bernat <yehezkel.bernat@intel.com>
	Reviewed-by: Michael Jamet <michael.jamet@intel.com>
	Reviewed-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Signed-off-by: Andreas Noever <andreas.noever@gmail.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 81a54b5e1986d02da33c59133556ce9fe2032049)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/thunderbolt/ctl.c
#	drivers/thunderbolt/ctl.h
#	drivers/thunderbolt/domain.c
#	drivers/thunderbolt/tb.c
#	drivers/thunderbolt/tb.h
* Unmerged path drivers/thunderbolt/ctl.c
* Unmerged path drivers/thunderbolt/ctl.h
* Unmerged path drivers/thunderbolt/domain.c
* Unmerged path drivers/thunderbolt/tb.c
* Unmerged path drivers/thunderbolt/tb.h
* Unmerged path drivers/thunderbolt/ctl.c
* Unmerged path drivers/thunderbolt/ctl.h
* Unmerged path drivers/thunderbolt/domain.c
* Unmerged path drivers/thunderbolt/tb.c
* Unmerged path drivers/thunderbolt/tb.h
