ASoC: Add snd_soc_kcontrol_codec() helper function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [sound] alsa: asoc: Add snd_soc_kcontrol_codec() helper function (Jaroslav Kysela) [1463624]
Rebuild_FUZZ: 94.34%
commit-author Lars-Peter Clausen <lars@metafoo.de>
commit ea53bf77d147e7e560ac007fdaa30fb98c37c712
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/ea53bf77.failed

For CODEC controls snd_kcontrol_chip() currently returns a pointer to the
CODEC that registered the control. With the upcoming consolidation of
platform and CODEC controls this will change. Prepare for this by introducing
the snd_soc_kcontrol_codec() helper function that will hide the implementation
details of how the CODEC for a control can be obtained. This will allow us to
change this easily in the future.

The patch also updates all CODEC drivers to use the new helper function.

	Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>
	Acked-by: Charles Keepax <ckeepax@opensource.wolfsonmicro.com>
	Signed-off-by: Mark Brown <broonie@linaro.org>
(cherry picked from commit ea53bf77d147e7e560ac007fdaa30fb98c37c712)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/sound/soc.h
#	sound/soc/codecs/88pm860x-codec.c
#	sound/soc/codecs/ab8500-codec.c
#	sound/soc/codecs/adav80x.c
#	sound/soc/codecs/ak4641.c
#	sound/soc/codecs/cs4270.c
#	sound/soc/codecs/cs4271.c
#	sound/soc/codecs/cs42l51.c
#	sound/soc/codecs/da7210.c
#	sound/soc/codecs/da7213.c
#	sound/soc/codecs/da732x.c
#	sound/soc/codecs/da9055.c
#	sound/soc/codecs/lm4857.c
#	sound/soc/codecs/max9768.c
#	sound/soc/codecs/max98088.c
#	sound/soc/codecs/max98095.c
#	sound/soc/codecs/pcm1681.c
#	sound/soc/codecs/rt5631.c
#	sound/soc/codecs/sgtl5000.c
#	sound/soc/codecs/sta32x.c
#	sound/soc/codecs/tas5086.c
#	sound/soc/codecs/tlv320aic23.c
#	sound/soc/codecs/tlv320dac33.c
#	sound/soc/codecs/twl4030.c
#	sound/soc/codecs/twl6040.c
#	sound/soc/codecs/wl1273.c
#	sound/soc/codecs/wm2000.c
#	sound/soc/codecs/wm8350.c
#	sound/soc/codecs/wm8400.c
#	sound/soc/codecs/wm8580.c
#	sound/soc/codecs/wm8731.c
#	sound/soc/codecs/wm8753.c
#	sound/soc/codecs/wm8804.c
#	sound/soc/codecs/wm8903.c
#	sound/soc/codecs/wm8904.c
#	sound/soc/codecs/wm8955.c
#	sound/soc/codecs/wm8958-dsp2.c
#	sound/soc/codecs/wm8960.c
#	sound/soc/codecs/wm8962.c
#	sound/soc/codecs/wm8983.c
#	sound/soc/codecs/wm8985.c
#	sound/soc/codecs/wm8990.c
#	sound/soc/codecs/wm8991.c
#	sound/soc/codecs/wm8994.c
#	sound/soc/codecs/wm8996.c
#	sound/soc/codecs/wm9081.c
#	sound/soc/codecs/wm_adsp.c
#	sound/soc/codecs/wm_hubs.c
diff --cc include/sound/soc.h
index d8bf29663cc8,e150030b754d..000000000000
--- a/include/sound/soc.h
+++ b/include/sound/soc.h
@@@ -1632,22 -1229,6 +1632,25 @@@ static inline bool snd_soc_codec_is_act
  }
  
  /**
++<<<<<<< HEAD
 + * snd_soc_kcontrol_component() - Returns the component that registered the
 + *  control
 + * @kcontrol: The control for which to get the component
 + *
 + * Note: This function will work correctly if the control has been registered
 + * for a component. Either with snd_soc_add_codec_controls() or
 + * snd_soc_add_platform_controls() or via  table based setup for either a
 + * CODEC, a platform or component driver. Otherwise the behavior is undefined.
 + */
 +static inline struct snd_soc_component *snd_soc_kcontrol_component(
 +	struct snd_kcontrol *kcontrol)
 +{
 +	return snd_kcontrol_chip(kcontrol);
 +}
 +
 +/**
++=======
++>>>>>>> ea53bf77d147 (ASoC: Add snd_soc_kcontrol_codec() helper function)
   * snd_soc_kcontrol_codec() - Returns the CODEC that registered the control
   * @kcontrol: The control for which to get the CODEC
   *
@@@ -1658,21 -1239,7 +1661,25 @@@
  static inline struct snd_soc_codec *snd_soc_kcontrol_codec(
  	struct snd_kcontrol *kcontrol)
  {
++<<<<<<< HEAD
 +	return snd_soc_component_to_codec(snd_soc_kcontrol_component(kcontrol));
 +}
 +
 +/**
 + * snd_soc_kcontrol_platform() - Returns the platform that registered the control
 + * @kcontrol: The control for which to get the platform
 + *
 + * Note: This function will only work correctly if the control has been
 + * registered with snd_soc_add_platform_controls() or via table based setup of
 + * a snd_soc_platform_driver. Otherwise the behavior is undefined.
 + */
 +static inline struct snd_soc_platform *snd_soc_kcontrol_platform(
 +	struct snd_kcontrol *kcontrol)
 +{
 +	return snd_soc_component_to_platform(snd_soc_kcontrol_component(kcontrol));
++=======
+ 	return snd_kcontrol_chip(kcontrol);
++>>>>>>> ea53bf77d147 (ASoC: Add snd_soc_kcontrol_codec() helper function)
  }
  
  int snd_soc_util_init(void);
* Unmerged path sound/soc/codecs/88pm860x-codec.c
* Unmerged path sound/soc/codecs/ab8500-codec.c
* Unmerged path sound/soc/codecs/adav80x.c
* Unmerged path sound/soc/codecs/ak4641.c
* Unmerged path sound/soc/codecs/cs4270.c
* Unmerged path sound/soc/codecs/cs4271.c
* Unmerged path sound/soc/codecs/cs42l51.c
* Unmerged path sound/soc/codecs/da7210.c
* Unmerged path sound/soc/codecs/da7213.c
* Unmerged path sound/soc/codecs/da732x.c
* Unmerged path sound/soc/codecs/da9055.c
* Unmerged path sound/soc/codecs/lm4857.c
* Unmerged path sound/soc/codecs/max9768.c
* Unmerged path sound/soc/codecs/max98088.c
* Unmerged path sound/soc/codecs/max98095.c
* Unmerged path sound/soc/codecs/pcm1681.c
* Unmerged path sound/soc/codecs/rt5631.c
* Unmerged path sound/soc/codecs/sgtl5000.c
* Unmerged path sound/soc/codecs/sta32x.c
* Unmerged path sound/soc/codecs/tas5086.c
* Unmerged path sound/soc/codecs/tlv320aic23.c
* Unmerged path sound/soc/codecs/tlv320dac33.c
* Unmerged path sound/soc/codecs/twl4030.c
* Unmerged path sound/soc/codecs/twl6040.c
* Unmerged path sound/soc/codecs/wl1273.c
* Unmerged path sound/soc/codecs/wm2000.c
* Unmerged path sound/soc/codecs/wm8350.c
* Unmerged path sound/soc/codecs/wm8400.c
* Unmerged path sound/soc/codecs/wm8580.c
* Unmerged path sound/soc/codecs/wm8731.c
* Unmerged path sound/soc/codecs/wm8753.c
* Unmerged path sound/soc/codecs/wm8804.c
* Unmerged path sound/soc/codecs/wm8903.c
* Unmerged path sound/soc/codecs/wm8904.c
* Unmerged path sound/soc/codecs/wm8955.c
* Unmerged path sound/soc/codecs/wm8958-dsp2.c
* Unmerged path sound/soc/codecs/wm8960.c
* Unmerged path sound/soc/codecs/wm8962.c
* Unmerged path sound/soc/codecs/wm8983.c
* Unmerged path sound/soc/codecs/wm8985.c
* Unmerged path sound/soc/codecs/wm8990.c
* Unmerged path sound/soc/codecs/wm8991.c
* Unmerged path sound/soc/codecs/wm8994.c
* Unmerged path sound/soc/codecs/wm8996.c
* Unmerged path sound/soc/codecs/wm9081.c
* Unmerged path sound/soc/codecs/wm_adsp.c
* Unmerged path sound/soc/codecs/wm_hubs.c
* Unmerged path include/sound/soc.h
* Unmerged path sound/soc/codecs/88pm860x-codec.c
* Unmerged path sound/soc/codecs/ab8500-codec.c
* Unmerged path sound/soc/codecs/adav80x.c
* Unmerged path sound/soc/codecs/ak4641.c
* Unmerged path sound/soc/codecs/cs4270.c
* Unmerged path sound/soc/codecs/cs4271.c
* Unmerged path sound/soc/codecs/cs42l51.c
* Unmerged path sound/soc/codecs/da7210.c
* Unmerged path sound/soc/codecs/da7213.c
* Unmerged path sound/soc/codecs/da732x.c
* Unmerged path sound/soc/codecs/da9055.c
* Unmerged path sound/soc/codecs/lm4857.c
* Unmerged path sound/soc/codecs/max9768.c
* Unmerged path sound/soc/codecs/max98088.c
* Unmerged path sound/soc/codecs/max98095.c
* Unmerged path sound/soc/codecs/pcm1681.c
* Unmerged path sound/soc/codecs/rt5631.c
* Unmerged path sound/soc/codecs/sgtl5000.c
* Unmerged path sound/soc/codecs/sta32x.c
* Unmerged path sound/soc/codecs/tas5086.c
* Unmerged path sound/soc/codecs/tlv320aic23.c
* Unmerged path sound/soc/codecs/tlv320dac33.c
* Unmerged path sound/soc/codecs/twl4030.c
* Unmerged path sound/soc/codecs/twl6040.c
* Unmerged path sound/soc/codecs/wl1273.c
* Unmerged path sound/soc/codecs/wm2000.c
* Unmerged path sound/soc/codecs/wm8350.c
* Unmerged path sound/soc/codecs/wm8400.c
* Unmerged path sound/soc/codecs/wm8580.c
* Unmerged path sound/soc/codecs/wm8731.c
* Unmerged path sound/soc/codecs/wm8753.c
* Unmerged path sound/soc/codecs/wm8804.c
* Unmerged path sound/soc/codecs/wm8903.c
* Unmerged path sound/soc/codecs/wm8904.c
* Unmerged path sound/soc/codecs/wm8955.c
* Unmerged path sound/soc/codecs/wm8958-dsp2.c
* Unmerged path sound/soc/codecs/wm8960.c
* Unmerged path sound/soc/codecs/wm8962.c
* Unmerged path sound/soc/codecs/wm8983.c
* Unmerged path sound/soc/codecs/wm8985.c
* Unmerged path sound/soc/codecs/wm8990.c
* Unmerged path sound/soc/codecs/wm8991.c
* Unmerged path sound/soc/codecs/wm8994.c
* Unmerged path sound/soc/codecs/wm8996.c
* Unmerged path sound/soc/codecs/wm9081.c
* Unmerged path sound/soc/codecs/wm_adsp.c
* Unmerged path sound/soc/codecs/wm_hubs.c
