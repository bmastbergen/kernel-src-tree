i40e: fix flags declaration

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Jacob Keller <jacob.e.keller@intel.com>
commit b48be9978e4b21b28b7349f57574dae21378ddd5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/b48be997.failed

Since we don't yet have more than 32 flags, we'll use a u32 for both the
hw_features and flag field. Should we gain more flags in the future, we
may need to convert to a u64 or separate flags out into two fields.

This was overlooked in the previous commit 2781de2134c4 ("i40e/i40evf:
organize and re-number feature flags"), where the feature flag was not
converted form u64 to u32.

	Signed-off-by: Jacob Keller <jacob.e.keller@intel.com>
	Reviewed-by: Mitch Williams <mitch.a.williams@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit b48be9978e4b21b28b7349f57574dae21378ddd5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e.h
diff --cc drivers/net/ethernet/intel/i40e/i40e.h
index 5c730ad07ab8,7baf6d8a84dd..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e.h
+++ b/drivers/net/ethernet/intel/i40e/i40e.h
@@@ -394,68 -403,58 +394,122 @@@ struct i40e_pf 
  	struct timer_list service_timer;
  	struct work_struct service_task;
  
++<<<<<<< HEAD
 +	u64 flags;
 +#define I40E_FLAG_RX_CSUM_ENABLED		BIT_ULL(1)
 +#define I40E_FLAG_MSI_ENABLED			BIT_ULL(2)
 +#define I40E_FLAG_MSIX_ENABLED			BIT_ULL(3)
 +#define I40E_FLAG_RSS_ENABLED			BIT_ULL(6)
 +#define I40E_FLAG_VMDQ_ENABLED			BIT_ULL(7)
 +#define I40E_FLAG_NEED_LINK_UPDATE		BIT_ULL(9)
 +#define I40E_FLAG_IWARP_ENABLED			BIT_ULL(10)
 +#ifdef I40E_FCOE
 +#define I40E_FLAG_FCOE_ENABLED			BIT_ULL(11)
 +#endif /* I40E_FCOE */
 +#define I40E_FLAG_CLEAN_ADMINQ			BIT_ULL(14)
 +#define I40E_FLAG_FILTER_SYNC			BIT_ULL(15)
 +#define I40E_FLAG_SERVICE_CLIENT_REQUESTED	BIT_ULL(16)
 +#define I40E_FLAG_PROCESS_MDD_EVENT		BIT_ULL(17)
 +#define I40E_FLAG_PROCESS_VFLR_EVENT		BIT_ULL(18)
 +#define I40E_FLAG_SRIOV_ENABLED			BIT_ULL(19)
 +#define I40E_FLAG_DCB_ENABLED			BIT_ULL(20)
 +#define I40E_FLAG_FD_SB_ENABLED			BIT_ULL(21)
 +#define I40E_FLAG_FD_ATR_ENABLED		BIT_ULL(22)
 +#define I40E_FLAG_PTP				BIT_ULL(25)
 +#define I40E_FLAG_MFP_ENABLED			BIT_ULL(26)
 +#define I40E_FLAG_UDP_FILTER_SYNC		BIT_ULL(27)
 +#define I40E_FLAG_PORT_ID_VALID			BIT_ULL(28)
 +#define I40E_FLAG_DCB_CAPABLE			BIT_ULL(29)
 +#define I40E_FLAG_RSS_AQ_CAPABLE		BIT_ULL(31)
 +#define I40E_FLAG_HW_ATR_EVICT_CAPABLE		BIT_ULL(32)
 +#define I40E_FLAG_OUTER_UDP_CSUM_CAPABLE	BIT_ULL(33)
 +#define I40E_FLAG_128_QP_RSS_CAPABLE		BIT_ULL(34)
 +#define I40E_FLAG_WB_ON_ITR_CAPABLE		BIT_ULL(35)
 +#define I40E_FLAG_VEB_STATS_ENABLED		BIT_ULL(37)
 +#define I40E_FLAG_MULTIPLE_TCP_UDP_RSS_PCTYPE	BIT_ULL(38)
 +#define I40E_FLAG_LINK_POLLING_ENABLED		BIT_ULL(39)
 +#define I40E_FLAG_VEB_MODE_ENABLED		BIT_ULL(40)
 +#define I40E_FLAG_GENEVE_OFFLOAD_CAPABLE	BIT_ULL(41)
 +#define I40E_FLAG_NO_PCI_LINK_CHECK		BIT_ULL(42)
 +#define I40E_FLAG_100M_SGMII_CAPABLE		BIT_ULL(43)
 +#define I40E_FLAG_RESTART_AUTONEG		BIT_ULL(44)
 +#define I40E_FLAG_NO_DCB_SUPPORT		BIT_ULL(45)
 +#define I40E_FLAG_USE_SET_LLDP_MIB		BIT_ULL(46)
 +#define I40E_FLAG_STOP_FW_LLDP			BIT_ULL(47)
 +#define I40E_FLAG_PHY_CONTROLS_LEDS		BIT_ULL(48)
 +#define I40E_FLAG_PF_MAC			BIT_ULL(50)
 +#define I40E_FLAG_TRUE_PROMISC_SUPPORT		BIT_ULL(51)
 +#define I40E_FLAG_HAVE_CRT_RETIMER		BIT_ULL(52)
 +#define I40E_FLAG_PTP_L4_CAPABLE		BIT_ULL(53)
 +#define I40E_FLAG_CLIENT_RESET			BIT_ULL(54)
 +#define I40E_FLAG_TEMP_LINK_POLLING		BIT_ULL(55)
 +#define I40E_FLAG_CLIENT_L2_CHANGE		BIT_ULL(56)
 +#define I40E_FLAG_WOL_MC_MAGIC_PKT_WAKE		BIT_ULL(57)
++=======
+ 	u32 hw_features;
+ #define I40E_HW_RSS_AQ_CAPABLE			BIT(0)
+ #define I40E_HW_128_QP_RSS_CAPABLE		BIT(1)
+ #define I40E_HW_ATR_EVICT_CAPABLE		BIT(2)
+ #define I40E_HW_WB_ON_ITR_CAPABLE		BIT(3)
+ #define I40E_HW_MULTIPLE_TCP_UDP_RSS_PCTYPE	BIT(4)
+ #define I40E_HW_NO_PCI_LINK_CHECK		BIT(5)
+ #define I40E_HW_100M_SGMII_CAPABLE		BIT(6)
+ #define I40E_HW_NO_DCB_SUPPORT			BIT(7)
+ #define I40E_HW_USE_SET_LLDP_MIB		BIT(8)
+ #define I40E_HW_GENEVE_OFFLOAD_CAPABLE		BIT(9)
+ #define I40E_HW_PTP_L4_CAPABLE			BIT(10)
+ #define I40E_HW_WOL_MC_MAGIC_PKT_WAKE		BIT(11)
+ #define I40E_HW_MPLS_HDR_OFFLOAD_CAPABLE	BIT(12)
+ #define I40E_HW_HAVE_CRT_RETIMER		BIT(13)
+ #define I40E_HW_OUTER_UDP_CSUM_CAPABLE		BIT(14)
+ #define I40E_HW_PHY_CONTROLS_LEDS		BIT(15)
+ #define I40E_HW_STOP_FW_LLDP			BIT(16)
+ #define I40E_HW_PORT_ID_VALID			BIT(17)
+ #define I40E_HW_RESTART_AUTONEG			BIT(18)
+ 
+ 	u32 flags;
+ #define I40E_FLAG_RX_CSUM_ENABLED		BIT(0)
+ #define I40E_FLAG_MSI_ENABLED			BIT(1)
+ #define I40E_FLAG_MSIX_ENABLED			BIT(2)
+ #define I40E_FLAG_RSS_ENABLED			BIT(3)
+ #define I40E_FLAG_VMDQ_ENABLED			BIT(4)
+ #define I40E_FLAG_FILTER_SYNC			BIT(5)
+ #define I40E_FLAG_SRIOV_ENABLED			BIT(6)
+ #define I40E_FLAG_DCB_CAPABLE			BIT(7)
+ #define I40E_FLAG_DCB_ENABLED			BIT(8)
+ #define I40E_FLAG_FD_SB_ENABLED			BIT(9)
+ #define I40E_FLAG_FD_ATR_ENABLED		BIT(10)
+ #define I40E_FLAG_FD_SB_AUTO_DISABLED		BIT(11)
+ #define I40E_FLAG_FD_ATR_AUTO_DISABLED		BIT(12)
+ #define I40E_FLAG_MFP_ENABLED			BIT(13)
+ #define I40E_FLAG_UDP_FILTER_SYNC		BIT(14)
+ #define I40E_FLAG_HW_ATR_EVICT_ENABLED		BIT(15)
+ #define I40E_FLAG_VEB_MODE_ENABLED		BIT(16)
+ #define I40E_FLAG_VEB_STATS_ENABLED		BIT(17)
+ #define I40E_FLAG_LINK_POLLING_ENABLED		BIT(18)
+ #define I40E_FLAG_TRUE_PROMISC_SUPPORT		BIT(19)
+ #define I40E_FLAG_TEMP_LINK_POLLING		BIT(20)
+ #define I40E_FLAG_LEGACY_RX			BIT(21)
+ #define I40E_FLAG_PTP				BIT(22)
+ #define I40E_FLAG_IWARP_ENABLED			BIT(23)
+ #define I40E_FLAG_SERVICE_CLIENT_REQUESTED	BIT(24)
+ #define I40E_FLAG_CLIENT_L2_CHANGE		BIT(25)
+ #define I40E_FLAG_CLIENT_RESET			BIT(26)
+ #define I40E_FLAG_LINK_DOWN_ON_CLOSE_ENABLED	BIT(27)
+ #define I40E_FLAG_SOURCE_PRUNING_DISABLED	BIT(28)
++>>>>>>> b48be9978e4b (i40e: fix flags declaration)
 +
 +	/* Tracks features that are disabled due to hw limitations.
 +	 * If a bit is set here, it means that the corresponding
 +	 * bit in the 'flags' field is cleared i.e that feature
 +	 * is disabled
 +	 */
 +	u64 hw_disabled_flags;
  
 +#ifdef I40E_FCOE
 +	struct i40e_fcoe fcoe;
 +
 +#endif /* I40E_FCOE */
  	struct i40e_client_instance *cinst;
  	bool stat_offsets_loaded;
  	struct i40e_hw_port_stats stats;
* Unmerged path drivers/net/ethernet/intel/i40e/i40e.h
