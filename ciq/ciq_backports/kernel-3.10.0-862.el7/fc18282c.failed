ALSA: hda - Fix unbalance of i915 module refcount

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Takashi Iwai <tiwai@suse.de>
commit fc18282cdcba984ab89c74d7e844c10114ae0795
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/fc18282c.failed

The commit dba9b7b6ca1a ("ALSA: hda - Fix doubly initialization of
i915 component") contained a typo that leads to the unbalance of i915
module reference.  The value to be checked is not chip->driver_type
but chip->driver_caps.

Fixes: dba9b7b6ca1a ("ALSA: hda - Fix doubly initialization of i915 component")
Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=196219
	Reported-by: Martin Peres <martin.peres@free.fr>
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit fc18282cdcba984ab89c74d7e844c10114ae0795)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/hda_intel.c
diff --cc sound/pci/hda/hda_intel.c
index 4ed47eae8c57,5ae8ddab6412..000000000000
--- a/sound/pci/hda/hda_intel.c
+++ b/sound/pci/hda/hda_intel.c
@@@ -1379,8 -1384,9 +1379,13 @@@ static int azx_free(struct azx *chip
  	if (chip->driver_caps & AZX_DCAPS_I915_POWERWELL) {
  		if (hda->need_i915_power)
  			snd_hdac_display_power(bus, false);
++<<<<<<< HEAD
++=======
+ 	}
+ 	if (chip->driver_caps & AZX_DCAPS_I915_COMPONENT)
++>>>>>>> fc18282cdcba (ALSA: hda - Fix unbalance of i915 module refcount)
  		snd_hdac_i915_exit(bus);
 +	}
  	kfree(hda);
  
  	return 0;
* Unmerged path sound/pci/hda/hda_intel.c
