ALSA: x86: Drop unused hdmi_audio_query()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Takashi Iwai <tiwai@suse.de>
commit eeb756c5bf7566fd79312798a32f59e594688b79
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/eeb756c5.failed

It's used nowhere.  Kill it.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit eeb756c5bf7566fd79312798a32f59e594688b79)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/x86/intel_hdmi_audio_if.c
diff --cc sound/x86/intel_hdmi_audio_if.c
index 8e3a0943332b,57acefaf930e..000000000000
--- a/sound/x86/intel_hdmi_audio_if.c
+++ b/sound/x86/intel_hdmi_audio_if.c
@@@ -34,60 -34,6 +34,63 @@@
  #include "intel_hdmi_lpe_audio.h"
  
  /**
++<<<<<<< HEAD
 + * hdmi_audio_query - hdmi audio query function
 + *
 + *@haddata: pointer to HAD private data
 + *@event: audio event for which this method is invoked
 + *
 + * This function is called by client driver to query the
 + * hdmi audio.
 + */
 +int hdmi_audio_query(void *haddata, struct hdmi_audio_event event)
 +{
 +	struct snd_pcm_substream *substream = NULL;
 +	struct had_pvt_data *had_stream;
 +	unsigned long flag_irqs;
 +	struct snd_intelhad *intelhaddata = (struct snd_intelhad *)haddata;
 +
 +	if (intelhaddata->stream_info.had_substream)
 +		substream = intelhaddata->stream_info.had_substream;
 +	had_stream = intelhaddata->private_data;
 +	switch (event.type) {
 +	case HAD_EVENT_QUERY_IS_AUDIO_BUSY:
 +		spin_lock_irqsave(&intelhaddata->had_spinlock, flag_irqs);
 +
 +		if ((had_stream->stream_type == HAD_RUNNING_STREAM) ||
 +			substream) {
 +			spin_unlock_irqrestore(&intelhaddata->had_spinlock,
 +						flag_irqs);
 +			pr_debug("Audio stream active\n");
 +			return -EBUSY;
 +		}
 +		spin_unlock_irqrestore(&intelhaddata->had_spinlock, flag_irqs);
 +	break;
 +
 +	case HAD_EVENT_QUERY_IS_AUDIO_SUSPENDED:
 +		spin_lock_irqsave(&intelhaddata->had_spinlock, flag_irqs);
 +		if (intelhaddata->drv_status == HAD_DRV_SUSPENDED) {
 +			spin_unlock_irqrestore(&intelhaddata->had_spinlock,
 +						flag_irqs);
 +			pr_debug("Audio is suspended\n");
 +			return 1;
 +		}
 +		spin_unlock_irqrestore(&intelhaddata->had_spinlock, flag_irqs);
 +	break;
 +
 +	default:
 +		pr_debug("error un-handled event !!\n");
 +		return -EINVAL;
 +	break;
 +
 +	}
 +
 +	return 0;
 +}
 +
 +/**
++=======
++>>>>>>> eeb756c5bf75 (ALSA: x86: Drop unused hdmi_audio_query())
   * hdmi_audio_suspend - power management suspend function
   *
   *@haddata: pointer to HAD private data
diff --git a/sound/x86/intel_hdmi_audio.h b/sound/x86/intel_hdmi_audio.h
index 32a2fb766e47..5aea5abb9dca 100644
--- a/sound/x86/intel_hdmi_audio.h
+++ b/sound/x86/intel_hdmi_audio.h
@@ -146,7 +146,6 @@ struct snd_intelhad {
 
 int had_event_handler(enum had_event_type event_type, void *data);
 
-int hdmi_audio_query(void *drv_data, struct hdmi_audio_event event);
 int hdmi_audio_suspend(void *drv_data);
 int hdmi_audio_resume(void *drv_data);
 int hdmi_audio_mode_change(struct snd_pcm_substream *substream);
* Unmerged path sound/x86/intel_hdmi_audio_if.c
