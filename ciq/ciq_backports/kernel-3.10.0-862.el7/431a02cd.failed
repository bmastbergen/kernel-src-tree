rbd: initialize rbd_dev->header_oloc early

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Ilya Dryomov <idryomov@gmail.com>
commit 431a02cd82dd028f650d588f7cedc78643c5c86a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/431a02cd.failed

No reason to delay it until image_id is known.  This will be required
by some rbd_obj_method_sync() callers, after rbd_obj_method_sync() is
changed to take oloc.

	Signed-off-by: Ilya Dryomov <idryomov@gmail.com>
	Reviewed-by: Jason Dillaman <dillaman@redhat.com>
(cherry picked from commit 431a02cd82dd028f650d588f7cedc78643c5c86a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/block/rbd.c
diff --cc drivers/block/rbd.c
index 1a7701df1c70,047e877cacb8..000000000000
--- a/drivers/block/rbd.c
+++ b/drivers/block/rbd.c
@@@ -6152,8 -6062,6 +6152,11 @@@ static int rbd_dev_header_name(struct r
  	/* Record the header object name for this rbd image. */
  
  	rbd_assert(rbd_image_format_valid(rbd_dev->image_format));
++<<<<<<< HEAD
 +
 +	rbd_dev->header_oloc.pool = ceph_file_layout_pg_pool(rbd_dev->layout);
++=======
++>>>>>>> 431a02cd82dd (rbd: initialize rbd_dev->header_oloc early)
  	if (rbd_dev->image_format == 1)
  		ret = ceph_oid_aprintf(&rbd_dev->header_oid, GFP_KERNEL, "%s%s",
  				       spec->image_name, RBD_SUFFIX);
* Unmerged path drivers/block/rbd.c
