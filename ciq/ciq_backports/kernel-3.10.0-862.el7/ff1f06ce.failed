mlxsw: spectrum_router: Publish mlxsw_sp_l3proto

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Petr Machata <petrm@mellanox.com>
commit ff1f06ce9df9deea690a3f16ded77e0b665acffd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/ff1f06ce.failed

The spectrum_ipip module that will be introduced in the follow-up
patches needs to know the data type.

	Signed-off-by: Petr Machata <petrm@mellanox.com>
	Reviewed-by: Ido Schimmel <idosch@mellanox.com>
	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit ff1f06ce9df9deea690a3f16ded77e0b665acffd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_router.h
diff --cc drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
index 2055c8543e7b,f866ac5fa37d..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
@@@ -133,14 -394,22 +133,25 @@@ struct mlxsw_sp_fib_entry_params 
  	u8 type;
  };
  
 -struct mlxsw_sp_fib6_entry {
 -	struct mlxsw_sp_fib_entry common;
 -	struct list_head rt6_list;
 -	unsigned int nrt6;
 -};
 -
 -struct mlxsw_sp_rt6 {
 +struct mlxsw_sp_fib_entry {
  	struct list_head list;
++<<<<<<< HEAD
 +	struct mlxsw_sp_fib_node *fib_node;
 +	enum mlxsw_sp_fib_entry_type type;
 +	struct list_head nexthop_group_node;
 +	struct mlxsw_sp_nexthop_group *nh_group;
 +	struct mlxsw_sp_fib_entry_params params;
 +	bool offloaded;
++=======
+ 	struct rt6_info *rt;
+ };
+ 
+ struct mlxsw_sp_lpm_tree {
+ 	u8 id; /* tree ID */
+ 	unsigned int ref_count;
+ 	enum mlxsw_sp_l3proto proto;
+ 	struct mlxsw_sp_prefix_usage prefix_usage;
++>>>>>>> ff1f06ce9df9 (mlxsw: spectrum_router: Publish mlxsw_sp_l3proto)
  };
  
  struct mlxsw_sp_fib {
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.h
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.h
