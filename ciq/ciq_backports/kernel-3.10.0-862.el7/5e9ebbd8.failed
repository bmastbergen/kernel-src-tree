x86/boot: Micro-optimize reset_early_page_tables()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [x86] boot: Micro-optimize reset_early_page_tables() (Suravee Suthikulpanit) [1361287]
Rebuild_FUZZ: 95.83%
commit-author Alexander Kuleshov <kuleshovmail@gmail.com>
commit 5e9ebbd87a99ecc6abb74325b0ac63c46891f6f3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/5e9ebbd8.failed

Save 25 bytes of code and make the bootup a tiny bit faster:

     text    data bss             dec             filename
  9735144 4970776 15474688        30180608        vmlinux.old
  9735119 4970776 15474688        30180583        vmlinux

	Signed-off-by: Alexander Kuleshov <kuleshovmail@gmail.com>
	Cc: Alexander Popov <alpopov@ptsecurity.com>
	Cc: Andrey Ryabinin <ryabinin.a.a@gmail.com>
	Cc: Andy Lutomirski <luto@kernel.org>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Thomas Gleixner <tglx@linutronix.de>
Link: http://lkml.kernel.org/r/1454140872-16926-1-git-send-email-kuleshovmail@gmail.com
[ Fixed various small details. ]
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 5e9ebbd87a99ecc6abb74325b0ac63c46891f6f3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/head64.c
diff --cc arch/x86/kernel/head64.c
index 39ad3cdc4c78,35843caa4ea7..000000000000
--- a/arch/x86/kernel/head64.c
+++ b/arch/x86/kernel/head64.c
@@@ -39,14 -40,9 +39,14 @@@ pmdval_t early_pmd_flags = __PAGE_KERNE
  /* Wipe all early page tables except for the kernel symbol map */
  static void __init reset_early_page_tables(void)
  {
- 	unsigned long i;
- 
- 	for (i = 0; i < PTRS_PER_PGD-1; i++)
- 		early_level4_pgt[i].pgd = 0;
- 
+ 	memset(early_level4_pgt, 0, sizeof(pgd_t)*(PTRS_PER_PGD-1));
  	next_early_pgt = 0;
++<<<<<<< HEAD
 +
 +	write_cr3(__pa(early_level4_pgt));
++=======
+ 	write_cr3(__pa_nodebug(early_level4_pgt));
++>>>>>>> 5e9ebbd87a99 (x86/boot: Micro-optimize reset_early_page_tables())
  }
  
  /* Create a new PMD entry */
* Unmerged path arch/x86/kernel/head64.c
