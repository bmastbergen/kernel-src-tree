KVM, pkeys: add pkeys support for xsave state

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Huaitong Han <huaitong.han@intel.com>
commit 17a511f878505d31f298de443269b3070c134163
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/17a511f8.failed

This patch adds pkeys support for xsave state.

	Signed-off-by: Huaitong Han <huaitong.han@intel.com>
	Reviewed-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>
	Signed-off-by: Xiao Guangrong <guangrong.xiao@linux.intel.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 17a511f878505d31f298de443269b3070c134163)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/x86.h
diff --cc arch/x86/kvm/x86.h
index 079a9b170ae4,7ce3634ab5fe..000000000000
--- a/arch/x86/kvm/x86.h
+++ b/arch/x86/kvm/x86.h
@@@ -176,11 -179,12 +176,18 @@@ int kvm_mtrr_set_msr(struct kvm_vcpu *v
  int kvm_mtrr_get_msr(struct kvm_vcpu *vcpu, u32 msr, u64 *pdata);
  bool kvm_mtrr_check_gfn_range_consistency(struct kvm_vcpu *vcpu, gfn_t gfn,
  					  int page_num);
 -bool kvm_vector_hashing_enabled(void);
  
++<<<<<<< HEAD
 +#define KVM_SUPPORTED_XCR0     (XSTATE_FP | XSTATE_SSE | XSTATE_YMM \
 +				| XSTATE_BNDREGS | XSTATE_BNDCSR \
 +				| XSTATE_AVX512)
 +
++=======
+ #define KVM_SUPPORTED_XCR0     (XFEATURE_MASK_FP | XFEATURE_MASK_SSE \
+ 				| XFEATURE_MASK_YMM | XFEATURE_MASK_BNDREGS \
+ 				| XFEATURE_MASK_BNDCSR | XFEATURE_MASK_AVX512 \
+ 				| XFEATURE_MASK_PKRU)
++>>>>>>> 17a511f87850 (KVM, pkeys: add pkeys support for xsave state)
  extern u64 host_xcr0;
  
  extern u64 kvm_supported_xcr0(void);
* Unmerged path arch/x86/kvm/x86.h
