block: get rid of blk-mq default scheduler choice Kconfig entries

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [block] get rid of blk-mq default scheduler choice Kconfig entries (Ming Lei) [1458104]
Rebuild_FUZZ: 94.31%
commit-author Jens Axboe <axboe@fb.com>
commit b86dd815ff74ab9eda474d1c28428ac0db2c3032
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/b86dd815.failed

The wording in the entries were poor and not understandable
by even deities. Kill the selection for default block scheduler,
and impose a policy with sane defaults.

Architected-by: Linus Torvalds <torvalds@linux-foundation.org>
	Reviewed-by: Omar Sandoval <osandov@fb.com>
	Signed-off-by: Jens Axboe <axboe@fb.com>
(cherry picked from commit b86dd815ff74ab9eda474d1c28428ac0db2c3032)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	block/Kconfig.iosched
#	block/blk-mq-sched.c
#	block/elevator.c
diff --cc block/Kconfig.iosched
index 490ef2850fae,58fc8684788d..000000000000
--- a/block/Kconfig.iosched
+++ b/block/Kconfig.iosched
@@@ -69,6 -63,12 +69,15 @@@ config DEFAULT_IOSCHE
  	default "cfq" if DEFAULT_CFQ
  	default "noop" if DEFAULT_NOOP
  
++<<<<<<< HEAD
++=======
+ config MQ_IOSCHED_DEADLINE
+ 	tristate "MQ deadline I/O scheduler"
+ 	default y
+ 	---help---
+ 	  MQ version of the deadline IO scheduler.
+ 
++>>>>>>> b86dd815ff74 (block: get rid of blk-mq default scheduler choice Kconfig entries)
  endmenu
  
  endif
diff --cc block/elevator.c
index c585bf41be5d,ac1c9f481a98..000000000000
--- a/block/elevator.c
+++ b/block/elevator.c
@@@ -221,7 -220,20 +221,24 @@@ int elevator_init(struct request_queue 
  	}
  
  	if (!e) {
++<<<<<<< HEAD
 +		e = elevator_get(CONFIG_DEFAULT_IOSCHED, false);
++=======
+ 		/*
+ 		 * For blk-mq devices, we default to using mq-deadline,
+ 		 * if available, for single queue devices. If deadline
+ 		 * isn't available OR we have multiple queues, default
+ 		 * to "none".
+ 		 */
+ 		if (q->mq_ops) {
+ 			if (q->nr_hw_queues == 1)
+ 				e = elevator_get("mq-deadline", false);
+ 			if (!e)
+ 				return 0;
+ 		} else
+ 			e = elevator_get(CONFIG_DEFAULT_IOSCHED, false);
+ 
++>>>>>>> b86dd815ff74 (block: get rid of blk-mq default scheduler choice Kconfig entries)
  		if (!e) {
  			printk(KERN_ERR
  				"Default I/O scheduler not found. " \
* Unmerged path block/blk-mq-sched.c
* Unmerged path block/Kconfig.iosched
* Unmerged path block/blk-mq-sched.c
* Unmerged path block/elevator.c
