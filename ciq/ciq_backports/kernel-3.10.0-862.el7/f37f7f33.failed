iommu/amd: Introduce dir2prot() helper

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [iommu] amd: Introduce dir2prot() helper (Jerry Snitselaar) [1411581]
Rebuild_FUZZ: 91.43%
commit-author Joerg Roedel <jroedel@suse.de>
commit f37f7f33d561901d599e98a72bbf44af1f162732
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/f37f7f33.failed

This function converts dma_data_direction to
iommu-protection flags. This will be needed on multiple
places in the code, so this will save some code.

	Signed-off-by: Joerg Roedel <jroedel@suse.de>
(cherry picked from commit f37f7f33d561901d599e98a72bbf44af1f162732)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iommu/amd_iommu.c
diff --cc drivers/iommu/amd_iommu.c
index 3c777dd3adaa,281cacbd5816..000000000000
--- a/drivers/iommu/amd_iommu.c
+++ b/drivers/iommu/amd_iommu.c
@@@ -2465,8 -2273,7 +2476,12 @@@ static dma_addr_t __map_single(struct d
  			       struct dma_ops_domain *dma_dom,
  			       phys_addr_t paddr,
  			       size_t size,
++<<<<<<< HEAD
 +			       int direction,
 +			       bool align,
++=======
+ 			       enum dma_data_direction direction,
++>>>>>>> f37f7f33d561 (iommu/amd: Introduce dir2prot() helper)
  			       u64 dma_mask)
  {
  	dma_addr_t offset = paddr & ~PAGE_MASK;
* Unmerged path drivers/iommu/amd_iommu.c
