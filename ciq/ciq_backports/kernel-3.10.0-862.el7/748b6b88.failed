x86/intel_rdt/cqm: Add sched_in support

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [x86] intel_rdt/cqm: Add sched_in support (Jiri Olsa) [1457533]
Rebuild_FUZZ: 94.59%
commit-author Vikas Shivappa <vikas.shivappa@linux.intel.com>
commit 748b6b881ccdda8f0663c68605f431279e06f49a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/748b6b88.failed

OS associates an RMID/CLOSid to a task by writing the per CPU
IA32_PQR_ASSOC MSR when a task is scheduled in.

The sched_in code will stay as no-op unless we are running on Intel SKU
which supports either resource control or monitoring and we also enable
them by mounting the resctrl fs.  The per cpu CLOSid/RMID values are
cached and the write is performed only when a task with a different
CLOSid/RMID is scheduled in.

	Signed-off-by: Vikas Shivappa <vikas.shivappa@linux.intel.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Cc: ravi.v.shankar@intel.com
	Cc: tony.luck@intel.com
	Cc: fenghua.yu@intel.com
	Cc: peterz@infradead.org
	Cc: eranian@google.com
	Cc: vikas.shivappa@intel.com
	Cc: ak@linux.intel.com
	Cc: davidcc@google.com
	Cc: reinette.chatre@intel.com
Link: http://lkml.kernel.org/r/1501017287-28083-25-git-send-email-vikas.shivappa@linux.intel.com

(cherry picked from commit 748b6b881ccdda8f0663c68605f431279e06f49a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/include/asm/intel_rdt_sched.h
#	arch/x86/kernel/cpu/intel_rdt.h
* Unmerged path arch/x86/include/asm/intel_rdt_sched.h
* Unmerged path arch/x86/kernel/cpu/intel_rdt.h
* Unmerged path arch/x86/include/asm/intel_rdt_sched.h
* Unmerged path arch/x86/kernel/cpu/intel_rdt.h
