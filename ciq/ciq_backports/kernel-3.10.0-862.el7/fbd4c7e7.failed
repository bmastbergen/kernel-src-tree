netvsc: fix rcu dereference warning from ethtool

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author stephen hemminger <stephen@networkplumber.org>
commit fbd4c7e768f1719bea340e40148800279d230922
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/fbd4c7e7.failed

The ethtool info command calls the netvsc get_sset_count with RTNL
but not with RCU. Which causes warning:

drivers/net/hyperv/netvsc_drv.c:1010 suspicious rcu_dereference_check() usage!

	Signed-off-by: Stephen Hemminger <sthemmin@microsoft.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit fbd4c7e768f1719bea340e40148800279d230922)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/hyperv/netvsc_drv.c
diff --cc drivers/net/hyperv/netvsc_drv.c
index dbadeddd1c7c,d93e4da25fd2..000000000000
--- a/drivers/net/hyperv/netvsc_drv.c
+++ b/drivers/net/hyperv/netvsc_drv.c
@@@ -1016,11 -1020,22 +1016,20 @@@ static const struct 
  	{ "tx_busy",	  offsetof(struct netvsc_ethtool_stats, tx_busy) },
  };
  
 -#define NETVSC_GLOBAL_STATS_LEN	ARRAY_SIZE(netvsc_stats)
 -
 -/* 4 statistics per queue (rx/tx packets/bytes) */
 -#define NETVSC_QUEUE_STATS_LEN(dev) ((dev)->num_chn * 4)
 -
  static int netvsc_get_sset_count(struct net_device *dev, int string_set)
  {
++<<<<<<< HEAD
++=======
+ 	struct net_device_context *ndc = netdev_priv(dev);
+ 	struct netvsc_device *nvdev = rtnl_dereference(ndc->nvdev);
+ 
+ 	if (!nvdev)
+ 		return -ENODEV;
+ 
++>>>>>>> fbd4c7e768f1 (netvsc: fix rcu dereference warning from ethtool)
  	switch (string_set) {
  	case ETH_SS_STATS:
 -		return NETVSC_GLOBAL_STATS_LEN + NETVSC_QUEUE_STATS_LEN(nvdev);
 +		return ARRAY_SIZE(netvsc_stats);
  	default:
  		return -EINVAL;
  	}
* Unmerged path drivers/net/hyperv/netvsc_drv.c
