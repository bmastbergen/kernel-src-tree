qla2xxx: Fix wrong IOCB type assumption

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Quinn Tran <quinn.tran@cavium.com>
commit bb1181c9a8b46b6f10e749d9ed94480336445d7f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/bb1181c9.failed

qlt_reset is called with Immedidate Notify IOCB only.
Current code wrongly cast it as ATIO IOCB.

	Signed-off-by: Quinn Tran <quinn.tran@cavium.com>
	Signed-off-by: Himanshu Madhani <himanshu.madhani@cavium.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Bart Van Assche <bart.vanassche@sandisk.com>
(cherry picked from commit bb1181c9a8b46b6f10e749d9ed94480336445d7f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_target.c
diff --cc drivers/scsi/qla2xxx/qla_target.c
index 94564b5245d8,dd5b2e22bd5c..000000000000
--- a/drivers/scsi/qla2xxx/qla_target.c
+++ b/drivers/scsi/qla2xxx/qla_target.c
@@@ -385,8 -671,7 +385,11 @@@ static int qlt_reset(struct scsi_qla_ho
  	uint16_t loop_id;
  	int res = 0;
  	struct imm_ntfy_from_isp *n = (struct imm_ntfy_from_isp *)iocb;
++<<<<<<< HEAD
 +	struct atio_from_isp *a = (struct atio_from_isp *)iocb;
++=======
+ 	unsigned long flags;
++>>>>>>> bb1181c9a8b4 (qla2xxx: Fix wrong IOCB type assumption)
  
  	loop_id = le16_to_cpu(n->u.isp24.nport_handle);
  	if (loop_id == 0xFFFF) {
@@@ -434,14 -723,10 +437,10 @@@
  	    "loop_id %d)\n", vha->host_no, sess, sess->port_name,
  	    mcmd, loop_id);
  
- 	lun = a->u.isp24.fcp_cmnd.lun;
- 	unpacked_lun = scsilun_to_int((struct scsi_lun *)&lun);
- 
- 	return qlt_issue_task_mgmt(sess, unpacked_lun, mcmd,
- 	    iocb, QLA24XX_MGMT_SEND_NACK);
+ 	return qlt_issue_task_mgmt(sess, 0, mcmd, iocb, QLA24XX_MGMT_SEND_NACK);
  }
  
 -/* ha->tgt.sess_lock supposed to be held on entry */
 +/* ha->hardware_lock supposed to be held on entry */
  static void qlt_schedule_sess_for_deletion(struct qla_tgt_sess *sess,
  	bool immediate)
  {
* Unmerged path drivers/scsi/qla2xxx/qla_target.c
