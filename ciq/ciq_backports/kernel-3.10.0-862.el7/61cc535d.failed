net sched actions: skbedit convert to use more modern nla_put_xxx

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [net] sched: actions: skbedit convert to use more modern nla_put_xxx (Ivan Vecera) [1445420]
Rebuild_FUZZ: 96.06%
commit-author Jamal Hadi Salim <jhs@mojatatu.com>
commit 61cc535de36838bf4cfe08c8c4eeaad1ca4a89b1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/61cc535d.failed

	Signed-off-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 61cc535de36838bf4cfe08c8c4eeaad1ca4a89b1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/act_skbedit.c
diff --cc net/sched/act_skbedit.c
index 173bfd2bb060,8e573c0f8742..000000000000
--- a/net/sched/act_skbedit.c
+++ b/net/sched/act_skbedit.c
@@@ -151,17 -170,17 +151,20 @@@ static int tcf_skbedit_dump(struct sk_b
  	if (nla_put(skb, TCA_SKBEDIT_PARMS, sizeof(opt), &opt))
  		goto nla_put_failure;
  	if ((d->flags & SKBEDIT_F_PRIORITY) &&
- 	    nla_put(skb, TCA_SKBEDIT_PRIORITY, sizeof(d->priority),
- 		    &d->priority))
+ 	    nla_put_u32(skb, TCA_SKBEDIT_PRIORITY, d->priority))
  		goto nla_put_failure;
  	if ((d->flags & SKBEDIT_F_QUEUE_MAPPING) &&
- 	    nla_put(skb, TCA_SKBEDIT_QUEUE_MAPPING,
- 		    sizeof(d->queue_mapping), &d->queue_mapping))
+ 	    nla_put_u16(skb, TCA_SKBEDIT_QUEUE_MAPPING, d->queue_mapping))
  		goto nla_put_failure;
  	if ((d->flags & SKBEDIT_F_MARK) &&
- 	    nla_put(skb, TCA_SKBEDIT_MARK, sizeof(d->mark),
- 		    &d->mark))
+ 	    nla_put_u32(skb, TCA_SKBEDIT_MARK, d->mark))
  		goto nla_put_failure;
++<<<<<<< HEAD
++=======
+ 	if ((d->flags & SKBEDIT_F_PTYPE) &&
+ 	    nla_put_u16(skb, TCA_SKBEDIT_PTYPE, d->ptype))
+ 		goto nla_put_failure;
++>>>>>>> 61cc535de368 (net sched actions: skbedit convert to use more modern nla_put_xxx)
  
  	tcf_tm_dump(&t, &d->tcf_tm);
  	if (nla_put_64bit(skb, TCA_SKBEDIT_TM, sizeof(t), &t, TCA_SKBEDIT_PAD))
* Unmerged path net/sched/act_skbedit.c
