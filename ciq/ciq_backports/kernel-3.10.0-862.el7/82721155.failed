ALSA: synth: Select snd-emux-synth explicitly

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Takashi Iwai <tiwai@suse.de>
commit 8272115578ce02566b4c6bbe45f09d0d55f4a1c6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/82721155.failed

Instead of the non-standard way to enable the build of snd-emux-synth
module inside Makefile, rewrite Kconfig to select the item explicitly
from each driver (sbawe and emu10k1).  This is the standard way.

	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 8272115578ce02566b4c6bbe45f09d0d55f4a1c6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/Kconfig
diff --cc sound/Kconfig
index 5a240e050ae6,d7d2aac9542e..000000000000
--- a/sound/Kconfig
+++ b/sound/Kconfig
@@@ -108,6 -108,10 +108,13 @@@ source "sound/parisc/Kconfig
  
  source "sound/soc/Kconfig"
  
++<<<<<<< HEAD
++=======
+ source "sound/x86/Kconfig"
+ 
+ source "sound/synth/Kconfig"
+ 
++>>>>>>> 8272115578ce (ALSA: synth: Select snd-emux-synth explicitly)
  endif # SND
  
  menuconfig SOUND_PRIME
* Unmerged path sound/Kconfig
diff --git a/sound/isa/Kconfig b/sound/isa/Kconfig
index 83623992b098..73fa4b442ff1 100644
--- a/sound/isa/Kconfig
+++ b/sound/isa/Kconfig
@@ -389,6 +389,7 @@ config SND_SBAWE_SEQ
 	def_tristate SND_SEQUENCER && SND_SBAWE
 	select SND_SEQ_MIDI_EMUL
 	select SND_SEQ_VIRMIDI
+	select SND_SYNTH_EMUX
 
 config SND_SB16_CSP
 	bool "Sound Blaster 16/AWE CSP support"
diff --git a/sound/pci/Kconfig b/sound/pci/Kconfig
index 0b73d0d21a07..f0b9d89689b0 100644
--- a/sound/pci/Kconfig
+++ b/sound/pci/Kconfig
@@ -486,6 +486,7 @@ config SND_EMU10K1_SEQ
 	def_tristate SND_SEQUENCER && SND_EMU10K1
 	select SND_SEQ_MIDI_EMUL
 	select SND_SEQ_VIRMIDI
+	select SND_SYNTH_EMUX
 
 config SND_EMU10K1X
 	tristate "Emu10k1X (Dell OEM Version)"
diff --git a/sound/synth/Kconfig b/sound/synth/Kconfig
new file mode 100644
index 000000000000..dfe8950e0556
--- /dev/null
+++ b/sound/synth/Kconfig
@@ -0,0 +1,2 @@
+config SND_SYNTH_EMUX
+	tristate
diff --git a/sound/synth/emux/Makefile b/sound/synth/emux/Makefile
index 328594e6152d..bedbca36eb14 100644
--- a/sound/synth/emux/Makefile
+++ b/sound/synth/emux/Makefile
@@ -7,6 +7,4 @@ snd-emux-synth-objs := emux.o emux_synth.o emux_seq.o emux_nrpn.o \
 		       emux_effect.o emux_proc.o emux_hwdep.o soundfont.o \
 		       $(if $(CONFIG_SND_SEQUENCER_OSS),emux_oss.o)
 
-# Toplevel Module Dependencies
-obj-$(CONFIG_SND_SBAWE_SEQ) += snd-emux-synth.o
-obj-$(CONFIG_SND_EMU10K1_SEQ) += snd-emux-synth.o
+obj-$(CONFIG_SND_SYNTH_EMUX) += snd-emux-synth.o
