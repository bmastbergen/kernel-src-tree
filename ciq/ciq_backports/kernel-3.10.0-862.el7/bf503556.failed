drm/i915/cnl: Fix DDI hdmi level selection.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [gpu] drm/i915/cnl: Fix DDI hdmi level selection (Rob Clark) [1520639]
Rebuild_FUZZ: 98.82%
commit-author Rodrigo Vivi <rodrigo.vivi@intel.com>
commit bf50355645790a385b9ff04f33dea6b316c0dc31
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/bf503556.failed

Let's get a proper HDMI DDI entry level for vswing programming
sequences on CNL.

Spec doesn't specify any default for HDMI tables,
so let's pick the last entry as the default for now.

	Signed-off-by: Rodrigo Vivi <rodrigo.vivi@intel.com>
	Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20170829232230.23051-7-rodrigo.vivi@intel.com
(cherry picked from commit bf50355645790a385b9ff04f33dea6b316c0dc31)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/intel_ddi.c
diff --cc drivers/gpu/drm/i915/intel_ddi.c
index d42007e133bd,f1757a8e481a..000000000000
--- a/drivers/gpu/drm/i915/intel_ddi.c
+++ b/drivers/gpu/drm/i915/intel_ddi.c
@@@ -442,10 -657,13 +442,17 @@@ static int intel_ddi_hdmi_level(struct 
  
  	hdmi_level = dev_priv->vbt.ddi_port_info[port].hdmi_level_shift;
  
 -	if (IS_GEN9_LP(dev_priv))
 +	if (IS_BROXTON(dev_priv))
  		return hdmi_level;
  
++<<<<<<< HEAD
 +	if (IS_SKYLAKE(dev_priv) || IS_KABYLAKE(dev_priv)) {
++=======
+ 	if (IS_CANNONLAKE(dev_priv)) {
+ 		cnl_get_buf_trans_hdmi(dev_priv, &n_hdmi_entries);
+ 		hdmi_default_entry = n_hdmi_entries - 1;
+ 	} else if (IS_GEN9_BC(dev_priv)) {
++>>>>>>> bf5035564579 (drm/i915/cnl: Fix DDI hdmi level selection.)
  		skl_get_buf_trans_hdmi(dev_priv, &n_hdmi_entries);
  		hdmi_default_entry = 8;
  	} else if (IS_BROADWELL(dev_priv)) {
* Unmerged path drivers/gpu/drm/i915/intel_ddi.c
