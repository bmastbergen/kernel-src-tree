net_sched: use tcf_queue_work() in flower filter

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Cong Wang <xiyou.wangcong@gmail.com>
commit 0552c8afa077889b4704ef5ee88b03063ad45023
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/0552c8af.failed

Defer the tcf_exts_destroy() in RCU callback to
tc filter workqueue and get RTNL lock.

	Reported-by: Chris Mi <chrism@mellanox.com>
	Cc: Daniel Borkmann <daniel@iogearbox.net>
	Cc: Jiri Pirko <jiri@resnulli.us>
	Cc: John Fastabend <john.fastabend@gmail.com>
	Cc: Jamal Hadi Salim <jhs@mojatatu.com>
	Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
	Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 0552c8afa077889b4704ef5ee88b03063ad45023)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/cls_flower.c
diff --cc net/sched/cls_flower.c
index bef481fd9fe0,5b5722c8b32c..000000000000
--- a/net/sched/cls_flower.c
+++ b/net/sched/cls_flower.c
@@@ -87,8 -87,10 +87,15 @@@ struct cls_fl_filter 
  	struct list_head list;
  	u32 handle;
  	u32 flags;
++<<<<<<< HEAD
 +	struct rcu_head	rcu;
 +	struct tc_to_netdev tc;
++=======
+ 	union {
+ 		struct work_struct work;
+ 		struct rcu_head	rcu;
+ 	};
++>>>>>>> 0552c8afa077 (net_sched: use tcf_queue_work() in flower filter)
  	struct net_device *hw_dev;
  };
  
* Unmerged path net/sched/cls_flower.c
