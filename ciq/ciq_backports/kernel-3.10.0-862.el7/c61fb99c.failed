bnxt_en: Add RX page mode support.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [netdrv] bnxt_en: Add RX page mode support (Jonathan Toppins) [1459659]
Rebuild_FUZZ: 98.51%
commit-author Michael Chan <michael.chan@broadcom.com>
commit c61fb99cae51958a9096d8540c8c05e74cfa7e59
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/c61fb99c.failed

This mode is to support XDP.  In this mode, each rx ring is configured
with page sized buffers for linear placement of each packet.  MTU will be
restricted to what the page sized buffers can support.

	Signed-off-by: Michael Chan <michael.chan@broadcom.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c61fb99cae51958a9096d8540c8c05e74cfa7e59)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/broadcom/bnxt/bnxt.c
#	drivers/net/ethernet/broadcom/bnxt/bnxt.h
diff --cc drivers/net/ethernet/broadcom/bnxt/bnxt.c
index 9d98e42b255f,0bcd46576415..000000000000
--- a/drivers/net/ethernet/broadcom/bnxt/bnxt.c
+++ b/drivers/net/ethernet/broadcom/bnxt/bnxt.c
@@@ -7332,6 -7372,12 +7431,15 @@@ static int bnxt_init_one(struct pci_de
  	dev->features |= dev->hw_features | NETIF_F_HIGHDMA;
  	dev->priv_flags |= IFF_UNICAST_FLT;
  
++<<<<<<< HEAD
++=======
+ 	/* MTU range: 60 - 9500 */
+ 	dev->min_mtu = ETH_ZLEN;
+ 	dev->max_mtu = BNXT_MAX_MTU;
+ 
+ 	bnxt_dcb_init(bp);
+ 
++>>>>>>> c61fb99cae51 (bnxt_en: Add RX page mode support.)
  #ifdef CONFIG_BNXT_SRIOV
  	init_waitqueue_head(&bp->sriov_cfg_wait);
  #endif
@@@ -7368,9 -7414,8 +7476,9 @@@
  
  	bnxt_hwrm_func_qcfg(bp);
  	bnxt_hwrm_port_led_qcaps(bp);
 +	bnxt_dcb_init(bp);
  
- 	bnxt_set_rx_skb_mode(bp);
+ 	bnxt_set_rx_skb_mode(bp, false);
  	bnxt_set_tpa_flags(bp);
  	bnxt_set_ring_params(bp);
  	bnxt_set_max_func_irqs(bp, max_irqs);
diff --cc drivers/net/ethernet/broadcom/bnxt/bnxt.h
index 50a8cb183ae2,2144a0e024a2..000000000000
--- a/drivers/net/ethernet/broadcom/bnxt/bnxt.h
+++ b/drivers/net/ethernet/broadcom/bnxt/bnxt.h
@@@ -972,7 -971,7 +976,11 @@@ struct bnxt 
  	#define BNXT_FLAG_ROCE_CAP	(BNXT_FLAG_ROCEV1_CAP |	\
  					 BNXT_FLAG_ROCEV2_CAP)
  	#define BNXT_FLAG_NO_AGG_RINGS	0x20000
++<<<<<<< HEAD
 +	#define BNXT_FLAG_FW_LLDP_AGENT	0x80000
++=======
+ 	#define BNXT_FLAG_RX_PAGE_MODE	0x40000
++>>>>>>> c61fb99cae51 (bnxt_en: Add RX page mode support.)
  	#define BNXT_FLAG_CHIP_NITRO_A0	0x1000000
  
  	#define BNXT_FLAG_ALL_CONFIG_FEATS (BNXT_FLAG_TPA |		\
* Unmerged path drivers/net/ethernet/broadcom/bnxt/bnxt.c
* Unmerged path drivers/net/ethernet/broadcom/bnxt/bnxt.h
