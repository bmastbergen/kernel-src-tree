fw_cfg: write vmcoreinfo details

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Marc-André Lureau <marcandre.lureau@redhat.com>
commit 2d6d60a3d3eca50bbb20052278cb11dabcf4dff3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/2d6d60a3.failed

If the "etc/vmcoreinfo" fw_cfg file is present and we are not running
the kdump kernel, write the addr/size of the vmcoreinfo ELF note.

The DMA operation is expected to run synchronously with today qemu,
but the specification states that it may become async, so we run
"control" field check in a loop for eventual changes.

	Signed-off-by: Marc-André Lureau <marcandre.lureau@redhat.com>
	Signed-off-by: Michael S. Tsirkin <mst@redhat.com>
(cherry picked from commit 2d6d60a3d3eca50bbb20052278cb11dabcf4dff3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/firmware/qemu_fw_cfg.c
#	include/uapi/linux/qemu_fw_cfg.h
* Unmerged path drivers/firmware/qemu_fw_cfg.c
* Unmerged path include/uapi/linux/qemu_fw_cfg.h
* Unmerged path drivers/firmware/qemu_fw_cfg.c
* Unmerged path include/uapi/linux/qemu_fw_cfg.h
