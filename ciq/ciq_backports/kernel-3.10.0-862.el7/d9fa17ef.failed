act_police: rename tcf_act_police_locate() to tcf_act_police_init()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author WANG Cong <xiyou.wangcong@gmail.com>
commit d9fa17ef9f084c755332898c8243a396ea02d73e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/d9fa17ef.failed

This function is just ->init(), rename it to make it obvious.

	Cc: Jamal Hadi Salim <jhs@mojatatu.com>
	Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>
	Acked-by: Jamal Hadi Salim <jhs@mojatatu.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit d9fa17ef9f084c755332898c8243a396ea02d73e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/act_police.c
diff --cc net/sched/act_police.c
index 8a7c279e7b2c,1e8ede3955f4..000000000000
--- a/net/sched/act_police.c
+++ b/net/sched/act_police.c
@@@ -111,11 -115,10 +111,11 @@@ static const struct nla_policy police_p
  	[TCA_POLICE_RESULT]	= { .type = NLA_U32 },
  };
  
- static int tcf_act_police_locate(struct net *net, struct nlattr *nla,
- 				 struct nlattr *est, struct tc_action *a,
- 				 int ovr, int bind)
+ static int tcf_act_police_init(struct net *net, struct nlattr *nla,
+ 			       struct nlattr *est, struct tc_action *a,
+ 			       int ovr, int bind)
  {
 +	unsigned int h;
  	int ret = 0, err;
  	struct nlattr *tb[TCA_POLICE_MAX + 1];
  	struct tc_police *parm;
@@@ -366,18 -366,42 +366,24 @@@ static struct tc_action_ops act_police_
  	.owner		=	THIS_MODULE,
  	.act		=	tcf_act_police,
  	.dump		=	tcf_act_police_dump,
++<<<<<<< HEAD
 +	.init		=	tcf_act_police_locate,
 +	.walk		=	tcf_act_police_walker
++=======
+ 	.init		=	tcf_act_police_init,
+ 	.walk		=	tcf_act_police_walker,
+ 	.lookup		=	tcf_police_search,
++>>>>>>> d9fa17ef9f08 (act_police: rename tcf_act_police_locate() to tcf_act_police_init())
  };
  
 -static __net_init int police_init_net(struct net *net)
 -{
 -	struct tc_action_net *tn = net_generic(net, police_net_id);
 -
 -	return tc_action_net_init(tn, &act_police_ops, POL_TAB_MASK);
 -}
 -
 -static void __net_exit police_exit_net(struct net *net)
 -{
 -	struct tc_action_net *tn = net_generic(net, police_net_id);
 -
 -	tc_action_net_exit(tn);
 -}
 -
 -static struct pernet_operations police_net_ops = {
 -	.init = police_init_net,
 -	.exit = police_exit_net,
 -	.id   = &police_net_id,
 -	.size = sizeof(struct tc_action_net),
 -};
 -
 -static int __init
 -police_init_module(void)
 +static int __init police_init_module(void)
  {
 -	return tcf_register_action(&act_police_ops, &police_net_ops);
 +	return tcf_register_action(&act_police_ops, POL_TAB_MASK);
  }
  
 -static void __exit
 -police_cleanup_module(void)
 +static void __exit police_cleanup_module(void)
  {
 -	tcf_unregister_action(&act_police_ops, &police_net_ops);
 +	tcf_unregister_action(&act_police_ops);
  }
  
  module_init(police_init_module);
* Unmerged path net/sched/act_police.c
