x86: Wire up protection keys system calls

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [x86] Wire up protection keys system calls (Rui Wang) [1272615]
Rebuild_FUZZ: 93.51%
commit-author Dave Hansen <dave.hansen@linux.intel.com>
commit f9afc6197e9bba1e2e62e262704f661810cc8bba
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/f9afc619.failed

This is all that we need to get the new system calls themselves
working on x86.

	Signed-off-by: Dave Hansen <dave.hansen@linux.intel.com>
	Cc: linux-arch@vger.kernel.org
	Cc: Dave Hansen <dave@sr71.net>
	Cc: mgorman@techsingularity.net
	Cc: arnd@arndb.de
	Cc: linux-api@vger.kernel.org
	Cc: linux-mm@kvack.org
	Cc: luto@kernel.org
	Cc: akpm@linux-foundation.org
	Cc: torvalds@linux-foundation.org
Link: http://lkml.kernel.org/r/20160729163017.E3C06FD2@viggo.jf.intel.com
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

(cherry picked from commit f9afc6197e9bba1e2e62e262704f661810cc8bba)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/syscalls/syscall_32.tbl
#	arch/x86/syscalls/syscall_64.tbl
diff --cc arch/x86/syscalls/syscall_32.tbl
index 09379ced3437,ff6ef7b30822..000000000000
--- a/arch/x86/syscalls/syscall_32.tbl
+++ b/arch/x86/syscalls/syscall_32.tbl
@@@ -359,7 -359,35 +359,17 @@@
  350	i386	finit_module		sys_finit_module
  351	i386	sched_setattr		sys_sched_setattr
  352	i386	sched_getattr		sys_sched_getattr
 -353	i386	renameat2		sys_renameat2
 -354	i386	seccomp			sys_seccomp
  355	i386	getrandom		sys_getrandom
  356	i386	memfd_create		sys_memfd_create
 -357	i386	bpf			sys_bpf
 -358	i386	execveat		sys_execveat			compat_sys_execveat
 -359	i386	socket			sys_socket
 -360	i386	socketpair		sys_socketpair
 -361	i386	bind			sys_bind
 -362	i386	connect			sys_connect
 -363	i386	listen			sys_listen
 -364	i386	accept4			sys_accept4
 -365	i386	getsockopt		sys_getsockopt			compat_sys_getsockopt
 -366	i386	setsockopt		sys_setsockopt			compat_sys_setsockopt
 -367	i386	getsockname		sys_getsockname
 -368	i386	getpeername		sys_getpeername
 -369	i386	sendto			sys_sendto
 -370	i386	sendmsg			sys_sendmsg			compat_sys_sendmsg
 -371	i386	recvfrom		sys_recvfrom			compat_sys_recvfrom
 -372	i386	recvmsg			sys_recvmsg			compat_sys_recvmsg
 -373	i386	shutdown		sys_shutdown
  374	i386	userfaultfd		sys_userfaultfd
 -375	i386	membarrier		sys_membarrier
 -376	i386	mlock2			sys_mlock2
  377	i386	copy_file_range		sys_copy_file_range
++<<<<<<< HEAD:arch/x86/syscalls/syscall_32.tbl
++=======
+ 378	i386	preadv2			sys_preadv2			compat_sys_preadv2
+ 379	i386	pwritev2		sys_pwritev2			compat_sys_pwritev2
+ 380	i386	pkey_mprotect		sys_pkey_mprotect
+ 381	i386	pkey_alloc		sys_pkey_alloc
+ 382	i386	pkey_free		sys_pkey_free
+ #383	i386	pkey_get		sys_pkey_get
+ #384	i386	pkey_set		sys_pkey_set
++>>>>>>> f9afc6197e9b (x86: Wire up protection keys system calls):arch/x86/entry/syscalls/syscall_32.tbl
diff --cc arch/x86/syscalls/syscall_64.tbl
index 9faa66509436,2f024d02511d..000000000000
--- a/arch/x86/syscalls/syscall_64.tbl
+++ b/arch/x86/syscalls/syscall_64.tbl
@@@ -326,8 -326,20 +326,18 @@@
  318	common	getrandom		sys_getrandom
  319	common	memfd_create		sys_memfd_create
  320	common	kexec_file_load		sys_kexec_file_load
 -321	common	bpf			sys_bpf
 -322	64	execveat		sys_execveat/ptregs
  323	common	userfaultfd		sys_userfaultfd
 -324	common	membarrier		sys_membarrier
 -325	common	mlock2			sys_mlock2
  326	common	copy_file_range		sys_copy_file_range
++<<<<<<< HEAD:arch/x86/syscalls/syscall_64.tbl
++=======
+ 327	64	preadv2			sys_preadv2
+ 328	64	pwritev2		sys_pwritev2
+ 329	common	pkey_mprotect		sys_pkey_mprotect
+ 330	common	pkey_alloc		sys_pkey_alloc
+ 331	common	pkey_free		sys_pkey_free
+ #332	common	pkey_get		sys_pkey_get
+ #333	common	pkey_set		sys_pkey_set
++>>>>>>> f9afc6197e9b (x86: Wire up protection keys system calls):arch/x86/entry/syscalls/syscall_64.tbl
  
  #
  # x32-specific system call numbers start at 512 to avoid cache impact
* Unmerged path arch/x86/syscalls/syscall_32.tbl
* Unmerged path arch/x86/syscalls/syscall_64.tbl
