mlxsw: spectrum_router: Rename functions to add / delete a FIB entry

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Ido Schimmel <idosch@mellanox.com>
commit 80c238f91b1f607b32fae54f0462a073c3674140
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/80c238f9.failed

These functions aren't specific to IPv4 and can be re-used for IPv6.

Drop the '4' designation from their name.

	Signed-off-by: Ido Schimmel <idosch@mellanox.com>
	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 80c238f91b1f607b32fae54f0462a073c3674140)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
diff --cc drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
index ba2b4952cadc,32ed2b65b395..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
@@@ -2319,16 -2667,16 +2319,21 @@@ mlxsw_sp_fib4_node_list_insert(struct m
  }
  
  static void
 -mlxsw_sp_fib4_node_list_remove(struct mlxsw_sp_fib4_entry *fib4_entry)
 +mlxsw_sp_fib4_node_list_remove(struct mlxsw_sp_fib_entry *fib_entry)
  {
 -	list_del(&fib4_entry->common.list);
 +	list_del(&fib_entry->list);
  }
  
++<<<<<<< HEAD
 +static int
 +mlxsw_sp_fib4_node_entry_add(struct mlxsw_sp *mlxsw_sp,
 +			     const struct mlxsw_sp_fib_node *fib_node,
 +			     struct mlxsw_sp_fib_entry *fib_entry)
++=======
+ static int mlxsw_sp_fib_node_entry_add(struct mlxsw_sp *mlxsw_sp,
+ 				       struct mlxsw_sp_fib_entry *fib_entry)
++>>>>>>> 80c238f91b1f (mlxsw: spectrum_router: Rename functions to add / delete a FIB entry)
  {
 -	struct mlxsw_sp_fib_node *fib_node = fib_entry->fib_node;
 -
  	if (!mlxsw_sp_fib_node_entry_is_first(fib_node, fib_entry))
  		return 0;
  
@@@ -2345,11 -2693,11 +2350,16 @@@
  	return mlxsw_sp_fib_entry_update(mlxsw_sp, fib_entry);
  }
  
++<<<<<<< HEAD
 +static void
 +mlxsw_sp_fib4_node_entry_del(struct mlxsw_sp *mlxsw_sp,
 +			     const struct mlxsw_sp_fib_node *fib_node,
 +			     struct mlxsw_sp_fib_entry *fib_entry)
++=======
+ static void mlxsw_sp_fib_node_entry_del(struct mlxsw_sp *mlxsw_sp,
+ 					struct mlxsw_sp_fib_entry *fib_entry)
++>>>>>>> 80c238f91b1f (mlxsw: spectrum_router: Rename functions to add / delete a FIB entry)
  {
 -	struct mlxsw_sp_fib_node *fib_node = fib_entry->fib_node;
 -
  	if (!mlxsw_sp_fib_node_entry_is_first(fib_node, fib_entry))
  		return;
  
@@@ -2378,25 -2724,23 +2388,39 @@@ static int mlxsw_sp_fib4_node_entry_lin
  	if (err)
  		return err;
  
++<<<<<<< HEAD
 +	err = mlxsw_sp_fib4_node_entry_add(mlxsw_sp, fib_node, fib_entry);
++=======
+ 	err = mlxsw_sp_fib_node_entry_add(mlxsw_sp, &fib4_entry->common);
++>>>>>>> 80c238f91b1f (mlxsw: spectrum_router: Rename functions to add / delete a FIB entry)
  	if (err)
- 		goto err_fib4_node_entry_add;
+ 		goto err_fib_node_entry_add;
  
  	return 0;
  
++<<<<<<< HEAD
 +err_fib4_node_entry_add:
 +	mlxsw_sp_fib4_node_list_remove(fib_entry);
++=======
+ err_fib_node_entry_add:
+ 	mlxsw_sp_fib4_node_list_remove(fib4_entry);
++>>>>>>> 80c238f91b1f (mlxsw: spectrum_router: Rename functions to add / delete a FIB entry)
  	return err;
  }
  
  static void
  mlxsw_sp_fib4_node_entry_unlink(struct mlxsw_sp *mlxsw_sp,
 -				struct mlxsw_sp_fib4_entry *fib4_entry)
 +				struct mlxsw_sp_fib_entry *fib_entry)
  {
++<<<<<<< HEAD
 +	struct mlxsw_sp_fib_node *fib_node = fib_entry->fib_node;
 +
 +	mlxsw_sp_fib4_node_entry_del(mlxsw_sp, fib_node, fib_entry);
 +	mlxsw_sp_fib4_node_list_remove(fib_entry);
++=======
+ 	mlxsw_sp_fib_node_entry_del(mlxsw_sp, &fib4_entry->common);
+ 	mlxsw_sp_fib4_node_list_remove(fib4_entry);
++>>>>>>> 80c238f91b1f (mlxsw: spectrum_router: Rename functions to add / delete a FIB entry)
  }
  
  static void mlxsw_sp_fib4_entry_replace(struct mlxsw_sp *mlxsw_sp,
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
