rbd: kill obj_request->object_name and rbd_segment_name_cache

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Ilya Dryomov <idryomov@gmail.com>
commit 6c696d8560e74cd42458931375875d62ae88c6ae
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/6c696d85.failed

	Signed-off-by: Ilya Dryomov <idryomov@gmail.com>
	Reviewed-by: Jason Dillaman <dillaman@redhat.com>
(cherry picked from commit 6c696d8560e74cd42458931375875d62ae88c6ae)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/block/rbd.c
diff --cc drivers/block/rbd.c
index b73b90551b4e,b6e269b4d534..000000000000
--- a/drivers/block/rbd.c
+++ b/drivers/block/rbd.c
@@@ -228,7 -231,7 +228,11 @@@ enum obj_req_flags 
  };
  
  struct rbd_obj_request {
++<<<<<<< HEAD
 +	const char		*object_name;
++=======
+ 	u64			object_no;
++>>>>>>> 6c696d8560e7 (rbd: kill obj_request->object_name and rbd_segment_name_cache)
  	u64			offset;		/* object start byte */
  	u64			length;		/* bytes from offset */
  	unsigned long		flags;
@@@ -2533,7 -2443,7 +2491,11 @@@ static int rbd_img_request_fill(struct 
  
  	while (resid) {
  		struct ceph_osd_request *osd_req;
++<<<<<<< HEAD
 +		const char *object_name;
++=======
+ 		u64 object_no = img_offset >> rbd_dev->header.obj_order;
++>>>>>>> 6c696d8560e7 (rbd: kill obj_request->object_name and rbd_segment_name_cache)
  		u64 offset = rbd_segment_offset(rbd_dev, img_offset);
  		u64 length = rbd_segment_length(rbd_dev, img_offset, resid);
  
* Unmerged path drivers/block/rbd.c
diff --git a/include/linux/ceph/osdmap.h b/include/linux/ceph/osdmap.h
index 695399272f94..7b971eb8dc04 100644
--- a/include/linux/ceph/osdmap.h
+++ b/include/linux/ceph/osdmap.h
@@ -81,13 +81,6 @@ static inline void ceph_oloc_copy(struct ceph_object_locator *dest,
 	dest->pool = src->pool;
 }
 
-/*
- * Maximum supported by kernel client object name length
- *
- * (probably outdated: must be >= RBD_MAX_MD_NAME_LEN -- currently 100)
- */
-#define CEPH_MAX_OID_NAME_LEN 100
-
 /*
  * 51-char inline_name is long enough for all cephfs and all but one
  * rbd requests: <imgname> in "<imgname>.rbd"/"rbd_id.<imgname>" can be
