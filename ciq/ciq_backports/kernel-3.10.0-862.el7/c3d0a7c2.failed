target: remove the unused SCF_CMD_XCOPY_PASSTHROUGH flag

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [target] remove the unused SCF_CMD_XCOPY_PASSTHROUGH flag (Maurizio Lombardi) [1366062]
Rebuild_FUZZ: 92.31%
commit-author Christoph Hellwig <hch@lst.de>
commit c3d0a7c21db219ef87679c2a667aba9f138524db
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/c3d0a7c2.failed

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
(cherry picked from commit c3d0a7c21db219ef87679c2a667aba9f138524db)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/target/target_core_base.h
diff --cc include/target/target_core_base.h
index 2817a2c3e111,71699cf3cc71..000000000000
--- a/include/target/target_core_base.h
+++ b/include/target/target_core_base.h
@@@ -169,8 -168,6 +169,11 @@@ enum se_cmd_flags_table 
  	SCF_ACK_KREF			= 0x00040000,
  	SCF_COMPARE_AND_WRITE		= 0x00080000,
  	SCF_COMPARE_AND_WRITE_POST	= 0x00100000,
++<<<<<<< HEAD
 +	SCF_CMD_XCOPY_PASSTHROUGH	= 0x00200000,
 +	SCF_PASSTHROUGH_PROT_SG_TO_MEM_NOALLOC = 0x00400000,
++=======
++>>>>>>> c3d0a7c21db2 (target: remove the unused SCF_CMD_XCOPY_PASSTHROUGH flag)
  };
  
  /* struct se_dev_entry->lun_flags and struct se_lun->lun_access */
diff --git a/drivers/target/target_core_xcopy.c b/drivers/target/target_core_xcopy.c
index 32a82dc5ac30..0b772a17154f 100644
--- a/drivers/target/target_core_xcopy.c
+++ b/drivers/target/target_core_xcopy.c
@@ -553,7 +553,7 @@ static int target_xcopy_init_pt_lun(
 	 * target_xcopy_setup_pt_port()
 	 */
 	if (!remote_port) {
-		pt_cmd->se_cmd_flags |= SCF_SE_LUN_CMD | SCF_CMD_XCOPY_PASSTHROUGH;
+		pt_cmd->se_cmd_flags |= SCF_SE_LUN_CMD;
 		return 0;
 	}
 
@@ -561,7 +561,7 @@ static int target_xcopy_init_pt_lun(
 	pt_cmd->se_dev = se_dev;
 
 	pr_debug("Setup emulated se_dev: %p from se_dev\n", pt_cmd->se_dev);
-	pt_cmd->se_cmd_flags |= SCF_SE_LUN_CMD | SCF_CMD_XCOPY_PASSTHROUGH;
+	pt_cmd->se_cmd_flags |= SCF_SE_LUN_CMD;
 
 	pr_debug("Setup emulated se_dev: %p to pt_cmd->se_lun->lun_se_dev\n",
 		pt_cmd->se_lun->lun_se_dev);
* Unmerged path include/target/target_core_base.h
