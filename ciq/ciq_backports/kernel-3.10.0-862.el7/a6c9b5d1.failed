mlxsw: spectrum_router: Set activity interval according to both neighbour tables

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Arkadi Sharshevsky <arkadis@mellanox.com>
commit a6c9b5d1990577eed514110f4ba4d3bc032c57fd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/a6c9b5d1.failed

The neighbours' activity is currently dumped according to the ARP
table's DELAY_PROBE time, but with the introduction of IPv6 offload we
should set the interval according to the minimum between the ARP and
ndisc tables.

	Signed-off-by: Arkadi Sharshvesky <arkadis@mellanox.com>
	Signed-off-by: Ido Schimmel <idosch@mellanox.com>
	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit a6c9b5d1990577eed514110f4ba4d3bc032c57fd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
diff --cc drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
index c83798787698,cb797fb43b3d..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
@@@ -665,9 -932,12 +665,16 @@@ mlxsw_sp_neigh_entry_lookup(struct mlxs
  static void
  mlxsw_sp_router_neighs_update_interval_init(struct mlxsw_sp *mlxsw_sp)
  {
- 	unsigned long interval = NEIGH_VAR(&arp_tbl.parms, DELAY_PROBE_TIME);
+ 	unsigned long interval;
  
++<<<<<<< HEAD
 +	mlxsw_sp->router.neighs_update.interval = jiffies_to_msecs(interval);
++=======
+ 	interval = min_t(unsigned long,
+ 			 NEIGH_VAR(&arp_tbl.parms, DELAY_PROBE_TIME),
+ 			 NEIGH_VAR(&nd_tbl.parms, DELAY_PROBE_TIME));
+ 	mlxsw_sp->router->neighs_update.interval = jiffies_to_msecs(interval);
++>>>>>>> a6c9b5d19905 (mlxsw: spectrum_router: Set activity interval according to both neighbour tables)
  }
  
  static void mlxsw_sp_router_neigh_ent_ipv4_process(struct mlxsw_sp *mlxsw_sp,
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_router.c
