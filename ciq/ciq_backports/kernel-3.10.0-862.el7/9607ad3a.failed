perf tools: Add signal.h to places using its definitions

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 9607ad3a63871b074a57ce1facd04a230c38725c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/9607ad3a.failed

And remove it from util.h, disentangling it a bit more.

Link: http://lkml.kernel.org/n/tip-2zg9s5nx90yde64j3g4z2uhk@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 9607ad3a63871b074a57ce1facd04a230c38725c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-inject.c
#	tools/perf/builtin-report.c
#	tools/perf/builtin-script.c
#	tools/perf/builtin-stat.c
#	tools/perf/ui/gtk/annotate.c
#	tools/perf/util/util.c
#	tools/perf/util/util.h
diff --cc tools/perf/builtin-inject.c
index 84feab395300,8bd791cca008..000000000000
--- a/tools/perf/builtin-inject.c
+++ b/tools/perf/builtin-inject.c
@@@ -22,6 -22,8 +22,11 @@@
  #include <subcmd/parse-options.h>
  
  #include <linux/list.h>
++<<<<<<< HEAD
++=======
+ #include <errno.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  
  struct perf_inject {
  	struct perf_tool	tool;
diff --cc tools/perf/builtin-report.c
index 377f119662a3,b8f2dd322496..000000000000
--- a/tools/perf/builtin-report.c
+++ b/tools/perf/builtin-report.c
@@@ -40,6 -39,10 +40,13 @@@
  #include "util/auxtrace.h"
  
  #include <dlfcn.h>
++<<<<<<< HEAD
++=======
+ #include <errno.h>
+ #include <inttypes.h>
+ #include <regex.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  #include <linux/bitmap.h>
  #include <linux/stringify.h>
  
diff --cc tools/perf/builtin-script.c
index f9436e7b7b5d,76a88bdeebe4..000000000000
--- a/tools/perf/builtin-script.c
+++ b/tools/perf/builtin-script.c
@@@ -28,6 -31,11 +28,14 @@@
  #include <linux/time64.h>
  #include "asm/bug.h"
  #include "util/mem-events.h"
++<<<<<<< HEAD
++=======
+ #include "util/dump-insn.h"
+ #include <dirent.h>
+ #include <errno.h>
+ #include <inttypes.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  
  #include "sane_ctype.h"
  
diff --cc tools/perf/builtin-stat.c
index f860dfae5a59,e3837febb4ff..000000000000
--- a/tools/perf/builtin-stat.c
+++ b/tools/perf/builtin-stat.c
@@@ -68,8 -69,11 +68,13 @@@
  
  #include <linux/time64.h>
  #include <api/fs/fs.h>
++<<<<<<< HEAD
++=======
+ #include <errno.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  #include <stdlib.h>
  #include <sys/prctl.h>
 -#include <inttypes.h>
  #include <locale.h>
  #include <math.h>
  
diff --cc tools/perf/ui/gtk/annotate.c
index 8c9308ac30b7,e99ba86158d2..000000000000
--- a/tools/perf/ui/gtk/annotate.c
+++ b/tools/perf/ui/gtk/annotate.c
@@@ -3,7 -3,8 +3,12 @@@
  #include "util/annotate.h"
  #include "util/evsel.h"
  #include "ui/helpline.h"
++<<<<<<< HEAD
 +
++=======
+ #include <inttypes.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  
  enum {
  	ANN_COL__PERCENT,
diff --cc tools/perf/util/util.c
index f6c11c5d964f,bc42c459f586..000000000000
--- a/tools/perf/util/util.c
+++ b/tools/perf/util/util.c
@@@ -6,6 -6,10 +6,12 @@@
  #ifdef HAVE_BACKTRACE_SUPPORT
  #include <execinfo.h>
  #endif
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <inttypes.h>
+ #include <signal.h>
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  #include <stdio.h>
  #include <stdlib.h>
  #include <string.h>
diff --cc tools/perf/util/util.h
index 5f9bec1e16fd,6bf141647403..000000000000
--- a/tools/perf/util/util.h
+++ b/tools/perf/util/util.h
@@@ -22,13 -20,9 +22,16 @@@
  #include <limits.h>
  #include <sys/param.h>
  #include <sys/types.h>
 +#include <dirent.h>
  #include <sys/time.h>
  #include <time.h>
++<<<<<<< HEAD
 +#include <signal.h>
 +#include <fnmatch.h>
++=======
++>>>>>>> 9607ad3a6387 (perf tools: Add signal.h to places using its definitions)
  #include <assert.h>
 +#include <regex.h>
  #include <utime.h>
  #include <sys/wait.h>
  #include <poll.h>
diff --git a/tools/perf/arch/x86/tests/intel-cqm.c b/tools/perf/arch/x86/tests/intel-cqm.c
index 7f064eb37158..3bb4b7118667 100644
--- a/tools/perf/arch/x86/tests/intel-cqm.c
+++ b/tools/perf/arch/x86/tests/intel-cqm.c
@@ -6,6 +6,7 @@
 #include "evsel.h"
 #include "arch-tests.h"
 
+#include <signal.h>
 #include <sys/mman.h>
 #include <string.h>
 
* Unmerged path tools/perf/builtin-inject.c
diff --git a/tools/perf/builtin-kvm.c b/tools/perf/builtin-kvm.c
index 693f98cb99a8..67644242cd44 100644
--- a/tools/perf/builtin-kvm.c
+++ b/tools/perf/builtin-kvm.c
@@ -27,6 +27,7 @@
 #include <linux/time64.h>
 #include <termios.h>
 #include <semaphore.h>
+#include <signal.h>
 #include <pthread.h>
 #include <math.h>
 
diff --git a/tools/perf/builtin-record.c b/tools/perf/builtin-record.c
index 83ef8562c896..c14e6cc38882 100644
--- a/tools/perf/builtin-record.c
+++ b/tools/perf/builtin-record.c
@@ -40,6 +40,7 @@
 
 #include <unistd.h>
 #include <sched.h>
+#include <signal.h>
 #include <sys/mman.h>
 #include <asm/bug.h>
 #include <linux/time64.h>
* Unmerged path tools/perf/builtin-report.c
* Unmerged path tools/perf/builtin-script.c
* Unmerged path tools/perf/builtin-stat.c
diff --git a/tools/perf/builtin-top.c b/tools/perf/builtin-top.c
index 7a57bb6621b0..4e9120d923c8 100644
--- a/tools/perf/builtin-top.c
+++ b/tools/perf/builtin-top.c
@@ -58,6 +58,7 @@
 #include <errno.h>
 #include <time.h>
 #include <sched.h>
+#include <signal.h>
 
 #include <sys/syscall.h>
 #include <sys/ioctl.h>
diff --git a/tools/perf/builtin-trace.c b/tools/perf/builtin-trace.c
index 5df0d0c79134..7c3da42bedfd 100644
--- a/tools/perf/builtin-trace.c
+++ b/tools/perf/builtin-trace.c
@@ -38,6 +38,7 @@
 #include "rb_resort.h"
 
 #include <libaudit.h> /* FIXME: Still needed for audit_errno_to_name */
+#include <signal.h>
 #include <stdlib.h>
 #include <string.h>
 #include <linux/err.h>
diff --git a/tools/perf/perf.c b/tools/perf/perf.c
index b611531f753f..b29d9b74a5a4 100644
--- a/tools/perf/perf.c
+++ b/tools/perf/perf.c
@@ -19,6 +19,7 @@
 #include <api/fs/fs.h>
 #include <api/fs/tracing_path.h>
 #include <pthread.h>
+#include <signal.h>
 #include <stdlib.h>
 #include <time.h>
 
diff --git a/tools/perf/trace/beauty/signum.c b/tools/perf/trace/beauty/signum.c
index d3b0b1fab077..fde8f2fc6558 100644
--- a/tools/perf/trace/beauty/signum.c
+++ b/tools/perf/trace/beauty/signum.c
@@ -1,3 +1,4 @@
+#include <signal.h>
 
 static size_t syscall_arg__scnprintf_signum(char *bf, size_t size, struct syscall_arg *arg)
 {
* Unmerged path tools/perf/ui/gtk/annotate.c
diff --git a/tools/perf/ui/gtk/hists.c b/tools/perf/ui/gtk/hists.c
index a4f02de7c1b5..9f4dec8270b4 100644
--- a/tools/perf/ui/gtk/hists.c
+++ b/tools/perf/ui/gtk/hists.c
@@ -5,6 +5,7 @@
 #include "../hist.h"
 #include "../helpline.h"
 #include "gtk.h"
+#include <signal.h>
 
 #define MAX_COLUMNS			32
 
diff --git a/tools/perf/util/evlist.c b/tools/perf/util/evlist.c
index c8ee4e14587e..9915f7a170a1 100644
--- a/tools/perf/util/evlist.c
+++ b/tools/perf/util/evlist.c
@@ -16,6 +16,7 @@
 #include "evsel.h"
 #include "debug.h"
 #include "asm/bug.h"
+#include <signal.h>
 #include <unistd.h>
 
 #include "parse-events.h"
diff --git a/tools/perf/util/evlist.h b/tools/perf/util/evlist.h
index fe8ca0af634f..65120f89e80a 100644
--- a/tools/perf/util/evlist.h
+++ b/tools/perf/util/evlist.h
@@ -10,6 +10,7 @@
 #include "evsel.h"
 #include "util.h"
 #include "auxtrace.h"
+#include <signal.h>
 #include <unistd.h>
 
 struct pollfd;
* Unmerged path tools/perf/util/util.c
* Unmerged path tools/perf/util/util.h
