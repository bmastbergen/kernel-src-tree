livepatch: fix RCU usage in klp_find_external_symbol()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Peter Zijlstra <peterz@infradead.org>
commit c064a0de1bfb07c34a3798822c7e1636eea866e8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/c064a0de.failed

While one must hold RCU-sched (aka. preempt_disable) for find_symbol()
one must equally hold it over the use of the object returned.

The moment you release the RCU-sched read lock, the object can be dead
and gone.

[jkosina@suse.cz: change subject line to be aligned with other patches]
	Cc: Seth Jennings <sjenning@redhat.com>
	Cc: Josh Poimboeuf <jpoimboe@redhat.com>
	Cc: Masami Hiramatsu <masami.hiramatsu.pt@hitachi.com>
	Cc: Miroslav Benes <mbenes@suse.cz>
	Cc: Petr Mladek <pmladek@suse.cz>
	Cc: Jiri Kosina <jkosina@suse.cz>
	Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
	Cc: Rusty Russell <rusty@rustcorp.com.au>
	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Reviewed-by: Masami Hiramatsu <masami.hiramatsu.pt@hitachi.com>
	Acked-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
	Acked-by: Josh Poimboeuf <jpoimboe@redhat.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit c064a0de1bfb07c34a3798822c7e1636eea866e8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/livepatch/core.c
* Unmerged path kernel/livepatch/core.c
* Unmerged path kernel/livepatch/core.c
