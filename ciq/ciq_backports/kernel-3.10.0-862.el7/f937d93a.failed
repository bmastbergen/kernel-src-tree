RDMA/uverbs: Declare local function static and add brackets to sizeof

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Leon Romanovsky <leonro@mellanox.com>
commit f937d93a9122d1510ca6e4bb8d860aedcf9408c3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/f937d93a.failed

Commit 57520751445b ("IB/SA: Add OPA path record type") introduced
new local function __ib_copy_path_rec_to_user, but didn't limit its
scope. This produces the following sparse warning:

	drivers/infiniband/core/uverbs_marshall.c:99:6: warning:
	symbol '__ib_copy_path_rec_to_user' was not declared. Should it be
	static?

In addition, it used sizeof ... notations instead of sizeof(...), which
is correct in C, but a little bit misleading. Let's change it too.

Fixes: 57520751445b ("IB/SA: Add OPA path record type")
	Reviewed-by: Yuval Shaia <yuval.shaia@oracle.com>
	Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
	Signed-off-by: Doug Ledford <dledford@redhat.com>
(cherry picked from commit f937d93a9122d1510ca6e4bb8d860aedcf9408c3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/core/uverbs_marshall.c
diff --cc drivers/infiniband/core/uverbs_marshall.c
index a9739f334562,94fd989c9060..000000000000
--- a/drivers/infiniband/core/uverbs_marshall.c
+++ b/drivers/infiniband/core/uverbs_marshall.c
@@@ -93,15 -96,15 +93,20 @@@ void ib_copy_qp_attr_to_user(struct ib_
  }
  EXPORT_SYMBOL(ib_copy_qp_attr_to_user);
  
++<<<<<<< HEAD
 +void ib_copy_path_rec_to_user(struct ib_user_path_rec *dst,
 +			      struct ib_sa_path_rec *src)
++=======
+ static void __ib_copy_path_rec_to_user(struct ib_user_path_rec *dst,
+ 				       struct sa_path_rec *src)
++>>>>>>> f937d93a9122 (RDMA/uverbs: Declare local function static and add brackets to sizeof)
  {
- 	memcpy(dst->dgid, src->dgid.raw, sizeof src->dgid);
- 	memcpy(dst->sgid, src->sgid.raw, sizeof src->sgid);
+ 	memcpy(dst->dgid, src->dgid.raw, sizeof(src->dgid));
+ 	memcpy(dst->sgid, src->sgid.raw, sizeof(src->sgid));
  
 -	dst->dlid		= htons(ntohl(sa_path_get_dlid(src)));
 -	dst->slid		= htons(ntohl(sa_path_get_slid(src)));
 -	dst->raw_traffic	= sa_path_get_raw_traffic(src);
 +	dst->dlid		= src->dlid;
 +	dst->slid		= src->slid;
 +	dst->raw_traffic	= src->raw_traffic;
  	dst->flow_label		= src->flow_label;
  	dst->hop_limit		= src->hop_limit;
  	dst->traffic_class	= src->traffic_class;
* Unmerged path drivers/infiniband/core/uverbs_marshall.c
