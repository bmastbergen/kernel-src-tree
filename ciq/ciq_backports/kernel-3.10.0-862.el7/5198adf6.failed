fsnotify: Remove unnecessary tests when showing fdinfo

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Jan Kara <jack@suse.cz>
commit 5198adf649a0b7b0f9ddb98b264e57b41516116b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/5198adf6.failed

show_fdinfo() iterates group's list of marks. All marks found there are
guaranteed to be alive and they stay so until we release
group->mark_mutex. So remove uncecessary tests whether mark is alive.

	Reviewed-by: Miklos Szeredi <mszeredi@redhat.com>
	Reviewed-by: Amir Goldstein <amir73il@gmail.com>
	Signed-off-by: Jan Kara <jack@suse.cz>
(cherry picked from commit 5198adf649a0b7b0f9ddb98b264e57b41516116b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/notify/fdinfo.c
diff --cc fs/notify/fdinfo.c
index ce5103ba1dff,601a59c8d87e..000000000000
--- a/fs/notify/fdinfo.c
+++ b/fs/notify/fdinfo.c
@@@ -79,11 -75,9 +79,16 @@@ static int inotify_fdinfo(struct seq_fi
  {
  	struct inotify_inode_mark *inode_mark;
  	struct inode *inode;
 +	int ret = 0;
  
++<<<<<<< HEAD
 +	if (!(mark->flags & FSNOTIFY_MARK_FLAG_ALIVE) ||
 +	    !(mark->flags & FSNOTIFY_MARK_FLAG_INODE))
 +		return 0;
++=======
+ 	if (!(mark->flags & FSNOTIFY_MARK_FLAG_INODE))
+ 		return;
++>>>>>>> 5198adf649a0 (fsnotify: Remove unnecessary tests when showing fdinfo)
  
  	inode_mark = container_of(mark, struct inotify_inode_mark, fsn_mark);
  	inode = igrab(mark->inode);
@@@ -121,11 -111,7 +126,14 @@@ static int fanotify_fdinfo(struct seq_f
  {
  	unsigned int mflags = 0;
  	struct inode *inode;
 +	int ret = 0;
  
++<<<<<<< HEAD
 +	if (!(mark->flags & FSNOTIFY_MARK_FLAG_ALIVE))
 +		return 0;
 +
++=======
++>>>>>>> 5198adf649a0 (fsnotify: Remove unnecessary tests when showing fdinfo)
  	if (mark->flags & FSNOTIFY_MARK_FLAG_IGNORED_SURV_MODIFY)
  		mflags |= FAN_MARK_IGNORED_SURV_MODIFY;
  
* Unmerged path fs/notify/fdinfo.c
