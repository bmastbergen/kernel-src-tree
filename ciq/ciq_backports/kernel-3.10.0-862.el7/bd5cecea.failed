bio: use offset_in_page macro

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [target] use offset_in_page macro (Maurizio Lombardi) [1366062]
Rebuild_FUZZ: 90.57%
commit-author Geliang Tang <geliangtang@163.com>
commit bd5cecea43ef379e82250addd0303e2f9ede6793
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/bd5cecea.failed

Use offset_in_page macro instead of (addr & ~PAGE_MASK).

	Signed-off-by: Geliang Tang <geliangtang@163.com>
	Signed-off-by: Jens Axboe <axboe@fb.com>
(cherry picked from commit bd5cecea43ef379e82250addd0303e2f9ede6793)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/bio.c
diff --cc fs/bio.c
index c9ac31552f7e,dbabd48b1934..000000000000
--- a/fs/bio.c
+++ b/fs/bio.c
@@@ -1157,10 -1124,10 +1157,15 @@@ struct bio *bio_copy_user_iov(struct re
  	struct bio *bio;
  	int i, ret;
  	int nr_pages = 0;
++<<<<<<< HEAD:fs/bio.c
 +	unsigned int len = 0;
 +	unsigned int offset = map_data ? map_data->offset & ~PAGE_MASK : 0;
++=======
+ 	unsigned int len = iter->count;
+ 	unsigned int offset = map_data ? offset_in_page(map_data->offset) : 0;
++>>>>>>> bd5cecea43ef (bio: use offset_in_page macro):block/bio.c
  
 -	for (i = 0; i < iter->nr_segs; i++) {
 +	for (i = 0; i < iov_count; i++) {
  		unsigned long uaddr;
  		unsigned long end;
  		unsigned long start;
* Unmerged path fs/bio.c
