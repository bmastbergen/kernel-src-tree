mlx5: ensure 0 is returned when vport is zero

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Colin Ian King <colin.king@canonical.com>
commit 1547f538c14581346c2eb82f8af0071ee6ec2b30
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/1547f538.failed

Currently, if vport is zero then then an uninialized return status
in err is returned.  Since the only return status at the end of the
function esw_add_uc_addr is zero for the current set of return paths
we may as well just return 0 rather than err to fix this issue.

Detected by CoverityScan, CID#1452698 ("Uninitialized scalar variable")

Fixes: eeb66cdb6826 ("net/mlx5: Separate between E-Switch and MPFS")
	Signed-off-by: Colin Ian King <colin.king@canonical.com>
	Reviewed-by: Leon Romanovsky <leonro@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 1547f538c14581346c2eb82f8af0071ee6ec2b30)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/eswitch.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/eswitch.c
index 4205ef88982d,6b84c1113301..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/eswitch.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/eswitch.c
@@@ -484,12 -398,10 +484,19 @@@ static int esw_add_uc_addr(struct mlx5_
  	if (esw->fdb_table.fdb && esw->mode == SRIOV_LEGACY)
  		vaddr->flow_rule = esw_fdb_set_vport_rule(esw, mac, vport);
  
++<<<<<<< HEAD
 +	esw_debug(esw->dev, "\tADDED UC MAC: vport[%d] %pM index:%d fr(%p)\n",
 +		  vport, mac, esw_uc->table_index, vaddr->flow_rule);
 +	return err;
 +abort:
 +	l2addr_hash_del(esw_uc);
 +	return err;
++=======
+ 	esw_debug(esw->dev, "\tADDED UC MAC: vport[%d] %pM fr(%p)\n",
+ 		  vport, mac, vaddr->flow_rule);
+ 
+ 	return 0;
++>>>>>>> 1547f538c145 (mlx5: ensure 0 is returned when vport is zero)
  }
  
  static int esw_del_uc_addr(struct mlx5_eswitch *esw, struct vport_addr *vaddr)
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/eswitch.c
