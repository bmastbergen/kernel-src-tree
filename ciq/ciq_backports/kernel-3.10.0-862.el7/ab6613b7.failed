drm/amdgpu: Remove check which is not valid for certain VBIOS

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Ken Wang <Ken.Wang@amd.com>
commit ab6613b7eaefe85dadfc86025e901c55d71c0379
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/ab6613b7.failed

Fixes vbios fetching on certain headless boards.

	Signed-off-by: Ken Wang <Ken.Wang@amd.com>
	Acked-by: Alex Deucher <alexander.deucher@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
	Cc: stable@vger.kernel.org
(cherry picked from commit ab6613b7eaefe85dadfc86025e901c55d71c0379)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c
index 8ec1967a850b,057e1ecd83ce..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c
@@@ -42,6 -42,44 +42,47 @@@
  #define AMD_IS_VALID_VBIOS(p) ((p)[0] == 0x55 && (p)[1] == 0xAA)
  #define AMD_VBIOS_LENGTH(p) ((p)[2] << 9)
  
++<<<<<<< HEAD
++=======
+ /* Check if current bios is an ATOM BIOS.
+  * Return true if it is ATOM BIOS. Otherwise, return false.
+  */
+ static bool check_atom_bios(uint8_t *bios, size_t size)
+ {
+ 	uint16_t tmp, bios_header_start;
+ 
+ 	if (!bios || size < 0x49) {
+ 		DRM_INFO("vbios mem is null or mem size is wrong\n");
+ 		return false;
+ 	}
+ 
+ 	if (!AMD_IS_VALID_VBIOS(bios)) {
+ 		DRM_INFO("BIOS signature incorrect %x %x\n", bios[0], bios[1]);
+ 		return false;
+ 	}
+ 
+ 	bios_header_start = bios[0x48] | (bios[0x49] << 8);
+ 	if (!bios_header_start) {
+ 		DRM_INFO("Can't locate bios header\n");
+ 		return false;
+ 	}
+ 
+ 	tmp = bios_header_start + 4;
+ 	if (size < tmp) {
+ 		DRM_INFO("BIOS header is broken\n");
+ 		return false;
+ 	}
+ 
+ 	if (!memcmp(bios + tmp, "ATOM", 4) ||
+ 	    !memcmp(bios + tmp, "MOTA", 4)) {
+ 		DRM_DEBUG("ATOMBIOS detected\n");
+ 		return true;
+ 	}
+ 
+ 	return false;
+ }
+ 
++>>>>>>> ab6613b7eaef (drm/amdgpu: Remove check which is not valid for certain VBIOS)
  /* If you boot an IGP board with a discrete card as the primary,
   * the IGP rom is not accessible via the rom bar as the IGP rom is
   * part of the system bios.  On boot, the system bios puts a
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_bios.c
