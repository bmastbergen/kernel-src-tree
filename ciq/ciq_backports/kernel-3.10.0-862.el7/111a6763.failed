net/mlx5: Build wq.o even if MLX5_CORE_EN is not selected

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [netdrv] mlx5: Build wq.o even if MLX5_CORE_EN is not selected (Kamal Heib) [1456677 1456694]
Rebuild_FUZZ: 96.36%
commit-author Ilan Tayari <ilant@mellanox.com>
commit 111a676367699dc8e3bc567ab17ab573ade54f0d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/111a6763.failed

Both the ethernet and FPGA portions of MLX5 now require the wq functions,
and we get a link error when CONFIG_MLX5_CORE_EN is disabled:

drivers/net/ethernet/mellanox/mlx5/core/fpga/conn.o: In function `mlx5_fpga_conn_create_cq':
conn.c:(.text+0x10b3): undefined reference to `mlx5_cqwq_create'
conn.c:(.text+0x10c6): undefined reference to `mlx5_cqwq_get_size'
conn.c:(.text+0x12bc): undefined reference to `mlx5_cqwq_destroy'

Build wq.o even if MLX5_CORE_EN is not selected.

Fixes: 537a50574175 ("net/mlx5: FPGA, Add high-speed connection routines")
	Reported-by: Arnd Bergmann <arnd@arndb.de>
	Signed-off-by: Ilan Tayari <ilant@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 111a676367699dc8e3bc567ab17ab573ade54f0d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/Makefile
diff --cc drivers/net/ethernet/mellanox/mlx5/core/Makefile
index 9e644615f07a,9d17e4e76d3a..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/Makefile
+++ b/drivers/net/ethernet/mellanox/mlx5/core/Makefile
@@@ -3,9 -4,14 +3,18 @@@ obj-$(CONFIG_MLX5_CORE)		+= mlx5_core.
  mlx5_core-y :=	main.o cmd.o debugfs.o fw.o eq.o uar.o pagealloc.o \
  		health.o mcg.o cq.o srq.o alloc.o qp.o port.o mr.o pd.o \
  		mad.o transobj.o vport.o sriov.o fs_cmd.o fs_core.o \
++<<<<<<< HEAD
 +		fs_counters.o rl.o lag.o dev.o
++=======
+ 		fs_counters.o rl.o lag.o dev.o wq.o lib/gid.o
  
- mlx5_core-$(CONFIG_MLX5_CORE_EN) += wq.o eswitch.o eswitch_offloads.o \
+ mlx5_core-$(CONFIG_MLX5_ACCEL) += accel/ipsec.o
+ 
+ mlx5_core-$(CONFIG_MLX5_FPGA) += fpga/cmd.o fpga/core.o fpga/conn.o fpga/sdk.o \
+ 		fpga/ipsec.o
++>>>>>>> 111a67636769 (net/mlx5: Build wq.o even if MLX5_CORE_EN is not selected)
+ 
+ mlx5_core-$(CONFIG_MLX5_CORE_EN) += eswitch.o eswitch_offloads.o \
  		en_main.o en_common.o en_fs.o en_ethtool.o en_tx.o \
  		en_rx.o en_rx_am.o en_txrx.o en_clock.o vxlan.o \
  		en_tc.o en_arfs.o en_rep.o en_fs_ethtool.o en_selftest.o
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/Makefile
