perf list: Support printing MetricExpr with --debug

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Andi Kleen <ak@linux.intel.com>
commit 7f372a636d92e21d6fa41aebd6986ef590aefbfc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/7f372a63.failed

Output the metric expr in perf list when --debug is specified, so that
the user can check the formula.

Before:

  % perf list
    ...
    unc_m_power_channel_ppd
         [Cycles where DRAM ranks are in power down (CKE) mode. Derived from unc_m_power_channel_ppd. Unit:
          uncore_imc]
          uncore_imc_2/event=0x85/

After:

  % perf list --debug
    ...
    unc_m_power_channel_ppd
         [Cycles where DRAM ranks are in power down (CKE) mode. Derived from unc_m_power_channel_ppd. Unit:
          uncore_imc]
          Perf: uncore_imc_2/event=0x85/ MetricExpr: (unc_m_power_channel_ppd / unc_m_clockticks) * 100.

	Signed-off-by: Andi Kleen <ak@linux.intel.com>
	Acked-by: Jiri Olsa <jolsa@kernel.org>
Link: http://lkml.kernel.org/r/20170320201711.14142-12-andi@firstfloor.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 7f372a636d92e21d6fa41aebd6986ef590aefbfc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/pmu.c
diff --cc tools/perf/util/pmu.c
index 0583e1bdc762,f819ad162b7c..000000000000
--- a/tools/perf/util/pmu.c
+++ b/tools/perf/util/pmu.c
@@@ -1226,8 -1239,12 +1228,17 @@@ void print_pmu_events(const char *event
  			printf("%*s", 8, "[");
  			wordwrap(aliases[j].desc, 8, columns, 0);
  			printf("]\n");
++<<<<<<< HEAD
 +			if (verbose)
 +				printf("%*s%s/%s/\n", 8, "", aliases[j].pmu, aliases[j].str);
++=======
+ 			if (verbose > 0) {
+ 				printf("%*s%s/%s/ ", 8, "", aliases[j].pmu, aliases[j].str);
+ 				if (aliases[j].metric_expr)
+ 					printf(" MetricExpr: %s", aliases[j].metric_expr);
+ 				putchar('\n');
+ 			}
++>>>>>>> 7f372a636d92 (perf list: Support printing MetricExpr with --debug)
  		} else
  			printf("  %-50s [Kernel PMU event]\n", aliases[j].name);
  		printed++;
* Unmerged path tools/perf/util/pmu.c
