scsi: qla2xxx: Remove unused irq_cmd_count field.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Remove unused irq_cmd_count field (Himanshu Madhani) [1460030]
Rebuild_FUZZ: 92.31%
commit-author Quinn Tran <quinn.tran@cavium.com>
commit ba68a63561deb328e1ad0940cea0932e8962ef0e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/ba68a635.failed

When driver is unloaded, all sessions are torn down, all commmands are
flushed, chip is reset to ensure there is no knowledge of target mode in
ISP. The irq_cmd_count field was used to make sure all commands are
processed on top of that.  The irq_cmd_count is now redundant and not
needed.

	Signed-off-by: Quinn Tran <quinn.tran@cavium.com>
	Signed-off-by: Himanshu Madhani <himanshu.madhani@cavium.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit ba68a63561deb328e1ad0940cea0932e8962ef0e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_target.c
#	drivers/scsi/qla2xxx/qla_target.h
diff --cc drivers/scsi/qla2xxx/qla_target.c
index f10c075d97ef,a8e57072019b..000000000000
--- a/drivers/scsi/qla2xxx/qla_target.c
+++ b/drivers/scsi/qla2xxx/qla_target.c
@@@ -3764,9 -5355,8 +3764,7 @@@ static void qlt_response_pkt(struct scs
  	 * Otherwise, some commands can stuck.
  	 */
  
- 	tgt->irq_cmd_count++;
- 
  	switch (pkt->entry_type) {
 -	case CTIO_CRC2:
  	case CTIO_TYPE7:
  	{
  		struct ctio7_from_24xx *entry = (struct ctio7_from_24xx *)pkt;
@@@ -3799,10 -5378,10 +3797,17 @@@
  			    le16_to_cpu(atio->u.isp2x.status));
  			break;
  		}
++<<<<<<< HEAD
 +		ql_dbg(ql_dbg_tgt, vha, 0xe032,
 +		    "FCP CDB: 0x%02x, sizeof(cdb): %lu",
 +		    atio->u.isp2x.cdb[0], (unsigned long
 +		    int)sizeof(atio->u.isp2x.cdb));
++=======
+ 
+ 		rc = qlt_chk_qfull_thresh_hold(vha, atio, true);
+ 		if (rc != 0)
+ 			return;
++>>>>>>> ba68a63561de (scsi: qla2xxx: Remove unused irq_cmd_count field.)
  
  		rc = qlt_handle_cmd_for_atio(vha, atio);
  		if (unlikely(rc != 0)) {
diff --cc drivers/scsi/qla2xxx/qla_target.h
index b33e411f28a0,c328a267c4c3..000000000000
--- a/drivers/scsi/qla2xxx/qla_target.h
+++ b/drivers/scsi/qla2xxx/qla_target.h
@@@ -758,7 -790,7 +758,11 @@@ struct qla_tgt 
  	 * because req_pkt() can drop/reaquire HW lock inside. Protected by
  	 * HW lock.
  	 */
++<<<<<<< HEAD
 +	int irq_cmd_count;
++=======
+ 	int atio_irq_cmd_count;
++>>>>>>> ba68a63561de (scsi: qla2xxx: Remove unused irq_cmd_count field.)
  
  	int datasegs_per_cmd, datasegs_per_cont, sg_tablesize;
  
* Unmerged path drivers/scsi/qla2xxx/qla_target.c
* Unmerged path drivers/scsi/qla2xxx/qla_target.h
