nvme: save hmpre and hmmin in struct nvme_ctrl

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [nvme] save hmpre and hmmin in struct nvme_ctrl (David Milburn) [1457880 1456486 1454365]
Rebuild_FUZZ: 93.02%
commit-author Christoph Hellwig <hch@lst.de>
commit fe6d53c9c0bb51977521d409a2efe453b7123c39
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/fe6d53c9.failed

We'll need the later for the HMB support.

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Reviewed-by: Keith Busch <keith.busch@intel.com>
	Reviewed-by: Sagi Grimberg <sagi@grimberg.me>
	Reviewed-by: Johannes Thumshirn <jthumshirn@suse.de>
(cherry picked from commit fe6d53c9c0bb51977521d409a2efe453b7123c39)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/nvme.h
diff --cc drivers/nvme/host/nvme.h
index edb3488b21b7,e2e341bba619..000000000000
--- a/drivers/nvme/host/nvme.h
+++ b/drivers/nvme/host/nvme.h
@@@ -145,6 -163,12 +145,15 @@@ struct nvme_ctrl 
  	struct work_struct async_event_work;
  	struct delayed_work ka_work;
  
++<<<<<<< HEAD
++=======
+ 	/* Power saving configuration */
+ 	u64 ps_max_latency_us;
+ 
+ 	u32 hmpre;
+ 	u32 hmmin;
+ 
++>>>>>>> fe6d53c9c0bb (nvme: save hmpre and hmmin in struct nvme_ctrl)
  	/* Fabrics only */
  	u16 sqsize;
  	u32 ioccsz;
diff --git a/drivers/nvme/host/core.c b/drivers/nvme/host/core.c
index 9bb98f3e0e56..1e48fcf842c8 100644
--- a/drivers/nvme/host/core.c
+++ b/drivers/nvme/host/core.c
@@ -1240,6 +1240,8 @@ int nvme_init_identify(struct nvme_ctrl *ctrl)
 		}
 	} else {
 		ctrl->cntlid = le16_to_cpu(id->cntlid);
+		ctrl->hmpre = le32_to_cpu(id->hmpre);
+		ctrl->hmmin = le32_to_cpu(id->hmmin);
 	}
 
 	kfree(id);
* Unmerged path drivers/nvme/host/nvme.h
