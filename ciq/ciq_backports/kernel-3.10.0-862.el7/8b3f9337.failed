vxlan: don't flush static fdb entries on admin down

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Roopa Prabhu <roopa@cumulusnetworks.com>
commit 8b3f9337e17aaf710c79e65fd0a3c572a075f498
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/8b3f9337.failed

This patch skips flushing static fdb entries in
ndo_stop, but flushes all fdb entries during vxlan
device delete. This is consistent with the bridge
driver fdb

	Signed-off-by: Roopa Prabhu <roopa@cumulusnetworks.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 8b3f9337e17aaf710c79e65fd0a3c572a075f498)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/vxlan.c
diff --cc drivers/net/vxlan.c
index bd0cd9458619,746a819f0a41..000000000000
--- a/drivers/net/vxlan.c
+++ b/drivers/net/vxlan.c
@@@ -3045,6 -3058,14 +3047,17 @@@ static int vxlan_newlink(struct net *sr
  static void vxlan_dellink(struct net_device *dev, struct list_head *head)
  {
  	struct vxlan_dev *vxlan = netdev_priv(dev);
++<<<<<<< HEAD
++=======
+ 	struct vxlan_net *vn = net_generic(vxlan->net, vxlan_net_id);
+ 
+ 	vxlan_flush(vxlan, true);
+ 
+ 	spin_lock(&vn->sock_lock);
+ 	if (!hlist_unhashed(&vxlan->hlist))
+ 		hlist_del_rcu(&vxlan->hlist);
+ 	spin_unlock(&vn->sock_lock);
++>>>>>>> 8b3f9337e17a (vxlan: don't flush static fdb entries on admin down)
  
  	gro_cells_destroy(&vxlan->gro_cells);
  	list_del(&vxlan->next);
* Unmerged path drivers/net/vxlan.c
