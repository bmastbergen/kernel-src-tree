perf tools: Remove include dirent.h from util.h

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 76b31a29ddaf2fa5f0a70458c214bed02a4a70e9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/76b31a29.failed

The files using the dirent.h routines should instead include it,
reducing the includes hell that lead to longer build times.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/n/tip-42g2f4z6nfg7mdb2ae97n7tj@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 76b31a29ddaf2fa5f0a70458c214bed02a4a70e9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-script.c
#	tools/perf/tests/parse-events.c
#	tools/perf/ui/browsers/hists.c
#	tools/perf/util/build-id.c
#	tools/perf/util/event.c
#	tools/perf/util/machine.c
#	tools/perf/util/parse-events.c
#	tools/perf/util/util.c
#	tools/perf/util/util.h
diff --cc tools/perf/builtin-script.c
index f9436e7b7b5d,fe1dcd4f2c6d..000000000000
--- a/tools/perf/builtin-script.c
+++ b/tools/perf/builtin-script.c
@@@ -28,6 -31,10 +28,13 @@@
  #include <linux/time64.h>
  #include "asm/bug.h"
  #include "util/mem-events.h"
++<<<<<<< HEAD
++=======
+ #include "util/dump-insn.h"
+ #include <dirent.h>
+ #include <errno.h>
+ #include <inttypes.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  
  #include "sane_ctype.h"
  
diff --cc tools/perf/tests/parse-events.c
index aa9276bfe3e9,981d2bf9914f..000000000000
--- a/tools/perf/tests/parse-events.c
+++ b/tools/perf/tests/parse-events.c
@@@ -6,8 -5,12 +6,14 @@@
  #include "tests.h"
  #include "debug.h"
  #include "util.h"
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <errno.h>
+ #include <linux/kernel.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include <linux/hw_breakpoint.h>
  #include <api/fs/fs.h>
 -#include <api/fs/tracing_path.h>
  
  #define PERF_TP_SAMPLE_TYPE (PERF_SAMPLE_RAW | PERF_SAMPLE_TIME | \
  			     PERF_SAMPLE_CPU | PERF_SAMPLE_PERIOD)
diff --cc tools/perf/ui/browsers/hists.c
index 38be9b0f7fe0,f0b5b2b0e521..000000000000
--- a/tools/perf/ui/browsers/hists.c
+++ b/tools/perf/ui/browsers/hists.c
@@@ -1,3 -1,6 +1,9 @@@
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <errno.h>
+ #include <inttypes.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include <stdio.h>
  #include <stdlib.h>
  #include <string.h>
diff --cc tools/perf/util/build-id.c
index 1775a4656a3d,923ea290bb6e..000000000000
--- a/tools/perf/util/build-id.c
+++ b/tools/perf/util/build-id.c
@@@ -7,6 -7,8 +7,11 @@@
   * Copyright (C) 2009, 2010 Arnaldo Carvalho de Melo <acme@redhat.com>
   */
  #include "util.h"
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <errno.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include <stdio.h>
  #include "build-id.h"
  #include "event.h"
diff --cc tools/perf/util/event.c
index dde16469da7e,cf457ef534da..000000000000
--- a/tools/perf/util/event.c
+++ b/tools/perf/util/event.c
@@@ -1,3 -1,7 +1,10 @@@
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <errno.h>
+ #include <inttypes.h>
+ #include <linux/kernel.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include <linux/types.h>
  #include <uapi/linux/mman.h> /* To get things like MAP_HUGETLB even on older libc headers */
  #include <api/fs/fs.h>
diff --cc tools/perf/util/machine.c
index 476227c71d3e,46411742d03c..000000000000
--- a/tools/perf/util/machine.c
+++ b/tools/perf/util/machine.c
@@@ -1,3 -1,6 +1,9 @@@
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <errno.h>
+ #include <inttypes.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include "callchain.h"
  #include "debug.h"
  #include "event.h"
diff --cc tools/perf/util/parse-events.c
index 3c6f7bbf0303,7d84338b19ee..000000000000
--- a/tools/perf/util/parse-events.c
+++ b/tools/perf/util/parse-events.c
@@@ -1,6 -1,8 +1,12 @@@
  #include <linux/hw_breakpoint.h>
  #include <linux/err.h>
++<<<<<<< HEAD
 +#include "util.h"
++=======
+ #include <dirent.h>
+ #include <errno.h>
+ #include "term.h"
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include "../perf.h"
  #include "evlist.h"
  #include "evsel.h"
diff --cc tools/perf/util/util.c
index f6c11c5d964f,b9716bc6e8fd..000000000000
--- a/tools/perf/util/util.c
+++ b/tools/perf/util/util.c
@@@ -6,6 -6,9 +6,11 @@@
  #ifdef HAVE_BACKTRACE_SUPPORT
  #include <execinfo.h>
  #endif
++<<<<<<< HEAD
++=======
+ #include <dirent.h>
+ #include <inttypes.h>
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  #include <stdio.h>
  #include <stdlib.h>
  #include <string.h>
diff --cc tools/perf/util/util.h
index 3821ee26013a,c0574e2763b7..000000000000
--- a/tools/perf/util/util.h
+++ b/tools/perf/util/util.h
@@@ -90,6 -81,9 +89,12 @@@ static inline void *zalloc(size_t size
  
  #define zfree(ptr) ({ free(*ptr); *ptr = NULL; })
  
++<<<<<<< HEAD
++=======
+ struct dirent;
+ struct strlist;
+ 
++>>>>>>> 76b31a29ddaf (perf tools: Remove include dirent.h from util.h)
  int mkdir_p(char *path, mode_t mode);
  int rm_rf(const char *path);
  struct strlist *lsdir(const char *name, bool (*filter)(const char *, struct dirent *));
* Unmerged path tools/perf/builtin-script.c
diff --git a/tools/perf/tests/dso-data.c b/tools/perf/tests/dso-data.c
index 13725e09ba22..8ae1316d2760 100644
--- a/tools/perf/tests/dso-data.c
+++ b/tools/perf/tests/dso-data.c
@@ -1,3 +1,4 @@
+#include <dirent.h>
 #include <stdlib.h>
 #include <linux/types.h>
 #include <sys/stat.h>
* Unmerged path tools/perf/tests/parse-events.c
* Unmerged path tools/perf/ui/browsers/hists.c
* Unmerged path tools/perf/util/build-id.c
diff --git a/tools/perf/util/cpumap.c b/tools/perf/util/cpumap.c
index 9d9ecb2430cc..37b3bb79ee08 100644
--- a/tools/perf/util/cpumap.c
+++ b/tools/perf/util/cpumap.c
@@ -3,6 +3,7 @@
 #include "../perf.h"
 #include "cpumap.h"
 #include <assert.h>
+#include <dirent.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <linux/bitmap.h>
* Unmerged path tools/perf/util/event.c
* Unmerged path tools/perf/util/machine.c
* Unmerged path tools/perf/util/parse-events.c
* Unmerged path tools/perf/util/util.c
* Unmerged path tools/perf/util/util.h
