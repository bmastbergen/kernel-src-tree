kvm,async_pf: Use swq_has_sleeper()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Davidlohr Bueso <dave@stgolabs.net>
commit b9f67a420b3d76991592558af06e9cf1b8953b3d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/b9f67a42.failed

... as we've got the new helper now. This caller already
does the right thing, hence no changes in semantics.

	Signed-off-by: Davidlohr Bueso <dbueso@suse.de>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit b9f67a420b3d76991592558af06e9cf1b8953b3d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	virt/kvm/async_pf.c
diff --cc virt/kvm/async_pf.c
index d1ed9e7b49f6,57bcb27dcf30..000000000000
--- a/virt/kvm/async_pf.c
+++ b/virt/kvm/async_pf.c
@@@ -94,12 -106,8 +94,17 @@@ static void async_pf_execute(struct wor
  
  	trace_kvm_async_pf_completed(addr, gva);
  
++<<<<<<< HEAD
 +	/*
 +	 * This memory barrier pairs with prepare_to_wait's set_current_state()
 +	 */
 +	smp_mb();
 +	if (waitqueue_active(&vcpu->wq))
 +		wake_up_interruptible(&vcpu->wq);
++=======
+ 	if (swq_has_sleeper(&vcpu->wq))
+ 		swake_up(&vcpu->wq);
++>>>>>>> b9f67a420b3d (kvm,async_pf: Use swq_has_sleeper())
  
  	mmput(mm);
  	kvm_put_kvm(vcpu->kvm);
* Unmerged path virt/kvm/async_pf.c
