IB/mlx5: Fix label order in error path handling

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Parav Pandit <parav@mellanox.com>
commit e19cd282ebedb801e572efae5df2f88d573932ce
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/e19cd282.failed

When UAR get_page fails, it needs to continue to cleanup debugfs for
congestion control parameters. Labels for error path were incorrectly
ordered.

This patch fixes to do correct cleanup on debugfs init failure and uar
get page failure.

Fixes: 4a2da0b8c078 ("IB/mlx5: Add debug control parameters for congestion control")
	Signed-off-by: Parav Pandit <parav@mellanox.com>
	Reviewed-by: Mark Bloch <markb@mellanox.com>
	Signed-off-by: Leon Romanovsky <leon@kernel.org>
	Signed-off-by: Doug Ledford <dledford@redhat.com>
(cherry picked from commit e19cd282ebedb801e572efae5df2f88d573932ce)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/hw/mlx5/main.c
diff --cc drivers/infiniband/hw/mlx5/main.c
index af6314d865ab,552f7bd4ecc3..000000000000
--- a/drivers/infiniband/hw/mlx5/main.c
+++ b/drivers/infiniband/hw/mlx5/main.c
@@@ -3598,9 -4165,20 +3598,24 @@@ err_umrc
  err_dev:
  	ib_unregister_device(&dev->ib_dev);
  
++<<<<<<< HEAD
 +err_q_cnt:
++=======
+ err_fp_bfreg:
+ 	mlx5_free_bfreg(dev->mdev, &dev->fp_bfreg);
+ 
+ err_bfreg:
+ 	mlx5_free_bfreg(dev->mdev, &dev->bfreg);
+ 
+ err_uar_page:
+ 	mlx5_put_uars_page(dev->mdev, dev->mdev->priv.uar);
+ 
+ err_cong:
+ 	mlx5_ib_cleanup_cong_debugfs(dev);
+ err_cnt:
++>>>>>>> e19cd282ebed (IB/mlx5: Fix label order in error path handling)
  	if (MLX5_CAP_GEN(dev->mdev, max_qp_cnt))
 -		mlx5_ib_dealloc_counters(dev);
 +		mlx5_ib_dealloc_q_counters(dev);
  
  err_odp:
  	mlx5_ib_odp_remove_one(dev);
* Unmerged path drivers/infiniband/hw/mlx5/main.c
