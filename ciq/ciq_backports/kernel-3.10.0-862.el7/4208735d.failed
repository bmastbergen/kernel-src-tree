perf tools: Remove poll.h and wait.h from util.h

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 4208735d8de58f1cbc2e0009d87514ce06681e5a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/4208735d.failed

Not needed in this header, added to the places that need poll(), wait()
and a few other prototypes.

Link: http://lkml.kernel.org/n/tip-i39c7b6xmo1vwd9wxp6fmkl0@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 4208735d8de58f1cbc2e0009d87514ce06681e5a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/arch/x86/tests/intel-cqm.c
#	tools/perf/builtin-kvm.c
#	tools/perf/builtin-record.c
#	tools/perf/builtin-stat.c
#	tools/perf/builtin-trace.c
#	tools/perf/util/util.h
diff --cc tools/perf/arch/x86/tests/intel-cqm.c
index 7f064eb37158,f9713a71d77e..000000000000
--- a/tools/perf/arch/x86/tests/intel-cqm.c
+++ b/tools/perf/arch/x86/tests/intel-cqm.c
@@@ -6,7 -6,10 +6,12 @@@
  #include "evsel.h"
  #include "arch-tests.h"
  
 -#include <signal.h>
  #include <sys/mman.h>
++<<<<<<< HEAD
++=======
+ #include <sys/wait.h>
+ #include <errno.h>
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  #include <string.h>
  
  static pid_t spawn(void)
diff --cc tools/perf/builtin-kvm.c
index 128754e8d5ef,f309c3773522..000000000000
--- a/tools/perf/builtin-kvm.c
+++ b/tools/perf/builtin-kvm.c
@@@ -23,10 -24,16 +23,16 @@@
  #ifdef HAVE_TIMERFD_SUPPORT
  #include <sys/timerfd.h>
  #endif
 -#include <sys/time.h>
  
 -#include <linux/kernel.h>
  #include <linux/time64.h>
++<<<<<<< HEAD
++=======
+ #include <errno.h>
+ #include <inttypes.h>
+ #include <poll.h>
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  #include <termios.h>
  #include <semaphore.h>
 -#include <signal.h>
  #include <pthread.h>
  #include <math.h>
  
diff --cc tools/perf/builtin-record.c
index 83ef8562c896,ee7d0a82ccd0..000000000000
--- a/tools/perf/builtin-record.c
+++ b/tools/perf/builtin-record.c
@@@ -34,13 -34,22 +34,20 @@@
  #include "util/tsc.h"
  #include "util/parse-branch-options.h"
  #include "util/parse-regs-options.h"
 -#include "util/llvm-utils.h"
 -#include "util/bpf-loader.h"
  #include "util/trigger.h"
  #include "util/perf-hooks.h"
 -#include "util/time-utils.h"
 -#include "util/units.h"
  #include "asm/bug.h"
  
++<<<<<<< HEAD
++=======
+ #include <errno.h>
+ #include <inttypes.h>
+ #include <poll.h>
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  #include <unistd.h>
  #include <sched.h>
 -#include <signal.h>
  #include <sys/mman.h>
+ #include <sys/wait.h>
  #include <asm/bug.h>
  #include <linux/time64.h>
  
diff --cc tools/perf/builtin-stat.c
index f860dfae5a59,a935b5023732..000000000000
--- a/tools/perf/builtin-stat.c
+++ b/tools/perf/builtin-stat.c
@@@ -68,10 -69,17 +68,17 @@@
  
  #include <linux/time64.h>
  #include <api/fs/fs.h>
 -#include <errno.h>
 -#include <signal.h>
  #include <stdlib.h>
  #include <sys/prctl.h>
 -#include <inttypes.h>
  #include <locale.h>
  #include <math.h>
++<<<<<<< HEAD
++=======
+ #include <sys/types.h>
+ #include <sys/stat.h>
+ #include <sys/wait.h>
+ #include <unistd.h>
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  
  #include "sane_ctype.h"
  
diff --cc tools/perf/builtin-trace.c
index 5df0d0c79134,eaa66fb57347..000000000000
--- a/tools/perf/builtin-trace.c
+++ b/tools/perf/builtin-trace.c
@@@ -37,7 -40,13 +37,12 @@@
  #include "syscalltbl.h"
  #include "rb_resort.h"
  
 -#include <errno.h>
 -#include <inttypes.h>
  #include <libaudit.h> /* FIXME: Still needed for audit_errno_to_name */
++<<<<<<< HEAD
++=======
+ #include <poll.h>
+ #include <signal.h>
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  #include <stdlib.h>
  #include <string.h>
  #include <linux/err.h>
diff --cc tools/perf/util/util.h
index e0eb4eee09b0,3852b6d3270a..000000000000
--- a/tools/perf/util/util.h
+++ b/tools/perf/util/util.h
@@@ -16,32 -12,7 +16,35 @@@
  #include <stddef.h>
  #include <stdlib.h>
  #include <stdarg.h>
++<<<<<<< HEAD
 +#include <string.h>
 +#include <term.h>
 +#include <errno.h>
 +#include <limits.h>
 +#include <sys/param.h>
 +#include <sys/types.h>
 +#include <dirent.h>
 +#include <sys/time.h>
 +#include <time.h>
 +#include <signal.h>
 +#include <fnmatch.h>
 +#include <assert.h>
 +#include <regex.h>
 +#include <utime.h>
 +#include <sys/wait.h>
 +#include <poll.h>
 +#include <sys/socket.h>
 +#include <sys/ioctl.h>
 +#include <linux/kernel.h>
++=======
++>>>>>>> 4208735d8de5 (perf tools: Remove poll.h and wait.h from util.h)
  #include <linux/types.h>
 +#include <sys/ttydefaults.h>
 +#include <api/fs/tracing_path.h>
 +#include <termios.h>
 +#include <linux/bitops.h>
 +#include <termios.h>
 +#include "strlist.h"
  
  extern char buildid_dir[];
  
* Unmerged path tools/perf/arch/x86/tests/intel-cqm.c
diff --git a/tools/perf/builtin-ftrace.c b/tools/perf/builtin-ftrace.c
index f80fb60b00b0..c1f7542f1e31 100644
--- a/tools/perf/builtin-ftrace.c
+++ b/tools/perf/builtin-ftrace.c
@@ -12,6 +12,7 @@
 #include <unistd.h>
 #include <signal.h>
 #include <fcntl.h>
+#include <poll.h>
 
 #include "debug.h"
 #include <subcmd/parse-options.h>
* Unmerged path tools/perf/builtin-kvm.c
* Unmerged path tools/perf/builtin-record.c
* Unmerged path tools/perf/builtin-stat.c
* Unmerged path tools/perf/builtin-trace.c
diff --git a/tools/perf/tests/builtin-test.c b/tools/perf/tests/builtin-test.c
index 15ee18262e31..8b6a2bc705d2 100644
--- a/tools/perf/tests/builtin-test.c
+++ b/tools/perf/tests/builtin-test.c
@@ -5,6 +5,7 @@
  */
 #include <unistd.h>
 #include <string.h>
+#include <sys/wait.h>
 #include "builtin.h"
 #include "hist.h"
 #include "intlist.h"
diff --git a/tools/perf/tests/event-times.c b/tools/perf/tests/event-times.c
index 19ef77bd6eb4..79f9877e0990 100644
--- a/tools/perf/tests/event-times.c
+++ b/tools/perf/tests/event-times.c
@@ -1,5 +1,6 @@
 #include <linux/compiler.h>
 #include <string.h>
+#include <sys/wait.h>
 #include "tests.h"
 #include "evlist.h"
 #include "evsel.h"
diff --git a/tools/perf/util/debug.c b/tools/perf/util/debug.c
index dd8314b7c6fd..774c039bb691 100644
--- a/tools/perf/util/debug.c
+++ b/tools/perf/util/debug.c
@@ -5,6 +5,7 @@
 #include <string.h>
 #include <stdarg.h>
 #include <stdio.h>
+#include <sys/wait.h>
 #include <api/debug.h>
 #include <linux/time64.h>
 
diff --git a/tools/perf/util/help-unknown-cmd.c b/tools/perf/util/help-unknown-cmd.c
index 34201440ac03..1c88ad6425b8 100644
--- a/tools/perf/util/help-unknown-cmd.c
+++ b/tools/perf/util/help-unknown-cmd.c
@@ -1,5 +1,6 @@
 #include "cache.h"
 #include "config.h"
+#include <poll.h>
 #include <stdio.h>
 #include <subcmd/help.h>
 #include "../builtin.h"
diff --git a/tools/perf/util/llvm-utils.c b/tools/perf/util/llvm-utils.c
index 8f5973ff8519..621828ab5374 100644
--- a/tools/perf/util/llvm-utils.c
+++ b/tools/perf/util/llvm-utils.c
@@ -12,6 +12,7 @@
 #include "config.h"
 #include <stdlib.h>
 #include "util.h"
+#include <sys/wait.h>
 
 #define CLANG_BPF_CMD_DEFAULT_TEMPLATE				\
 		"$CLANG_EXEC -D__KERNEL__ $CLANG_OPTIONS "	\
* Unmerged path tools/perf/util/util.h
