mlxsw: spectrum: fix swapped order of arguments packets and bytes

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Colin Ian King <colin.king@canonical.com>
commit c7cd4c9bf8df87027e739fe66d0a55951f6875d8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/c7cd4c9b.failed

The arguments packets and bytes to call mlxsw_sp_acl_rule_get_stats are
in the wrong order. Fix this by swapping them.

Detected by CoverityScan, CID#1419705 ("Arguments in wrong order")

Fixes: 7c1b8eb175b69add8ea ("mlxsw: spectrum: Add support for TC flower offload statistics")
	Signed-off-by: Colin Ian King <colin.king@canonical.com>
	Acked-by: Ido Schimmel <idosch@mellanox.com>
	Acked-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c7cd4c9bf8df87027e739fe66d0a55951f6875d8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_flower.c
diff --cc drivers/net/ethernet/mellanox/mlxsw/spectrum_flower.c
index 6f6ff409c265,3e7a0bcbba72..000000000000
--- a/drivers/net/ethernet/mellanox/mlxsw/spectrum_flower.c
+++ b/drivers/net/ethernet/mellanox/mlxsw/spectrum_flower.c
@@@ -344,3 -351,47 +344,50 @@@ void mlxsw_sp_flower_destroy(struct mlx
  
  	mlxsw_sp_acl_ruleset_put(mlxsw_sp, ruleset);
  }
++<<<<<<< HEAD
++=======
+ 
+ int mlxsw_sp_flower_stats(struct mlxsw_sp_port *mlxsw_sp_port, bool ingress,
+ 			  struct tc_cls_flower_offload *f)
+ {
+ 	struct mlxsw_sp *mlxsw_sp = mlxsw_sp_port->mlxsw_sp;
+ 	struct mlxsw_sp_acl_ruleset *ruleset;
+ 	struct mlxsw_sp_acl_rule *rule;
+ 	struct tc_action *a;
+ 	LIST_HEAD(actions);
+ 	u64 packets;
+ 	u64 lastuse;
+ 	u64 bytes;
+ 	int err;
+ 
+ 	ruleset = mlxsw_sp_acl_ruleset_get(mlxsw_sp, mlxsw_sp_port->dev,
+ 					   ingress,
+ 					   MLXSW_SP_ACL_PROFILE_FLOWER);
+ 	if (WARN_ON(IS_ERR(ruleset)))
+ 		return -EINVAL;
+ 
+ 	rule = mlxsw_sp_acl_rule_lookup(mlxsw_sp, ruleset, f->cookie);
+ 	if (!rule)
+ 		return -EINVAL;
+ 
+ 	err = mlxsw_sp_acl_rule_get_stats(mlxsw_sp, rule, &packets, &bytes,
+ 					  &lastuse);
+ 	if (err)
+ 		goto err_rule_get_stats;
+ 
+ 	preempt_disable();
+ 
+ 	tcf_exts_to_list(f->exts, &actions);
+ 	list_for_each_entry(a, &actions, list)
+ 		tcf_action_stats_update(a, bytes, packets, lastuse);
+ 
+ 	preempt_enable();
+ 
+ 	mlxsw_sp_acl_ruleset_put(mlxsw_sp, ruleset);
+ 	return 0;
+ 
+ err_rule_get_stats:
+ 	mlxsw_sp_acl_ruleset_put(mlxsw_sp, ruleset);
+ 	return err;
+ }
++>>>>>>> c7cd4c9bf8df (mlxsw: spectrum: fix swapped order of arguments packets and bytes)
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_flower.c
