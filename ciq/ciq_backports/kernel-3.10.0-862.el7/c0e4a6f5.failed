nvme-fc: fix module_init (theoretical) error path

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [nvme] fc: fix module_init (theoretical) error path (David Milburn) [1457880 1456486 1454365]
Rebuild_FUZZ: 94.62%
commit-author Sagi Grimberg <sagi@grimberg.me>
commit c0e4a6f5941ec3759fd5c7e58fc5e8b135cfee72
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/c0e4a6f5.failed

If nvmf_register_transport happened to fail
(it can't, but theoretically) we leak memory.

	Signed-off-by: Sagi Grimberg <sagi@grimberg.me>
	Signed-off-by: Jens Axboe <axboe@fb.com>
(cherry picked from commit c0e4a6f5941ec3759fd5c7e58fc5e8b135cfee72)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/fc.c
diff --cc drivers/nvme/host/fc.c
index aef76a5a058c,af196cac5ebe..000000000000
--- a/drivers/nvme/host/fc.c
+++ b/drivers/nvme/host/fc.c
@@@ -2522,7 -2546,7 +2522,11 @@@ static struct nvmf_transport_ops nvme_f
  
  static int __init nvme_fc_init_module(void)
  {
++<<<<<<< HEAD
 +	mark_tech_preview("NVMe over FC", THIS_MODULE);
++=======
+ 	int ret;
++>>>>>>> c0e4a6f5941e (nvme-fc: fix module_init (theoretical) error path)
  
  	nvme_fc_wq = create_workqueue("nvme_fc_wq");
  	if (!nvme_fc_wq)
* Unmerged path drivers/nvme/host/fc.c
