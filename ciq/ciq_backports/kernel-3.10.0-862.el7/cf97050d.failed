net/mlx4_en: Remove unused argument in TX datapath function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [netdrv] mlx4_en: Remove unused argument in TX datapath function (Don Dutile) [1499363 1456692]
Rebuild_FUZZ: 96.49%
commit-author Tariq Toukan <tariqt@mellanox.com>
commit cf97050d547281edc5b813b501d5888c60f23bb2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/cf97050d.failed

Remove owner argument, as it is obsolete and unused.
This also saves the overhead of calculating its value in data-path.

	Signed-off-by: Tariq Toukan <tariqt@mellanox.com>
	Reviewed-by: Saeed Mahameed <saeedm@mellanox.com>
	Cc: kernel-team@fb.com
	Cc: Eric Dumazet <edumazet@google.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit cf97050d547281edc5b813b501d5888c60f23bb2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx4/en_tx.c
#	drivers/net/ethernet/mellanox/mlx4/mlx4_en.h
diff --cc drivers/net/ethernet/mellanox/mlx4/en_tx.c
index 712fae6c9b1c,37386abea54c..000000000000
--- a/drivers/net/ethernet/mellanox/mlx4/en_tx.c
+++ b/drivers/net/ethernet/mellanox/mlx4/en_tx.c
@@@ -265,10 -263,10 +265,17 @@@ static void mlx4_en_stamp_wqe(struct ml
  }
  
  
++<<<<<<< HEAD
 +static u32 mlx4_en_free_tx_desc(struct mlx4_en_priv *priv,
 +				struct mlx4_en_tx_ring *ring,
 +				int index, u8 owner, u64 timestamp,
 +				int napi_mode)
++=======
+ u32 mlx4_en_free_tx_desc(struct mlx4_en_priv *priv,
+ 			 struct mlx4_en_tx_ring *ring,
+ 			 int index, u64 timestamp,
+ 			 int napi_mode)
++>>>>>>> cf97050d5472 (net/mlx4_en: Remove unused argument in TX datapath function)
  {
  	struct mlx4_en_tx_info *tx_info = &ring->tx_info[index];
  	struct mlx4_en_tx_desc *tx_desc = ring->buf + index * TXBB_SIZE;
@@@ -344,6 -342,25 +351,28 @@@
  	return tx_info->nr_txbb;
  }
  
++<<<<<<< HEAD
++=======
+ u32 mlx4_en_recycle_tx_desc(struct mlx4_en_priv *priv,
+ 			    struct mlx4_en_tx_ring *ring,
+ 			    int index, u64 timestamp,
+ 			    int napi_mode)
+ {
+ 	struct mlx4_en_tx_info *tx_info = &ring->tx_info[index];
+ 	struct mlx4_en_rx_alloc frame = {
+ 		.page = tx_info->page,
+ 		.dma = tx_info->map0_dma,
+ 	};
+ 
+ 	if (!mlx4_en_rx_recycle(ring->recycle_ring, &frame)) {
+ 		dma_unmap_page(priv->ddev, tx_info->map0_dma,
+ 			       PAGE_SIZE, priv->dma_dir);
+ 		put_page(tx_info->page);
+ 	}
+ 
+ 	return tx_info->nr_txbb;
+ }
++>>>>>>> cf97050d5472 (net/mlx4_en: Remove unused argument in TX datapath function)
  
  int mlx4_en_free_tx_buf(struct net_device *dev, struct mlx4_en_tx_ring *ring)
  {
@@@ -362,10 -379,9 +391,9 @@@
  	}
  
  	while (ring->cons != ring->prod) {
 -		ring->last_nr_txbb = ring->free_tx_desc(priv, ring,
 +		ring->last_nr_txbb = mlx4_en_free_tx_desc(priv, ring,
  						ring->cons & ring->size_mask,
- 						!!(ring->cons & ring->size), 0,
- 						0 /* Non-NAPI caller */);
+ 						0, 0 /* Non-NAPI caller */);
  		ring->cons += ring->last_nr_txbb;
  		cnt++;
  	}
@@@ -445,10 -461,9 +473,9 @@@ static bool mlx4_en_process_tx_cq(struc
  				timestamp = mlx4_en_get_cqe_ts(cqe);
  
  			/* free next descriptor */
 -			last_nr_txbb = ring->free_tx_desc(
 +			last_nr_txbb = mlx4_en_free_tx_desc(
  					priv, ring, ring_index,
- 					!!((ring_cons + txbbs_skipped) &
- 					ring->size), timestamp, napi_budget);
+ 					timestamp, napi_budget);
  
  			mlx4_en_stamp_wqe(priv, ring, stamp_index,
  					  !!((ring_cons + txbbs_stamp) &
diff --cc drivers/net/ethernet/mellanox/mlx4/mlx4_en.h
index 2a2372ed38f8,08b2906a98af..000000000000
--- a/drivers/net/ethernet/mellanox/mlx4/mlx4_en.h
+++ b/drivers/net/ethernet/mellanox/mlx4/mlx4_en.h
@@@ -721,6 -721,14 +721,17 @@@ int mlx4_en_process_rx_cq(struct net_de
  			  int budget);
  int mlx4_en_poll_rx_cq(struct napi_struct *napi, int budget);
  int mlx4_en_poll_tx_cq(struct napi_struct *napi, int budget);
++<<<<<<< HEAD
++=======
+ u32 mlx4_en_free_tx_desc(struct mlx4_en_priv *priv,
+ 			 struct mlx4_en_tx_ring *ring,
+ 			 int index, u64 timestamp,
+ 			 int napi_mode);
+ u32 mlx4_en_recycle_tx_desc(struct mlx4_en_priv *priv,
+ 			    struct mlx4_en_tx_ring *ring,
+ 			    int index, u64 timestamp,
+ 			    int napi_mode);
++>>>>>>> cf97050d5472 (net/mlx4_en: Remove unused argument in TX datapath function)
  void mlx4_en_fill_qp_context(struct mlx4_en_priv *priv, int size, int stride,
  		int is_tx, int rss, int qpn, int cqn, int user_prio,
  		struct mlx4_qp_context *context);
* Unmerged path drivers/net/ethernet/mellanox/mlx4/en_tx.c
* Unmerged path drivers/net/ethernet/mellanox/mlx4/mlx4_en.h
