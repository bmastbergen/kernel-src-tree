PCI: Include pci/hotplug Kconfig directly from pci/Kconfig

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [pci] Include pci/hotplug Kconfig directly from pci/Kconfig (Myron Stowe) [1466891]
Rebuild_FUZZ: 95.50%
commit-author Bjorn Helgaas <bhelgaas@google.com>
commit e7e127e3c767094aca96ee976729dc5f756666df
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/e7e127e3.failed

Include pci/hotplug/Kconfig directly from pci/Kconfig, so arches don't
have to source both pci/Kconfig and pci/hotplug/Kconfig.

Note that this effectively adds pci/hotplug/Kconfig to the following
arches, because they already sourced drivers/pci/Kconfig but they
previously did not source drivers/pci/hotplug/Kconfig:

  alpha
  arm
  avr32
  frv
  m68k
  microblaze
  mn10300
  sparc
  unicore32

Inspired-by-patch-from: Bogicevic Sasa <brutallesale@gmail.com>
	Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
(cherry picked from commit e7e127e3c767094aca96ee976729dc5f756666df)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/Kconfig
#	arch/s390/Kconfig
#	arch/xtensa/Kconfig
#	drivers/pci/Kconfig
diff --cc arch/arm64/Kconfig
index 56b3f6d447ae,fc8089db20b1..000000000000
--- a/arch/arm64/Kconfig
+++ b/arch/arm64/Kconfig
@@@ -115,8 -218,23 +115,28 @@@ endmen
  
  menu "Bus support"
  
++<<<<<<< HEAD
 +config ARM_AMBA
 +	bool
++=======
+ config PCI
+ 	bool "PCI support"
+ 	help
+ 	  This feature enables support for PCI bus system. If you say Y
+ 	  here, the kernel will include drivers and infrastructure code
+ 	  to support PCI bus devices.
+ 
+ config PCI_DOMAINS
+ 	def_bool PCI
+ 
+ config PCI_DOMAINS_GENERIC
+ 	def_bool PCI
+ 
+ config PCI_SYSCALL
+ 	def_bool PCI
+ 
+ source "drivers/pci/Kconfig"
++>>>>>>> e7e127e3c767 (PCI: Include pci/hotplug Kconfig directly from pci/Kconfig)
  
  endmenu
  
diff --cc arch/s390/Kconfig
index 0b509ac80e06,e70d49837fb0..000000000000
--- a/arch/s390/Kconfig
+++ b/arch/s390/Kconfig
@@@ -546,9 -594,17 +546,12 @@@ config PCI_NR_FUNCTION
  	  This allows you to specify the maximum number of PCI functions which
  	  this kernel will support.
  
 -config PCI_NR_MSI
 -	int "Maximum number of MSI interrupts (64-32768)"
 -	range 64 32768
 -	default "256"
 -	help
 -	  This defines the number of virtual interrupts the kernel will
 -	  provide for MSI interrupts. If you configure your system to have
 -	  too few drivers will fail to allocate MSI interrupts for all
 -	  PCI devices.
 -
  source "drivers/pci/Kconfig"
++<<<<<<< HEAD
 +source "drivers/pci/pcie/Kconfig"
 +source "drivers/pci/hotplug/Kconfig"
++=======
++>>>>>>> e7e127e3c767 (PCI: Include pci/hotplug Kconfig directly from pci/Kconfig)
  
  endif	# PCI
  
diff --cc arch/xtensa/Kconfig
index 0a1b95f81a32,7e9464b0fc00..000000000000
--- a/arch/xtensa/Kconfig
+++ b/arch/xtensa/Kconfig
@@@ -277,9 -397,86 +277,76 @@@ config SIMDISK1_FILENAM
  
  source "mm/Kconfig"
  
 -config FORCE_MAX_ZONEORDER
 -	int "Maximum zone order"
 -	default "11"
 -	help
 -	  The kernel memory allocator divides physically contiguous memory
 -	  blocks into "zones", where each zone is a power of two number of
 -	  pages.  This option selects the largest power of two that the kernel
 -	  keeps in the memory allocator.  If you need to allocate very large
 -	  blocks of physically contiguous memory, then you may need to
 -	  increase this value.
 -
 -	  This config option is actually maximum order plus one. For example,
 -	  a value of 11 means that the largest free memory block is 2^10 pages.
 -
  source "drivers/pcmcia/Kconfig"
  
++<<<<<<< HEAD
 +source "drivers/pci/hotplug/Kconfig"
++=======
+ config PLATFORM_WANT_DEFAULT_MEM
+ 	def_bool n
+ 
+ config DEFAULT_MEM_START
+ 	hex "Physical address of the default memory area start"
+ 	depends on PLATFORM_WANT_DEFAULT_MEM
+ 	default 0x00000000 if MMU
+ 	default 0x60000000 if !MMU
+ 	help
+ 	  This is a fallback start address of the default memory area, it is
+ 	  used when no physical memory size is passed through DTB or through
+ 	  boot parameter from bootloader.
+ 
+ 	  In noMMU configuration the following parameters are derived from it:
+ 	  - kernel load address;
+ 	  - kernel entry point address;
+ 	  - relocatable vectors base address;
+ 	  - uBoot load address;
+ 	  - TASK_SIZE.
+ 
+ 	  If unsure, leave the default value here.
+ 
+ config DEFAULT_MEM_SIZE
+ 	hex "Maximal size of the default memory area"
+ 	depends on PLATFORM_WANT_DEFAULT_MEM
+ 	default 0x04000000
+ 	help
+ 	  This is a fallback size of the default memory area, it is used when
+ 	  no physical memory size is passed through DTB or through boot
+ 	  parameter from bootloader.
+ 
+ 	  It's also used for TASK_SIZE calculation in noMMU configuration.
+ 
+ 	  If unsure, leave the default value here.
+ 
+ config XTFPGA_LCD
+ 	bool "Enable XTFPGA LCD driver"
+ 	depends on XTENSA_PLATFORM_XTFPGA
+ 	default n
+ 	help
+ 	  There's a 2x16 LCD on most of XTFPGA boards, kernel may output
+ 	  progress messages there during bootup/shutdown. It may be useful
+ 	  during board bringup.
+ 
+ 	  If unsure, say N.
+ 
+ config XTFPGA_LCD_BASE_ADDR
+ 	hex "XTFPGA LCD base address"
+ 	depends on XTFPGA_LCD
+ 	default "0x0d0c0000"
+ 	help
+ 	  Base address of the LCD controller inside KIO region.
+ 	  Different boards from XTFPGA family have LCD controller at different
+ 	  addresses. Please consult prototyping user guide for your board for
+ 	  the correct address. Wrong address here may lead to hardware lockup.
+ 
+ config XTFPGA_LCD_8BIT_ACCESS
+ 	bool "Use 8-bit access to XTFPGA LCD"
+ 	depends on XTFPGA_LCD
+ 	default n
+ 	help
+ 	  LCD may be connected with 4- or 8-bit interface, 8-bit access may
+ 	  only be used with 8-bit interface. Please consult prototyping user
+ 	  guide for your board for the correct interface width.
++>>>>>>> e7e127e3c767 (PCI: Include pci/hotplug Kconfig directly from pci/Kconfig)
  
  endmenu
  
diff --cc drivers/pci/Kconfig
index cc4d9d08c33e,616165d72a17..000000000000
--- a/drivers/pci/Kconfig
+++ b/drivers/pci/Kconfig
@@@ -125,3 -120,6 +125,9 @@@ config PCI_IOAPI
  config PCI_LABEL
  	def_bool y if (DMI || ACPI)
  	select NLS
++<<<<<<< HEAD
++=======
+ 
+ source "drivers/pci/hotplug/Kconfig"
+ source "drivers/pci/host/Kconfig"
++>>>>>>> e7e127e3c767 (PCI: Include pci/hotplug Kconfig directly from pci/Kconfig)
* Unmerged path arch/arm64/Kconfig
diff --git a/arch/blackfin/Kconfig b/arch/blackfin/Kconfig
index a117652b5fea..8b9fdff73329 100644
--- a/arch/blackfin/Kconfig
+++ b/arch/blackfin/Kconfig
@@ -1234,8 +1234,6 @@ source "drivers/pci/Kconfig"
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 endmenu
 
 menu "Executable file formats"
diff --git a/arch/ia64/Kconfig b/arch/ia64/Kconfig
index cc595fb7224a..47ab506cbd33 100644
--- a/arch/ia64/Kconfig
+++ b/arch/ia64/Kconfig
@@ -615,8 +615,6 @@ source "drivers/pci/pcie/Kconfig"
 
 source "drivers/pci/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 source "drivers/pcmcia/Kconfig"
 
 endmenu
diff --git a/arch/m32r/Kconfig b/arch/m32r/Kconfig
index bcd17b206571..373551c2d729 100644
--- a/arch/m32r/Kconfig
+++ b/arch/m32r/Kconfig
@@ -386,8 +386,6 @@ config ISA
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 endmenu
 
 
diff --git a/arch/mips/Kconfig b/arch/mips/Kconfig
index e53e2b40d695..02cd6567134d 100644
--- a/arch/mips/Kconfig
+++ b/arch/mips/Kconfig
@@ -2483,8 +2483,6 @@ config ZONE_DMA32
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 config RAPIDIO
 	bool "RapidIO support"
 	depends on PCI
diff --git a/arch/powerpc/Kconfig b/arch/powerpc/Kconfig
index cae2cf0c3760..12768811be91 100644
--- a/arch/powerpc/Kconfig
+++ b/arch/powerpc/Kconfig
@@ -875,8 +875,6 @@ source "drivers/pci/Kconfig"
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 config HAS_RAPIDIO
 	bool
 	default n
* Unmerged path arch/s390/Kconfig
diff --git a/arch/sh/Kconfig b/arch/sh/Kconfig
index ff90bc498893..7c5d64fe9600 100644
--- a/arch/sh/Kconfig
+++ b/arch/sh/Kconfig
@@ -889,8 +889,6 @@ source "drivers/pci/Kconfig"
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 endmenu
 
 menu "Executable file formats"
diff --git a/arch/tile/Kconfig b/arch/tile/Kconfig
index 3aa37669ff8c..bdad9246f6fe 100644
--- a/arch/tile/Kconfig
+++ b/arch/tile/Kconfig
@@ -407,8 +407,6 @@ config TILE_USB
 	  Provides USB host adapter support for the built-in EHCI and OHCI
 	  interfaces on TILE-Gx chips.
 
-source "drivers/pci/hotplug/Kconfig"
-
 endmenu
 
 menu "Executable file formats"
diff --git a/arch/x86/Kconfig b/arch/x86/Kconfig
index c83b7a921031..8feb95ce9e6d 100644
--- a/arch/x86/Kconfig
+++ b/arch/x86/Kconfig
@@ -2472,8 +2472,6 @@ config AMD_NB
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 config RAPIDIO
 	bool "RapidIO support"
 	depends on PCI
* Unmerged path arch/xtensa/Kconfig
diff --git a/drivers/parisc/Kconfig b/drivers/parisc/Kconfig
index 592de566e72f..3a102a84d637 100644
--- a/drivers/parisc/Kconfig
+++ b/drivers/parisc/Kconfig
@@ -110,8 +110,6 @@ config IOMMU_HELPER
 
 source "drivers/pcmcia/Kconfig"
 
-source "drivers/pci/hotplug/Kconfig"
-
 endmenu
 
 menu "PA-RISC specific drivers"
* Unmerged path drivers/pci/Kconfig
