sysfs, kernfs: reorganize SYSFS_* constants

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Tejun Heo <tj@kernel.org>
commit 2b25a62901a1af654c2604f19592b13742ad1601
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/2b25a629.failed

We want to add one more SYSFS_FLAG_* but we can't use the next higher
bit, 0x10000, as the flag field is 16bits wide.  The flags are
currently arranged weirdly - 8 bits are set aside for the type flags
when there are only three three used, the first flag starts at 0x1000
instead of 0x0100 and flag literals have 5 digits (20 bits) when only
4 digits can be used.

Rearrange them so that type bits are only the lowest four, flags start
at 0x0010 and similar flags are grouped.

This patch doesn't cause any behavior difference.

	Signed-off-by: Tejun Heo <tj@kernel.org>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 2b25a62901a1af654c2604f19592b13742ad1601)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/sysfs/sysfs.h
diff --cc fs/sysfs/sysfs.h
index e18c3f38727c,c86456c9b19e..000000000000
--- a/fs/sysfs/sysfs.h
+++ b/fs/sysfs/sysfs.h
@@@ -85,20 -80,18 +85,32 @@@ struct sysfs_dirent 
  
  #define SD_DEACTIVATED_BIAS		INT_MIN
  
- #define SYSFS_TYPE_MASK			0x00ff
+ #define SYSFS_TYPE_MASK			0x000f
  #define SYSFS_DIR			0x0001
  #define SYSFS_KOBJ_ATTR			0x0002
++<<<<<<< HEAD
 +#define SYSFS_KOBJ_BIN_ATTR		0x0004
 +#define SYSFS_KOBJ_LINK			0x0008
++=======
+ #define SYSFS_KOBJ_LINK			0x0004
++>>>>>>> 2b25a62901a1 (sysfs, kernfs: reorganize SYSFS_* constants)
  #define SYSFS_COPY_NAME			(SYSFS_DIR | SYSFS_KOBJ_LINK)
 -#define SYSFS_ACTIVE_REF		SYSFS_KOBJ_ATTR
 +#define SYSFS_ACTIVE_REF		(SYSFS_KOBJ_ATTR | SYSFS_KOBJ_BIN_ATTR)
  
++<<<<<<< HEAD
 +/* identify any namespace tag on sysfs_dirents */
 +#define SYSFS_NS_TYPE_MASK		0xf00
 +#define SYSFS_NS_TYPE_SHIFT		8
 +
 +#define SYSFS_FLAG_MASK			~(SYSFS_NS_TYPE_MASK|SYSFS_TYPE_MASK)
 +#define SYSFS_FLAG_REMOVED		0x02000
++=======
+ #define SYSFS_FLAG_MASK			~SYSFS_TYPE_MASK
+ #define SYSFS_FLAG_REMOVED		0x0010
+ #define SYSFS_FLAG_NS			0x0020
+ #define SYSFS_FLAG_HAS_SEQ_SHOW		0x0040
+ #define SYSFS_FLAG_HAS_MMAP		0x0080
++>>>>>>> 2b25a62901a1 (sysfs, kernfs: reorganize SYSFS_* constants)
  
  static inline unsigned int sysfs_type(struct sysfs_dirent *sd)
  {
* Unmerged path fs/sysfs/sysfs.h
