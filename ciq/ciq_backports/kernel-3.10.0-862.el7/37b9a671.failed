kvm: nVMX: Correct a VMX instruction error code for VMPTRLD

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author GanShun <ganshun@google.com>
commit 37b9a671f346a184c4e381b32ee465cf7d248ae8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/37b9a671.failed

When the operand passed to VMPTRLD matches the address of the VMXON
region, the VMX instruction error code should be
VMXERR_VMPTRLD_VMXON_POINTER rather than VMXERR_VMCLEAR_VMXON_POINTER.

	Signed-off-by: GanShun <ganshun@google.com>
	Signed-off-by: Jim Mattson <jmattson@google.com>
	Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
(cherry picked from commit 37b9a671f346a184c4e381b32ee465cf7d248ae8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/vmx.c
diff --cc arch/x86/kvm/vmx.c
index 152adaa32966,c41d7ffdda5a..000000000000
--- a/arch/x86/kvm/vmx.c
+++ b/arch/x86/kvm/vmx.c
@@@ -6756,9 -7122,8 +6756,14 @@@ static int nested_vmx_check_vmptr(struc
  
  		if (vmptr == vmx->nested.vmxon_ptr) {
  			nested_vmx_failValid(vcpu,
++<<<<<<< HEAD
 +					     VMXERR_VMCLEAR_VMXON_POINTER);
 +			skip_emulated_instruction(vcpu);
 +			return 1;
++=======
+ 					     VMXERR_VMPTRLD_VMXON_POINTER);
+ 			return kvm_skip_emulated_instruction(vcpu);
++>>>>>>> 37b9a671f346 (kvm: nVMX: Correct a VMX instruction error code for VMPTRLD)
  		}
  		break;
  	default:
* Unmerged path arch/x86/kvm/vmx.c
