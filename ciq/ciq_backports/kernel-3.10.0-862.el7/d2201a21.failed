qed: No need for LL2 frags indication

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Mintz, Yuval <Yuval.Mintz@cavium.com>
commit d2201a21598aa6ad47e23272119bc29e48201670
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/d2201a21.failed

This is a legacy leftover; There's no current flow where 'frags_mapped'
would be set.

	Signed-off-by: Yuval Mintz <Yuval.Mintz@cavium.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit d2201a21598aa6ad47e23272119bc29e48201670)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/qlogic/qed/qed_ll2.c
diff --cc drivers/net/ethernet/qlogic/qed/qed_ll2.c
index b1ff824f44b2,2a68fb9d8299..000000000000
--- a/drivers/net/ethernet/qlogic/qed/qed_ll2.c
+++ b/drivers/net/ethernet/qlogic/qed/qed_ll2.c
@@@ -2293,20 -2305,14 +2285,26 @@@ static int qed_ll2_start_xmit(struct qe
  
  	for (i = 0; i < skb_shinfo(skb)->nr_frags; i++) {
  		frag = &skb_shinfo(skb)->frags[i];
- 		if (!cdev->ll2->frags_mapped) {
- 			mapping = skb_frag_dma_map(&cdev->pdev->dev, frag, 0,
- 						   skb_frag_size(frag),
- 						   DMA_TO_DEVICE);
  
++<<<<<<< HEAD
 +			if (unlikely(dma_mapping_error(&cdev->pdev->dev,
 +						       mapping))) {
 +				DP_NOTICE(cdev,
 +					  "Unable to map frag - dropping packet\n");
 +				goto err;
 +			}
 +		} else {
 +			mapping = page_to_phys(skb_frag_page(frag)) |
 +			    frag->page_offset;
++=======
+ 		mapping = skb_frag_dma_map(&cdev->pdev->dev, frag, 0,
+ 					   skb_frag_size(frag), DMA_TO_DEVICE);
+ 
+ 		if (unlikely(dma_mapping_error(&cdev->pdev->dev, mapping))) {
+ 			DP_NOTICE(cdev,
+ 				  "Unable to map frag - dropping packet\n");
+ 			goto err;
++>>>>>>> d2201a21598a (qed: No need for LL2 frags indication)
  		}
  
  		rc = qed_ll2_set_fragment_of_tx_packet(QED_LEADING_HWFN(cdev),
* Unmerged path drivers/net/ethernet/qlogic/qed/qed_ll2.c
