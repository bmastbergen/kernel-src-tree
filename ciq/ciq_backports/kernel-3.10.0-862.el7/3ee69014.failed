ipc/mqueue: The mqueue filesystem should never contain executables

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
commit-author Eric W. Biederman <ebiederm@xmission.com>
commit 3ee690143c3c99f6c0e83f08ff17556890bc6027
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/3ee69014.failed

Set SB_I_NOEXEC on mqueuefs to ensure small implementation mistakes
do not result in executable on mqueuefs by accident.

	Acked-by: Seth Forshee <seth.forshee@canonical.com>
	Signed-off-by: "Eric W. Biederman" <ebiederm@xmission.com>
(cherry picked from commit 3ee690143c3c99f6c0e83f08ff17556890bc6027)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	ipc/mqueue.c
diff --cc ipc/mqueue.c
index 653f05809d9a,5bdd50de7d05..000000000000
--- a/ipc/mqueue.c
+++ b/ipc/mqueue.c
@@@ -311,8 -307,9 +311,14 @@@ static int mqueue_fill_super(struct sup
  	struct inode *inode;
  	struct ipc_namespace *ns = sb->s_fs_info;
  
++<<<<<<< HEAD
 +	sb->s_blocksize = PAGE_CACHE_SIZE;
 +	sb->s_blocksize_bits = PAGE_CACHE_SHIFT;
++=======
+ 	sb->s_iflags |= SB_I_NOEXEC;
+ 	sb->s_blocksize = PAGE_SIZE;
+ 	sb->s_blocksize_bits = PAGE_SHIFT;
++>>>>>>> 3ee690143c3c (ipc/mqueue: The mqueue filesystem should never contain executables)
  	sb->s_magic = MQUEUE_MAGIC;
  	sb->s_op = &mqueue_super_ops;
  
* Unmerged path ipc/mqueue.c
