scsi: remove various unused blist flags

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-862.el7
Rebuild_CHGLOG: - [scsi] remove various unused blist flags (Mike Snitzer) [1499107]
Rebuild_FUZZ: 91.67%
commit-author Christoph Hellwig <hch@lst.de>
commit 496c91bbc9109ff99907d2a94fccb7d8d4349010
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-862.el7/496c91bb.failed

	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Reviewed-by: Bart Van Assche <bart.vanassche@wdc.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 496c91bbc9109ff99907d2a94fccb7d8d4349010)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/scsi_scan.c
diff --cc drivers/scsi/scsi_scan.c
index 9d2bb350e527,3c4403210a1a..000000000000
--- a/drivers/scsi/scsi_scan.c
+++ b/drivers/scsi/scsi_scan.c
@@@ -960,21 -933,19 +949,18 @@@ static int scsi_add_lun(struct scsi_dev
  
  	/* set the device running here so that slave configure
  	 * may do I/O */
 -	mutex_lock(&sdev->state_mutex);
  	ret = scsi_device_set_state(sdev, SDEV_RUNNING);
 -	if (ret)
 +	if (ret) {
  		ret = scsi_device_set_state(sdev, SDEV_BLOCK);
 -	mutex_unlock(&sdev->state_mutex);
  
 -	if (ret) {
 -		sdev_printk(KERN_ERR, sdev,
 -			    "in wrong state %s to complete scan\n",
 -			    scsi_device_state_name(sdev->sdev_state));
 -		return SCSI_SCAN_NO_RESPONSE;
 +		if (ret) {
 +			sdev_printk(KERN_ERR, sdev,
 +				    "in wrong state %s to complete scan\n",
 +				    scsi_device_state_name(sdev->sdev_state));
 +			return SCSI_SCAN_NO_RESPONSE;
 +		}
  	}
  
- 	if (*bflags & BLIST_MS_192_BYTES_FOR_3F)
- 		sdev->use_192_bytes_for_3f = 1;
- 
  	if (*bflags & BLIST_NOT_LOCKABLE)
  		sdev->lockable = 0;
  
@@@ -1278,6 -1250,8 +1264,11 @@@ static void scsi_sequential_lun_scan(st
  	 */
  	if (scsi_level < SCSI_3 && !(bflags & BLIST_LARGELUN))
  		max_dev_lun = min(8U, max_dev_lun);
++<<<<<<< HEAD
++=======
+ 	else
+ 		max_dev_lun = min(256U, max_dev_lun);
++>>>>>>> 496c91bbc910 (scsi: remove various unused blist flags)
  
  	/*
  	 * We have already scanned LUN 0, so start at LUN 1. Keep scanning
* Unmerged path drivers/scsi/scsi_scan.c
diff --git a/include/scsi/scsi_devinfo.h b/include/scsi/scsi_devinfo.h
index c67cd3ea5564..9592570e092a 100644
--- a/include/scsi/scsi_devinfo.h
+++ b/include/scsi/scsi_devinfo.h
@@ -15,12 +15,7 @@
 #define BLIST_ISROM     	0x100	/* Treat as (removable) CD-ROM */
 #define BLIST_LARGELUN		0x200	/* LUNs past 7 on a SCSI-2 device */
 #define BLIST_INQUIRY_36	0x400	/* override additional length field */
-#define BLIST_INQUIRY_58	0x800	/* ... for broken inquiry responses */
 #define BLIST_NOSTARTONADD	0x1000	/* do not do automatic start on add */
-#define BLIST_MS_SKIP_PAGE_08	0x2000	/* do not send ms page 0x08 */
-#define BLIST_MS_SKIP_PAGE_3F	0x4000	/* do not send ms page 0x3f */
-#define BLIST_USE_10_BYTE_MS	0x8000	/* use 10 byte ms before 6 byte ms */
-#define BLIST_MS_192_BYTES_FOR_3F	0x10000	/*  192 byte ms page 0x3f request */
 #define BLIST_REPORTLUN2	0x20000	/* try REPORT_LUNS even for SCSI-2 devs
  					   (if HBA supports more than 8 LUNs) */
 #define BLIST_NOREPORTLUN	0x40000	/* don't try REPORT_LUNS scan (SCSI-3 devs) */
@@ -29,7 +24,6 @@
 #define BLIST_SELECT_NO_ATN	0x200000 /* select without ATN */
 #define BLIST_RETRY_HWERROR	0x400000 /* retry HARDWARE_ERROR */
 #define BLIST_MAX_512		0x800000 /* maximum 512 sector cdb length */
-#define BLIST_ATTACH_PQ3	0x1000000 /* Scan: Attach to PQ3 devices */
 #define BLIST_NO_DIF		0x2000000 /* Disable T10 PI (DIF) */
 #define BLIST_SKIP_VPD_PAGES	0x4000000 /* Ignore SBC-3 VPD pages */
 #define BLIST_TRY_VPD_PAGES	0x10000000 /* Attempt to read VPD pages */
