MD: Free bioset when md_run fails

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [md] Free bioset when md_run fails (Nigel Croxon) [1494474]
Rebuild_FUZZ: 93.55%
commit-author Xiao Ni <xni@redhat.com>
commit b126194cbb799f9980b92a77e58db6ad794c8082
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/b126194c.failed

	Signed-off-by: Xiao Ni <xni@redhat.com>
	Acked-by: Guoqing Jiang <gqjiang@suse.com>
	Signed-off-by: Shaohua Li <sh.li@alibaba-inc.com>
(cherry picked from commit b126194cbb799f9980b92a77e58db6ad794c8082)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/md/md.c
diff --cc drivers/md/md.c
index 23c14e0358c0,bcf4ab9ab3df..000000000000
--- a/drivers/md/md.c
+++ b/drivers/md/md.c
@@@ -5423,6 -5495,13 +5423,16 @@@ int md_run(struct mddev *mddev
  		if (!mddev->bio_set)
  			return -ENOMEM;
  	}
++<<<<<<< HEAD
++=======
+ 	if (mddev->sync_set == NULL) {
+ 		mddev->sync_set = bioset_create(BIO_POOL_SIZE, 0, BIOSET_NEED_BVECS);
+ 		if (!mddev->sync_set) {
+ 			err = -ENOMEM;
+ 			goto abort;
+ 		}
+ 	}
++>>>>>>> b126194cbb79 (MD: Free bioset when md_run fails)
  
  	spin_lock(&pers_lock);
  	pers = find_pers(mddev->level, mddev->clevel);
* Unmerged path drivers/md/md.c
