dm log writes: record metadata flag for better flags record

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Qu Wenruo <wqu@suse.com>
commit e5c4cb9b1b78edb5bd42a9bd7315a0d7b842ac71
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/e5c4cb9b.failed

So developer could distinguish data and metadata bios easier.

	Signed-off-by: Qu Wenruo <wqu@suse.com>
	Reviewed-by: Josef Bacik <jbacik@fb.com>
	Signed-off-by: Mike Snitzer <snitzer@redhat.com>
(cherry picked from commit e5c4cb9b1b78edb5bd42a9bd7315a0d7b842ac71)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/md/dm-log-writes.c
diff --cc drivers/md/dm-log-writes.c
index 080dee545525,fefe6719a64d..000000000000
--- a/drivers/md/dm-log-writes.c
+++ b/drivers/md/dm-log-writes.c
@@@ -696,9 -697,10 +697,16 @@@ static int log_writes_map(struct dm_tar
  	struct bio_vec bv;
  	size_t alloc_size;
  	int i = 0;
++<<<<<<< HEAD
 +	bool flush_bio = (bio->bi_rw & REQ_FLUSH);
 +	bool fua_bio = (bio->bi_rw & REQ_FUA);
 +	bool discard_bio = (bio->bi_rw & REQ_DISCARD);
++=======
+ 	bool flush_bio = (bio->bi_opf & REQ_PREFLUSH);
+ 	bool fua_bio = (bio->bi_opf & REQ_FUA);
+ 	bool discard_bio = (bio_op(bio) == REQ_OP_DISCARD);
+ 	bool meta_bio = (bio->bi_opf & REQ_META);
++>>>>>>> e5c4cb9b1b78 (dm log writes: record metadata flag for better flags record)
  
  	pb->block = NULL;
  
* Unmerged path drivers/md/dm-log-writes.c
