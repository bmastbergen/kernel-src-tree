atmel: Convert timers to use timer_setup()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [netdrv] intel: Convert timers to use timer_setup() (Neil Horman) [1518116]
Rebuild_FUZZ: 95.24%
commit-author Kees Cook <keescook@chromium.org>
commit 3e79202b11526f6662d73501877cc18cf95b2ff8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/3e79202b.failed

In preparation for unconditionally passing the struct timer_list pointer to
all timer callbacks, switch to using the new timer_setup() and from_timer()
to pass the timer pointer explicitly.

	Cc: Simon Kelley <simon@thekelleys.org.uk>
	Cc: Kalle Valo <kvalo@codeaurora.org>
	Cc: linux-wireless@vger.kernel.org
	Cc: netdev@vger.kernel.org
	Signed-off-by: Kees Cook <keescook@chromium.org>
	Signed-off-by: Kalle Valo <kvalo@codeaurora.org>
(cherry picked from commit 3e79202b11526f6662d73501877cc18cf95b2ff8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/atmel.c
diff --cc drivers/net/wireless/atmel.c
index a55ae6494c3b,c9dd5e44c9c6..000000000000
--- a/drivers/net/wireless/atmel.c
+++ b/drivers/net/wireless/atmel.c
@@@ -1591,11 -1579,9 +1591,15 @@@ struct net_device *init_atmel_card(unsi
  	priv->default_beacon_period = priv->beacon_period = 100;
  	priv->listen_interval = 1;
  
++<<<<<<< HEAD:drivers/net/wireless/atmel.c
 +	init_timer(&priv->management_timer);
++=======
+ 	timer_setup(&priv->management_timer, atmel_management_timer, 0);
++>>>>>>> 3e79202b1152 (atmel: Convert timers to use timer_setup()):drivers/net/wireless/atmel/atmel.c
  	spin_lock_init(&priv->irqlock);
  	spin_lock_init(&priv->timerlock);
 +	priv->management_timer.function = atmel_management_timer;
 +	priv->management_timer.data = (unsigned long) dev;
  
  	dev->netdev_ops = &atmel_netdev_ops;
  	dev->wireless_handlers = &atmel_handler_def;
* Unmerged path drivers/net/wireless/atmel.c
