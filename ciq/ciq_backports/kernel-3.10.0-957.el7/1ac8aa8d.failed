ipmi_si: Fix oops with PCI devices

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Corey Minyard <cminyard@mvista.com>
commit 1ac8aa8d0568606485451ea860a6c6c3fad0d42d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/1ac8aa8d.failed

When the IPMI PCI code was split out, some code was consolidated for
setting the io_setup field in the io structure.  The PCI code needed
this set before registration to probe register spacing, though, so
restore the old code for that function.

Bugzilla: https://bugzilla.kernel.org/show_bug.cgi?id=197999
	Signed-off-by: Corey Minyard <cminyard@mvista.com>
	Tested-by: Meelis Roos <mroos@linux.ee>
(cherry picked from commit 1ac8aa8d0568606485451ea860a6c6c3fad0d42d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/char/ipmi/ipmi_si_pci.c
* Unmerged path drivers/char/ipmi/ipmi_si_pci.c
* Unmerged path drivers/char/ipmi/ipmi_si_pci.c
