watchdog: core: Make dt "timeout-sec" property work on drivers w/out min/max

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [watchdog] core: Make dt "timeout-sec" property work on drivers w/out min/max (David Arcari) [1576173]
Rebuild_FUZZ: 92.96%
commit-author Doug Anderson <dianders@chromium.org>
commit 2c34d59916bd82efe6544f39ec162e8c9236009d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/2c34d599.failed

It is valid for a watchdog driver to have 0 for a "min" and "max"
timeout if the driver doesn't need the core to enforce the concepts of
min and max.  The s3c2410_wdt driver is one such driver.  Specifically
it can be hard for that driver to come up with a static "max" on all
platforms without a lot more information since the input clock on
S3C2410 and S3C2440 can change with DVFS.

As written, watchdog_init_timeout() will not ever read "timeout-sec"
on these drivers since watchdog_timeout_invalid() will _never_ return
true.  Change to not consider a timeout_parm of 0 as valid even if
min/max aren't specified by the driver.  Also handle the case when
there is no min/max and no "timeout-sec" property.

	Signed-off-by: Doug Anderson <dianders@chromium.org>
	Reviewed-by: Guenter Roeck <linux@roeck-us.net>
	Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
(cherry picked from commit 2c34d59916bd82efe6544f39ec162e8c9236009d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/watchdog/watchdog_core.c
diff --cc drivers/watchdog/watchdog_core.c
index 42c410d621b9,cec9b559647d..000000000000
--- a/drivers/watchdog/watchdog_core.c
+++ b/drivers/watchdog/watchdog_core.c
@@@ -77,8 -77,8 +77,13 @@@ int watchdog_init_timeout(struct watchd
  
  	watchdog_check_min_max_timeout(wdd);
  
++<<<<<<< HEAD
 +	/* try to get the tiemout module parameter first */
 +	if (!watchdog_timeout_invalid(wdd, timeout_parm)) {
++=======
+ 	/* try to get the timeout module parameter first */
+ 	if (!watchdog_timeout_invalid(wdd, timeout_parm) && timeout_parm) {
++>>>>>>> 2c34d59916bd (watchdog: core: Make dt "timeout-sec" property work on drivers w/out min/max)
  		wdd->timeout = timeout_parm;
  		return ret;
  	}
* Unmerged path drivers/watchdog/watchdog_core.c
