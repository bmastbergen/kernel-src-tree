iio:buffer: Introduced a function to assign the buffer specific attrs.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [iio] buffer: Introduced a function to assign the buffer specific attrs (Tony Camuso) [1559170]
Rebuild_FUZZ: 96.30%
commit-author Jonathan Cameron <jic23@kernel.org>
commit 9f4667776c138df33c4107fcd8811aa9cb6cdcbe
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/9f466777.failed

This is a necessary step in taking the buffer implementation
opaque.

	Signed-off-by: Jonathan Cameron <jic23@kernel.org>
	Reviewed-by: Lars-Peter Clausen <lars@metafoo.de>
(cherry picked from commit 9f4667776c138df33c4107fcd8811aa9cb6cdcbe)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iio/accel/bmc150-accel-core.c
* Unmerged path drivers/iio/accel/bmc150-accel-core.c
* Unmerged path drivers/iio/accel/bmc150-accel-core.c
diff --git a/drivers/iio/industrialio-buffer.c b/drivers/iio/industrialio-buffer.c
index f407d9b44d17..f43136faa745 100644
--- a/drivers/iio/industrialio-buffer.c
+++ b/drivers/iio/industrialio-buffer.c
@@ -141,6 +141,18 @@ void iio_buffer_init(struct iio_buffer *buffer)
 }
 EXPORT_SYMBOL(iio_buffer_init);
 
+/**
+ * iio_buffer_set_attrs - Set buffer specific attributes
+ * @buffer: The buffer for which we are setting attributes
+ * @attrs: Pointer to a null terminated list of pointers to attributes
+ */
+void iio_buffer_set_attrs(struct iio_buffer *buffer,
+			 const struct attribute **attrs)
+{
+	buffer->attrs = attrs;
+}
+EXPORT_SYMBOL_GPL(iio_buffer_set_attrs);
+
 static ssize_t iio_show_scan_index(struct device *dev,
 				   struct device_attribute *attr,
 				   char *buf)
diff --git a/include/linux/iio/buffer.h b/include/linux/iio/buffer.h
index 6a16e2203078..9c415bb7b71e 100644
--- a/include/linux/iio/buffer.h
+++ b/include/linux/iio/buffer.h
@@ -16,6 +16,8 @@
 
 struct iio_buffer;
 
+void iio_buffer_set_attrs(struct iio_buffer *buffer,
+			 const struct attribute **attrs);
 /**
  * struct iio_buffer_access_funcs - access functions for buffers.
  * @store_to:		actually store stuff to the buffer
