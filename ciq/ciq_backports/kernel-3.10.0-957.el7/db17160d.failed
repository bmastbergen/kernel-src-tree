s390/cpum_cf: cleanup event/counter validation

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [s390] cpum_cf: cleanup event/counter validation (Hendrik Brueckner) [1519345]
Rebuild_FUZZ: 94.25%
commit-author Hendrik Brueckner <brueckner@linux.vnet.ibm.com>
commit db17160dce4ffe4d5bd70b58ee94f398ef9cabb1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/db17160d.failed

The validate_event() function just checked for reserved counters
in particular CPU-MF counter sets.  Because the number of counters
in counter sets vary among different hardware models, remove the
explicit check to tolerate new models.

Reserved counters are not accounted and, thus, will return zero.

	Signed-off-by: Hendrik Brueckner <brueckner@linux.vnet.ibm.com>
	Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
(cherry picked from commit db17160dce4ffe4d5bd70b58ee94f398ef9cabb1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/s390/kernel/perf_cpum_cf.c
diff --cc arch/s390/kernel/perf_cpum_cf.c
index f920309d002c,6fe1428e9dfc..000000000000
--- a/arch/s390/kernel/perf_cpum_cf.c
+++ b/arch/s390/kernel/perf_cpum_cf.c
@@@ -381,15 -361,6 +361,18 @@@ static int __hw_perf_event_init(struct 
  	hwc->config = ev;
  	hwc->config_base = get_counter_set(ev);
  
++<<<<<<< HEAD
 +	/* Validate the counter that is assigned to this event.
 +	 * Because the counter facility can use numerous counters at the
 +	 * same time without constraints, it is not necessary to explicity
 +	 * validate event groups (event->group_leader != event).
 +	 */
 +	err = validate_event(hwc);
 +	if (err)
 +		return err;
 +
++=======
++>>>>>>> db17160dce4f (s390/cpum_cf: cleanup event/counter validation)
  	/* Initialize for using the CPU-measurement counter facility */
  	if (!atomic_inc_not_zero(&num_events)) {
  		mutex_lock(&pmc_reserve_mutex);
* Unmerged path arch/s390/kernel/perf_cpum_cf.c
