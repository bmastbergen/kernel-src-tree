i2c: i801: Do not create iTCO watchdog when WDAT table exists

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [i2c] i801: Do not create iTCO watchdog when WDAT table exists (David Arcari) [1607816]
Rebuild_FUZZ: 95.73%
commit-author Mika Westerberg <mika.westerberg@linux.intel.com>
commit 1f6dbb022bd477239bfbb52ef868f694b5f1d36a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/1f6dbb02.failed

ACPI WDAT table is the preferred way to use hardware watchdog over the
native iTCO_wdt. Windows only uses this table for its hardware watchdog
implementation so we should be relatively safe to trust it has been
validated by OEMs

Prevent iTCO watchdog creation if we detect that there is ACPI WDAT table.

	Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
	Reviewed-by: Guenter Roeck <linux@roeck-us.net>
	Acked-by: Wolfram Sang <wsa@the-dreams.de>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 1f6dbb022bd477239bfbb52ef868f694b5f1d36a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/i2c/busses/i2c-i801.c
diff --cc drivers/i2c/busses/i2c-i801.c
index cb34b050a17d,26298af73232..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -1393,7 -1486,10 +1393,14 @@@ static int i801_probe(struct pci_dev *d
  		priv->features |= FEATURE_IRQ;
  		priv->features |= FEATURE_SMBUS_PEC;
  		priv->features |= FEATURE_BLOCK_BUFFER;
++<<<<<<< HEAD
 +		priv->features |= FEATURE_TCO;
++=======
+ 		/* If we have ACPI based watchdog use that instead */
+ 		if (!acpi_has_watchdog())
+ 			priv->features |= FEATURE_TCO;
+ 		priv->features |= FEATURE_HOST_NOTIFY;
++>>>>>>> 1f6dbb022bd4 (i2c: i801: Do not create iTCO watchdog when WDAT table exists)
  		break;
  
  	case PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF0:
* Unmerged path drivers/i2c/busses/i2c-i801.c
