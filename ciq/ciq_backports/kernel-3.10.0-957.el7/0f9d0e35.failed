ASoC: da7219: clkdev_drop usage depends on CONFIG_COMMON_CLK

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [sound] alsa: asoc: da7219: clkdev_drop usage depends on CONFIG_COMMON_CLK (Jaroslav Kysela) [1535427]
Rebuild_FUZZ: 95.24%
commit-author Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
commit 0f9d0e355d7c3fa5756313765a77961074017845
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/0f9d0e35.failed

Fixes: ASoC: da7219: Add common clock usage for providing DAI clks

clkdev_drop usage in the codec remove function should be dependent
on if CONFIG_COMMON_CLK is defined for the platform, otherwise it
can cause build failures for platforms that do not support this.
The clkdev_* functions are still defined for those platforms, in
headers and source but the functions are not linked in.

This patch resolves this issue, so clkdev_drop is only used if
CONFIG_COMMON_CLK is defined.

	Signed-off-by: Adam Thomson <Adam.Thomson.Opensource@diasemi.com>
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 0f9d0e355d7c3fa5756313765a77961074017845)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/codecs/da7219.c
diff --cc sound/soc/codecs/da7219.c
index 82f52140d836,08f55d7a11ba..000000000000
--- a/sound/soc/codecs/da7219.c
+++ b/sound/soc/codecs/da7219.c
@@@ -1850,14 -1960,19 +1850,23 @@@ err_disable_reg
  	return ret;
  }
  
 -static void da7219_remove(struct snd_soc_component *component)
 +static int da7219_remove(struct snd_soc_codec *codec)
  {
 -	struct da7219_priv *da7219 = snd_soc_component_get_drvdata(component);
 +	struct da7219_priv *da7219 = snd_soc_codec_get_drvdata(codec);
  
++<<<<<<< HEAD
 +	da7219_aad_exit(codec);
++=======
+ 	da7219_aad_exit(component);
+ 
+ #ifdef CONFIG_COMMON_CLK
+ 	if (da7219->dai_clks_lookup)
+ 		clkdev_drop(da7219->dai_clks_lookup);
+ #endif
++>>>>>>> 0f9d0e355d7c (ASoC: da7219: clkdev_drop usage depends on CONFIG_COMMON_CLK)
  
  	/* Supplies */
 -	regulator_bulk_disable(DA7219_NUM_SUPPLIES, da7219->supplies);
 +	return regulator_bulk_disable(DA7219_NUM_SUPPLIES, da7219->supplies);
  }
  
  #ifdef CONFIG_PM
* Unmerged path sound/soc/codecs/da7219.c
