r8152: move the initialization to reset_resume function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author hayeswang <hayeswang@realtek.com>
commit befb2de18195d1ab6b843dd6ca921a222a32a588
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/befb2de1.failed

Move tp->rtl_ops.init() from rtl8152_resume() to rtl8152_reset_resume().
The initialization is only necessary for reset_resume().

	Signed-off-by: Hayes Wang <hayeswang@realtek.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit befb2de18195d1ab6b843dd6ca921a222a32a588)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/r8152.c
diff --cc drivers/net/usb/r8152.c
index 82b79d6127e0,f43b7a8ecfff..000000000000
--- a/drivers/net/usb/r8152.c
+++ b/drivers/net/usb/r8152.c
@@@ -3769,19 -3775,18 +3769,24 @@@ static int rtl8152_resume(struct usb_in
  
  	mutex_lock(&tp->control);
  
++<<<<<<< HEAD
 +	if (!test_bit(SELECTIVE_SUSPEND, &tp->flags)) {
 +		tp->rtl_ops.init(tp);
 +		queue_delayed_work(system_long_wq, &tp->hw_phy_work, 0);
 +		netif_device_attach(tp->netdev);
 +	}
++=======
+ 	if (!test_bit(SELECTIVE_SUSPEND, &tp->flags))
+ 		netif_device_attach(netdev);
++>>>>>>> befb2de18195 (r8152: move the initialization to reset_resume function)
  
 -	if (netif_running(netdev) && netdev->flags & IFF_UP) {
 +	if (netif_running(tp->netdev) && tp->netdev->flags & IFF_UP) {
  		if (test_bit(SELECTIVE_SUSPEND, &tp->flags)) {
 -			struct napi_struct *napi = &tp->napi;
 -
  			tp->rtl_ops.autosuspend_en(tp, false);
 -			napi_disable(napi);
 +			napi_disable(&tp->napi);
  			set_bit(WORK_ENABLE, &tp->flags);
 -			if (netif_carrier_ok(netdev)) {
 +
 +			if (netif_carrier_ok(tp->netdev)) {
  				if (rtl8152_get_speed(tp) & LINK_STATUS) {
  					rtl_start_rx(tp);
  				} else {
* Unmerged path drivers/net/usb/r8152.c
