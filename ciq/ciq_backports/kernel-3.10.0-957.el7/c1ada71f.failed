mmc: slot-gpio: Don't override con_id when request descriptor

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [mmc] slot-gpio: Don't override con_id when request descriptor (Gopal Tiwari) [1549495]
Rebuild_FUZZ: 95.73%
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit c1ada71fb78ed885f2d403f8d18ae43656cf4e86
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/c1ada71f.failed

The caller may supply connection ID, index, or both. All combinations are
possible and mmc framework should not make any assumption on what exactly
caller wants.

Remove con_id override conditionals in mmc_gpiod_request_ro() and
mmc_gpiod_request_cd().

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Acked-by: Adrian Hunter <adrian.hunter@intel.com>
	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit c1ada71fb78ed885f2d403f8d18ae43656cf4e86)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/slot-gpio.c
diff --cc drivers/mmc/core/slot-gpio.c
index b3ba3923d3c9,a8450a8701e4..000000000000
--- a/drivers/mmc/core/slot-gpio.c
+++ b/drivers/mmc/core/slot-gpio.c
@@@ -235,10 -235,7 +235,14 @@@ int mmc_gpiod_request_cd(struct mmc_hos
  	struct gpio_desc *desc;
  	int ret;
  
++<<<<<<< HEAD
 +	if (!con_id)
 +		con_id = ctx->cd_label;
 +
 +	desc = devm_gpiod_get_index(host->parent, con_id, idx);
++=======
+ 	desc = devm_gpiod_get_index(host->parent, con_id, idx, GPIOD_IN);
++>>>>>>> c1ada71fb78e (mmc: slot-gpio: Don't override con_id when request descriptor)
  	if (IS_ERR(desc))
  		return PTR_ERR(desc);
  
@@@ -293,10 -286,7 +297,14 @@@ int mmc_gpiod_request_ro(struct mmc_hos
  	struct gpio_desc *desc;
  	int ret;
  
++<<<<<<< HEAD
 +	if (!con_id)
 +		con_id = ctx->ro_label;
 +
 +	desc = devm_gpiod_get_index(host->parent, con_id, idx);
++=======
+ 	desc = devm_gpiod_get_index(host->parent, con_id, idx, GPIOD_IN);
++>>>>>>> c1ada71fb78e (mmc: slot-gpio: Don't override con_id when request descriptor)
  	if (IS_ERR(desc))
  		return PTR_ERR(desc);
  
* Unmerged path drivers/mmc/core/slot-gpio.c
