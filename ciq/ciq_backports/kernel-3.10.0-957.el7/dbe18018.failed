scsi: qla2xxx: Set IIDMA and fcport state before qla_nvme_register_remote()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [scsi] qla2xxx: Set IIDMA and fcport state before qla_nvme_register_remote() (Himanshu Madhani) [1547714]
Rebuild_FUZZ: 95.83%
commit-author Darren Trapp <darren.trapp@cavium.com>
commit dbe18018e3ad60fc5abfe999b49c4b37f8e7bb32
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/dbe18018.failed

	Signed-off-by: Darren Trapp <darren.trapp@cavium.com>
	Signed-off-by: Himanshu Madhani <himanshu.madhani@cavium.com>
	Reviewed-by: Hannes Reinecke <hare@suse.com>
	Reviewed-by: Johannes Thumshirn <jthumshirn@suse.de>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit dbe18018e3ad60fc5abfe999b49c4b37f8e7bb32)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_init.c
diff --cc drivers/scsi/qla2xxx/qla_init.c
index f74932ce86ba,1878a6f24ddb..000000000000
--- a/drivers/scsi/qla2xxx/qla_init.c
+++ b/drivers/scsi/qla2xxx/qla_init.c
@@@ -4575,6 -5109,12 +4575,15 @@@ qla2x00_update_fcport(scsi_qla_host_t *
  
  	qla2x00_set_fcport_state(fcport, FCS_ONLINE);
  	qla2x00_iidma_fcport(vha, fcport);
++<<<<<<< HEAD
++=======
+ 
+ 	if (fcport->fc4f_nvme) {
+ 		qla_nvme_register_remote(vha, fcport);
+ 		return;
+ 	}
+ 
++>>>>>>> dbe18018e3ad (scsi: qla2xxx: Set IIDMA and fcport state before qla_nvme_register_remote())
  	qla24xx_update_fcport_fcp_prio(vha, fcport);
  
  reg_port:
* Unmerged path drivers/scsi/qla2xxx/qla_init.c
