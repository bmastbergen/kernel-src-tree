x86/tsc: Print tsc_khz, when it differs from cpu_khz

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [x86] tsc: Print tsc_khz, when it differs from cpu_khz (Prarit Bhargava) [1466058]
Rebuild_FUZZ: 96.00%
commit-author Len Brown <len.brown@intel.com>
commit 4b5b2127238e689ee18aa6752959751dd61c4c73
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/4b5b2127.failed

If CPU and TSC frequency are the same the printout of the CPU frequency is
valid for the TSC as well:

      tsc: Detected 2900.000 MHz processor

If the TSC frequency is different there is no information in dmesg. Add a
conditional printout:

  tsc: Detected 2904.000 MHz TSC

	Signed-off-by: Len Brown <len.brown@intel.com>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Cc: peterz@infradead.org
Link: https://lkml.kernel.org/r/537b342debcd8e8aebc8d631015dcdf9f9ba8a26.1513920414.git.len.brown@intel.com

(cherry picked from commit 4b5b2127238e689ee18aa6752959751dd61c4c73)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/tsc.c
diff --cc arch/x86/kernel/tsc.c
index 3353ff3d243c,e169e85db434..000000000000
--- a/arch/x86/kernel/tsc.c
+++ b/arch/x86/kernel/tsc.c
@@@ -1358,6 -1316,15 +1358,18 @@@ void __init tsc_init(void
  		(unsigned long)cpu_khz / 1000,
  		(unsigned long)cpu_khz % 1000);
  
++<<<<<<< HEAD
++=======
+ 	if (cpu_khz != tsc_khz) {
+ 		pr_info("Detected %lu.%03lu MHz TSC",
+ 			(unsigned long)tsc_khz / 1000,
+ 			(unsigned long)tsc_khz % 1000);
+ 	}
+ 
+ 	/* Sanitize TSC ADJUST before cyc2ns gets initialized */
+ 	tsc_store_and_check_tsc_adjust(true);
+ 
++>>>>>>> 4b5b2127238e (x86/tsc: Print tsc_khz, when it differs from cpu_khz)
  	/*
  	 * Secondary CPUs do not run through tsc_init(), so set up
  	 * all the scale factors for all CPUs, assuming the same
* Unmerged path arch/x86/kernel/tsc.c
