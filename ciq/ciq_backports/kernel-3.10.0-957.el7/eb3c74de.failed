usb: phy: Avoid unchecked dereference warning

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [usb] phy: Avoid unchecked dereference warning (Torez Smith) [1540721]
Rebuild_FUZZ: 94.12%
commit-author Baolin Wang <baolin.wang@linaro.org>
commit eb3c74de28b24f5a36d12d6c84f1fceb25d12c4f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/eb3c74de.failed

Move the USB phy NULL checking before issuing usb_phy_set_charger_current()
to avoid unchecked dereference warning.

	Signed-off-by: Baolin Wang <baolin.wang@linaro.org>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit eb3c74de28b24f5a36d12d6c84f1fceb25d12c4f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/usb/phy.h
diff --cc include/linux/usb/phy.h
index 31a8068c42a5,8c6914873a16..000000000000
--- a/include/linux/usb/phy.h
+++ b/include/linux/usb/phy.h
@@@ -268,7 -322,12 +268,16 @@@ static inline void usb_phy_set_event(st
  static inline int
  usb_phy_set_power(struct usb_phy *x, unsigned mA)
  {
++<<<<<<< HEAD
 +	if (x && x->set_power)
++=======
+ 	if (!x)
+ 		return 0;
+ 
+ 	usb_phy_set_charger_current(x, mA);
+ 
+ 	if (x->set_power)
++>>>>>>> eb3c74de28b2 (usb: phy: Avoid unchecked dereference warning)
  		return x->set_power(x, mA);
  	return 0;
  }
* Unmerged path include/linux/usb/phy.h
