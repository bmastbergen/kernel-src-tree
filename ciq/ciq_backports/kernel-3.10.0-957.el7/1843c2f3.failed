iio: core: Introduce IIO_EV_DIR_NONE

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [iio] core: Introduce IIO_EV_DIR_NONE (Tony Camuso) [1559170]
Rebuild_FUZZ: 92.54%
commit-author Irina Tirdea <irina.tirdea@intel.com>
commit 1843c2f3def16740eb6d129a9790c32dd21aa5ea
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/1843c2f3.failed

For some events (e.g.: step detector) a direction does not make sense.

Add IIO_EV_DIR_NONE to be used with such events and generate sysfs event
attributes that do not contain direction.

	Signed-off-by: Irina Tirdea <irina.tirdea@intel.com>
	Signed-off-by: Daniel Baluta <daniel.baluta@intel.com>
	Signed-off-by: Jonathan Cameron <jic23@kernel.org>
(cherry picked from commit 1843c2f3def16740eb6d129a9790c32dd21aa5ea)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iio/industrialio-event.c
diff --cc drivers/iio/industrialio-event.c
index 72308404d71a,1290290adcb5..000000000000
--- a/drivers/iio/industrialio-event.c
+++ b/drivers/iio/industrialio-event.c
@@@ -335,10 -324,18 +335,25 @@@ static int iio_device_add_event(struct 
  	char *postfix;
  	int ret;
  
++<<<<<<< HEAD
 +	for_each_set_bit(i, mask, sizeof(*mask)) {
 +		postfix = kasprintf(GFP_KERNEL, "%s_%s_%s",
 +				iio_ev_type_text[type], iio_ev_dir_text[dir],
 +				iio_ev_info_text[i]);
++=======
+ 	for_each_set_bit(i, mask, sizeof(*mask)*8) {
+ 		if (i >= ARRAY_SIZE(iio_ev_info_text))
+ 			return -EINVAL;
+ 		if (dir != IIO_EV_DIR_NONE)
+ 			postfix = kasprintf(GFP_KERNEL, "%s_%s_%s",
+ 					iio_ev_type_text[type],
+ 					iio_ev_dir_text[dir],
+ 					iio_ev_info_text[i]);
+ 		else
+ 			postfix = kasprintf(GFP_KERNEL, "%s_%s",
+ 					iio_ev_type_text[type],
+ 					iio_ev_info_text[i]);
++>>>>>>> 1843c2f3def1 (iio: core: Introduce IIO_EV_DIR_NONE)
  		if (postfix == NULL)
  			return -ENOMEM;
  
* Unmerged path drivers/iio/industrialio-event.c
diff --git a/include/linux/iio/types.h b/include/linux/iio/types.h
index 63fb0a6c6ca4..d1190cd8220c 100644
--- a/include/linux/iio/types.h
+++ b/include/linux/iio/types.h
@@ -86,6 +86,7 @@ enum iio_event_direction {
 	IIO_EV_DIR_EITHER,
 	IIO_EV_DIR_RISING,
 	IIO_EV_DIR_FALLING,
+	IIO_EV_DIR_NONE,
 };
 
 #define IIO_VAL_INT 1
