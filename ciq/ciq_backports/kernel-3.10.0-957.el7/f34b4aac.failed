net: sch: red: Change the name of the stats struct to be generic

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [net] sched: red: Change the name of the stats struct to be generic (Ivan Vecera) [1583702]
Rebuild_FUZZ: 94.40%
commit-author Nogah Frankel <nogahf@mellanox.com>
commit f34b4aac46b2c7b76d3313c94efe02a64ac8f24a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/f34b4aac.failed

Change the name of the stats struct to be generic, so it could be used for
other qdisc offload, that will be added in the next patches.

	Signed-off-by: Nogah Frankel <nogahf@mellanox.com>
	Reviewed-by: Yuval Mintz <yuvalm@mellanox.com>
	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit f34b4aac46b2c7b76d3313c94efe02a64ac8f24a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlxsw/spectrum_qdisc.c
#	include/net/pkt_cls.h
diff --cc include/net/pkt_cls.h
index bf70a6a4bd8a,0d1343cba84c..000000000000
--- a/include/net/pkt_cls.h
+++ b/include/net/pkt_cls.h
@@@ -591,26 -697,68 +591,57 @@@ struct tc_cls_matchall_offload 
  	unsigned long cookie;
  };
  
 +/* This structure holds cookie structure that is passed from user
 + * to the kernel for actions and classifiers
 + */
 +struct tc_cookie {
 +	u8  *data;
 +	u32 len;
 +};
 +
++<<<<<<< HEAD
  enum tc_clsbpf_command {
 -	TC_CLSBPF_OFFLOAD,
 -	TC_CLSBPF_STATS,
 +	TC_CLSBPF_ADD,
 +	TC_CLSBPF_REPLACE,
 +	TC_CLSBPF_DESTROY,
  };
  
  struct tc_cls_bpf_offload {
  	enum tc_clsbpf_command command;
  	struct tcf_exts *exts;
  	struct bpf_prog *prog;
 -	struct bpf_prog *oldprog;
  	const char *name;
  	bool exts_integrated;
 -	u32 gen_flags;
 -};
 -
 -struct tc_mqprio_qopt_offload {
 -	/* struct tc_mqprio_qopt must always be the first element */
 -	struct tc_mqprio_qopt qopt;
 -	u16 mode;
 -	u16 shaper;
 -	u32 flags;
 -	u64 min_rate[TC_QOPT_MAX_QUEUE];
 -	u64 max_rate[TC_QOPT_MAX_QUEUE];
 -};
 -
 -/* This structure holds cookie structure that is passed from user
 - * to the kernel for actions and classifiers
 - */
 -struct tc_cookie {
 -	u8  *data;
 -	u32 len;
 -};
 -
++=======
+ struct tc_qopt_offload_stats {
+ 	struct gnet_stats_basic_packed *bstats;
+ 	struct gnet_stats_queue *qstats;
+ };
+ 
+ enum tc_red_command {
+ 	TC_RED_REPLACE,
+ 	TC_RED_DESTROY,
+ 	TC_RED_STATS,
+ 	TC_RED_XSTATS,
+ };
+ 
+ struct tc_red_qopt_offload_params {
+ 	u32 min;
+ 	u32 max;
+ 	u32 probability;
+ 	bool is_ecn;
+ };
+ 
+ struct tc_red_qopt_offload {
+ 	enum tc_red_command command;
+ 	u32 handle;
+ 	u32 parent;
+ 	union {
+ 		struct tc_red_qopt_offload_params set;
+ 		struct tc_qopt_offload_stats stats;
+ 		struct red_stats *xstats;
+ 	};
++>>>>>>> f34b4aac46b2 (net: sch: red: Change the name of the stats struct to be generic)
  };
  
  #endif
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_qdisc.c
* Unmerged path drivers/net/ethernet/mellanox/mlxsw/spectrum_qdisc.c
* Unmerged path include/net/pkt_cls.h
