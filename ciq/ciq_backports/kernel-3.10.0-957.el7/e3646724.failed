drm/i915/aml: Introducing Amber Lake platform

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author José Roberto de Souza <jose.souza@intel.com>
commit e364672477a105029346f0888bfa797b1ec3eee4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/e3646724.failed

Amber Lake uses the same gen graphics as Kaby Lake, including a id
that were previously marked as reserved on Kaby Lake, but that
now is moved to AML page.

So, let's just move it to AML macro that will feed into KBL macro
just to keep it better organized to make easier future code review
but it will be handled as a KBL.

	Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>
	Signed-off-by: José Roberto de Souza <jose.souza@intel.com>
	Signed-off-by: Rodrigo Vivi <rodrigo.vivi@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20180614233720.30517-2-jose.souza@intel.com
(cherry picked from commit e364672477a105029346f0888bfa797b1ec3eee4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/i915_pci.c
#	include/drm/i915_pciids.h
diff --cc drivers/gpu/drm/i915/i915_pci.c
index cd04f9c43a43,55543f1b0236..000000000000
--- a/drivers/gpu/drm/i915/i915_pci.c
+++ b/drivers/gpu/drm/i915/i915_pci.c
@@@ -479,31 -629,45 +479,43 @@@ static const struct pci_device_id pciid
  	INTEL_PINEVIEW_IDS(&intel_pineview_info),
  	INTEL_IRONLAKE_D_IDS(&intel_ironlake_d_info),
  	INTEL_IRONLAKE_M_IDS(&intel_ironlake_m_info),
 -	INTEL_SNB_D_GT1_IDS(&intel_sandybridge_d_gt1_info),
 -	INTEL_SNB_D_GT2_IDS(&intel_sandybridge_d_gt2_info),
 -	INTEL_SNB_M_GT1_IDS(&intel_sandybridge_m_gt1_info),
 -	INTEL_SNB_M_GT2_IDS(&intel_sandybridge_m_gt2_info),
 +	INTEL_SNB_D_IDS(&intel_sandybridge_d_info),
 +	INTEL_SNB_M_IDS(&intel_sandybridge_m_info),
  	INTEL_IVB_Q_IDS(&intel_ivybridge_q_info), /* must be first IVB */
 -	INTEL_IVB_M_GT1_IDS(&intel_ivybridge_m_gt1_info),
 -	INTEL_IVB_M_GT2_IDS(&intel_ivybridge_m_gt2_info),
 -	INTEL_IVB_D_GT1_IDS(&intel_ivybridge_d_gt1_info),
 -	INTEL_IVB_D_GT2_IDS(&intel_ivybridge_d_gt2_info),
 -	INTEL_HSW_GT1_IDS(&intel_haswell_gt1_info),
 -	INTEL_HSW_GT2_IDS(&intel_haswell_gt2_info),
 -	INTEL_HSW_GT3_IDS(&intel_haswell_gt3_info),
 +	INTEL_IVB_M_IDS(&intel_ivybridge_m_info),
 +	INTEL_IVB_D_IDS(&intel_ivybridge_d_info),
 +	INTEL_HSW_IDS(&intel_haswell_info),
  	INTEL_VLV_IDS(&intel_valleyview_info),
 -	INTEL_BDW_GT1_IDS(&intel_broadwell_gt1_info),
 -	INTEL_BDW_GT2_IDS(&intel_broadwell_gt2_info),
 +	INTEL_BDW_GT12_IDS(&intel_broadwell_info),
  	INTEL_BDW_GT3_IDS(&intel_broadwell_gt3_info),
 -	INTEL_BDW_RSVD_IDS(&intel_broadwell_rsvd_info),
 +	INTEL_BDW_RSVD_IDS(&intel_broadwell_info),
  	INTEL_CHV_IDS(&intel_cherryview_info),
 -	INTEL_SKL_GT1_IDS(&intel_skylake_gt1_info),
 -	INTEL_SKL_GT2_IDS(&intel_skylake_gt2_info),
 +	INTEL_SKL_GT1_IDS(&intel_skylake_info),
 +	INTEL_SKL_GT2_IDS(&intel_skylake_info),
  	INTEL_SKL_GT3_IDS(&intel_skylake_gt3_info),
 -	INTEL_SKL_GT4_IDS(&intel_skylake_gt4_info),
 +	INTEL_SKL_GT4_IDS(&intel_skylake_gt3_info),
  	INTEL_BXT_IDS(&intel_broxton_info),
  	INTEL_GLK_IDS(&intel_geminilake_info),
 -	INTEL_KBL_GT1_IDS(&intel_kabylake_gt1_info),
 -	INTEL_KBL_GT2_IDS(&intel_kabylake_gt2_info),
 +	INTEL_KBL_GT1_IDS(&intel_kabylake_info),
 +	INTEL_KBL_GT2_IDS(&intel_kabylake_info),
  	INTEL_KBL_GT3_IDS(&intel_kabylake_gt3_info),
  	INTEL_KBL_GT4_IDS(&intel_kabylake_gt3_info),
++<<<<<<< HEAD
 +	INTEL_CFL_S_IDS(&intel_coffeelake_info),
 +	INTEL_CFL_H_IDS(&intel_coffeelake_info),
 +	INTEL_CFL_U_IDS(&intel_coffeelake_gt3_info),
++=======
+ 	INTEL_AML_GT2_IDS(&intel_kabylake_gt2_info),
+ 	INTEL_CFL_S_GT1_IDS(&intel_coffeelake_gt1_info),
+ 	INTEL_CFL_S_GT2_IDS(&intel_coffeelake_gt2_info),
+ 	INTEL_CFL_H_GT2_IDS(&intel_coffeelake_gt2_info),
+ 	INTEL_CFL_U_GT2_IDS(&intel_coffeelake_gt2_info),
+ 	INTEL_CFL_U_GT3_IDS(&intel_coffeelake_gt3_info),
+ 	INTEL_WHL_U_GT1_IDS(&intel_coffeelake_gt1_info),
+ 	INTEL_WHL_U_GT2_IDS(&intel_coffeelake_gt2_info),
+ 	INTEL_WHL_U_GT3_IDS(&intel_coffeelake_gt3_info),
++>>>>>>> e364672477a1 (drm/i915/aml: Introducing Amber Lake platform)
  	INTEL_CNL_IDS(&intel_cannonlake_info),
 -	INTEL_ICL_11_IDS(&intel_icelake_11_info),
  	{0, 0, 0}
  };
  MODULE_DEVICE_TABLE(pci, pciidlist);
diff --cc include/drm/i915_pciids.h
index ee15b263e5b8,fbf5cfc9b352..000000000000
--- a/include/drm/i915_pciids.h
+++ b/include/drm/i915_pciids.h
@@@ -313,6 -348,7 +313,10 @@@
  
  #define INTEL_KBL_GT2_IDS(info)	\
  	INTEL_VGA_DEVICE(0x5916, info), /* ULT GT2 */ \
++<<<<<<< HEAD
++=======
+ 	INTEL_VGA_DEVICE(0x5917, info), /* Mobile GT2 */ \
++>>>>>>> e364672477a1 (drm/i915/aml: Introducing Amber Lake platform)
  	INTEL_VGA_DEVICE(0x5921, info), /* ULT GT2F */ \
  	INTEL_VGA_DEVICE(0x591E, info), /* ULX GT2 */ \
  	INTEL_VGA_DEVICE(0x5912, info), /* DT  GT2 */ \
@@@ -332,18 -373,23 +341,19 @@@
  	INTEL_KBL_GT1_IDS(info), \
  	INTEL_KBL_GT2_IDS(info), \
  	INTEL_KBL_GT3_IDS(info), \
- 	INTEL_KBL_GT4_IDS(info)
+ 	INTEL_KBL_GT4_IDS(info), \
+ 	INTEL_AML_GT2_IDS(info)
  
  /* CFL S */
 -#define INTEL_CFL_S_GT1_IDS(info) \
 +#define INTEL_CFL_S_IDS(info) \
  	INTEL_VGA_DEVICE(0x3E90, info), /* SRV GT1 */ \
  	INTEL_VGA_DEVICE(0x3E93, info), /* SRV GT1 */ \
 -	INTEL_VGA_DEVICE(0x3E99, info)  /* SRV GT1 */
 -
 -#define INTEL_CFL_S_GT2_IDS(info) \
  	INTEL_VGA_DEVICE(0x3E91, info), /* SRV GT2 */ \
  	INTEL_VGA_DEVICE(0x3E92, info), /* SRV GT2 */ \
 -	INTEL_VGA_DEVICE(0x3E96, info), /* SRV GT2 */ \
 -	INTEL_VGA_DEVICE(0x3E9A, info)  /* SRV GT2 */
 +	INTEL_VGA_DEVICE(0x3E96, info)  /* SRV GT2 */
  
  /* CFL H */
 -#define INTEL_CFL_H_GT2_IDS(info) \
 +#define INTEL_CFL_H_IDS(info) \
  	INTEL_VGA_DEVICE(0x3E9B, info), /* Halo GT2 */ \
  	INTEL_VGA_DEVICE(0x3E94, info)  /* Halo GT2 */
  
* Unmerged path drivers/gpu/drm/i915/i915_pci.c
* Unmerged path include/drm/i915_pciids.h
