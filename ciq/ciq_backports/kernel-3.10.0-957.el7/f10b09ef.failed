ibmvnic: Handle TSO backing device errata

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Thomas Falcon <tlfalcon@linux.vnet.ibm.com>
commit f10b09ef687f3134c26027d2a38a9d4cd3bb9cb7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/f10b09ef.failed

TSO packets with one segment or with an MSS less than 224 can
cause errors on some backing devices, so disable GSO in those cases.

	Signed-off-by: Thomas Falcon <tlfalcon@linux.vnet.ibm.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit f10b09ef687f3134c26027d2a38a9d4cd3bb9cb7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/ibm/ibmvnic.c
diff --cc drivers/net/ethernet/ibm/ibmvnic.c
index 709deafb9962,e02d3b9aaf15..000000000000
--- a/drivers/net/ethernet/ibm/ibmvnic.c
+++ b/drivers/net/ethernet/ibm/ibmvnic.c
@@@ -2060,7 -2077,8 +2077,12 @@@ static const struct net_device_ops ibmv
  #ifdef CONFIG_NET_POLL_CONTROLLER
  	.ndo_poll_controller	= ibmvnic_netpoll_controller,
  #endif
++<<<<<<< HEAD
 +	.ndo_change_mtu_rh74	= ibmvnic_change_mtu,
++=======
+ 	.ndo_change_mtu		= ibmvnic_change_mtu,
+ 	.ndo_features_check     = ibmvnic_features_check,
++>>>>>>> f10b09ef687f (ibmvnic: Handle TSO backing device errata)
  };
  
  /* ethtool functions */
* Unmerged path drivers/net/ethernet/ibm/ibmvnic.c
