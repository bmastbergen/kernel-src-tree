ceph: use get_user_pages_fast()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Al Viro <viro@zeniv.linux.org.uk>
commit 77478715ba9242017976fd01de189e77fa072f51
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/77478715.failed

	Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
(cherry picked from commit 77478715ba9242017976fd01de189e77fa072f51)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ceph/pagevec.c
diff --cc net/ceph/pagevec.c
index 5ef197640df9,4098b17d0812..000000000000
--- a/net/ceph/pagevec.c
+++ b/net/ceph/pagevec.c
@@@ -24,9 -24,9 +24,15 @@@ struct page **ceph_get_direct_page_vect
  		return ERR_PTR(-ENOMEM);
  
  	while (got < num_pages) {
++<<<<<<< HEAD
 +		rc = get_user_pages_unlocked(current, current->mm,
 +		    (unsigned long)data + ((unsigned long)got * PAGE_SIZE),
 +		    num_pages - got, write_page, 0, pages + got);
++=======
+ 		rc = get_user_pages_fast(
+ 		    (unsigned long)data + ((unsigned long)got * PAGE_SIZE),
+ 		    num_pages - got, write_page, pages + got);
++>>>>>>> 77478715ba92 (ceph: use get_user_pages_fast())
  		if (rc < 0)
  			break;
  		BUG_ON(rc == 0);
* Unmerged path net/ceph/pagevec.c
