netfilter: ipset: Regroup ip_set_put_extensions and add extern

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
commit 837a90eab67edfa464dcc0ddef193449d23da408
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/837a90ea.failed

Cleanup: group ip_set_put_extensions and ip_set_get_extensions
together and add missing extern.

	Signed-off-by: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
(cherry picked from commit 837a90eab67edfa464dcc0ddef193449d23da408)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/netfilter/ipset/ip_set.h
diff --cc include/linux/netfilter/ipset/ip_set.h
index 3e9c90cf5227,7a218eb74887..000000000000
--- a/include/linux/netfilter/ipset/ip_set.h
+++ b/include/linux/netfilter/ipset/ip_set.h
@@@ -281,8 -327,12 +281,10 @@@ extern void *ip_set_alloc(size_t size)
  extern void ip_set_free(void *members);
  extern int ip_set_get_ipaddr4(struct nlattr *nla,  __be32 *ipaddr);
  extern int ip_set_get_ipaddr6(struct nlattr *nla, union nf_inet_addr *ipaddr);
 -extern size_t ip_set_elem_len(struct ip_set *set, struct nlattr *tb[],
 -			      size_t len, size_t align);
  extern int ip_set_get_extensions(struct ip_set *set, struct nlattr *tb[],
  				 struct ip_set_ext *ext);
+ extern int ip_set_put_extensions(struct sk_buff *skb, const struct ip_set *set,
+ 				 const void *e, bool active);
  
  static inline int
  ip_set_get_hostipaddr4(struct nlattr *nla, u32 *ipaddr)
@@@ -397,14 -447,17 +399,18 @@@ bitmap_bytes(u32 a, u32 b
  }
  
  #include <linux/netfilter/ipset/ip_set_timeout.h>
 -#include <linux/netfilter/ipset/ip_set_comment.h>
 -#include <linux/netfilter/ipset/ip_set_counter.h>
 -#include <linux/netfilter/ipset/ip_set_skbinfo.h>
  
++<<<<<<< HEAD
 +#define IP_SET_INIT_KEXT(skb, opt, map)			\
++=======
+ #define IP_SET_INIT_KEXT(skb, opt, set)			\
++>>>>>>> 837a90eab67e (netfilter: ipset: Regroup ip_set_put_extensions and add extern)
  	{ .bytes = (skb)->len, .packets = 1,		\
 -	  .timeout = ip_set_adt_opt_timeout(opt, set) }
 +	  .timeout = ip_set_adt_opt_timeout(opt, map) }
  
 -#define IP_SET_INIT_UEXT(set)				\
 +#define IP_SET_INIT_UEXT(map)				\
  	{ .bytes = ULLONG_MAX, .packets = ULLONG_MAX,	\
 -	  .timeout = (set)->timeout }
 +	  .timeout = (map)->timeout }
  
  #define IPSET_CONCAT(a, b)		a##b
  #define IPSET_TOKEN(a, b)		IPSET_CONCAT(a, b)
* Unmerged path include/linux/netfilter/ipset/ip_set.h
