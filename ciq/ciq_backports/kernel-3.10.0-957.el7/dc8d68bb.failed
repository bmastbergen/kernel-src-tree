mmc: core: Remove unused MMC_CAP2_PACKED_CMD

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [mmc] core: Remove unused MMC_CAP2_PACKED_CMD (Gopal Tiwari) [1456570]
Rebuild_FUZZ: 93.98%
commit-author Adrian Hunter <adrian.hunter@intel.com>
commit dc8d68bb6c6f7d7fb1aeb3450c0654598e4f4e52
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/dc8d68bb.failed

Packed commands support was removed but some bits got left behind. Remove
them.

	Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
	Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit dc8d68bb6c6f7d7fb1aeb3450c0654598e4f4e52)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/mmc.c
diff --cc drivers/mmc/core/mmc.c
index 5881a39e3c1c,a7eb623f8daa..000000000000
--- a/drivers/mmc/core/mmc.c
+++ b/drivers/mmc/core/mmc.c
@@@ -1771,27 -1784,11 +1771,35 @@@ static int mmc_init_card(struct mmc_hos
  	}
  
  	/*
++<<<<<<< HEAD
 +	 * The mandatory minimum values are defined for packed command.
 +	 * read: 5, write: 3
 +	 */
 +	if (card->ext_csd.max_packed_writes >= 3 &&
 +	    card->ext_csd.max_packed_reads >= 5 &&
 +	    host->caps2 & MMC_CAP2_PACKED_CMD) {
 +		err = mmc_switch(card, EXT_CSD_CMD_SET_NORMAL,
 +				EXT_CSD_EXP_EVENTS_CTRL,
 +				EXT_CSD_PACKED_EVENT_EN,
 +				card->ext_csd.generic_cmd6_time);
 +		if (err && err != -EBADMSG)
 +			goto free_card;
 +		if (err) {
 +			pr_warn("%s: Enabling packed event failed\n",
 +				mmc_hostname(card->host));
 +			card->ext_csd.packed_event_en = 0;
 +			err = 0;
 +		} else {
 +			card->ext_csd.packed_event_en = 1;
 +		}
 +	}
++=======
+ 	 * In some cases (e.g. RPMB or mmc_test), the Command Queue must be
+ 	 * disabled for a time, so a flag is needed to indicate to re-enable the
+ 	 * Command Queue.
+ 	 */
+ 	card->reenable_cmdq = card->ext_csd.cmdq_en;
++>>>>>>> dc8d68bb6c6f (mmc: core: Remove unused MMC_CAP2_PACKED_CMD)
  
  	if (!oldcard)
  		host->card = card;
* Unmerged path drivers/mmc/core/mmc.c
diff --git a/include/linux/mmc/host.h b/include/linux/mmc/host.h
index 3d6f7a820ea1..5941c88b00d2 100644
--- a/include/linux/mmc/host.h
+++ b/include/linux/mmc/host.h
@@ -291,10 +291,6 @@ struct mmc_host {
 				 MMC_CAP2_HS200_1_2V_SDR)
 #define MMC_CAP2_CD_ACTIVE_HIGH	(1 << 10)	/* Card-detect signal active high */
 #define MMC_CAP2_RO_ACTIVE_HIGH	(1 << 11)	/* Write-protect signal active high */
-#define MMC_CAP2_PACKED_RD	(1 << 12)	/* Allow packed read */
-#define MMC_CAP2_PACKED_WR	(1 << 13)	/* Allow packed write */
-#define MMC_CAP2_PACKED_CMD	(MMC_CAP2_PACKED_RD | \
-				 MMC_CAP2_PACKED_WR)
 #define MMC_CAP2_NO_PRESCAN_POWERUP (1 << 14)	/* Don't power up before scan */
 #define MMC_CAP2_HS400_1_8V	(1 << 15)	/* Can support HS400 1.8V */
 #define MMC_CAP2_HS400_1_2V	(1 << 16)	/* Can support HS400 1.2V */
