iio: hid-sensors: Accelerometer 3D: adjust scale and offset

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [iio] hid-sensors: accelerometer 3d: adjust scale and offset (Tony Camuso) [1559170]
Rebuild_FUZZ: 95.58%
commit-author Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
commit 73a24988201f1bc82143ad183c79206052ef2fe8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/73a24988.failed

Using units and unit exponent to calculate scale which is compliant
to IIO ABI.

	Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
	Signed-off-by: Jonathan Cameron <jic23@kernel.org>
(cherry picked from commit 73a24988201f1bc82143ad183c79206052ef2fe8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iio/accel/hid-sensor-accel-3d.c
diff --cc drivers/iio/accel/hid-sensor-accel-3d.c
index d2b60a85f48d,ca50a91752d8..000000000000
--- a/drivers/iio/accel/hid-sensor-accel-3d.c
+++ b/drivers/iio/accel/hid-sensor-accel-3d.c
@@@ -260,6 -266,23 +264,26 @@@ static int accel_3d_parse_report(struc
  			st->accel[1].index, st->accel[1].report_id,
  			st->accel[2].index, st->accel[2].report_id);
  
++<<<<<<< HEAD
++=======
+ 	st->scale_precision = hid_sensor_format_scale(
+ 				HID_USAGE_SENSOR_ACCEL_3D,
+ 				&st->accel[CHANNEL_SCAN_INDEX_X],
+ 				&st->scale_pre_decml, &st->scale_post_decml);
+ 
+ 	/* Set Sensitivity field ids, when there is no individual modifier */
+ 	if (st->common_attributes.sensitivity.index < 0) {
+ 		sensor_hub_input_get_attribute_info(hsdev,
+ 			HID_FEATURE_REPORT, usage_id,
+ 			HID_USAGE_SENSOR_DATA_MOD_CHANGE_SENSITIVITY_ABS |
+ 			HID_USAGE_SENSOR_DATA_ACCELERATION,
+ 			&st->common_attributes.sensitivity);
+ 		dev_dbg(&pdev->dev, "Sensitivity index:report %d:%d\n",
+ 			st->common_attributes.sensitivity.index,
+ 			st->common_attributes.sensitivity.report_id);
+ 	}
+ 
++>>>>>>> 73a24988201f (iio: hid-sensors: Accelerometer 3D: adjust scale and offset)
  	return ret;
  }
  
* Unmerged path drivers/iio/accel/hid-sensor-accel-3d.c
