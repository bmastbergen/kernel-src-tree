uas: ignore UAS for Norelsys NS1068(X) chips

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Icenowy Zheng <icenowy@aosc.io>
commit 928afc85270753657b5543e052cc270c279a3fe9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/928afc85.failed

The UAS mode of Norelsys NS1068(X) is reported to fail to work on
several platforms with the following error message:

xhci-hcd xhci-hcd.0.auto: ERROR Transfer event for unknown stream ring slot 1 ep 8
xhci-hcd xhci-hcd.0.auto: @00000000bf04a400 00000000 00000000 1b000000 01098001

And when trying to mount a partition on the disk the disk will
disconnect from the USB controller, then after re-connecting the device
will be offlined and not working at all.

Falling back to USB mass storage can solve this problem, so ignore UAS
function of this chip.

	Cc: stable@vger.kernel.org
	Signed-off-by: Icenowy Zheng <icenowy@aosc.io>
	Acked-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 928afc85270753657b5543e052cc270c279a3fe9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/storage/unusual_uas.h
diff --cc drivers/usb/storage/unusual_uas.h
index 6e50519c8b8c,a7d08ae0adad..000000000000
--- a/drivers/usb/storage/unusual_uas.h
+++ b/drivers/usb/storage/unusual_uas.h
@@@ -149,6 -129,27 +149,30 @@@ UNUSUAL_DEV(0x152d, 0x0567, 0x0000, 0x9
  		USB_SC_DEVICE, USB_PR_DEVICE, NULL,
  		US_FL_BROKEN_FUA | US_FL_NO_REPORT_OPCODES),
  
++<<<<<<< HEAD
++=======
+ /* Reported-by: David Kozub <zub@linux.fjfi.cvut.cz> */
+ UNUSUAL_DEV(0x152d, 0x0578, 0x0000, 0x9999,
+ 		"JMicron",
+ 		"JMS567",
+ 		USB_SC_DEVICE, USB_PR_DEVICE, NULL,
+ 		US_FL_BROKEN_FUA),
+ 
+ /* Reported-by: Hans de Goede <hdegoede@redhat.com> */
+ UNUSUAL_DEV(0x2109, 0x0711, 0x0000, 0x9999,
+ 		"VIA",
+ 		"VL711",
+ 		USB_SC_DEVICE, USB_PR_DEVICE, NULL,
+ 		US_FL_NO_ATA_1X),
+ 
+ /* Reported-by: Icenowy Zheng <icenowy@aosc.io> */
+ UNUSUAL_DEV(0x2537, 0x1068, 0x0000, 0x9999,
+ 		"Norelsys",
+ 		"NS1068X",
+ 		USB_SC_DEVICE, USB_PR_DEVICE, NULL,
+ 		US_FL_IGNORE_UAS),
+ 
++>>>>>>> 928afc852707 (uas: ignore UAS for Norelsys NS1068(X) chips)
  /* Reported-by: Takeo Nakayama <javhera@gmx.com> */
  UNUSUAL_DEV(0x357d, 0x7788, 0x0000, 0x9999,
  		"JMicron",
* Unmerged path drivers/usb/storage/unusual_uas.h
