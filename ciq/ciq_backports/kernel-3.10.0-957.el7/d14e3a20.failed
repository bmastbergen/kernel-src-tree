EDAC, sb_edac: Bump driver version and do some cleanups

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [edac] sb_edac: Bump driver version and do some cleanups (Aristeu Rozanski) [1483004 1483026]
Rebuild_FUZZ: 94.23%
commit-author Qiuxu Zhuo <qiuxu.zhuo@intel.com>
commit d14e3a201f06c85527e176f7ebfd967b405b6185
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/d14e3a20.failed

Collapse 'case:' in *_mci_bind_devs() and update driver version from
1.1.1 to 1.1.2.

	Signed-off-by: Qiuxu Zhuo <qiuxu.zhuo@intel.com>
	Cc: linux-edac <linux-edac@vger.kernel.org>
Link: http://lkml.kernel.org/r/20170523000934.87971-1-qiuxu.zhuo@intel.com
	Signed-off-by: Borislav Petkov <bp@suse.de>
(cherry picked from commit d14e3a201f06c85527e176f7ebfd967b405b6185)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/edac/sb_edac.c
diff --cc drivers/edac/sb_edac.c
index c0c2beb62547,89fd6bd64df6..000000000000
--- a/drivers/edac/sb_edac.c
+++ b/drivers/edac/sb_edac.c
@@@ -2498,11 -2449,14 +2505,16 @@@ static int ibridge_mci_bind_devs(struc
  
  		switch (pdev->device) {
  		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA0:
++<<<<<<< HEAD
 +			pvt->pci_ha0 = pdev;
++=======
+ 		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1:
+ 			pvt->pci_ha = pdev;
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  			break;
  		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA0_TA:
 -		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TA:
  			pvt->pci_ta = pdev;
  		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA0_RAS:
 -		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_RAS:
  			pvt->pci_ras = pdev;
  			break;
  		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA0_TAD0:
@@@ -2530,19 -2488,6 +2546,22 @@@
  		case PCI_DEVICE_ID_INTEL_IBRIDGE_BR1:
  			pvt->pci_br1 = pdev;
  			break;
++<<<<<<< HEAD
 +		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1:
 +			pvt->pci_ha1 = pdev;
 +			break;
 +		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TAD0:
 +		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TAD1:
 +		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TAD2:
 +		case PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TAD3:
 +		{
 +			int id = pdev->device - PCI_DEVICE_ID_INTEL_IBRIDGE_IMC_HA1_TAD0 + 4;
 +			pvt->pci_tad[id] = pdev;
 +			saw_chan_mask |= 1 << id;
 +		}
 +			break;
++=======
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  		default:
  			goto error;
  		}
@@@ -2604,9 -2547,11 +2623,15 @@@ static int haswell_mci_bind_devs(struc
  			pvt->pci_sad1 = pdev;
  			break;
  		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA0:
++<<<<<<< HEAD
 +			pvt->pci_ha0 = pdev;
++=======
+ 		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1:
+ 			pvt->pci_ha = pdev;
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  			break;
  		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA0_TA:
+ 		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1_TA:
  			pvt->pci_ta = pdev;
  			break;
  		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA0_TM:
@@@ -2628,8 -2567,7 +2646,12 @@@
  		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1_TAD2:
  		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1_TAD3:
  		{
++<<<<<<< HEAD
 +			int id = pdev->device - PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1_TAD0 + 4;
 +
++=======
+ 			int id = TAD_DEV_TO_CHAN(pdev->device);
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  			pvt->pci_tad[id] = pdev;
  			saw_chan_mask |= 1 << id;
  		}
@@@ -2641,12 -2579,6 +2663,15 @@@
  			if (!pvt->pci_ddrio)
  				pvt->pci_ddrio = pdev;
  			break;
++<<<<<<< HEAD
 +		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1:
 +			pvt->pci_ha1 = pdev;
 +			break;
 +		case PCI_DEVICE_ID_INTEL_HASWELL_IMC_HA1_TA:
 +			pvt->pci_ha1_ta = pdev;
 +			break;
++=======
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  		default:
  			break;
  		}
@@@ -2701,9 -2632,11 +2726,15 @@@ static int broadwell_mci_bind_devs(stru
  			pvt->pci_sad1 = pdev;
  			break;
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA0:
++<<<<<<< HEAD
 +			pvt->pci_ha0 = pdev;
++=======
+ 		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1:
+ 			pvt->pci_ha = pdev;
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  			break;
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA0_TA:
+ 		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1_TA:
  			pvt->pci_ta = pdev;
  			break;
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA0_TM:
@@@ -2724,7 -2652,7 +2749,11 @@@
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1_TAD2:
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1_TAD3:
  		{
++<<<<<<< HEAD
 +			int id = pdev->device - PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1_TAD0 + 4;
++=======
+ 			int id = TAD_DEV_TO_CHAN(pdev->device);
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  			pvt->pci_tad[id] = pdev;
  			saw_chan_mask |= 1 << id;
  		}
@@@ -2732,12 -2660,6 +2761,15 @@@
  		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_DDRIO0:
  			pvt->pci_ddrio = pdev;
  			break;
++<<<<<<< HEAD
 +		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1:
 +			pvt->pci_ha1 = pdev;
 +			break;
 +		case PCI_DEVICE_ID_INTEL_BROADWELL_IMC_HA1_TA:
 +			pvt->pci_ha1_ta = pdev;
 +			break;
++=======
++>>>>>>> d14e3a201f06 (EDAC, sb_edac: Bump driver version and do some cleanups)
  		default:
  			break;
  		}
* Unmerged path drivers/edac/sb_edac.c
