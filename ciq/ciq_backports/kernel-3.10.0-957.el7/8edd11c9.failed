nvme-fabrics: Allow 0 as KATO value

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Guilherme G. Piccoli <gpiccoli@linux.vnet.ibm.com>
commit 8edd11c9ad3a6205eea6de9d02eaf64c681a0658
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/8edd11c9.failed

Currently, driver code allows user to set 0 as KATO
(Keep Alive TimeOut), but this is not being respected.
This patch enforces the expected behavior.

	Signed-off-by: Guilherme G. Piccoli <gpiccoli@linux.vnet.ibm.com>
	Reviewed-by: Sagi Grimberg <sagi@grimberg.me>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 8edd11c9ad3a6205eea6de9d02eaf64c681a0658)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/fabrics.c
diff --cc drivers/nvme/host/fabrics.c
index 375b81072b66,555c976cc2ee..000000000000
--- a/drivers/nvme/host/fabrics.c
+++ b/drivers/nvme/host/fabrics.c
@@@ -567,7 -565,7 +567,11 @@@ static int nvmf_parse_options(struct nv
  	opts->queue_size = NVMF_DEF_QUEUE_SIZE;
  	opts->nr_io_queues = num_online_cpus();
  	opts->reconnect_delay = NVMF_DEF_RECONNECT_DELAY;
++<<<<<<< HEAD
 +	opts->duplicate_connect = false;
++=======
+ 	opts->kato = NVME_DEFAULT_KATO;
++>>>>>>> 8edd11c9ad3a (nvme-fabrics: Allow 0 as KATO value)
  
  	options = o = kstrdup(buf, GFP_KERNEL);
  	if (!options)
@@@ -764,11 -761,9 +769,9 @@@
  		opts->host = nvmf_default_host;
  	}
  
 -	uuid_copy(&opts->host->id, &hostid);
 +	memcpy(&opts->host->id, &hostid, sizeof(uuid_be));
  
  out:
- 	if (!opts->discovery_nqn && !opts->kato)
- 		opts->kato = NVME_DEFAULT_KATO;
  	kfree(options);
  	return ret;
  }
* Unmerged path drivers/nvme/host/fabrics.c
