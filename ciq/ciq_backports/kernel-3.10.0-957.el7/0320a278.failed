uio: add missing error codes

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [uio] add missing error codes (Xiubo Li) [1560418]
Rebuild_FUZZ: 90.20%
commit-author Dan Carpenter <dan.carpenter@oracle.com>
commit 0320a278b9ef80cfa44f74b7f9bb36781695f3ee
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/0320a278.failed

My static checker complains that "ret" could be uninitialized at the
end, which is true but it's more likely that it would be set to zero.

	Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 0320a278b9ef80cfa44f74b7f9bb36781695f3ee)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/uio/uio.c
diff --cc drivers/uio/uio.c
index aa7760da2fe6,fba021f5736a..000000000000
--- a/drivers/uio/uio.c
+++ b/drivers/uio/uio.c
@@@ -267,12 -271,16 +267,21 @@@ static int uio_dev_add_attributes(struc
  			map_found = 1;
  			idev->map_dir = kobject_create_and_add("maps",
  							&idev->dev->kobj);
- 			if (!idev->map_dir)
+ 			if (!idev->map_dir) {
+ 				ret = -ENOMEM;
  				goto err_map;
+ 			}
  		}
  		map = kzalloc(sizeof(*map), GFP_KERNEL);
++<<<<<<< HEAD
 +		if (!map)
 +			goto err_map;
++=======
+ 		if (!map) {
+ 			ret = -ENOMEM;
+ 			goto err_map_kobj;
+ 		}
++>>>>>>> 0320a278b9ef (uio: add missing error codes)
  		kobject_init(&map->kobj, &map_attr_type);
  		map->mem = mem;
  		mem->map = map;
@@@ -292,12 -300,16 +301,21 @@@
  			portio_found = 1;
  			idev->portio_dir = kobject_create_and_add("portio",
  							&idev->dev->kobj);
- 			if (!idev->portio_dir)
+ 			if (!idev->portio_dir) {
+ 				ret = -ENOMEM;
  				goto err_portio;
+ 			}
  		}
  		portio = kzalloc(sizeof(*portio), GFP_KERNEL);
++<<<<<<< HEAD
 +		if (!portio)
 +			goto err_portio;
++=======
+ 		if (!portio) {
+ 			ret = -ENOMEM;
+ 			goto err_portio_kobj;
+ 		}
++>>>>>>> 0320a278b9ef (uio: add missing error codes)
  		kobject_init(&portio->kobj, &portio_attr_type);
  		portio->port = port;
  		port->portio = portio;
* Unmerged path drivers/uio/uio.c
