bpf: remove tracepoints from bpf core

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Alexei Starovoitov <ast@kernel.org>
commit 4d220ed0f8140c478ab7b0a14d96821da639b646
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/4d220ed0.failed

tracepoints to bpf core were added as a way to provide introspection
to bpf programs and maps, but after some time it became clear that
this approach is inadequate, so prog_id, map_id and corresponding
get_next_id, get_fd_by_id, get_info_by_fd, prog_query APIs were
introduced and fully adopted by bpftool and other applications.
The tracepoints in bpf core started to rot and causing syzbot warnings:
WARNING: CPU: 0 PID: 3008 at kernel/trace/trace_event_perf.c:274
Kernel panic - not syncing: panic_on_warn set ...
perf_trace_bpf_map_keyval+0x260/0xbd0 include/trace/events/bpf.h:228
trace_bpf_map_update_elem include/trace/events/bpf.h:274 [inline]
map_update_elem kernel/bpf/syscall.c:597 [inline]
SYSC_bpf kernel/bpf/syscall.c:1478 [inline]
Hence this patch deletes tracepoints in bpf core.

	Reported-by: Eric Biggers <ebiggers3@gmail.com>
	Reported-by: syzbot <bot+a9dbb3c3e64b62536a4bc5ee7bbd4ca627566188@syzkaller.appspotmail.com>
	Signed-off-by: Alexei Starovoitov <ast@kernel.org>
	Acked-by: David S. Miller <davem@davemloft.net>
	Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
(cherry picked from commit 4d220ed0f8140c478ab7b0a14d96821da639b646)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	MAINTAINERS
#	include/trace/events/bpf.h
#	kernel/bpf/core.c
#	kernel/bpf/inode.c
#	kernel/bpf/syscall.c
diff --cc MAINTAINERS
index d3bddd3c4aba,537fd17a211b..000000000000
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@@ -1766,8 -2714,35 +1766,38 @@@ S:	Supporte
  F:	drivers/net/bonding/
  F:	include/uapi/linux/if_bonding.h
  
++<<<<<<< HEAD
++=======
+ BPF (Safe dynamic programs and tools)
+ M:	Alexei Starovoitov <ast@kernel.org>
+ M:	Daniel Borkmann <daniel@iogearbox.net>
+ L:	netdev@vger.kernel.org
+ L:	linux-kernel@vger.kernel.org
+ T:	git git://git.kernel.org/pub/scm/linux/kernel/git/bpf/bpf.git
+ T:	git git://git.kernel.org/pub/scm/linux/kernel/git/bpf/bpf-next.git
+ S:	Supported
+ F:	arch/x86/net/bpf_jit*
+ F:	Documentation/networking/filter.txt
+ F:	Documentation/bpf/
+ F:	include/linux/bpf*
+ F:	include/linux/filter.h
+ F:	include/trace/events/xdp.h
+ F:	include/uapi/linux/bpf*
+ F:	include/uapi/linux/filter.h
+ F:	kernel/bpf/
+ F:	kernel/trace/bpf_trace.c
+ F:	lib/test_bpf.c
+ F:	net/bpf/
+ F:	net/core/filter.c
+ F:	net/sched/act_bpf.c
+ F:	net/sched/cls_bpf.c
+ F:	samples/bpf/
+ F:	tools/bpf/
+ F:	tools/testing/selftests/bpf/
+ 
++>>>>>>> 4d220ed0f814 (bpf: remove tracepoints from bpf core)
  BROADCOM B44 10/100 ETHERNET DRIVER
 -M:	Michael Chan <michael.chan@broadcom.com>
 +M:	Gary Zambrano <zambrano@broadcom.com>
  L:	netdev@vger.kernel.org
  S:	Supported
  F:	drivers/net/ethernet/broadcom/b44.*
* Unmerged path include/trace/events/bpf.h
* Unmerged path kernel/bpf/core.c
* Unmerged path kernel/bpf/inode.c
* Unmerged path kernel/bpf/syscall.c
* Unmerged path MAINTAINERS
diff --git a/include/linux/bpf_trace.h b/include/linux/bpf_trace.h
index b22efbdd2eb4..434234265ac4 100644
--- a/include/linux/bpf_trace.h
+++ b/include/linux/bpf_trace.h
@@ -1,7 +1,6 @@
 #ifndef __LINUX_BPF_TRACE_H__
 #define __LINUX_BPF_TRACE_H__
 
-#include <trace/events/bpf.h>
 #include <trace/events/xdp.h>
 
 #endif /* __LINUX_BPF_TRACE_H__ */
* Unmerged path include/trace/events/bpf.h
* Unmerged path kernel/bpf/core.c
* Unmerged path kernel/bpf/inode.c
* Unmerged path kernel/bpf/syscall.c
