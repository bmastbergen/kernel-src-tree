HID: hid-sensor-hub: quirk for STM Sensor hub

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [hid] hid-sensor-hub: quirk for STM Sensor hub (Tony Camuso) [1559170]
Rebuild_FUZZ: 94.12%
commit-author Archana Patni <archana.patni@linux.intel.com>
commit 218eb9ed840c6279686ed6b0c3e31a083e241ff9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/218eb9ed.failed

Added STM sensor hub vendor id in HID_SENSOR_HUB_ENUM_QUIRK to
fix report descriptors. These devices uses old FW which uses
logical 0 as minimum. In these, HID reports are not using proper
collection classes. So we need to fix report descriptors,for
such devices. This will not have any impact, if the FW uses
logical 1 as minimum.

We look for usage id for "power and report state", and modify
logical minimum value to 1.

This is a follow-up patch to commit id 875e36f8.

	Signed-off-by: Archana Patni <archana.patni@linux.intel.com>
	Reviewed-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit 218eb9ed840c6279686ed6b0c3e31a083e241ff9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/hid-ids.h
diff --cc drivers/hid/hid-ids.h
index afd083843745,00fd7452722f..000000000000
--- a/drivers/hid/hid-ids.h
+++ b/drivers/hid/hid-ids.h
@@@ -471,6 -447,13 +471,16 @@@
  #define USB_VENDOR_ID_ILITEK		0x222a
  #define USB_DEVICE_ID_ILITEK_MULTITOUCH	0x0001
  
++<<<<<<< HEAD
++=======
+ #define USB_VENDOR_ID_INTEL_0		0x8086
+ #define USB_VENDOR_ID_INTEL_1		0x8087
+ #define USB_DEVICE_ID_INTEL_HID_SENSOR	0x09fa
+ 
+ #define USB_VENDOR_ID_STM_0             0x0483
+ #define USB_DEVICE_ID_STM_HID_SENSOR    0x91d1
+ 
++>>>>>>> 218eb9ed840c (HID: hid-sensor-hub: quirk for STM Sensor hub)
  #define USB_VENDOR_ID_ION		0x15e4
  #define USB_DEVICE_ID_ICADE		0x0132
  
* Unmerged path drivers/hid/hid-ids.h
diff --git a/drivers/hid/hid-sensor-hub.c b/drivers/hid/hid-sensor-hub.c
index ec7cae7d2cb8..28b52cc3217e 100644
--- a/drivers/hid/hid-sensor-hub.c
+++ b/drivers/hid/hid-sensor-hub.c
@@ -656,6 +656,9 @@ static const struct hid_device_id sensor_hub_devices[] = {
 	{ HID_DEVICE(HID_BUS_ANY, HID_GROUP_SENSOR_HUB, USB_VENDOR_ID_INTEL_0,
 			0x22D8),
 			.driver_data = HID_SENSOR_HUB_ENUM_QUIRK},
+	{ HID_DEVICE(HID_BUS_ANY, HID_GROUP_SENSOR_HUB, USB_VENDOR_ID_STM_0,
+			USB_DEVICE_ID_STM_HID_SENSOR),
+			.driver_data = HID_SENSOR_HUB_ENUM_QUIRK},
 	{ HID_DEVICE(HID_BUS_ANY, HID_GROUP_SENSOR_HUB, HID_ANY_ID,
 		     HID_ANY_ID) },
 	{ }
