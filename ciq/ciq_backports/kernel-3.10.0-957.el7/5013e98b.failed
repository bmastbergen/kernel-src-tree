nvme-rdma: change queue flag semantics DELETING -> ALLOCATED

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Sagi Grimberg <sagi@grimberg.me>
commit 5013e98b5e8db50144e8f1ca5a96aed95d4d48a0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/5013e98b.failed

Instead of marking we are deleting, mark we are allocated and check that
instead. This makes the logic symmetrical to connected mark check.

	Signed-off-by: Sagi Grimberg <sagi@grimberg.me>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 5013e98b5e8db50144e8f1ca5a96aed95d4d48a0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/rdma.c
diff --cc drivers/nvme/host/rdma.c
index bd242f85edd3,ff67375982fe..000000000000
--- a/drivers/nvme/host/rdma.c
+++ b/drivers/nvme/host/rdma.c
@@@ -595,6 -569,9 +595,12 @@@ static void nvme_rdma_stop_queue(struc
  
  static void nvme_rdma_free_queue(struct nvme_rdma_queue *queue)
  {
++<<<<<<< HEAD
++=======
+ 	if (!test_and_clear_bit(NVME_RDMA_Q_ALLOCATED, &queue->flags))
+ 		return;
+ 
++>>>>>>> 5013e98b5e8d (nvme-rdma: change queue flag semantics DELETING -> ALLOCATED)
  	nvme_rdma_destroy_queue_ib(queue);
  	rdma_destroy_id(queue->cm_id);
  }
* Unmerged path drivers/nvme/host/rdma.c
