target: fix buffer offset in core_scsi3_pri_read_full_status

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [target] fix buffer offset in core_scsi3_pri_read_full_status (Maurizio Lombardi) [1585081]
Rebuild_FUZZ: 92.86%
commit-author tangwenji <tang.wenji@zte.com.cn>
commit c58a252beb04cf0e02d6a746b2ed7ea89b6deb71
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/c58a252b.failed

When at least two initiators register pr on the same LUN,
the target returns the exception data due to buffer offset
error, therefore the initiator executes command 'sg_persist -s'
may cause the initiator to appear segfault error.

This fixes a regression originally introduced by:

  commit a85d667e58bddf73be84d1981b41eaac985ed216
  Author: Bart Van Assche <bart.vanassche@sandisk.com>
  Date:   Tue May 23 16:48:27 2017 -0700

      target: Use {get,put}_unaligned_be*() instead of open coding these functions

	Signed-off-by: tangwenji <tang.wenji@zte.com.cn>
	Cc: stable@vger.kernel.org # 4.13+
	Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
(cherry picked from commit c58a252beb04cf0e02d6a746b2ed7ea89b6deb71)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/target/target_core_pr.c
diff --cc drivers/target/target_core_pr.c
index bd250c141c02,9f25c9c6f67d..000000000000
--- a/drivers/target/target_core_pr.c
+++ b/drivers/target/target_core_pr.c
@@@ -4059,10 -4010,8 +4059,15 @@@ core_scsi3_pri_read_full_status(struct 
  		/*
  		 * Set the ADDITIONAL DESCRIPTOR LENGTH
  		 */
++<<<<<<< HEAD
 +		buf[off++] = ((desc_len >> 24) & 0xff);
 +		buf[off++] = ((desc_len >> 16) & 0xff);
 +		buf[off++] = ((desc_len >> 8) & 0xff);
 +		buf[off++] = (desc_len & 0xff);
++=======
+ 		put_unaligned_be32(desc_len, &buf[off]);
+ 		off += 4;
++>>>>>>> c58a252beb04 (target: fix buffer offset in core_scsi3_pri_read_full_status)
  		/*
  		 * Size of full desctipor header minus TransportID
  		 * containing $FABRIC_MOD specific) initiator device/port
* Unmerged path drivers/target/target_core_pr.c
