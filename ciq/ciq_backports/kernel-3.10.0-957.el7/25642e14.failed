powerpc/opal-irqchip: Fix double endian conversion

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [powerpc] opal-irqchip: Fix double endian conversion (Gustavo Duarte) [1577105]
Rebuild_FUZZ: 91.30%
commit-author Alistair Popple <alistair@popple.id.au>
commit 25642e1459ace29f6ce5a171efc8b7b59a52a2d4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/25642e14.failed

The OPAL event calls return a mask of events that are active in big
endian format. This is checked when unmasking the events in the
irqchip by comparison with a cached value. The cached value was stored
in big endian format but should've been converted to CPU endian
first.

This bug leads to OPAL event delivery being delayed or dropped on some
systems. Symptoms may include a non-functional console.

The bug is fixed by calling opal_handle_events(...) instead of
duplicating code in opal_event_unmask(...).

Fixes: 9f0fd0499d30 ("powerpc/powernv: Add a virtual irqchip for opal events")
	Cc: stable@vger.kernel.org # v4.2+
	Reported-by: Douglas L Lehr <dllehr@us.ibm.com>
	Signed-off-by: Alistair Popple <alistair@popple.id.au>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit 25642e1459ace29f6ce5a171efc8b7b59a52a2d4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/platforms/powernv/opal-irqchip.c
* Unmerged path arch/powerpc/platforms/powernv/opal-irqchip.c
* Unmerged path arch/powerpc/platforms/powernv/opal-irqchip.c
