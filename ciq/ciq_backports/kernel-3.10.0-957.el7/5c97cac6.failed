tools: Adopt __aligned from kernel sources

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [tools] Adopt __aligned from kernel sources (Jiri Olsa) [1532861]
Rebuild_FUZZ: 90.91%
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 5c97cac63ac24c78c8126958a453774e49e706dd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/5c97cac6.failed

To have a more compact way to ask the compiler to use a specific
alignment, making tools/ look more like kernel source code.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/n/tip-8jiem6ubg9rlpbs7c2p900no@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 5c97cac63ac24c78c8126958a453774e49e706dd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/include/linux/compiler-gcc.h
diff --cc tools/include/linux/compiler-gcc.h
index 79773fc128b2,bd39b2090ad1..000000000000
--- a/tools/include/linux/compiler-gcc.h
+++ b/tools/include/linux/compiler-gcc.h
@@@ -25,3 -25,7 +25,10 @@@
  #define __packed	__attribute__((packed))
  
  #define __noreturn	__attribute__((noreturn))
++<<<<<<< HEAD
++=======
+ 
+ #define __aligned(x)	__attribute__((aligned(x)))
+ #define __printf(a, b)	__attribute__((format(printf, a, b)))
+ #define __scanf(a, b)	__attribute__((format(scanf, a, b)))
++>>>>>>> 5c97cac63ac2 (tools: Adopt __aligned from kernel sources)
* Unmerged path tools/include/linux/compiler-gcc.h
diff --git a/tools/perf/util/evlist.h b/tools/perf/util/evlist.h
index edc7b11bf3fb..785c83df2836 100644
--- a/tools/perf/util/evlist.h
+++ b/tools/perf/util/evlist.h
@@ -1,6 +1,7 @@
 #ifndef __PERF_EVLIST_H
 #define __PERF_EVLIST_H 1
 
+#include <linux/compiler.h>
 #include <linux/kernel.h>
 #include <linux/refcount.h>
 #include <linux/list.h>
@@ -34,7 +35,7 @@ struct perf_mmap {
 	refcount_t	 refcnt;
 	u64		 prev;
 	struct auxtrace_mmap auxtrace_mmap;
-	char		 event_copy[PERF_SAMPLE_MAX_SIZE] __attribute__((aligned(8)));
+	char		 event_copy[PERF_SAMPLE_MAX_SIZE] __aligned(8);
 };
 
 static inline size_t
