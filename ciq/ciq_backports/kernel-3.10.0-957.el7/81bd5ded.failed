nfp: bpf: disable all ctrl vNIC capabilities

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Jakub Kicinski <jakub.kicinski@netronome.com>
commit 81bd5ded60c8a369fee6c4d94a0bcb84ad9ce56a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/81bd5ded.failed

BPF firmware currently exposes IRQ moderation capability.
The driver will make use of it by default, inserting 50 usec
delay to every control message exchange.  This cuts the number
of messages per second we can exchange by almost half.

None of the other capabilities make much sense for BPF control
vNIC, either.  Disable them all.

	Signed-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>
	Reviewed-by: Dirk van der Merwe <dirk.vandermerwe@netronome.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 81bd5ded60c8a369fee6c4d94a0bcb84ad9ce56a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/netronome/nfp/bpf/main.c
diff --cc drivers/net/ethernet/netronome/nfp/bpf/main.c
index 60a7af297852,4ee11bf2aed7..000000000000
--- a/drivers/net/ethernet/netronome/nfp/bpf/main.c
+++ b/drivers/net/ethernet/netronome/nfp/bpf/main.c
@@@ -147,6 -389,13 +147,16 @@@ const struct nfp_app_type app_bpf = 
  	.id		= NFP_APP_BPF_NIC,
  	.name		= "ebpf",
  
++<<<<<<< HEAD
++=======
+ 	.ctrl_cap_mask	= 0,
+ 
+ 	.init		= nfp_bpf_init,
+ 	.clean		= nfp_bpf_clean,
+ 
+ 	.change_mtu	= nfp_bpf_change_mtu,
+ 
++>>>>>>> 81bd5ded60c8 (nfp: bpf: disable all ctrl vNIC capabilities)
  	.extra_cap	= nfp_bpf_extra_cap,
  
  	.vnic_alloc	= nfp_bpf_vnic_alloc,
* Unmerged path drivers/net/ethernet/netronome/nfp/bpf/main.c
