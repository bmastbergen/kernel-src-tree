rbd: destroy header_oloc in rbd_dev_release()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
commit-author Ilya Dryomov <idryomov@gmail.com>
commit 6b6dddbe11b13bb00e0f9a1af2021e266811be85
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/6b6dddbe.failed

Purely cosmetic at this point, as rbd doesn't use RADOS namespaces and
hence rbd_dev->header_oloc->pool_ns is always NULL.

	Signed-off-by: Ilya Dryomov <idryomov@gmail.com>
(cherry picked from commit 6b6dddbe11b13bb00e0f9a1af2021e266811be85)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/block/rbd.c
diff --cc drivers/block/rbd.c
index c4cb261ecbf7,07668a6f0607..000000000000
--- a/drivers/block/rbd.c
+++ b/drivers/block/rbd.c
@@@ -4834,13 -3944,13 +4834,17 @@@ static void rbd_spec_free(struct kref *
  	kfree(spec);
  }
  
 -static void rbd_dev_release(struct device *dev)
 +static void rbd_dev_free(struct rbd_device *rbd_dev)
  {
 -	struct rbd_device *rbd_dev = dev_to_rbd_dev(dev);
 -	bool need_put = !!rbd_dev->opts;
 +	WARN_ON(rbd_dev->watch_state != RBD_WATCH_STATE_UNREGISTERED);
 +	WARN_ON(rbd_dev->lock_state != RBD_LOCK_STATE_UNLOCKED);
  
  	ceph_oid_destroy(&rbd_dev->header_oid);
++<<<<<<< HEAD
 +	kfree(rbd_dev->config_info);
++=======
+ 	ceph_oloc_destroy(&rbd_dev->header_oloc);
++>>>>>>> 6b6dddbe11b1 (rbd: destroy header_oloc in rbd_dev_release())
  
  	rbd_put_client(rbd_dev->rbd_client);
  	rbd_spec_put(rbd_dev->spec);
* Unmerged path drivers/block/rbd.c
