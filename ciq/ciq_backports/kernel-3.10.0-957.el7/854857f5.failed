x86/microcode: Get rid of struct apply_microcode_ctx

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [x86] microcode: Get rid of struct apply_microcode_ctx (Prarit Bhargava) [1568249]
Rebuild_FUZZ: 96.00%
commit-author Borislav Petkov <bp@suse.de>
commit 854857f5944c59a881ff607b37ed9ed41d031a3b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/854857f5.failed

It is a useless remnant from earlier times. Use the ucode_state enum
directly.

No functional change.

	Signed-off-by: Borislav Petkov <bp@suse.de>
	Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
	Tested-by: Tom Lendacky <thomas.lendacky@amd.com>
	Tested-by: Ashok Raj <ashok.raj@intel.com>
	Cc: Arjan Van De Ven <arjan.van.de.ven@intel.com>
Link: https://lkml.kernel.org/r/20180228102846.13447-2-bp@alien8.de

(cherry picked from commit 854857f5944c59a881ff607b37ed9ed41d031a3b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/cpu/microcode/core.c
diff --cc arch/x86/kernel/cpu/microcode/core.c
index 1b81185d9250,63370651e376..000000000000
--- a/arch/x86/kernel/cpu/microcode/core.c
+++ b/arch/x86/kernel/cpu/microcode/core.c
@@@ -251,15 -373,11 +251,18 @@@ static int collect_cpu_info(int cpu
  	return ret;
  }
  
++<<<<<<< HEAD
 +struct apply_microcode_ctx {
 +	int err;
 +};
 +
++=======
++>>>>>>> 854857f5944c (x86/microcode: Get rid of struct apply_microcode_ctx)
  static void apply_microcode_local(void *arg)
  {
- 	struct apply_microcode_ctx *ctx = arg;
+ 	enum ucode_state *err = arg;
  
- 	ctx->err = microcode_ops->apply_microcode(smp_processor_id());
+ 	*err = microcode_ops->apply_microcode(smp_processor_id());
  }
  
  static int apply_microcode_on_target(int cpu)
* Unmerged path arch/x86/kernel/cpu/microcode/core.c
