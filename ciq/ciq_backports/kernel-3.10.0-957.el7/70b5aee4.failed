net: sched: remove ndo_setup_tc check from tc_can_offload

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [net] sched: remove ndo_setup_tc check from tc_can_offload (Ivan Vecera) [1572720]
Rebuild_FUZZ: 95.41%
commit-author Jiri Pirko <jiri@mellanox.com>
commit 70b5aee46782208c14d93b715e9f62f7fec844f1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/70b5aee4.failed

Since tc_can_offload is always called from block callback or egdev
callback, no need to check if ndo_setup_tc exists.

	Signed-off-by: Jiri Pirko <jiri@mellanox.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 70b5aee46782208c14d93b715e9f62f7fec844f1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/net/pkt_cls.h
diff --cc include/net/pkt_cls.h
index c1d9bcb11bff,d15c40c7bde7..000000000000
--- a/include/net/pkt_cls.h
+++ b/include/net/pkt_cls.h
@@@ -514,11 -611,7 +514,15 @@@ struct tc_cls_u32_offload 
  
  static inline bool tc_can_offload(const struct net_device *dev)
  {
++<<<<<<< HEAD
 +	if (!(dev->features & NETIF_F_HW_TC))
 +		return false;
 +	if (!__rh_has_ndo_setup_tc(dev))
 +		return false;
 +	return true;
++=======
+ 	return dev->features & NETIF_F_HW_TC;
++>>>>>>> 70b5aee46782 (net: sched: remove ndo_setup_tc check from tc_can_offload)
  }
  
  static inline bool tc_skip_hw(u32 flags)
* Unmerged path include/net/pkt_cls.h
