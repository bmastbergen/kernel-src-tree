net/sched/sch_prio.c: work around gcc-4.4.4 union initializer issues

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [net] sched: prio: work around gcc-4.4.4 union initializer issues (Ivan Vecera) [1584297]
Rebuild_FUZZ: 89.76%
commit-author Andrew Morton <akpm@linux-foundation.org>
commit ef58ca38dbda0642e293bcaa2e05edc79677c617
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/ef58ca38.failed

gcc-4.4.4 has problems witn anon union initializers.  Work around this.

net/sched/sch_prio.c: In function 'prio_dump_offload':
net/sched/sch_prio.c:260: error: unknown field 'stats' specified in initializer
net/sched/sch_prio.c:260: warning: initialization makes integer from pointer without a cast
net/sched/sch_prio.c:261: error: unknown field 'stats' specified in initializer
net/sched/sch_prio.c:261: warning: initialization makes integer from pointer without a cast

Fixes: 7fdb61b44c0c95 ("net: sch: prio: Add offload ability to PRIO qdisc")
	Cc: Nogah Frankel <nogahf@mellanox.com>
	Cc: Yuval Mintz <yuvalm@mellanox.com>
	Cc: Jiri Pirko <jiri@mellanox.com>
	Cc: David S. Miller <davem@davemloft.net>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit ef58ca38dbda0642e293bcaa2e05edc79677c617)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sched/sch_prio.c
diff --cc net/sched/sch_prio.c
index 2dd6c68ae91e,efbf51f35778..000000000000
--- a/net/sched/sch_prio.c
+++ b/net/sched/sch_prio.c
@@@ -216,7 -247,38 +216,42 @@@ static int prio_init(struct Qdisc *sch
  	if (err)
  		return err;
  
++<<<<<<< HEAD
 +	return prio_tune(sch, opt);
++=======
+ 	return prio_tune(sch, opt, extack);
+ }
+ 
+ static int prio_dump_offload(struct Qdisc *sch)
+ {
+ 	struct net_device *dev = qdisc_dev(sch);
+ 	struct tc_prio_qopt_offload hw_stats = {
+ 		.command = TC_PRIO_STATS,
+ 		.handle = sch->handle,
+ 		.parent = sch->parent,
+ 		{
+ 			.stats = {
+ 				.bstats = &sch->bstats,
+ 				.qstats = &sch->qstats,
+ 			},
+ 		},
+ 	};
+ 	int err;
+ 
+ 	sch->flags &= ~TCQ_F_OFFLOADED;
+ 	if (!tc_can_offload(dev) || !dev->netdev_ops->ndo_setup_tc)
+ 		return 0;
+ 
+ 	err = dev->netdev_ops->ndo_setup_tc(dev, TC_SETUP_QDISC_PRIO,
+ 					    &hw_stats);
+ 	if (err == -EOPNOTSUPP)
+ 		return 0;
+ 
+ 	if (!err)
+ 		sch->flags |= TCQ_F_OFFLOADED;
+ 
+ 	return err;
++>>>>>>> ef58ca38dbda (net/sched/sch_prio.c: work around gcc-4.4.4 union initializer issues)
  }
  
  static int prio_dump(struct Qdisc *sch, struct sk_buff *skb)
* Unmerged path net/sched/sch_prio.c
