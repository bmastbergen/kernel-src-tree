target: Improve size determinations in two functions

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-957.el7
Rebuild_CHGLOG: - [target] Improve size determinations in two functions (Maurizio Lombardi) [1585081]
Rebuild_FUZZ: 91.67%
commit-author Markus Elfring <elfring@users.sourceforge.net>
commit 5d68fb72d3780555752bcf2526f759f953e08bc3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-957.el7/5d68fb72.failed

Replace the specification of two data structures by pointer dereferences
as the parameter for the operator "sizeof" to make the corresponding size
determinations a bit safer according to the Linux coding style convention.

	Signed-off-by: Markus Elfring <elfring@users.sourceforge.net>
	Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
(cherry picked from commit 5d68fb72d3780555752bcf2526f759f953e08bc3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/target/target_core_rd.c
diff --cc drivers/target/target_core_rd.c
index 320738d80ba6,20253d04103f..000000000000
--- a/drivers/target/target_core_rd.c
+++ b/drivers/target/target_core_rd.c
@@@ -46,11 -47,9 +46,16 @@@ static int rd_attach_hba(struct se_hba 
  {
  	struct rd_host *rd_host;
  
++<<<<<<< HEAD
 +	rd_host = kzalloc(sizeof(struct rd_host), GFP_KERNEL);
 +	if (!rd_host) {
 +		pr_err("Unable to allocate memory for struct rd_host\n");
++=======
+ 	rd_host = kzalloc(sizeof(*rd_host), GFP_KERNEL);
+ 	if (!rd_host)
++>>>>>>> 5d68fb72d378 (target: Improve size determinations in two functions)
  		return -ENOMEM;
 +	}
  
  	rd_host->rd_host_id = host_id;
  
@@@ -297,11 -285,9 +302,16 @@@ static struct se_device *rd_alloc_devic
  	struct rd_dev *rd_dev;
  	struct rd_host *rd_host = hba->hba_ptr;
  
++<<<<<<< HEAD
 +	rd_dev = kzalloc(sizeof(struct rd_dev), GFP_KERNEL);
 +	if (!rd_dev) {
 +		pr_err("Unable to allocate memory for struct rd_dev\n");
++=======
+ 	rd_dev = kzalloc(sizeof(*rd_dev), GFP_KERNEL);
+ 	if (!rd_dev)
++>>>>>>> 5d68fb72d378 (target: Improve size determinations in two functions)
  		return NULL;
 +	}
  
  	rd_dev->rd_host = rd_host;
  
* Unmerged path drivers/target/target_core_rd.c
