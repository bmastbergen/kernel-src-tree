ipv6: use ipv6_addr_any() helper

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Cong Wang <xiyou.wangcong@gmail.com>
commit 7996c799ae329fab1b9c8d475fd08883f0499ed9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/7996c799.failed

ipv6_addr_any() is a faster way to determine if an addr
is ipv6 any addr, no need to compute the addr type.

	Cc: Nicolas Dichtel <nicolas.dichtel@6wind.com>
	Cc: Hideaki YOSHIFUJI <yoshfuji@linux-ipv6.org>
	Cc: David S. Miller <davem@davemloft.net>
	Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>
	Acked-by: Nicolas Dichtel <nicolas.dichtel@6wind.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 7996c799ae329fab1b9c8d475fd08883f0499ed9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv6/addrconf.c
diff --cc net/ipv6/addrconf.c
index 99d1b9d37a7f,e05269647c2b..000000000000
--- a/net/ipv6/addrconf.c
+++ b/net/ipv6/addrconf.c
@@@ -4010,12 -3846,12 +4010,18 @@@ static int inet6_fill_ifaddr(struct sk_
  		valid = INFINITY_LIFE_TIME;
  	}
  
++<<<<<<< HEAD
 +	if (ipv6_addr_type(&ifa->peer_addr) != IPV6_ADDR_ANY) {
 +		if (nla_put_in6_addr(skb, IFA_LOCAL, &ifa->addr) < 0 ||
 +		    nla_put_in6_addr(skb, IFA_ADDRESS, &ifa->peer_addr) < 0)
++=======
+ 	if (!ipv6_addr_any(&ifa->peer_addr)) {
+ 		if (nla_put(skb, IFA_LOCAL, 16, &ifa->addr) < 0 ||
+ 		    nla_put(skb, IFA_ADDRESS, 16, &ifa->peer_addr) < 0)
++>>>>>>> 7996c799ae32 (ipv6: use ipv6_addr_any() helper)
  			goto error;
  	} else
 -		if (nla_put(skb, IFA_ADDRESS, 16, &ifa->addr) < 0)
 +		if (nla_put_in6_addr(skb, IFA_ADDRESS, &ifa->addr) < 0)
  			goto error;
  
  	if (put_cacheinfo(skb, ifa->cstamp, ifa->tstamp, preferred, valid) < 0)
* Unmerged path net/ipv6/addrconf.c
