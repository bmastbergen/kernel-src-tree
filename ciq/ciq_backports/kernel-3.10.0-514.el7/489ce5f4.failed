sctp: consolidate local_bh_disable/enable + spin_lock/unlock to _bh variant

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Nicholas Mc Guire <hofrat@osadl.org>
commit 489ce5f441e4094a3419d7e8e29fd756b7f391d4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/489ce5f4.failed

local_bh_disable() + spin_lock() is equivalent to spin_lock_bh(), same for
the unlock/enable case, so replace the calls by the appropriate wrappers.

	Signed-off-by: Nicholas Mc Guire <hofrat@osadl.org>
	Acked-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 489ce5f441e4094a3419d7e8e29fd756b7f391d4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sctp/socket.c
diff --cc net/sctp/socket.c
index 672891929720,f28ecf88cfea..000000000000
--- a/net/sctp/socket.c
+++ b/net/sctp/socket.c
@@@ -7138,14 -7254,12 +7138,22 @@@ static void sctp_sock_migrate(struct so
  	/* Hook this new socket in to the bind_hash list. */
  	head = &sctp_port_hashtable[sctp_phashfn(sock_net(oldsk),
  						 inet_sk(oldsk)->inet_num)];
++<<<<<<< HEAD
 +	sctp_local_bh_disable();
 +	sctp_spin_lock(&head->lock);
++=======
+ 	spin_lock_bh(&head->lock);
++>>>>>>> 489ce5f441e4 (sctp: consolidate local_bh_disable/enable + spin_lock/unlock to _bh variant)
  	pp = sctp_sk(oldsk)->bind_hash;
  	sk_add_bind_node(newsk, &pp->owner);
  	sctp_sk(newsk)->bind_hash = pp;
  	inet_sk(newsk)->inet_num = inet_sk(oldsk)->inet_num;
++<<<<<<< HEAD
 +	sctp_spin_unlock(&head->lock);
 +	sctp_local_bh_enable();
++=======
+ 	spin_unlock_bh(&head->lock);
++>>>>>>> 489ce5f441e4 (sctp: consolidate local_bh_disable/enable + spin_lock/unlock to _bh variant)
  
  	/* Copy the bind_addr list from the original endpoint to the new
  	 * endpoint so that we can handle restarts properly
* Unmerged path net/sctp/socket.c
