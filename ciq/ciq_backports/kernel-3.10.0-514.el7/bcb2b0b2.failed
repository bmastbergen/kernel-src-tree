ACPI: Eliminate CONFIG_.*{, _MODULE} #ifdef in favor of IS_ENABLED()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Sudeep Holla <Sudeep.Holla@arm.com>
commit bcb2b0b2bae2de744223c68521cd51c57feb486c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/bcb2b0b2.failed

This commit removes all CONFIG_.*{,_MODULE} in ACPI code, replacing it
with IS_ENABLED().

	Signed-off-by: Sudeep Holla <sudeep.holla@arm.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit bcb2b0b2bae2de744223c68521cd51c57feb486c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/int340x_thermal.c
#	include/acpi/video.h
diff --cc include/acpi/video.h
index 843ef1adfbfa,c62392d9b52a..000000000000
--- a/include/acpi/video.h
+++ b/include/acpi/video.h
@@@ -16,13 -16,21 +16,25 @@@ struct acpi_device
  #define ACPI_VIDEO_DISPLAY_LEGACY_PANEL   0x0110
  #define ACPI_VIDEO_DISPLAY_LEGACY_TV      0x0200
  
++<<<<<<< HEAD
 +#if (defined CONFIG_ACPI_VIDEO || defined CONFIG_ACPI_VIDEO_MODULE)
++=======
+ enum acpi_backlight_type {
+ 	acpi_backlight_undef = -1,
+ 	acpi_backlight_none = 0,
+ 	acpi_backlight_video,
+ 	acpi_backlight_vendor,
+ 	acpi_backlight_native,
+ };
+ 
+ #if IS_ENABLED(CONFIG_ACPI_VIDEO)
++>>>>>>> bcb2b0b2bae2 (ACPI: Eliminate CONFIG_.*{, _MODULE} #ifdef in favor of IS_ENABLED())
  extern int acpi_video_register(void);
  extern void acpi_video_unregister(void);
 +extern void acpi_video_unregister_backlight(void);
  extern int acpi_video_get_edid(struct acpi_device *device, int type,
  			       int device_id, void **edid);
 -extern enum acpi_backlight_type acpi_video_get_backlight_type(void);
 -extern void acpi_video_set_dmi_backlight_type(enum acpi_backlight_type type);
 +extern bool acpi_video_verify_backlight_support(void);
  #else
  static inline int acpi_video_register(void) { return 0; }
  static inline void acpi_video_unregister(void) { return; }
* Unmerged path drivers/acpi/int340x_thermal.c
diff --git a/drivers/acpi/bus.c b/drivers/acpi/bus.c
index d84686332696..c10c821a0b48 100644
--- a/drivers/acpi/bus.c
+++ b/drivers/acpi/bus.c
@@ -293,14 +293,10 @@ static void acpi_bus_osc_support(void)
 
 	capbuf[OSC_QUERY_DWORD] = OSC_QUERY_ENABLE;
 	capbuf[OSC_SUPPORT_DWORD] = OSC_SB_PR3_SUPPORT; /* _PR3 is in use */
-#if defined(CONFIG_ACPI_PROCESSOR_AGGREGATOR) ||\
-			defined(CONFIG_ACPI_PROCESSOR_AGGREGATOR_MODULE)
-	capbuf[OSC_SUPPORT_DWORD] |= OSC_SB_PAD_SUPPORT;
-#endif
-
-#if defined(CONFIG_ACPI_PROCESSOR) || defined(CONFIG_ACPI_PROCESSOR_MODULE)
-	capbuf[OSC_SUPPORT_DWORD] |= OSC_SB_PPC_OST_SUPPORT;
-#endif
+	if (IS_ENABLED(CONFIG_ACPI_PROCESSOR_AGGREGATOR))
+		capbuf[OSC_SUPPORT_DWORD] |= OSC_SB_PAD_SUPPORT;
+	if (IS_ENABLED(CONFIG_ACPI_PROCESSOR))
+		capbuf[OSC_SUPPORT_DWORD] |= OSC_SB_PPC_OST_SUPPORT;
 
 	capbuf[OSC_SUPPORT_DWORD] |= OSC_SB_HOTPLUG_OST_SUPPORT;
 
* Unmerged path drivers/acpi/int340x_thermal.c
diff --git a/include/acpi/button.h b/include/acpi/button.h
index 97eea0e4c016..1cad8b2d460c 100644
--- a/include/acpi/button.h
+++ b/include/acpi/button.h
@@ -3,7 +3,7 @@
 
 #include <linux/notifier.h>
 
-#if defined(CONFIG_ACPI_BUTTON) || defined(CONFIG_ACPI_BUTTON_MODULE)
+#if IS_ENABLED(CONFIG_ACPI_BUTTON)
 extern int acpi_lid_notifier_register(struct notifier_block *nb);
 extern int acpi_lid_notifier_unregister(struct notifier_block *nb);
 extern int acpi_lid_open(void);
@@ -20,6 +20,6 @@ static inline int acpi_lid_open(void)
 {
 	return 1;
 }
-#endif /* defined(CONFIG_ACPI_BUTTON) || defined(CONFIG_ACPI_BUTTON_MODULE) */
+#endif /* IS_ENABLED(CONFIG_ACPI_BUTTON) */
 
 #endif /* ACPI_BUTTON_H */
* Unmerged path include/acpi/video.h
