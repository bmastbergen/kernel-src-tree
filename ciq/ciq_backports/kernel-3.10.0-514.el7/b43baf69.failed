mei: free me client references on host init

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Tomas Winkler <tomas.winkler@intel.com>
commit b43baf694fde30dc2db2386c347324d1a013f3d1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/b43baf69.failed

Fx fixes leak introduced by:
commit b7d885145538 ("mei: revamp me clients list handling")

	Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit b43baf694fde30dc2db2386c347324d1a013f3d1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/misc/mei/client.c
diff --cc drivers/misc/mei/client.c
index 3c539de435ba,b6fec4d15307..000000000000
--- a/drivers/misc/mei/client.c
+++ b/drivers/misc/mei/client.c
@@@ -401,17 -664,22 +401,34 @@@ void mei_host_client_init(struct work_s
  
  	mutex_lock(&dev->device_lock);
  
 -
 +	for (i = 0; i < dev->me_clients_num; i++) {
 +		client_props = &dev->me_clients[i].props;
 +
++<<<<<<< HEAD
 +		if (!uuid_le_cmp(client_props->protocol_name, mei_amthif_guid))
 +			mei_amthif_host_init(dev);
 +		else if (!uuid_le_cmp(client_props->protocol_name, mei_wd_guid))
 +			mei_wd_host_init(dev);
 +		else if (!uuid_le_cmp(client_props->protocol_name, mei_nfc_guid))
 +			mei_nfc_host_init(dev);
++=======
+ 	me_cl = mei_me_cl_by_uuid(dev, &mei_amthif_guid);
+ 	if (me_cl)
+ 		mei_amthif_host_init(dev);
+ 	mei_me_cl_put(me_cl);
+ 
+ 	me_cl = mei_me_cl_by_uuid(dev, &mei_wd_guid);
+ 	if (me_cl)
+ 		mei_wd_host_init(dev);
+ 	mei_me_cl_put(me_cl);
+ 
+ 	me_cl = mei_me_cl_by_uuid(dev, &mei_nfc_guid);
+ 	if (me_cl)
+ 		mei_nfc_host_init(dev);
+ 	mei_me_cl_put(me_cl);
++>>>>>>> b43baf694fde (mei: free me client references on host init)
  
 +	}
  
  	dev->dev_state = MEI_DEV_ENABLED;
  	dev->reset_count = 0;
* Unmerged path drivers/misc/mei/client.c
