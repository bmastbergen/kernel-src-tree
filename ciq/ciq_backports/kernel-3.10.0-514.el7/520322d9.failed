mmc: It is not an error for the card to be removed while suspended

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [mmc] It is not an error for the card to be removed while suspended (Don Zickus) [1127975 1277866 1280133 1286932 1297039]
Rebuild_FUZZ: 96.06%
commit-author Adrian Hunter <adrian.hunter@intel.com>
commit 520322d92eab66b6fee562557fdd201b01cd6240
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/520322d9.failed

A card can be removed while it is runtime suspended.
Do not print an error message.

	Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit 520322d92eab66b6fee562557fdd201b01cd6240)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/mmc.c
#	drivers/mmc/core/sd.c
diff --cc drivers/mmc/core/mmc.c
index de6bcae94d53,bf49e44571f2..000000000000
--- a/drivers/mmc/core/mmc.c
+++ b/drivers/mmc/core/mmc.c
@@@ -1673,12 -1934,9 +1673,17 @@@ static int mmc_runtime_resume(struct mm
  {
  	int err;
  
 +	if (!(host->caps & (MMC_CAP_AGGRESSIVE_PM | MMC_CAP_RUNTIME_RESUME)))
 +		return 0;
 +
  	err = _mmc_resume(host);
++<<<<<<< HEAD
 +	if (err)
 +		pr_err("%s: error %d doing aggessive resume\n",
++=======
+ 	if (err && err != -ENOMEDIUM)
+ 		pr_err("%s: error %d doing runtime resume\n",
++>>>>>>> 520322d92eab (mmc: It is not an error for the card to be removed while suspended)
  			mmc_hostname(host), err);
  
  	return 0;
diff --cc drivers/mmc/core/sd.c
index 0aa8262f3f5e,f2b164b214ae..000000000000
--- a/drivers/mmc/core/sd.c
+++ b/drivers/mmc/core/sd.c
@@@ -1187,12 -1157,9 +1187,17 @@@ static int mmc_sd_runtime_resume(struc
  {
  	int err;
  
 +	if (!(host->caps & (MMC_CAP_AGGRESSIVE_PM | MMC_CAP_RUNTIME_RESUME)))
 +		return 0;
 +
  	err = _mmc_sd_resume(host);
++<<<<<<< HEAD
 +	if (err)
 +		pr_err("%s: error %d doing aggessive resume\n",
++=======
+ 	if (err && err != -ENOMEDIUM)
+ 		pr_err("%s: error %d doing runtime resume\n",
++>>>>>>> 520322d92eab (mmc: It is not an error for the card to be removed while suspended)
  			mmc_hostname(host), err);
  
  	return 0;
* Unmerged path drivers/mmc/core/mmc.c
* Unmerged path drivers/mmc/core/sd.c
