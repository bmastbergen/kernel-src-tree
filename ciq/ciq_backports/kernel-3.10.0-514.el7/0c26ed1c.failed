netfilter: nf_log: Introduce nft_log_dereference() macro

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Marcelo Leitner <mleitner@redhat.com>
commit 0c26ed1c07f13ca27e2638ffdd1951013ed96c48
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0c26ed1c.failed

Wrap up a common call pattern in an easier to handle call.

	Signed-off-by: Marcelo Ricardo Leitner <mleitner@redhat.com>
	Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
(cherry picked from commit 0c26ed1c07f13ca27e2638ffdd1951013ed96c48)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/netfilter/nf_log.c
diff --cc net/netfilter/nf_log.c
index 4a888f192301,5eaf047ed37f..000000000000
--- a/net/netfilter/nf_log.c
+++ b/net/netfilter/nf_log.c
@@@ -28,9 -31,8 +31,14 @@@ static struct nf_logger *__find_logger(
  		if (loggers[pf][i] == NULL)
  			continue;
  
++<<<<<<< HEAD
 +		log = rcu_dereference_protected(loggers[pf][i],
 +						lockdep_is_held(&nf_log_mutex));
 +		if (!strnicmp(str_logger, log->name, strlen(log->name)))
++=======
+ 		log = nft_log_dereference(loggers[pf][i]);
+ 		if (!strncasecmp(str_logger, log->name, strlen(log->name)))
++>>>>>>> 0c26ed1c07f1 (netfilter: nf_log: Introduce nft_log_dereference() macro)
  			return log;
  	}
  
* Unmerged path net/netfilter/nf_log.c
