perf tools: Do not include stringify.h from the kernel sources

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 531d2410635ce290bee215f4bf9ec8ca98cf7302
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/531d2410.failed

Use instead the copy just made to tools/include/linux/.

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/n/tip-q736w12nwy98x5ox2hamp5ow@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 531d2410635ce290bee215f4bf9ec8ca98cf7302)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/util.h
diff --cc tools/perf/util/util.h
index 66e3b5143ec3,835b8ceca041..000000000000
--- a/tools/perf/util/util.h
+++ b/tools/perf/util/util.h
@@@ -131,23 -133,15 +131,27 @@@ extern char buildid_dir[]
  #define PERF_GTK_DSO  "libperf-gtk.so"
  
  /* General helper functions */
 -void usage(const char *err) NORETURN;
 -void die(const char *err, ...) NORETURN __attribute__((format (printf, 1, 2)));
 -int error(const char *err, ...) __attribute__((format (printf, 1, 2)));
 -void warning(const char *err, ...) __attribute__((format (printf, 1, 2)));
 +extern void usage(const char *err) NORETURN;
 +extern void die(const char *err, ...) NORETURN __attribute__((format (printf, 1, 2)));
 +extern int error(const char *err, ...) __attribute__((format (printf, 1, 2)));
 +extern void warning(const char *err, ...) __attribute__((format (printf, 1, 2)));
  
++<<<<<<< HEAD
 +#include "../../../include/linux/stringify.h"
 +
 +extern void set_warning_routine(void (*routine)(const char *err, va_list params));
++=======
+ void set_warning_routine(void (*routine)(const char *err, va_list params));
++>>>>>>> 531d2410635c (perf tools: Do not include stringify.h from the kernel sources)
 +
 +extern int prefixcmp(const char *str, const char *prefix);
 +extern void set_buildid_dir(const char *dir);
  
 -int prefixcmp(const char *str, const char *prefix);
 -void set_buildid_dir(const char *dir);
 +static inline const char *skip_prefix(const char *str, const char *prefix)
 +{
 +	size_t len = strlen(prefix);
 +	return strncmp(str, prefix, len) ? NULL : str + len;
 +}
  
  #ifdef __GLIBC_PREREQ
  #if __GLIBC_PREREQ(2, 1)
diff --git a/tools/perf/arch/powerpc/util/header.c b/tools/perf/arch/powerpc/util/header.c
index 6c1b8a75db09..6138bdef6e63 100644
--- a/tools/perf/arch/powerpc/util/header.c
+++ b/tools/perf/arch/powerpc/util/header.c
@@ -3,9 +3,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
-
-#include "../../util/header.h"
-#include "../../util/util.h"
+#include <linux/stringify.h>
 
 #define mfspr(rn)       ({unsigned long rval; \
 			 asm volatile("mfspr %0," __stringify(rn) \
diff --git a/tools/perf/builtin-report.c b/tools/perf/builtin-report.c
index 96f72e0d4517..568f644b9517 100644
--- a/tools/perf/builtin-report.c
+++ b/tools/perf/builtin-report.c
@@ -40,6 +40,7 @@
 
 #include <dlfcn.h>
 #include <linux/bitmap.h>
+#include <linux/stringify.h>
 
 struct report {
 	struct perf_tool	tool;
diff --git a/tools/perf/builtin-top.c b/tools/perf/builtin-top.c
index f332fe315310..1a900811a95e 100644
--- a/tools/perf/builtin-top.c
+++ b/tools/perf/builtin-top.c
@@ -66,6 +66,7 @@
 #include <sys/utsname.h>
 #include <sys/mman.h>
 
+#include <linux/stringify.h>
 #include <linux/types.h>
 
 static volatile int done;
* Unmerged path tools/perf/util/util.h
