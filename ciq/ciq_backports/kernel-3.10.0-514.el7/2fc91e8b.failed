mmc: core: Remove the redundant mmc_send_ext_csd() API

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Ulf Hansson <ulf.hansson@linaro.org>
commit 2fc91e8b0e1cd89094677d1c9dfba1b26979e48b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/2fc91e8b.failed

Previous patches has replaced the calls to mmc_send_ext_csd() into
mmc_get_ext_csd(), thus mmc_send_ext_csd() has become redundant. Let's
remove it.

	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit 2fc91e8b0e1cd89094677d1c9dfba1b26979e48b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/mmc_ops.c
#	include/linux/mmc/core.h
diff --cc drivers/mmc/core/mmc_ops.c
index ba0275e90617,9a6181bf0c06..000000000000
--- a/drivers/mmc/core/mmc_ops.c
+++ b/drivers/mmc/core/mmc_ops.c
@@@ -378,12 -378,35 +378,44 @@@ err
  	return ret;
  }
  
++<<<<<<< HEAD
 +int mmc_send_ext_csd(struct mmc_card *card, u8 *ext_csd)
 +{
 +	return mmc_send_cxd_data(card, card->host, MMC_SEND_EXT_CSD,
 +			ext_csd, 512);
 +}
 +EXPORT_SYMBOL_GPL(mmc_send_ext_csd);
++=======
+ int mmc_get_ext_csd(struct mmc_card *card, u8 **new_ext_csd)
+ {
+ 	int err;
+ 	u8 *ext_csd;
+ 
+ 	if (!card || !new_ext_csd)
+ 		return -EINVAL;
+ 
+ 	if (!mmc_can_ext_csd(card))
+ 		return -EOPNOTSUPP;
+ 
+ 	/*
+ 	 * As the ext_csd is so large and mostly unused, we don't store the
+ 	 * raw block in mmc_card.
+ 	 */
+ 	ext_csd = kmalloc(512, GFP_KERNEL);
+ 	if (!ext_csd)
+ 		return -ENOMEM;
+ 
+ 	err = mmc_send_cxd_data(card, card->host, MMC_SEND_EXT_CSD, ext_csd,
+ 				512);
+ 	if (err)
+ 		kfree(ext_csd);
+ 	else
+ 		*new_ext_csd = ext_csd;
+ 
+ 	return err;
+ }
+ EXPORT_SYMBOL_GPL(mmc_get_ext_csd);
++>>>>>>> 2fc91e8b0e1c (mmc: core: Remove the redundant mmc_send_ext_csd() API)
  
  int mmc_spi_read_ocr(struct mmc_host *host, int highcap, u32 *ocrp)
  {
diff --cc include/linux/mmc/core.h
index f206e29f94d7,b11e43c10631..000000000000
--- a/include/linux/mmc/core.h
+++ b/include/linux/mmc/core.h
@@@ -154,7 -154,7 +154,11 @@@ extern void mmc_start_bkops(struct mmc_
  extern int __mmc_switch(struct mmc_card *, u8, u8, u8, unsigned int, bool,
  			bool, bool);
  extern int mmc_switch(struct mmc_card *, u8, u8, u8, unsigned int);
++<<<<<<< HEAD
 +extern int mmc_send_ext_csd(struct mmc_card *card, u8 *ext_csd);
++=======
+ extern int mmc_get_ext_csd(struct mmc_card *card, u8 **new_ext_csd);
++>>>>>>> 2fc91e8b0e1c (mmc: core: Remove the redundant mmc_send_ext_csd() API)
  
  #define MMC_ERASE_ARG		0x00000000
  #define MMC_SECURE_ERASE_ARG	0x80000000
* Unmerged path drivers/mmc/core/mmc_ops.c
* Unmerged path include/linux/mmc/core.h
