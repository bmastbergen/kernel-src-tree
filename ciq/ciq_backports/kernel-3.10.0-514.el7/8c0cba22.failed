xfrm: Take xfrm_state_lock in xfrm_migrate_state_find

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Steffen Klassert <steffen.klassert@secunet.com>
commit 8c0cba22e196122d26c92980943474eb53db8deb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/8c0cba22.failed

A comment on xfrm_migrate_state_find() says that xfrm_state_lock
is held. This is apparently not the case, but we need it to
traverse through the state lists.

	Signed-off-by: Steffen Klassert <steffen.klassert@secunet.com>
(cherry picked from commit 8c0cba22e196122d26c92980943474eb53db8deb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/xfrm/xfrm_state.c
diff --cc net/xfrm/xfrm_state.c
index 22bd6bd00772,c101023be3d2..000000000000
--- a/net/xfrm/xfrm_state.c
+++ b/net/xfrm/xfrm_state.c
@@@ -1209,7 -1215,6 +1209,10 @@@ out
  	return NULL;
  }
  
++<<<<<<< HEAD
 +/* net->xfrm_state_lock is held */
++=======
++>>>>>>> 8c0cba22e196 (xfrm: Take xfrm_state_lock in xfrm_migrate_state_find)
  struct xfrm_state *xfrm_migrate_state_find(struct xfrm_migrate *m, struct net *net)
  {
  	unsigned int h;
* Unmerged path net/xfrm/xfrm_state.c
