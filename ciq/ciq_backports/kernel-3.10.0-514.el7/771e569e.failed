powerpc: dart_iommu: Remove check for controller_ops == NULL case

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [powerpc] dart_iommu: Remove check for controller_ops == NULL case (Gustavo Duarte) [1275657]
Rebuild_FUZZ: 92.56%
commit-author Daniel Axtens <dja@axtens.net>
commit 771e569e8200ab6f5cdbcd6513f7a476718bb44d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/771e569e.failed

Now that we have ported the calls to iommu_init_early_dart to always
supply a pci_controller_ops struct, we can safely drop the check.

	Signed-off-by: Daniel Axtens <dja@axtens.net>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit 771e569e8200ab6f5cdbcd6513f7a476718bb44d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/sysdev/dart_iommu.c
diff --cc arch/powerpc/sysdev/dart_iommu.c
index b5816af2dabb,d00a5663e312..000000000000
--- a/arch/powerpc/sysdev/dart_iommu.c
+++ b/arch/powerpc/sysdev/dart_iommu.c
@@@ -386,25 -395,17 +386,36 @@@ void __init iommu_init_early_dart(struc
  	if (dart_is_u4)
  		ppc_md.dma_set_mask = dart_dma_set_mask;
  
++<<<<<<< HEAD
 +	if (controller_ops) {
 +		controller_ops->dma_dev_setup = pci_dma_dev_setup_dart;
 +		controller_ops->dma_bus_setup = pci_dma_bus_setup_dart;
 +	} else {
 +		ppc_md.pci_dma_dev_setup = pci_dma_dev_setup_dart;
 +		ppc_md.pci_dma_bus_setup = pci_dma_bus_setup_dart;
 +	}
++=======
+ 	controller_ops->dma_dev_setup = pci_dma_dev_setup_dart;
+ 	controller_ops->dma_bus_setup = pci_dma_bus_setup_dart;
+ 
++>>>>>>> 771e569e8200 (powerpc: dart_iommu: Remove check for controller_ops == NULL case)
  	/* Setup pci_dma ops */
  	set_pci_dma_ops(&dma_iommu_ops);
  	return;
  
   bail:
  	/* If init failed, use direct iommu and null setup functions */
++<<<<<<< HEAD
 +	if (controller_ops) {
 +		controller_ops->dma_dev_setup = NULL;
 +		controller_ops->dma_bus_setup = NULL;
 +	}
 +	ppc_md.pci_dma_dev_setup = NULL;
 +	ppc_md.pci_dma_bus_setup = NULL;
++=======
+ 	controller_ops->dma_dev_setup = NULL;
+ 	controller_ops->dma_bus_setup = NULL;
++>>>>>>> 771e569e8200 (powerpc: dart_iommu: Remove check for controller_ops == NULL case)
  
  	/* Setup pci_dma ops */
  	set_pci_dma_ops(&dma_direct_ops);
* Unmerged path arch/powerpc/sysdev/dart_iommu.c
