pinctrl: baytrail: Be sure to clamp return value

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [pinctrl] baytrail: Be sure to clamp return value (Prarit Bhargava) [1339663]
Rebuild_FUZZ: 89.66%
commit-author Linus Walleij <linus.walleij@linaro.org>
commit 3bde87714e79c7ff342e98ccafca07d69d91c7b8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/3bde8771.failed

As we want gpio_chip .get() calls to be able to return negative
error codes and propagate to drivers, we need to go over all
drivers and make sure their return values are clamped to [0,1].
We do this by using the ret = !!(val) design pattern.

	Acked-by: Mika Westerberg <mika.westerberg@linux.intel.com>
	Acked-by: Heikki Krogerus <heikki.krogerus@linux.intel.com>
	Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
(cherry picked from commit 3bde87714e79c7ff342e98ccafca07d69d91c7b8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/pinctrl/pinctrl-baytrail.c
diff --cc drivers/pinctrl/pinctrl-baytrail.c
index ad68bcc7f9f9,1fe9c1989353..000000000000
--- a/drivers/pinctrl/pinctrl-baytrail.c
+++ b/drivers/pinctrl/pinctrl-baytrail.c
@@@ -272,7 -273,15 +272,19 @@@ static int byt_irq_type(struct irq_dat
  static int byt_gpio_get(struct gpio_chip *chip, unsigned offset)
  {
  	void __iomem *reg = byt_gpio_reg(chip, offset, BYT_VAL_REG);
++<<<<<<< HEAD:drivers/pinctrl/pinctrl-baytrail.c
 +	return readl(reg) & BYT_LEVEL;
++=======
+ 	struct byt_gpio *vg = to_byt_gpio(chip);
+ 	unsigned long flags;
+ 	u32 val;
+ 
+ 	raw_spin_lock_irqsave(&vg->lock, flags);
+ 	val = readl(reg);
+ 	raw_spin_unlock_irqrestore(&vg->lock, flags);
+ 
+ 	return !!(val & BYT_LEVEL);
++>>>>>>> 3bde87714e79 (pinctrl: baytrail: Be sure to clamp return value):drivers/pinctrl/intel/pinctrl-baytrail.c
  }
  
  static void byt_gpio_set(struct gpio_chip *chip, unsigned offset, int value)
* Unmerged path drivers/pinctrl/pinctrl-baytrail.c
