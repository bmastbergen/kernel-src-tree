nfs: clean up rest of reqs when failing to add one

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Peng Tao <tao.peng@primarydata.com>
commit c18b96a1b8629db8cf5ac9f8974ccb4abcc209ab
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/c18b96a1.failed

If we fail to set up things before sending anything over wire,
we need to clean up the reqs that are still attached to the
IO descriptor.

	Signed-off-by: Peng Tao <tao.peng@primarydata.com>
	Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
(cherry picked from commit c18b96a1b8629db8cf5ac9f8974ccb4abcc209ab)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfs/pagelist.c
diff --cc fs/nfs/pagelist.c
index e9e1ba73f39d,13faa303eb3b..000000000000
--- a/fs/nfs/pagelist.c
+++ b/fs/nfs/pagelist.c
@@@ -1152,6 -1153,8 +1153,11 @@@ int nfs_pageio_add_request(struct nfs_p
  	bytes = req->wb_bytes;
  
  	nfs_pageio_setup_mirroring(desc, req);
++<<<<<<< HEAD
++=======
+ 	if (desc->pg_error < 0)
+ 		goto out_failed;
++>>>>>>> c18b96a1b862 (nfs: clean up rest of reqs when failing to add one)
  
  	for (midx = 0; midx < desc->pg_mirror_count; midx++) {
  		if (midx) {
* Unmerged path fs/nfs/pagelist.c
