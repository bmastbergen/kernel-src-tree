PM / Kconfig: Replace PM_RUNTIME with PM in dependencies

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Rafael J. Wysocki <rafael.j.wysocki@intel.com>
commit 1b3e3aa6c5c7a86ae09459f5734283b991dd7939
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/1b3e3aa6.failed

After commit b2b49ccbdd54 (PM: Kconfig: Set PM_RUNTIME if PM_SLEEP is
selected) PM_RUNTIME is always set if PM is set, so Kconfig options
depending on CONFIG_PM_RUNTIME may now be changed to depend on
CONFIG_PM.

Replace PM_RUNTIME with PM in Kconfig dependencies throughout the
tree.

	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
	Acked-by: Felipe Balbi <balbi@ti.com>
	Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
	Acked-by: Tejun Heo <tj@kernel.org>
(cherry picked from commit 1b3e3aa6c5c7a86ae09459f5734283b991dd7939)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm/mach-exynos/Kconfig
#	arch/ia64/Kconfig
#	drivers/ata/Kconfig
#	drivers/media/platform/Kconfig
#	drivers/media/platform/s5p-tv/Kconfig
#	drivers/staging/gdm72xx/Kconfig
#	drivers/usb/phy/Kconfig
diff --cc arch/arm/mach-exynos/Kconfig
index ff18fc2ea46f,bb9c56e44a7b..000000000000
--- a/arch/arm/mach-exynos/Kconfig
+++ b/arch/arm/mach-exynos/Kconfig
@@@ -7,9 -7,34 +7,33 @@@
  
  # Configuration options for the EXYNOS4
  
++<<<<<<< HEAD
++=======
+ menuconfig ARCH_EXYNOS
+ 	bool "Samsung EXYNOS" if ARCH_MULTI_V7
+ 	select ARCH_HAS_BANDGAP
+ 	select ARCH_HAS_HOLES_MEMORYMODEL
+ 	select ARCH_REQUIRE_GPIOLIB
+ 	select ARM_AMBA
+ 	select ARM_GIC
+ 	select COMMON_CLK_SAMSUNG
+ 	select HAVE_ARM_SCU if SMP
+ 	select HAVE_S3C2410_I2C if I2C
+ 	select HAVE_S3C2410_WATCHDOG if WATCHDOG
+ 	select HAVE_S3C_RTC if RTC_CLASS
+ 	select PINCTRL
+ 	select PINCTRL_EXYNOS
+ 	select PM_GENERIC_DOMAINS if PM
+ 	select S5P_DEV_MFC
+ 	select SRAM
+ 	select MFD_SYSCON
+ 	help
+ 	  Support for SAMSUNG EXYNOS SoCs (EXYNOS4/5)
+ 
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  if ARCH_EXYNOS
  
 -config ARCH_EXYNOS3
 -	bool "SAMSUNG EXYNOS3"
 -	select ARM_CPU_SUSPEND if PM
 -	help
 -	  Samsung EXYNOS3 (Crotex-A7) SoC based systems
 +menu "SAMSUNG EXYNOS SoCs Support"
  
  config ARCH_EXYNOS4
  	bool "SAMSUNG EXYNOS4"
diff --cc arch/ia64/Kconfig
index cc595fb7224a,ce9531ed44db..000000000000
--- a/arch/ia64/Kconfig
+++ b/arch/ia64/Kconfig
@@@ -229,14 -232,7 +229,18 @@@ config IA64_SGI_U
  config IA64_HP_SIM
  	bool "Ski-simulator"
  	select SWIOTLB
++<<<<<<< HEAD
 +
 +config IA64_XEN_GUEST
 +	bool "Xen guest"
 +	select SWIOTLB
 +	depends on XEN
 +	help
 +	  Build a kernel that runs on Xen guest domain. At this moment only
 +	  16KB page size in supported.
++=======
+ 	depends on !PM
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  
  endchoice
  
diff --cc drivers/ata/Kconfig
index 5d821f7aca1e,a3a13605a9c4..000000000000
--- a/drivers/ata/Kconfig
+++ b/drivers/ata/Kconfig
@@@ -60,7 -61,7 +60,11 @@@ config ATA_ACP
  
  config SATA_ZPODD
  	bool "SATA Zero Power Optical Disc Drive (ZPODD) support"
++<<<<<<< HEAD
 +	depends on ATA_ACPI
++=======
+ 	depends on ATA_ACPI && PM
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  	default n
  	help
  	  This option adds support for SATA Zero Power Optical Disc
diff --cc drivers/media/platform/Kconfig
index 0494d2769fd7,1412c3edd5a2..000000000000
--- a/drivers/media/platform/Kconfig
+++ b/drivers/media/platform/Kconfig
@@@ -112,7 -112,9 +112,13 @@@ config VIDEO_OMAP3_DEBU
  config VIDEO_S3C_CAMIF
  	tristate "Samsung S3C24XX/S3C64XX SoC Camera Interface driver"
  	depends on VIDEO_V4L2 && I2C && VIDEO_V4L2_SUBDEV_API
++<<<<<<< HEAD
 +	depends on (PLAT_S3C64XX || PLAT_S3C24XX) && PM_RUNTIME
++=======
+ 	depends on PM
+ 	depends on ARCH_S3C64XX || PLAT_S3C24XX || COMPILE_TEST
+ 	depends on HAS_DMA
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  	select VIDEOBUF2_DMA_CONTIG
  	---help---
  	  This is a v4l2 driver for s3c24xx and s3c64xx SoC series camera
diff --cc drivers/media/platform/s5p-tv/Kconfig
index 7b659bd09bfd,5a1835dd65e8..000000000000
--- a/drivers/media/platform/s5p-tv/Kconfig
+++ b/drivers/media/platform/s5p-tv/Kconfig
@@@ -8,7 -8,8 +8,12 @@@
  
  config VIDEO_SAMSUNG_S5P_TV
  	bool "Samsung TV driver for S5P platform"
++<<<<<<< HEAD
 +	depends on PLAT_S5P && PM_RUNTIME
++=======
+ 	depends on PM
+ 	depends on ARCH_S5PV210 || ARCH_EXYNOS || COMPILE_TEST
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  	default n
  	---help---
  	  Say Y here to enable selecting the TV output devices for
diff --cc drivers/staging/gdm72xx/Kconfig
index 69059138de4a,bf11a7fbfc51..000000000000
--- a/drivers/staging/gdm72xx/Kconfig
+++ b/drivers/staging/gdm72xx/Kconfig
@@@ -38,8 -52,11 +38,16 @@@ endchoic
  if WIMAX_GDM72XX_USB
  
  config WIMAX_GDM72XX_USB_PM
++<<<<<<< HEAD
 +	bool "Enable power managerment support"
 +	depends on PM_RUNTIME
++=======
+ 	bool "Enable power management support"
+ 	depends on PM
+ 	help
+ 	  Enable USB power management in order to reduce power consumption
+ 	  while the interface is not in use.
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  
  endif # WIMAX_GDM72XX_USB
  
diff --cc drivers/usb/phy/Kconfig
index d79d8a378d8c,c6d0c8e745b9..000000000000
--- a/drivers/usb/phy/Kconfig
+++ b/drivers/usb/phy/Kconfig
@@@ -20,7 -20,7 +20,11 @@@ config AB8500_US
  
  config FSL_USB2_OTG
  	bool "Freescale USB OTG Transceiver Driver"
++<<<<<<< HEAD
 +	depends on USB_EHCI_FSL && USB_FSL_USB2 && PM_RUNTIME
++=======
+ 	depends on USB_EHCI_FSL && USB_FSL_USB2 && USB_OTG_FSM && PM
++>>>>>>> 1b3e3aa6c5c7 (PM / Kconfig: Replace PM_RUNTIME with PM in dependencies)
  	select USB_OTG
  	select USB_PHY
  	help
* Unmerged path arch/arm/mach-exynos/Kconfig
* Unmerged path arch/ia64/Kconfig
* Unmerged path drivers/ata/Kconfig
* Unmerged path drivers/media/platform/Kconfig
* Unmerged path drivers/media/platform/s5p-tv/Kconfig
* Unmerged path drivers/staging/gdm72xx/Kconfig
diff --git a/drivers/usb/core/Kconfig b/drivers/usb/core/Kconfig
index d0a60bbd70a5..879c74c5cfc1 100644
--- a/drivers/usb/core/Kconfig
+++ b/drivers/usb/core/Kconfig
@@ -44,7 +44,7 @@ config USB_DYNAMIC_MINORS
 
 config USB_OTG
 	bool "OTG support"
-	depends on PM_RUNTIME
+	depends on PM
 	default n
 	help
 	  The most notable feature of USB OTG is support for a
* Unmerged path drivers/usb/phy/Kconfig
diff --git a/drivers/usb/storage/Kconfig b/drivers/usb/storage/Kconfig
index 13b5bfbaf951..eea0241a8192 100644
--- a/drivers/usb/storage/Kconfig
+++ b/drivers/usb/storage/Kconfig
@@ -43,7 +43,7 @@ config USB_STORAGE_REALTEK
 
 config REALTEK_AUTOPM
 	bool "Realtek Card Reader autosuspend support"
-	depends on USB_STORAGE_REALTEK && PM_RUNTIME
+	depends on USB_STORAGE_REALTEK && PM
 	default y
 
 config USB_STORAGE_DATAFAB
