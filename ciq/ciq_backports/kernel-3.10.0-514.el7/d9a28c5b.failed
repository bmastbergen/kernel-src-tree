r8152: redefine REALTEK_USB_DEVICE

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author hayeswang <hayeswang@realtek.com>
commit d9a28c5b4c9a69f3036743bed36902b45dd39f1d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/d9a28c5b.failed

Redefine REALTEK_USB_DEVICE for the desired USB interface for probe().
There are three USB interfaces for the device. USB_CLASS_COMM and
USB_CLASS_CDC_DATA are for ECM mode (config #2). USB_CLASS_VENDOR_SPEC
is for the vendor mode (config #1). However, we are not interesting
in USB_CLASS_CDC_DATA for probe(), so redefine REALTEK_USB_DEVICE
to ignore the USB interface class of USB_CLASS_CDC_DATA.

	Signed-off-by: Hayes Wang <hayeswang@realtek.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit d9a28c5b4c9a69f3036743bed36902b45dd39f1d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/r8152.c
diff --cc drivers/net/usb/r8152.c
index 74303b429023,2d1c77e81836..000000000000
--- a/drivers/net/usb/r8152.c
+++ b/drivers/net/usb/r8152.c
@@@ -25,11 -24,12 +25,12 @@@
  #include <net/ip6_checksum.h>
  #include <uapi/linux/mdio.h>
  #include <linux/mdio.h>
+ #include <linux/usb/cdc.h>
  
  /* Version Information */
 -#define DRIVER_VERSION "v1.07.0 (2014/10/09)"
 +#define DRIVER_VERSION "v1.06.0 (2014/03/03)"
  #define DRIVER_AUTHOR "Realtek linux nic maintainers <nic_swsd@realtek.com>"
 -#define DRIVER_DESC "Realtek RTL8152/RTL8153 Based USB Ethernet Adapters"
 +#define DRIVER_DESC "Realtek RTL8152 Based USB 2.0 Ethernet Adapters"
  #define MODULENAME "r8152"
  
  #define R8152_PHY_ID		32
@@@ -454,6 -467,22 +455,25 @@@ enum rtl8152_flags 
  #define MCU_TYPE_PLA			0x0100
  #define MCU_TYPE_USB			0x0000
  
++<<<<<<< HEAD
++=======
+ struct tally_counter {
+ 	__le64	tx_packets;
+ 	__le64	rx_packets;
+ 	__le64	tx_errors;
+ 	__le32	rx_errors;
+ 	__le16	rx_missed;
+ 	__le16	align_errors;
+ 	__le32	tx_one_collision;
+ 	__le32	tx_multi_collision;
+ 	__le64	rx_unicast;
+ 	__le64	rx_broadcast;
+ 	__le32	rx_multicast;
+ 	__le16	tx_aborted;
+ 	__le16	tx_underrun;
+ };
+ 
++>>>>>>> d9a28c5b4c9a (r8152: redefine REALTEK_USB_DEVICE)
  struct rx_desc {
  	__le32 opts1;
  #define RX_LEN_MASK			0x7fff
* Unmerged path drivers/net/usb/r8152.c
