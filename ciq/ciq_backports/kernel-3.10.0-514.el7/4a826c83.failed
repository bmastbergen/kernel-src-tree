libnvdimm: namespace indices: read and validate

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Dan Williams <dan.j.williams@intel.com>
commit 4a826c83db4edc040da3a66dbefd53f0cfcf457d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/4a826c83.failed

This on media label format [1] consists of two index blocks followed by
an array of labels.  None of these structures are ever updated in place.
A sequence number tracks the current active index and the next one to
write, while labels are written to free slots.

    +------------+
    |            |
    |  nsindex0  |
    |            |
    +------------+
    |            |
    |  nsindex1  |
    |            |
    +------------+
    |   label0   |
    +------------+
    |   label1   |
    +------------+
    |            |
     ....nslot...
    |            |
    +------------+
    |   labelN   |
    +------------+

After reading valid labels, store the dpa ranges they claim into
per-dimm resource trees.

[1]: http://pmem.io/documents/NVDIMM_Namespace_Spec.pdf

	Cc: Neil Brown <neilb@suse.de>
	Acked-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
(cherry picked from commit 4a826c83db4edc040da3a66dbefd53f0cfcf457d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/block/label.c
#	drivers/block/label.h
#	drivers/nvdimm/Makefile
#	drivers/nvdimm/dimm.c
#	drivers/nvdimm/dimm_devs.c
#	drivers/nvdimm/nd.h
#	include/uapi/linux/ndctl.h
* Unmerged path drivers/block/label.c
* Unmerged path drivers/block/label.h
* Unmerged path drivers/nvdimm/Makefile
* Unmerged path drivers/nvdimm/dimm.c
* Unmerged path drivers/nvdimm/dimm_devs.c
* Unmerged path drivers/nvdimm/nd.h
* Unmerged path include/uapi/linux/ndctl.h
* Unmerged path drivers/block/label.c
* Unmerged path drivers/block/label.h
* Unmerged path drivers/nvdimm/Makefile
* Unmerged path drivers/nvdimm/dimm.c
* Unmerged path drivers/nvdimm/dimm_devs.c
* Unmerged path drivers/nvdimm/nd.h
* Unmerged path include/uapi/linux/ndctl.h
