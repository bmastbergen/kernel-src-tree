ACPI / LPSS: Add Intel BayTrail ACPI mode PWM

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Chew, Chiau Ee <chiau.ee.chew@intel.com>
commit e1c7481797542f4d2039d5a458ef80603298ad78
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/e1c74817.failed

Intel BayTrail LPSS consists of two PWM controllers which can
be enumerated from ACPI namespace. This change will cause
platform device objects to be created for Intel BayTrail PWM
controllers which will allow the pwm-lpss driver to bind to them
and handle those devices.

	Signed-off-by: Chew, Chiau Ee <chiau.ee.chew@intel.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit e1c7481797542f4d2039d5a458ef80603298ad78)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/acpi_lpss.c
diff --cc drivers/acpi/acpi_lpss.c
index dac4270416e0,8c2bae980faf..000000000000
--- a/drivers/acpi/acpi_lpss.c
+++ b/drivers/acpi/acpi_lpss.c
@@@ -134,9 -97,24 +134,28 @@@ static struct lpss_device_desc lpt_uart
  };
  
  static struct lpss_device_desc lpt_sdio_dev_desc = {
 +	.flags = LPSS_LTR,
  	.prv_offset = 0x1000,
  	.prv_size_override = 0x1018,
++<<<<<<< HEAD
++=======
+ 	.ltr_required = true,
+ };
+ 
+ static struct lpss_shared_clock pwm_clock = {
+ 	.name = "pwm_clk",
+ 	.rate = 25000000,
+ };
+ 
+ static struct lpss_device_desc byt_pwm_dev_desc = {
+ 	.clk_required = true,
+ 	.shared_clock = &pwm_clock,
+ };
+ 
+ static struct lpss_shared_clock uart_clock = {
+ 	.name = "uart_clk",
+ 	.rate = 44236800,
++>>>>>>> e1c748179754 (ACPI / LPSS: Add Intel BayTrail ACPI mode PWM)
  };
  
  static struct lpss_device_desc byt_uart_dev_desc = {
@@@ -183,14 -167,21 +202,22 @@@ static const struct acpi_device_id acpi
  	{ "INT33C7", },
  
  	/* BayTrail LPSS devices */
++<<<<<<< HEAD
 +	{ "80860F0A", LPSS_ADDR(byt_uart_dev_desc) },
 +	{ "80860F0E", LPSS_ADDR(byt_spi_dev_desc) },
 +	{ "80860F14", LPSS_ADDR(byt_sdio_dev_desc) },
 +	{ "80860F41", LPSS_ADDR(byt_i2c_dev_desc) },
++=======
+ 	{ "80860F09", (unsigned long)&byt_pwm_dev_desc },
+ 	{ "80860F0A", (unsigned long)&byt_uart_dev_desc },
+ 	{ "80860F0E", (unsigned long)&byt_spi_dev_desc },
+ 	{ "80860F14", (unsigned long)&byt_sdio_dev_desc },
+ 	{ "80860F41", (unsigned long)&byt_i2c_dev_desc },
++>>>>>>> e1c748179754 (ACPI / LPSS: Add Intel BayTrail ACPI mode PWM)
  	{ "INT33B2", },
  
 -	{ "INT3430", (unsigned long)&lpt_dev_desc },
 -	{ "INT3431", (unsigned long)&lpt_dev_desc },
 -	{ "INT3432", (unsigned long)&lpt_dev_desc },
 -	{ "INT3433", (unsigned long)&lpt_dev_desc },
 -	{ "INT3434", (unsigned long)&lpt_uart_dev_desc },
 -	{ "INT3435", (unsigned long)&lpt_uart_dev_desc },
 -	{ "INT3436", (unsigned long)&lpt_sdio_dev_desc },
 -	{ "INT3437", },
 +	/* Wildcat Point LPSS devices */
 +	{ "INT3438", LPSS_ADDR(lpt_dev_desc) },
  
  	{ }
  };
* Unmerged path drivers/acpi/acpi_lpss.c
