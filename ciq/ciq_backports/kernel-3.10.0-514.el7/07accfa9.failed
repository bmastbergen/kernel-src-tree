libnvdimm: Fix security issue with DSM IOCTL.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [nvdimm] libnvdimm: Fix security issue with DSM IOCTL (Jeff Moyer) [1271957 1278621 1343736 1349587 1349702 1353614 1355792]
Rebuild_FUZZ: 98.88%
commit-author Jerry Hoemann <jerry.hoemann@hpe.com>
commit 07accfa9d1a8bac8262f6d24a94a54d2d1f35149
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/07accfa9.failed

Code attempts to prevent certain IOCTL DSM from being called
when device is opened read only.  This security feature can
be trivially overcome by changing the size portion of the
ioctl_command which isn't used.

Check only the _IOC_NR (i.e. the command).

	Cc: <stable@vger.kernel.org>
	Signed-off-by: Jerry Hoemann <jerry.hoemann@hpe.com>
	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
(cherry picked from commit 07accfa9d1a8bac8262f6d24a94a54d2d1f35149)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvdimm/bus.c
* Unmerged path drivers/nvdimm/bus.c
* Unmerged path drivers/nvdimm/bus.c
