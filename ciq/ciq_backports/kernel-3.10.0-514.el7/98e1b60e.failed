dlm: try other IPs when sctp init assoc fails

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Mike Christie <michaelc@cs.wisc.edu>
commit 98e1b60ecc441625c91013e88f14cbd1b3c1fa08
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/98e1b60e.failed

Currently, if we cannot create a association to the first IP addr
that is added to DLM, the SCTP init assoc code will just retry
the same IP. This patch adds a simple failover schemes where we
will try one of the addresses that was passed into DLM.

	Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
	Signed-off-by: David Teigland <teigland@redhat.com>
(cherry picked from commit 98e1b60ecc441625c91013e88f14cbd1b3c1fa08)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/dlm/lowcomms.c
diff --cc fs/dlm/lowcomms.c
index cfb03ef03e31,56015c9e8d00..000000000000
--- a/fs/dlm/lowcomms.c
+++ b/fs/dlm/lowcomms.c
@@@ -126,7 -126,7 +126,11 @@@ struct connection 
  	struct connection *othercon;
  	struct work_struct rwork; /* Receive workqueue */
  	struct work_struct swork; /* Send workqueue */
++<<<<<<< HEAD
 +	void (*orig_error_report)(struct sock *sk);
++=======
+ 	bool try_new_addr;
++>>>>>>> 98e1b60ecc44 (dlm: try other IPs when sctp init assoc fails)
  };
  #define sock2con(x) ((struct connection *)(x)->sk_user_data)
  
* Unmerged path fs/dlm/lowcomms.c
