r8152: check RTL8152_UNPLUG and netif_running before autoresume

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author hayeswang <hayeswang@realtek.com>
commit a1f83feecc9e754eac5286844e7d7dcc58a0aceb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/a1f83fee.failed

If the device is unplugged or !netif_running(), the workqueue
doesn't need to wake the device, and could return directly.

	Signed-off-by: Hayes Wang <hayeswang@realtek.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit a1f83feecc9e754eac5286844e7d7dcc58a0aceb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/r8152.c
diff --cc drivers/net/usb/r8152.c
index 2a8b4a5e1093,0a30fd3f673d..000000000000
--- a/drivers/net/usb/r8152.c
+++ b/drivers/net/usb/r8152.c
@@@ -2830,8 -2869,10 +2836,15 @@@ static void rtl_work_func_t(struct work
  	if (!test_bit(WORK_ENABLE, &tp->flags))
  		goto out1;
  
++<<<<<<< HEAD
 +	if (test_bit(RTL8152_UNPLUG, &tp->flags))
 +		goto out1;
++=======
+ 	if (!mutex_trylock(&tp->control)) {
+ 		schedule_delayed_work(&tp->schedule, 0);
+ 		goto out1;
+ 	}
++>>>>>>> a1f83feecc9e (r8152: check RTL8152_UNPLUG and netif_running before autoresume)
  
  	if (test_bit(RTL8152_LINK_CHG, &tp->flags))
  		set_carrier(tp);
* Unmerged path drivers/net/usb/r8152.c
