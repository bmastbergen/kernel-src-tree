powerpc/powernv: Fix OPAL_CONSOLE_FLUSH prototype and usages

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [powerpc] powernv: Fix OPAL_CONSOLE_FLUSH prototype and usages (Gustavo Duarte) [1313758]
Rebuild_FUZZ: 92.86%
commit-author Russell Currey <ruscur@russell.cc>
commit c88c5d43732a0356f99e5e4d1ad62ab1ea516b81
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/c88c5d43.failed

The recently added OPAL API call, OPAL_CONSOLE_FLUSH, originally took no
parameters and returned nothing.  The call was updated to accept the
terminal number to flush, and returned various values depending on the
state of the output buffer.

The prototype has been updated and its usage in the OPAL kmsg dumper has
been modified to support its new behaviour as an incremental flush.

	Signed-off-by: Russell Currey <ruscur@russell.cc>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
(cherry picked from commit c88c5d43732a0356f99e5e4d1ad62ab1ea516b81)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/powerpc/include/asm/opal.h
#	arch/powerpc/platforms/powernv/opal-kmsg.c
diff --cc arch/powerpc/include/asm/opal.h
index a1898bbf2f84,07a99e638449..000000000000
--- a/arch/powerpc/include/asm/opal.h
+++ b/arch/powerpc/include/asm/opal.h
@@@ -1013,6 -35,7 +1013,10 @@@ int64_t opal_console_read(int64_t term_
  			  uint8_t *buffer);
  int64_t opal_console_write_buffer_space(int64_t term_number,
  					__be64 *length);
++<<<<<<< HEAD
++=======
+ int64_t opal_console_flush(int64_t term_number);
++>>>>>>> c88c5d43732a (powerpc/powernv: Fix OPAL_CONSOLE_FLUSH prototype and usages)
  int64_t opal_rtc_read(__be32 *year_month_day,
  		      __be64 *hour_minute_second_millisecond);
  int64_t opal_rtc_write(uint32_t year_month_day,
* Unmerged path arch/powerpc/platforms/powernv/opal-kmsg.c
* Unmerged path arch/powerpc/include/asm/opal.h
* Unmerged path arch/powerpc/platforms/powernv/opal-kmsg.c
