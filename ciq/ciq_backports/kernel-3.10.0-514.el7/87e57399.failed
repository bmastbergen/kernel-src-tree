sit: set rtnl_link_ops before calling register_netdevice

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [net] ipv6: sit: set rtnl_link_ops before calling register_netdevice (Thadeu Lima de Souza Cascardo) [1284001]
Rebuild_FUZZ: 94.92%
commit-author Thadeu Lima de Souza Cascardo <cascardo@redhat.com>
commit 87e57399e9d3606b08b0e1b2dd0f4aaa1d8ba365
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/87e57399.failed

When creating a SIT tunnel with ip tunnel, rtnl_link_ops is not set before
ipip6_tunnel_create is called. When register_netdevice is called, there is
no linkinfo attribute in the NEWLINK message because of that.

Setting rtnl_link_ops before calling register_netdevice fixes that.

	Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@redhat.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 87e57399e9d3606b08b0e1b2dd0f4aaa1d8ba365)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv6/sit.c
diff --cc net/ipv6/sit.c
index 7987bacb263b,2066d1c25a11..000000000000
--- a/net/ipv6/sit.c
+++ b/net/ipv6/sit.c
@@@ -207,8 -207,7 +209,12 @@@ static int ipip6_tunnel_create(struct n
  	if (err < 0)
  		goto out;
  
++<<<<<<< HEAD
 +	strcpy(t->parms.name, dev->name);
 +	dev->rtnl_link_ops = &sit_link_ops;
++=======
+ 	ipip6_tunnel_clone_6rd(dev, sitn);
++>>>>>>> 87e57399e9d3 (sit: set rtnl_link_ops before calling register_netdevice)
  
  	dev_hold(dev);
  
* Unmerged path net/ipv6/sit.c
