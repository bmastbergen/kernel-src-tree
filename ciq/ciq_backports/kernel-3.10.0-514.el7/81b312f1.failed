crypto: qat - uint8_t is not large enough for accel_id

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [crypto] qat - uint8_t is not large enough for accel_id (Neil Horman) [1274179]
Rebuild_FUZZ: 92.00%
commit-author Tadeusz Struk <tadeusz.struk@intel.com>
commit 81b312f11dfd7466462d94667f0a8df14a412d2a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/81b312f1.failed

accel_id has to be large enough to hold ADF_MAX_DEVICES + 1
(which is > 1025) so uint8_t is too small.

	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
	Signed-off-by: Tadeusz Struk <tadeusz.struk@intel.com>
	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit 81b312f11dfd7466462d94667f0a8df14a412d2a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/crypto/qat/qat_common/adf_accel_devices.h
diff --cc drivers/crypto/qat/qat_common/adf_accel_devices.h
index 91c969eb6e6b,f96d427e502c..000000000000
--- a/drivers/crypto/qat/qat_common/adf_accel_devices.h
+++ b/drivers/crypto/qat/qat_common/adf_accel_devices.h
@@@ -200,6 -236,21 +200,25 @@@ struct adf_accel_dev 
  	struct list_head list;
  	struct module *owner;
  	struct adf_accel_pci accel_pci_dev;
++<<<<<<< HEAD
 +	uint8_t accel_id;
++=======
+ 	union {
+ 		struct {
+ 			/* vf_info is non-zero when SR-IOV is init'ed */
+ 			struct adf_accel_vf_info *vf_info;
+ 		} pf;
+ 		struct {
+ 			char *irq_name;
+ 			struct tasklet_struct pf2vf_bh_tasklet;
+ 			struct mutex vf2pf_lock; /* protect CSR access */
+ 			struct completion iov_msg_completion;
+ 			uint8_t compatible;
+ 			uint8_t pf_version;
+ 		} vf;
+ 	};
+ 	bool is_vf;
+ 	u32 accel_id;
++>>>>>>> 81b312f11dfd (crypto: qat - uint8_t is not large enough for accel_id)
  } __packed;
  #endif
* Unmerged path drivers/crypto/qat/qat_common/adf_accel_devices.h
diff --git a/drivers/crypto/qat/qat_common/adf_cfg_common.h b/drivers/crypto/qat/qat_common/adf_cfg_common.h
index 88b82187ac35..0bdde6e41479 100644
--- a/drivers/crypto/qat/qat_common/adf_cfg_common.h
+++ b/drivers/crypto/qat/qat_common/adf_cfg_common.h
@@ -75,8 +75,8 @@ enum adf_device_type {
 
 struct adf_dev_status_info {
 	enum adf_device_type type;
-	uint8_t accel_id;
-	uint8_t instance_id;
+	u32 accel_id;
+	u32 instance_id;
 	uint8_t num_ae;
 	uint8_t num_accel;
 	uint8_t num_logical_accel;
