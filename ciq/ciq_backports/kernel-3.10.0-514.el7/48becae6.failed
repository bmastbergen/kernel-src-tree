i40e: Recognize 1000Base_T_Optical phy type when link is up

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Catherine Sullivan <catherine.sullivan@intel.com>
commit 48becae60f7e461b4b204e6608dc6beebe6c8aff
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/48becae6.failed

1000Base_T_Optical got added to the function that figures out what
is supported when link is down but not when link is up. Add it in there
too so that we display the correct information.

Change-ID: I85ebcdfa7c02d898c44c673b1500552a53c8042e
	Signed-off-by: Catherine Sullivan <catherine.sullivan@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 48becae60f7e461b4b204e6608dc6beebe6c8aff)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_ethtool.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_ethtool.c
index d623056cca4c,767b1db1005f..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_ethtool.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_ethtool.c
@@@ -315,24 -307,15 +315,33 @@@ static void i40e_get_settings_link_up(s
  		if (hw_link_info->requested_speeds & I40E_LINK_SPEED_1GB)
  			ecmd->advertising |= ADVERTISED_1000baseT_Full;
  		break;
++<<<<<<< HEAD
 +	case I40E_PHY_TYPE_1000BASE_KX:
 +		ecmd->supported = SUPPORTED_Autoneg |
 +				  SUPPORTED_1000baseKX_Full;
 +		ecmd->advertising = ADVERTISED_Autoneg |
 +				    ADVERTISED_1000baseKX_Full;
 +		break;
 +	case I40E_PHY_TYPE_10GBASE_T:
 +	case I40E_PHY_TYPE_1000BASE_T:
++=======
+ 	case I40E_PHY_TYPE_1000BASE_T_OPTICAL:
+ 		ecmd->supported = SUPPORTED_Autoneg |
+ 				  SUPPORTED_1000baseT_Full;
+ 		ecmd->advertising = ADVERTISED_Autoneg |
+ 				    ADVERTISED_1000baseT_Full;
+ 		break;
++>>>>>>> 48becae60f7e (i40e: Recognize 1000Base_T_Optical phy type when link is up)
  	case I40E_PHY_TYPE_100BASE_TX:
  		ecmd->supported = SUPPORTED_Autoneg |
 +				  SUPPORTED_10000baseT_Full |
 +				  SUPPORTED_1000baseT_Full |
  				  SUPPORTED_100baseT_Full;
 +		ecmd->advertising = ADVERTISED_Autoneg;
 +		if (hw_link_info->requested_speeds & I40E_LINK_SPEED_10GB)
 +			ecmd->advertising |= ADVERTISED_10000baseT_Full;
 +		if (hw_link_info->requested_speeds & I40E_LINK_SPEED_1GB)
 +			ecmd->advertising |= ADVERTISED_1000baseT_Full;
  		if (hw_link_info->requested_speeds & I40E_LINK_SPEED_100MB)
  			ecmd->advertising |= ADVERTISED_100baseT_Full;
  		break;
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_ethtool.c
