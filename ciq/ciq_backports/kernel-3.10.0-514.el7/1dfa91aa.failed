usb: common: rename phy-fsm-usb.c to usb-otg-fsm.c

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [usb] common: rename phy-fsm-usb.c to usb-otg-fsm.c (Don Zickus) [1303209]
Rebuild_FUZZ: 94.74%
commit-author Peter Chen <peter.chen@freescale.com>
commit 1dfa91aa5ba9650acf59b6310d8e78a162d56410
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/1dfa91aa.failed

Since usb otg fsm implementation is not related to usb phy.
We move it from usb/phy/ to usb/common/, and rename it to
reflect its real meaning.

	Cc: Felipe Balbi <balbi@ti.com>
	Signed-off-by: Peter Chen <peter.chen@freescale.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 1dfa91aa5ba9650acf59b6310d8e78a162d56410)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/common/Makefile
diff --cc drivers/usb/common/Makefile
index 30969121db03,752646167e1e..000000000000
--- a/drivers/usb/common/Makefile
+++ b/drivers/usb/common/Makefile
@@@ -2,6 -2,5 +2,11 @@@
  # Makefile for the usb common parts.
  #
  
++<<<<<<< HEAD
 +obj-$(CONFIG_USB_COMMON)	  += usb-common.o
 +usb-common-y			  += common.o
 +usb-common-$(CONFIG_USB_LED_TRIG) += led.o
++=======
+ obj-$(CONFIG_USB_COMMON) += usb-common.o
+ obj-$(CONFIG_USB_OTG_FSM) += usb-otg-fsm.o
++>>>>>>> 1dfa91aa5ba9 (usb: common: rename phy-fsm-usb.c to usb-otg-fsm.c)
* Unmerged path drivers/usb/common/Makefile
diff --git a/drivers/usb/phy/phy-fsm-usb.c b/drivers/usb/common/usb-otg-fsm.c
similarity index 100%
rename from drivers/usb/phy/phy-fsm-usb.c
rename to drivers/usb/common/usb-otg-fsm.c
diff --git a/drivers/usb/core/Kconfig b/drivers/usb/core/Kconfig
index d0a60bbd70a5..dc3acbf45eaf 100644
--- a/drivers/usb/core/Kconfig
+++ b/drivers/usb/core/Kconfig
@@ -76,3 +76,12 @@ config USB_OTG_BLACKLIST_HUB
 	  and software costs by not supporting external hubs.  So
 	  are "Embedded Hosts" that don't offer OTG support.
 
+config USB_OTG_FSM
+	tristate "USB 2.0 OTG FSM implementation"
+	depends on USB
+	select USB_OTG
+	select USB_PHY
+	help
+	  Implements OTG Finite State Machine as specified in On-The-Go
+	  and Embedded Host Supplement to the USB Revision 2.0 Specification.
+
