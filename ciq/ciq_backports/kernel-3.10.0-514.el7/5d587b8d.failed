iommu/vt-d: Convert to iommu_capable() API function

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [iommu] vt-d: Convert to iommu_capable() API function (Myron Stowe) [1279620]
Rebuild_FUZZ: 93.75%
commit-author Joerg Roedel <jroedel@suse.de>
commit 5d587b8de56eec6c6a31b452a177cd8c066b267e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/5d587b8d.failed

	Cc: Jiang Liu <jiang.liu@linux.intel.com>
	Cc: David Woodhouse <dwmw2@infradead.org>
	Signed-off-by: Joerg Roedel <jroedel@suse.de>
(cherry picked from commit 5d587b8de56eec6c6a31b452a177cd8c066b267e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/iommu/intel-iommu.c
diff --cc drivers/iommu/intel-iommu.c
index dae8604bf9a7,bc1a20395445..000000000000
--- a/drivers/iommu/intel-iommu.c
+++ b/drivers/iommu/intel-iommu.c
@@@ -4449,7 -4460,8 +4446,12 @@@ static void intel_iommu_remove_device(s
  	iommu_device_unlink(iommu->iommu_dev, dev);
  }
  
++<<<<<<< HEAD
 +static struct iommu_ops intel_iommu_ops = {
++=======
+ static const struct iommu_ops intel_iommu_ops = {
+ 	.capable	= intel_iommu_capable,
++>>>>>>> 5d587b8de56e (iommu/vt-d: Convert to iommu_capable() API function)
  	.domain_init	= intel_iommu_domain_init,
  	.domain_destroy = intel_iommu_domain_destroy,
  	.attach_dev	= intel_iommu_attach_device,
* Unmerged path drivers/iommu/intel-iommu.c
