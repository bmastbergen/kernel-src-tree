mmc: sunxi: Convert MMC driver to the standard clock phase API

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Maxime Ripard <maxime.ripard@free-electrons.com>
commit 6c09bb851e572bf45a3418af5f57148a31e33f9b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/6c09bb85.failed

Now that we have proper support to use the generic phase API in our clock
driver, switch the MMC driver to use it.

	Signed-off-by: Maxime Ripard <maxime.ripard@free-electrons.com>
	Acked-by: Ulf Hansson <ulf.hansson@linaro.org>
	Acked-by: David Lanzend√∂rfer <david.lanzendoerfer@o2s.ch>
	Reviewed-by: Chen-Yu Tsai <wens@csie.org>
	Tested-by: Chen-Yu Tsai <wens@csie.org>
(cherry picked from commit 6c09bb851e572bf45a3418af5f57148a31e33f9b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/host/sunxi-mmc.c
diff --cc drivers/mmc/host/sunxi-mmc.c
index 024f67c98cdc,c9a6fc0eaa35..000000000000
--- a/drivers/mmc/host/sunxi-mmc.c
+++ b/drivers/mmc/host/sunxi-mmc.c
@@@ -21,9 -21,6 +21,12 @@@
  #include <linux/err.h>
  
  #include <linux/clk.h>
++<<<<<<< HEAD
 +#include <linux/clk-private.h>
 +#include <linux/clk/sunxi.h>
 +
++=======
++>>>>>>> 6c09bb851e57 (mmc: sunxi: Convert MMC driver to the standard clock phase API)
  #include <linux/gpio.h>
  #include <linux/platform_device.h>
  #include <linux/spinlock.h>
diff --git a/Documentation/devicetree/bindings/mmc/sunxi-mmc.txt b/Documentation/devicetree/bindings/mmc/sunxi-mmc.txt
index 91b3a3467150..4bf41d833804 100644
--- a/Documentation/devicetree/bindings/mmc/sunxi-mmc.txt
+++ b/Documentation/devicetree/bindings/mmc/sunxi-mmc.txt
@@ -10,8 +10,8 @@ Absolute maximum transfer rate is 200MB/s
 Required properties:
  - compatible : "allwinner,sun4i-a10-mmc" or "allwinner,sun5i-a13-mmc"
  - reg : mmc controller base registers
- - clocks : a list with 2 phandle + clock specifier pairs
- - clock-names : must contain "ahb" and "mmc"
+ - clocks : a list with 4 phandle + clock specifier pairs
+ - clock-names : must contain "ahb", "mmc", "output" and "sample"
  - interrupts : mmc controller interrupt
 
 Optional properties:
@@ -25,8 +25,8 @@ Examples:
 	mmc0: mmc@01c0f000 {
 		compatible = "allwinner,sun5i-a13-mmc";
 		reg = <0x01c0f000 0x1000>;
-		clocks = <&ahb_gates 8>, <&mmc0_clk>;
-		clock-names = "ahb", "mod";
+		clocks = <&ahb_gates 8>, <&mmc0_clk>, <&mmc0_output_clk>, <&mmc0_sample_clk>;
+		clock-names = "ahb", "mod", "output", "sample";
 		interrupts = <0 32 4>;
 		status = "disabled";
 	};
* Unmerged path drivers/mmc/host/sunxi-mmc.c
