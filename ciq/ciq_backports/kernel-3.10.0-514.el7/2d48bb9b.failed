x86/microcode/intel: Get rid of last arg to load_ucode_intel_bsp()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [x86] microcode/intel: Get rid of last arg to load_ucode_intel_bsp() (Prarit Bhargava) [1253762]
Rebuild_FUZZ: 96.88%
commit-author Borislav Petkov <bp@suse.de>
commit 2d48bb9b6ec6fb0f28e5135fd080edc23152ae45
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/2d48bb9b.failed

Allocate it on the helper's _load_ucode_intel_bsp() stack instead and do
not hand it down.

	Signed-off-by: Borislav Petkov <bp@suse.de>
(cherry picked from commit 2d48bb9b6ec6fb0f28e5135fd080edc23152ae45)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/cpu/microcode/intel_early.c
diff --cc arch/x86/kernel/cpu/microcode/intel_early.c
index 141b589aa1e3,ed30bc77dd38..000000000000
--- a/arch/x86/kernel/cpu/microcode/intel_early.c
+++ b/arch/x86/kernel/cpu/microcode/intel_early.c
@@@ -719,15 -722,21 +719,30 @@@ static void __ini
  _load_ucode_intel_bsp(struct mc_saved_data *mc_saved_data,
  		      unsigned long *mc_saved_in_initrd,
  		      unsigned long initrd_start_early,
- 		      unsigned long initrd_end_early,
- 		      struct ucode_cpu_info *uci)
+ 		      unsigned long initrd_end_early)
  {
++<<<<<<< HEAD
 +	collect_cpu_info_early(uci);
 +	scan_microcode(initrd_start_early, initrd_end_early, mc_saved_data,
 +		       mc_saved_in_initrd, uci);
 +	load_microcode(mc_saved_data, mc_saved_in_initrd,
 +		       initrd_start_early, uci);
 +	apply_microcode_early(uci);
++=======
+ 	struct ucode_cpu_info uci;
+ 	enum ucode_state ret;
+ 
+ 	collect_cpu_info_early(&uci);
+ 	scan_microcode(initrd_start_early, initrd_end_early, mc_saved_data,
+ 		       mc_saved_in_initrd, &uci);
+ 
+ 	ret = load_microcode(mc_saved_data, mc_saved_in_initrd,
+ 			     initrd_start_early, &uci);
+ 	if (ret != UCODE_OK)
+ 		return;
+ 
+ 	apply_microcode_early(&uci, true);
++>>>>>>> 2d48bb9b6ec6 (x86/microcode/intel: Get rid of last arg to load_ucode_intel_bsp())
  }
  
  void __init
@@@ -756,7 -764,7 +770,11 @@@ load_ucode_intel_bsp(void
  	initrd_end_early = initrd_start_early + ramdisk_size;
  
  	_load_ucode_intel_bsp(&mc_saved_data, mc_saved_in_initrd,
++<<<<<<< HEAD
 +			      initrd_start_early, initrd_end_early, &uci);
++=======
+ 			      initrd_start_early, initrd_end_early);
++>>>>>>> 2d48bb9b6ec6 (x86/microcode/intel: Get rid of last arg to load_ucode_intel_bsp())
  #endif
  }
  
* Unmerged path arch/x86/kernel/cpu/microcode/intel_early.c
