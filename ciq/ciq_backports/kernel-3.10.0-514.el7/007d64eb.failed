mei: bus: add name and uuid into device attributes

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Tomas Winkler <tomas.winkler@intel.com>
commit 007d64eb2232b91aa86b51abc1742936807e0bd4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/007d64eb.failed

Export name and uuid via sysfs and uevent

	Cc: linux-api@vger.kernel.org
	Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 007d64eb2232b91aa86b51abc1742936807e0bd4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/ABI/testing/sysfs-bus-mei
#	drivers/misc/mei/bus.c
diff --cc Documentation/ABI/testing/sysfs-bus-mei
index 2066f0bbd453,20e4d1638bac..000000000000
--- a/Documentation/ABI/testing/sysfs-bus-mei
+++ b/Documentation/ABI/testing/sysfs-bus-mei
@@@ -4,4 -4,18 +4,22 @@@ KernelVersion:	3.1
  Contact:	Samuel Ortiz <sameo@linux.intel.com>
  		linux-mei@linux.intel.com
  Description:	Stores the same MODALIAS value emitted by uevent
++<<<<<<< HEAD
 +		Format: mei:<mei device name>
++=======
+ 		Format: mei:<mei device name>:<device uuid>:
+ 
+ What:		/sys/bus/mei/devices/.../name
+ Date:		May 2015
+ KernelVersion:	4.2
+ Contact:	Tomas Winkler <tomas.winkler@intel.com>
+ Description:	Stores mei client device name
+ 		Format: string
+ 
+ What:		/sys/bus/mei/devices/.../uuid
+ Date:		May 2015
+ KernelVersion:	4.2
+ Contact:	Tomas Winkler <tomas.winkler@intel.com>
+ Description:	Stores mei client device uuid
+ 		Format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
++>>>>>>> 007d64eb2232 (mei: bus: add name and uuid into device attributes)
diff --cc drivers/misc/mei/bus.c
index ca8736c3675b,e76d94aa6e12..000000000000
--- a/drivers/misc/mei/bus.c
+++ b/drivers/misc/mei/bus.c
@@@ -117,7 -163,17 +144,21 @@@ ATTRIBUTE_GROUPS(mei_cl_dev)
  
  static int mei_cl_uevent(struct device *dev, struct kobj_uevent_env *env)
  {
++<<<<<<< HEAD
 +	if (add_uevent_var(env, "MODALIAS=mei:%s", dev_name(dev)))
++=======
+ 	struct mei_cl_device *device = to_mei_cl_device(dev);
+ 	const uuid_le *uuid = mei_me_cl_uuid(device->me_cl);
+ 
+ 	if (add_uevent_var(env, "MEI_CL_UUID=%pUl", uuid))
+ 		return -ENOMEM;
+ 
+ 	if (add_uevent_var(env, "MEI_CL_NAME=%s", device->name))
+ 		return -ENOMEM;
+ 
+ 	if (add_uevent_var(env, "MODALIAS=mei:%s:" MEI_CL_UUID_FMT ":",
+ 		device->name, MEI_CL_UUID_ARGS(uuid->b)))
++>>>>>>> 007d64eb2232 (mei: bus: add name and uuid into device attributes)
  		return -ENOMEM;
  
  	return 0;
* Unmerged path Documentation/ABI/testing/sysfs-bus-mei
* Unmerged path drivers/misc/mei/bus.c
