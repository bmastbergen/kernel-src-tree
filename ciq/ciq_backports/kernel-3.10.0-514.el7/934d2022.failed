hv_netvsc: Rearrange the hv_negtvsc_packet to be space efficient

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author KY Srinivasan <kys@microsoft.com>
commit 934d202255ecd03d1f48b1031a2e03cb647e73d9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/934d2022.failed

Rearrange the elements of struct hv_negtvsc_packet for optimal layout -
eliminate unnecessary padding.

	Signed-off-by: K. Y. Srinivasan <kys@microsoft.com>
	Reviewed-by: Haiyang Zhang <haiyangz@microsoft.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 934d202255ecd03d1f48b1031a2e03cb647e73d9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/hyperv/hyperv_net.h
diff --cc drivers/net/hyperv/hyperv_net.h
index cf498664d989,3f66a23dd94f..000000000000
--- a/drivers/net/hyperv/hyperv_net.h
+++ b/drivers/net/hyperv/hyperv_net.h
@@@ -128,12 -127,23 +128,30 @@@ struct ndis_tcp_ip_checksum_info
   */
  struct hv_netvsc_packet {
  	/* Bookkeeping stuff */
++<<<<<<< HEAD
 +	u32 status;
 +
 +	bool is_data_pkt;
 +	u16 vlan_tci;
++=======
+ 	u8 status;
+ 	u8 is_data_pkt;
+ 	u8 xmit_more; /* from skb */
+ 	u8 cp_partial; /* partial copy into send buffer */
+ 
+ 	u8 rmsg_size; /* RNDIS header and PPI size */
+ 	u8 rmsg_pgcnt; /* page count of RNDIS header and PPI */
+ 	u8 page_buf_cnt;
+ 	u8 pad0;
++>>>>>>> 934d202255ec (hv_netvsc: Rearrange the hv_negtvsc_packet to be space efficient)
  
+ 	u16 vlan_tci;
  	u16 q_idx;
+ 	u32 send_buf_index;
+ 
+ 	u32 total_data_buflen;
+ 	u32 pad1;
+ 
  	struct vmbus_channel *channel;
  
  	u64 send_completion_tid;
@@@ -145,11 -154,9 +162,17 @@@
  	/* This points to the memory after page_buf */
  	struct rndis_message *rndis_msg;
  
++<<<<<<< HEAD
 +	u32 total_data_buflen;
 +	/* Points to the send/receive buffer where the ethernet frame is */
 +	void *data;
 +	u32 page_buf_cnt;
 +	struct hv_page_buffer page_buf[0];
++=======
+ 	/* Points to the send/receive buffer where the ethernet frame is */
+ 	void *data;
+ 	struct hv_page_buffer *page_buf;
++>>>>>>> 934d202255ec (hv_netvsc: Rearrange the hv_negtvsc_packet to be space efficient)
  };
  
  struct netvsc_device_info {
* Unmerged path drivers/net/hyperv/hyperv_net.h
