usb: ohci: sort out dependencies for lpc32xx and omap

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [usb] ohci: sort out dependencies for lpc32xx and omap (Don Zickus) [1303209]
Rebuild_FUZZ: 95.05%
commit-author Arnd Bergmann <arnd@arndb.de>
commit 38e0c109404506266e33c29c77c2da39630954a4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/38e0c109.failed

The dependency on the isp1301 driver is not something that
should be in the main OHCI driver but rather the SoC specific
part of it.

This moves the dependency for LPC32xx into USB_OHCI_HCD_LPC32XX,
and changes the 'select ISP1301_OMAP' to a similar 'depends on'.
Since the same dependency exists for the client driver, do the
same change there.

	Signed-off-by: Arnd Bergmann <arnd@arndb.de>
	Cc: linux-omap@vger.kernel.org
	Acked-by: Alan Stern <stern@rowland.harvard.edu>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 38e0c109404506266e33c29c77c2da39630954a4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/gadget/Kconfig
#	drivers/usb/host/Kconfig
diff --cc drivers/usb/gadget/Kconfig
index 86d5d804f1eb,ba18e9c110cc..000000000000
--- a/drivers/usb/gadget/Kconfig
+++ b/drivers/usb/gadget/Kconfig
@@@ -194,7 -208,25 +194,11 @@@ config USB_FUSB30
  config USB_OMAP
  	tristate "OMAP USB Device Controller"
  	depends on ARCH_OMAP1
++<<<<<<< HEAD
 +	select ISP1301_OMAP if MACH_OMAP_H2 || MACH_OMAP_H3 || MACH_OMAP_H4_OTG
++=======
+ 	depends on ISP1301_OMAP || !(MACH_OMAP_H2 || MACH_OMAP_H3)
++>>>>>>> 38e0c1094045 (usb: ohci: sort out dependencies for lpc32xx and omap)
  	help
  	   Many Texas Instruments OMAP processors have flexible full
  	   speed USB device controllers, with support for up to 30
diff --cc drivers/usb/host/Kconfig
index 4c29912fedea,61b7817bd66b..000000000000
--- a/drivers/usb/host/Kconfig
+++ b/drivers/usb/host/Kconfig
@@@ -384,14 -379,56 +382,59 @@@ config USB_OHCI_HC
  if USB_OHCI_HCD
  
  config USB_OHCI_HCD_OMAP1
 -	tristate "OHCI support for OMAP1/2 chips"
 +	bool "OHCI support for OMAP1/2 chips"
  	depends on ARCH_OMAP1
+ 	depends on ISP1301_OMAP || !(MACH_OMAP_H2 || MACH_OMAP_H3)
  	default y
  	---help---
  	  Enables support for the OHCI controller on OMAP1/2 chips.
  
++<<<<<<< HEAD
++=======
+ config USB_OHCI_HCD_SPEAR
+         tristate "Support for ST SPEAr on-chip OHCI USB controller"
+         depends on USB_OHCI_HCD && PLAT_SPEAR
+         default y
+         ---help---
+           Enables support for the on-chip OHCI controller on
+           ST SPEAr chips.
+ 
+ config USB_OHCI_HCD_S3C2410
+         tristate "OHCI support for Samsung S3C24xx/S3C64xx SoC series"
+         depends on USB_OHCI_HCD && (ARCH_S3C24XX || ARCH_S3C64XX)
+         default y
+         ---help---
+           Enables support for the on-chip OHCI controller on
+           S3C24xx/S3C64xx chips.
+ 
+ config USB_OHCI_HCD_LPC32XX
+ 	tristate "Support for LPC on-chip OHCI USB controller"
+ 	depends on USB_OHCI_HCD && ARCH_LPC32XX
+ 	depends on USB_ISP1301
+ 	default y
+ 	---help---
+           Enables support for the on-chip OHCI controller on
+           NXP chips.
+ 
+ config USB_OHCI_HCD_PXA27X
+ 	tristate "Support for PXA27X/PXA3XX on-chip OHCI USB controller"
+ 	depends on USB_OHCI_HCD && (PXA27x || PXA3xx)
+ 	default y
+ 	---help---
+ 	  Enables support for the on-chip OHCI controller on
+ 	  PXA27x/PXA3xx chips.
+ 
+ config USB_OHCI_HCD_AT91
+         tristate "Support for Atmel on-chip OHCI USB controller"
+         depends on USB_OHCI_HCD && ARCH_AT91
+         default y
+         ---help---
+           Enables support for the on-chip OHCI controller on
+           Atmel chips.
+ 
++>>>>>>> 38e0c1094045 (usb: ohci: sort out dependencies for lpc32xx and omap)
  config USB_OHCI_HCD_OMAP3
 -	tristate "OHCI support for OMAP3 and later chips"
 +	bool "OHCI support for OMAP3 and later chips"
  	depends on (ARCH_OMAP3 || ARCH_OMAP4)
  	default y
  	---help---
* Unmerged path drivers/usb/gadget/Kconfig
* Unmerged path drivers/usb/host/Kconfig
