perf/x86: Move perf_event_intel.c ............ => x86/events/intel/core.c

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Borislav Petkov <bp@suse.de>
commit e1069839dd6893d2135b2fc4d96e5d03d73c2c3d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/e1069839.failed

	Signed-off-by: Borislav Petkov <bp@suse.de>
	Cc: Arnaldo Carvalho de Melo <acme@redhat.com>
	Cc: Jiri Olsa <jolsa@redhat.com>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <a.p.zijlstra@chello.nl>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Stephane Eranian <eranian@google.com>
	Cc: Thomas Gleixner <tglx@linutronix.de>
	Cc: Vince Weaver <vincent.weaver@maine.edu>
Link: http://lkml.kernel.org/r/1455098123-11740-3-git-send-email-bp@alien8.de
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit e1069839dd6893d2135b2fc4d96e5d03d73c2c3d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/events/Makefile
#	arch/x86/kernel/cpu/Makefile
diff --cc arch/x86/kernel/cpu/Makefile
index 9edaa8c3b2de,0a27243cb6c3..000000000000
--- a/arch/x86/kernel/cpu/Makefile
+++ b/arch/x86/kernel/cpu/Makefile
@@@ -27,21 -30,27 +27,25 @@@ obj-$(CONFIG_CPU_SUP_CENTAUR)		+= centa
  obj-$(CONFIG_CPU_SUP_TRANSMETA_32)	+= transmeta.o
  obj-$(CONFIG_CPU_SUP_UMC_32)		+= umc.o
  
 +obj-$(CONFIG_PERF_EVENTS)		+= perf_event.o
 +
  ifdef CONFIG_PERF_EVENTS
 +obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_amd.o perf_event_amd_uncore.o
  obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_p6.o perf_event_knc.o perf_event_p4.o
++<<<<<<< HEAD
 +obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_lbr.o perf_event_intel_ds.o perf_event_intel.o
 +obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_uncore.o perf_event_intel_uncore_snb.o
 +obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_uncore_snbep.o perf_event_intel_uncore_nhmex.o
++=======
+ obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_lbr.o perf_event_intel_ds.o
++>>>>>>> e1069839dd68 (perf/x86: Move perf_event_intel.c ............ => x86/events/intel/core.c)
  obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_rapl.o perf_event_intel_cqm.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_pt.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_cstate.o
 -
 -obj-$(CONFIG_PERF_EVENTS_INTEL_UNCORE)	+= perf_event_intel_uncore.o \
 -					   perf_event_intel_uncore_snb.o \
 -					   perf_event_intel_uncore_snbep.o \
 -					   perf_event_intel_uncore_nhmex.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_msr.o
 -obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_msr.o
  endif
  
 -
  obj-$(CONFIG_X86_MCE)			+= mcheck/
  obj-$(CONFIG_MTRR)			+= mtrr/
 -obj-$(CONFIG_MICROCODE)			+= microcode/
  
 -obj-$(CONFIG_X86_LOCAL_APIC)		+= perfctr-watchdog.o
 +obj-$(CONFIG_X86_LOCAL_APIC)		+= perfctr-watchdog.o perf_event_amd_ibs.o
  
  obj-$(CONFIG_HYPERVISOR_GUEST)		+= vmware.o hypervisor.o mshyperv.o
  
* Unmerged path arch/x86/events/Makefile
* Unmerged path arch/x86/events/Makefile
diff --git a/arch/x86/kernel/cpu/perf_event_intel.c b/arch/x86/events/intel/core.c
similarity index 99%
rename from arch/x86/kernel/cpu/perf_event_intel.c
rename to arch/x86/events/intel/core.c
index af2c06a3dc95..3295ad1be83a 100644
--- a/arch/x86/kernel/cpu/perf_event_intel.c
+++ b/arch/x86/events/intel/core.c
@@ -18,7 +18,7 @@
 #include <asm/hardirq.h>
 #include <asm/apic.h>
 
-#include "perf_event.h"
+#include "../../kernel/cpu/perf_event.h"
 
 /*
  * Intel PerfMon, used on Core and later.
* Unmerged path arch/x86/kernel/cpu/Makefile
