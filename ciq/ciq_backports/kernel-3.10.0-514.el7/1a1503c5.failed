i2c: i801: Adding Intel Lewisburg support for iTCO

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [i2c] Adding Intel Lewisburg support for iTCO (Steve Best) [1273640]
Rebuild_FUZZ: 87.64%
commit-author Alexandra Yates <alexandra.yates@linux.intel.com>
commit 1a1503c5396eb7f2edf4b8ef6067853014478c0c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/1a1503c5.failed

Starting from Intel Sunrisepoint (Skylake PCH) the iTCO watchdog
resources have been moved to reside under the i801 SMBus host
controller whereas previously they were under the LPC device.

This patch adds Intel lewisburg SMBus support for iTCO device.
It allows to load watchdog dynamically when the hardware is
present.

Fixes: cdc5a3110e7c ("i2c: i801: add Intel Lewisburg device IDs")
	Reviewed-by: Jean Delvare <jdelvare@suse.de>
	Signed-off-by: Alexandra Yates <alexandra.yates@linux.intel.com>
	Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
	Cc: stable@kernel.org
(cherry picked from commit 1a1503c5396eb7f2edf4b8ef6067853014478c0c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/i2c/busses/i2c-i801.c
diff --cc drivers/i2c/busses/i2c-i801.c
index f35240566cfa,27fa0cb09538..000000000000
--- a/drivers/i2c/busses/i2c-i801.c
+++ b/drivers/i2c/busses/i2c-i801.c
@@@ -1150,6 -1266,21 +1150,21 @@@ static int i801_probe(struct pci_dev *d
  
  	priv->pci_dev = dev;
  	switch (dev->device) {
++<<<<<<< HEAD
++=======
+ 	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_H_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_SUNRISEPOINT_LP_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_LEWISBURG_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_LEWISBURG_SSKU_SMBUS:
+ 	case PCI_DEVICE_ID_INTEL_DNV_SMBUS:
+ 		priv->features |= FEATURE_I2C_BLOCK_READ;
+ 		priv->features |= FEATURE_IRQ;
+ 		priv->features |= FEATURE_SMBUS_PEC;
+ 		priv->features |= FEATURE_BLOCK_BUFFER;
+ 		priv->features |= FEATURE_TCO;
+ 		break;
+ 
++>>>>>>> 1a1503c5396e (i2c: i801: Adding Intel Lewisburg support for iTCO)
  	case PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF0:
  	case PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF1:
  	case PCI_DEVICE_ID_INTEL_PATSBURG_SMBUS_IDF2:
* Unmerged path drivers/i2c/busses/i2c-i801.c
