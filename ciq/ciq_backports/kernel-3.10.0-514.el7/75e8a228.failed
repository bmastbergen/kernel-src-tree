mmc: core: Reset driver type to default

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [mmc] core: Reset driver type to default (Don Zickus) [1127975 1277866 1280133 1286932 1297039]
Rebuild_FUZZ: 93.15%
commit-author Adrian Hunter <adrian.hunter@intel.com>
commit 75e8a2288c4fabd6c2f752e8fd3bf7f60be7d3a4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/75e8a228.failed

IO state variable drv_type could be set during card
initialization. Consequently, it must be reset to the
default value when setting the initial state.

	Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit 75e8a2288c4fabd6c2f752e8fd3bf7f60be7d3a4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/core.c
diff --cc drivers/mmc/core/core.c
index 5372081810b2,95009f90ae07..000000000000
--- a/drivers/mmc/core/core.c
+++ b/drivers/mmc/core/core.c
@@@ -1142,6 -1170,25 +1142,28 @@@ void mmc_set_bus_width(struct mmc_host 
  	mmc_host_clk_release(host);
  }
  
++<<<<<<< HEAD
++=======
+ /*
+  * Set initial state after a power cycle or a hw_reset.
+  */
+ void mmc_set_initial_state(struct mmc_host *host)
+ {
+ 	mmc_retune_disable(host);
+ 
+ 	if (mmc_host_is_spi(host))
+ 		host->ios.chip_select = MMC_CS_HIGH;
+ 	else
+ 		host->ios.chip_select = MMC_CS_DONTCARE;
+ 	host->ios.bus_mode = MMC_BUSMODE_PUSHPULL;
+ 	host->ios.bus_width = MMC_BUS_WIDTH_1;
+ 	host->ios.timing = MMC_TIMING_LEGACY;
+ 	host->ios.drv_type = 0;
+ 
+ 	mmc_set_ios(host);
+ }
+ 
++>>>>>>> 75e8a2288c4f (mmc: core: Reset driver type to default)
  /**
   * mmc_vdd_to_ocrbitnum - Convert a voltage to the OCR bit number
   * @vdd:	voltage (mV)
* Unmerged path drivers/mmc/core/core.c
