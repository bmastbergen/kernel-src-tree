Drivers: hv: utils: introduce HVUTIL_TRANSPORT_DESTROY mode

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [hv] utils: introduce HVUTIL_TRANSPORT_DESTROY mode (Vitaly Kuznetsov) [1074407 1309368]
Rebuild_FUZZ: 87.62%
commit-author Vitaly Kuznetsov <vkuznets@redhat.com>
commit a15025660d4703a8b37290a14734cb4a84875770
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/a1502566.failed

When Hyper-V host asks us to remove some util driver by closing the
appropriate channel there is no easy way to force the current file
descriptor holder to hang up but we can start to respond -EBADF to all
operations asking it to exit gracefully.

As we're setting hvt->mode from two separate contexts now we need to use
a proper locking.

	Signed-off-by: Vitaly Kuznetsov <vkuznets@redhat.com>
	Signed-off-by: K. Y. Srinivasan <kys@microsoft.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit a15025660d4703a8b37290a14734cb4a84875770)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hv/hv_utils_transport.c
#	drivers/hv/hv_utils_transport.h
* Unmerged path drivers/hv/hv_utils_transport.c
* Unmerged path drivers/hv/hv_utils_transport.h
* Unmerged path drivers/hv/hv_utils_transport.c
* Unmerged path drivers/hv/hv_utils_transport.h
