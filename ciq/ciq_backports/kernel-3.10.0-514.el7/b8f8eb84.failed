perf tools: Remove misplaced __maybe_unused

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit b8f8eb84f4834b5232faf57559adbc80dbcf85da
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/b8f8eb84.failed

All over the tree.

	Cc: David Ahern <dsahern@gmail.com>
cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Ravi Bangoria <ravi.bangoria@linux.vnet.ibm.com>
Link: http://lkml.kernel.org/n/tip-8nzhnokxyp8y4v7gf0j00oyb@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit b8f8eb84f4834b5232faf57559adbc80dbcf85da)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/header.h
#	tools/perf/util/machine.h
#	tools/perf/util/sort.c
diff --cc tools/perf/util/header.h
index 93f63b602325,d306ca118449..000000000000
--- a/tools/perf/util/header.h
+++ b/tools/perf/util/header.h
@@@ -107,8 -107,24 +107,15 @@@ int perf_event__synthesize_attr(struct 
  int perf_event__synthesize_attrs(struct perf_tool *tool,
  				 struct perf_session *session,
  				 perf_event__handler_t process);
 -int perf_event__synthesize_event_update_unit(struct perf_tool *tool,
 -					     struct perf_evsel *evsel,
 -					     perf_event__handler_t process);
 -int perf_event__synthesize_event_update_scale(struct perf_tool *tool,
 -					      struct perf_evsel *evsel,
 -					      perf_event__handler_t process);
 -int perf_event__synthesize_event_update_name(struct perf_tool *tool,
 -					     struct perf_evsel *evsel,
 -					     perf_event__handler_t process);
 -int perf_event__synthesize_event_update_cpus(struct perf_tool *tool,
 -					     struct perf_evsel *evsel,
 -					     perf_event__handler_t process);
  int perf_event__process_attr(struct perf_tool *tool, union perf_event *event,
  			     struct perf_evlist **pevlist);
++<<<<<<< HEAD
++=======
+ int perf_event__process_event_update(struct perf_tool *tool,
+ 				     union perf_event *event,
+ 				     struct perf_evlist **pevlist);
+ size_t perf_event__fprintf_event_update(union perf_event *event, FILE *fp);
++>>>>>>> b8f8eb84f483 (perf tools: Remove misplaced __maybe_unused)
  
  int perf_event__synthesize_tracing_data(struct perf_tool *tool,
  					int fd, struct perf_evlist *evlist,
diff --cc tools/perf/util/machine.h
index 1e9be7ba5800,8499db281158..000000000000
--- a/tools/perf/util/machine.h
+++ b/tools/perf/util/machine.h
@@@ -94,6 -94,8 +94,11 @@@ int machine__process_aux_event(struct m
  			       union perf_event *event);
  int machine__process_itrace_start_event(struct machine *machine,
  					union perf_event *event);
++<<<<<<< HEAD
++=======
+ int machine__process_switch_event(struct machine *machine,
+ 				  union perf_event *event);
++>>>>>>> b8f8eb84f483 (perf tools: Remove misplaced __maybe_unused)
  int machine__process_mmap_event(struct machine *machine, union perf_event *event,
  				struct perf_sample *sample);
  int machine__process_mmap2_event(struct machine *machine, union perf_event *event,
diff --cc tools/perf/util/sort.c
index 8f36c1d6fd38,47966a1618c7..000000000000
--- a/tools/perf/util/sort.c
+++ b/tools/perf/util/sort.c
@@@ -1862,11 -2221,12 +1862,17 @@@ static int __hpp_dimension__add_output(
  int hpp_dimension__add_output(unsigned col)
  {
  	BUG_ON(col >= PERF_HPP__MAX_INDEX);
 -	return __hpp_dimension__add_output(&perf_hpp_list, &hpp_sort_dimensions[col]);
 +	return __hpp_dimension__add_output(&hpp_sort_dimensions[col]);
  }
  
++<<<<<<< HEAD
 +static int sort_dimension__add(const char *tok,
 +			       struct perf_evlist *evlist __maybe_unused)
++=======
+ static int sort_dimension__add(struct perf_hpp_list *list, const char *tok,
+ 			       struct perf_evlist *evlist,
+ 			       int level)
++>>>>>>> b8f8eb84f483 (perf tools: Remove misplaced __maybe_unused)
  {
  	unsigned int i;
  
diff --git a/tools/perf/bench/bench.h b/tools/perf/bench/bench.h
index a50df86f2b9b..7e7e43207bbd 100644
--- a/tools/perf/bench/bench.h
+++ b/tools/perf/bench/bench.h
@@ -29,7 +29,7 @@ extern int bench_numa(int argc, const char **argv, const char *prefix);
 extern int bench_sched_messaging(int argc, const char **argv, const char *prefix);
 extern int bench_sched_pipe(int argc, const char **argv, const char *prefix);
 extern int bench_mem_memcpy(int argc, const char **argv,
-			    const char *prefix __maybe_unused);
+			    const char *prefix);
 extern int bench_mem_memset(int argc, const char **argv, const char *prefix);
 extern int bench_futex_hash(int argc, const char **argv, const char *prefix);
 extern int bench_futex_wake(int argc, const char **argv, const char *prefix);
diff --git a/tools/perf/builtin-inject.c b/tools/perf/builtin-inject.c
index 92548e9502ff..d4a349cb292d 100644
--- a/tools/perf/builtin-inject.c
+++ b/tools/perf/builtin-inject.c
@@ -131,8 +131,7 @@ static int copy_bytes(struct perf_inject *inject, int fd, off_t size)
 
 static s64 perf_event__repipe_auxtrace(struct perf_tool *tool,
 				       union perf_event *event,
-				       struct perf_session *session
-				       __maybe_unused)
+				       struct perf_session *session)
 {
 	struct perf_inject *inject = container_of(tool, struct perf_inject,
 						  tool);
diff --git a/tools/perf/builtin-script.c b/tools/perf/builtin-script.c
index 78df6c1ca9e6..3e409ef91471 100644
--- a/tools/perf/builtin-script.c
+++ b/tools/perf/builtin-script.c
@@ -495,7 +495,7 @@ static void print_sample_brstack(union perf_event *event __maybe_unused,
 	}
 }
 
-static void print_sample_brstacksym(union perf_event *event __maybe_unused,
+static void print_sample_brstacksym(union perf_event *event,
 			  struct perf_sample *sample,
 			  struct thread *thread __maybe_unused,
 			  struct perf_event_attr *attr __maybe_unused)
diff --git a/tools/perf/ui/gtk/hists.c b/tools/perf/ui/gtk/hists.c
index d0c6b87e8015..4f3f14bced4a 100644
--- a/tools/perf/ui/gtk/hists.c
+++ b/tools/perf/ui/gtk/hists.c
@@ -55,7 +55,7 @@ static u64 he_get_acc_##_field(struct hist_entry *he)				\
 	return he->stat_acc->_field;						\
 }										\
 										\
-static int perf_gtk__hpp_color_##_type(struct perf_hpp_fmt *fmt __maybe_unused,	\
+static int perf_gtk__hpp_color_##_type(struct perf_hpp_fmt *fmt,		\
 				       struct perf_hpp *hpp,			\
 				       struct hist_entry *he)			\
 {										\
diff --git a/tools/perf/util/annotate.h b/tools/perf/util/annotate.h
index cea323d9ee7e..9241f8c2b7e1 100644
--- a/tools/perf/util/annotate.h
+++ b/tools/perf/util/annotate.h
@@ -158,7 +158,7 @@ int symbol__annotate(struct symbol *sym, struct map *map, size_t privsize);
 
 int hist_entry__annotate(struct hist_entry *he, size_t privsize);
 
-int symbol__annotate_init(struct map *map __maybe_unused, struct symbol *sym);
+int symbol__annotate_init(struct map *map, struct symbol *sym);
 int symbol__annotate_printf(struct symbol *sym, struct map *map,
 			    struct perf_evsel *evsel, bool full_paths,
 			    int min_pcnt, int max_lines, int context);
diff --git a/tools/perf/util/auxtrace.h b/tools/perf/util/auxtrace.h
index 7b865a1bf893..ea169c597334 100644
--- a/tools/perf/util/auxtrace.h
+++ b/tools/perf/util/auxtrace.h
@@ -517,7 +517,7 @@ static inline void auxtrace__free(struct perf_session *session)
 
 static inline struct auxtrace_record *
 auxtrace_record__init(struct perf_evlist *evlist __maybe_unused,
-		      int *err __maybe_unused)
+		      int *err)
 {
 	*err = 0;
 	return NULL;
diff --git a/tools/perf/util/data-convert-bt.c b/tools/perf/util/data-convert-bt.c
index 3f723f4af995..d8b5d0178527 100644
--- a/tools/perf/util/data-convert-bt.c
+++ b/tools/perf/util/data-convert-bt.c
@@ -632,7 +632,7 @@ static bool is_flush_needed(struct ctf_stream *cs)
 }
 
 static int process_sample_event(struct perf_tool *tool,
-				union perf_event *_event __maybe_unused,
+				union perf_event *_event,
 				struct perf_sample *sample,
 				struct perf_evsel *evsel,
 				struct machine *machine __maybe_unused)
diff --git a/tools/perf/util/dso.h b/tools/perf/util/dso.h
index ef3dbc989013..0953280629cf 100644
--- a/tools/perf/util/dso.h
+++ b/tools/perf/util/dso.h
@@ -302,7 +302,7 @@ int __kmod_path__parse(struct kmod_path *m, const char *path,
  * TODO
 */
 int dso__data_get_fd(struct dso *dso, struct machine *machine);
-void dso__data_put_fd(struct dso *dso __maybe_unused);
+void dso__data_put_fd(struct dso *dso);
 void dso__data_close(struct dso *dso);
 
 off_t dso__data_size(struct dso *dso, struct machine *machine);
* Unmerged path tools/perf/util/header.h
diff --git a/tools/perf/util/hist.c b/tools/perf/util/hist.c
index 9a525a5b649f..982c8f0aced0 100644
--- a/tools/perf/util/hist.c
+++ b/tools/perf/util/hist.c
@@ -654,7 +654,7 @@ iter_prepare_branch_entry(struct hist_entry_iter *iter, struct addr_location *al
 }
 
 static int
-iter_add_single_branch_entry(struct hist_entry_iter *iter __maybe_unused,
+iter_add_single_branch_entry(struct hist_entry_iter *iter,
 			     struct addr_location *al __maybe_unused)
 {
 	/* to avoid calling callback function */
diff --git a/tools/perf/util/hist.h b/tools/perf/util/hist.h
index 1d52912874e9..32555ca85b00 100644
--- a/tools/perf/util/hist.h
+++ b/tools/perf/util/hist.h
@@ -378,8 +378,7 @@ void hist__account_cycles(struct branch_stack *bs, struct addr_location *al,
 			  struct perf_sample *sample, bool nonany_branch_mode);
 
 struct option;
-int parse_filter_percentage(const struct option *opt __maybe_unused,
-			    const char *arg, int unset __maybe_unused);
+int parse_filter_percentage(const struct option *opt, const char *arg, int unset);
 int perf_hist_config(const char *var, const char *value);
 
 void perf_hpp_list__init(struct perf_hpp_list *list);
diff --git a/tools/perf/util/intel-bts.c b/tools/perf/util/intel-bts.c
index eb0e7f8bf515..6bc3ecd2e7ca 100644
--- a/tools/perf/util/intel-bts.c
+++ b/tools/perf/util/intel-bts.c
@@ -678,7 +678,7 @@ static int intel_bts_process_auxtrace_event(struct perf_session *session,
 	return 0;
 }
 
-static int intel_bts_flush(struct perf_session *session __maybe_unused,
+static int intel_bts_flush(struct perf_session *session,
 			   struct perf_tool *tool __maybe_unused)
 {
 	struct intel_bts *bts = container_of(session->auxtrace, struct intel_bts,
* Unmerged path tools/perf/util/machine.h
* Unmerged path tools/perf/util/sort.c
diff --git a/tools/perf/util/stat-shadow.c b/tools/perf/util/stat-shadow.c
index 5e2d2e34e1bc..456a5535071d 100644
--- a/tools/perf/util/stat-shadow.c
+++ b/tools/perf/util/stat-shadow.c
@@ -145,8 +145,7 @@ static const char *get_ratio_color(enum grc_type type, double ratio)
 }
 
 static void print_stalled_cycles_frontend(int cpu,
-					  struct perf_evsel *evsel
-					  __maybe_unused, double avg,
+					  struct perf_evsel *evsel, double avg,
 					  struct perf_stat_output_ctx *out)
 {
 	double total, ratio = 0.0;
@@ -168,8 +167,7 @@ static void print_stalled_cycles_frontend(int cpu,
 }
 
 static void print_stalled_cycles_backend(int cpu,
-					 struct perf_evsel *evsel
-					 __maybe_unused, double avg,
+					 struct perf_evsel *evsel, double avg,
 					 struct perf_stat_output_ctx *out)
 {
 	double total, ratio = 0.0;
@@ -187,7 +185,7 @@ static void print_stalled_cycles_backend(int cpu,
 }
 
 static void print_branch_misses(int cpu,
-				struct perf_evsel *evsel __maybe_unused,
+				struct perf_evsel *evsel,
 				double avg,
 				struct perf_stat_output_ctx *out)
 {
@@ -206,7 +204,7 @@ static void print_branch_misses(int cpu,
 }
 
 static void print_l1_dcache_misses(int cpu,
-				   struct perf_evsel *evsel __maybe_unused,
+				   struct perf_evsel *evsel,
 				   double avg,
 				   struct perf_stat_output_ctx *out)
 {
@@ -225,7 +223,7 @@ static void print_l1_dcache_misses(int cpu,
 }
 
 static void print_l1_icache_misses(int cpu,
-				   struct perf_evsel *evsel __maybe_unused,
+				   struct perf_evsel *evsel,
 				   double avg,
 				   struct perf_stat_output_ctx *out)
 {
@@ -243,7 +241,7 @@ static void print_l1_icache_misses(int cpu,
 }
 
 static void print_dtlb_cache_misses(int cpu,
-				    struct perf_evsel *evsel __maybe_unused,
+				    struct perf_evsel *evsel,
 				    double avg,
 				    struct perf_stat_output_ctx *out)
 {
@@ -261,7 +259,7 @@ static void print_dtlb_cache_misses(int cpu,
 }
 
 static void print_itlb_cache_misses(int cpu,
-				    struct perf_evsel *evsel __maybe_unused,
+				    struct perf_evsel *evsel,
 				    double avg,
 				    struct perf_stat_output_ctx *out)
 {
@@ -279,7 +277,7 @@ static void print_itlb_cache_misses(int cpu,
 }
 
 static void print_ll_cache_misses(int cpu,
-				  struct perf_evsel *evsel __maybe_unused,
+				  struct perf_evsel *evsel,
 				  double avg,
 				  struct perf_stat_output_ctx *out)
 {
