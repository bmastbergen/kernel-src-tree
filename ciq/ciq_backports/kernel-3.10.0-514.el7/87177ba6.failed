lan78xx: replace devid to chipid & chiprev

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Woojung.Huh@microchip.com <Woojung.Huh@microchip.com>
commit 87177ba6e47e4e3268b999843399ee1566f682ac
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/87177ba6.failed

Replace devid to chipid & chiprev for easy access.

	Signed-off-by: Woojung Huh <woojung.huh@microchip.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 87177ba6e47e4e3268b999843399ee1566f682ac)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/lan78xx.c
diff --cc drivers/net/usb/lan78xx.c
index 2be4dd6d82e4,4ec25e84f472..000000000000
--- a/drivers/net/usb/lan78xx.c
+++ b/drivers/net/usb/lan78xx.c
@@@ -1556,19 -1556,9 +1557,25 @@@ static int lan78xx_mdio_init(struct lan
  	snprintf(dev->mdiobus->id, MII_BUS_ID_SIZE, "usb-%03d:%03d",
  		 dev->udev->bus->busnum, dev->udev->devnum);
  
++<<<<<<< HEAD
 +	dev->mdiobus->irq = kzalloc(sizeof(int) * PHY_MAX_ADDR, GFP_KERNEL);
 +	if (!dev->mdiobus->irq) {
 +		ret = -ENOMEM;
 +		goto exit1;
 +	}
 +
 +	/* handle our own interrupt */
 +	for (i = 0; i < PHY_MAX_ADDR; i++)
 +		dev->mdiobus->irq[i] = PHY_IGNORE_INTERRUPT;
 +
 +	switch (dev->devid & ID_REV_CHIP_ID_MASK_) {
 +	case 0x78000000:
 +	case 0x78500000:
++=======
+ 	switch (dev->chipid) {
+ 	case ID_REV_CHIP_ID_7800_:
+ 	case ID_REV_CHIP_ID_7850_:
++>>>>>>> 87177ba6e47e (lan78xx: replace devid to chipid & chiprev)
  		/* set to internal PHY id */
  		dev->mdiobus->phy_mask = ~(1 << 1);
  		break;
* Unmerged path drivers/net/usb/lan78xx.c
diff --git a/drivers/net/usb/lan78xx.h b/drivers/net/usb/lan78xx.h
index a93fb653e7c5..40927906109a 100644
--- a/drivers/net/usb/lan78xx.h
+++ b/drivers/net/usb/lan78xx.h
@@ -107,6 +107,7 @@
 #define ID_REV_CHIP_ID_MASK_		(0xFFFF0000)
 #define ID_REV_CHIP_REV_MASK_		(0x0000FFFF)
 #define ID_REV_CHIP_ID_7800_		(0x7800)
+#define ID_REV_CHIP_ID_7850_		(0x7850)
 
 #define FPGA_REV			(0x04)
 #define FPGA_REV_MINOR_MASK_		(0x0000FF00)
