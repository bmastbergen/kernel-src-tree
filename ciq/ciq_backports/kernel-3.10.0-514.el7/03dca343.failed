libnvdimm, dax: fix deletion

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Dan Williams <dan.j.williams@intel.com>
commit 03dca343afe080968d90c4d9196404b5bbbc8461
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/03dca343.failed

The ndctl unit tests discovered that the dax enabling omitted updates to
nd_detach_and_reset().  This routine clears device the configuration
when the namespace is detached.  Without this clearing userspace may
assume that the device is in the process of being configured by another
agent in the system.

	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
(cherry picked from commit 03dca343afe080968d90c4d9196404b5bbbc8461)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvdimm/claim.c
#	drivers/nvdimm/nd-core.h
#	drivers/nvdimm/pfn_devs.c
* Unmerged path drivers/nvdimm/claim.c
* Unmerged path drivers/nvdimm/nd-core.h
* Unmerged path drivers/nvdimm/pfn_devs.c
* Unmerged path drivers/nvdimm/claim.c
* Unmerged path drivers/nvdimm/nd-core.h
* Unmerged path drivers/nvdimm/pfn_devs.c
