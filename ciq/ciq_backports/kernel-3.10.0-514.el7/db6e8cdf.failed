mmc: sdhci-pci: Add SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC to BYT

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [mmc] sdhci-pci: Add SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC to BYT (Don Zickus) [1127975 1277866 1280133 1286932 1297039]
Rebuild_FUZZ: 95.65%
commit-author Adrian Hunter <adrian.hunter@intel.com>
commit db6e8cdfcde84be556baa6d6b2424668ca21a36c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/db6e8cdf.failed

SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC actually causes
standard-compliant behaviour by causing the flagging
of the last DMA transfer descriptor as the end
instead of there being an additional nop descriptor
which is flagged as the end.  Consequently, it is
better to have the quirk.  Add it for BYT.

	Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit db6e8cdfcde84be556baa6d6b2424668ca21a36c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/host/sdhci-pci.c
diff --cc drivers/mmc/host/sdhci-pci.c
index a627aad5414a,632e9d966e5b..000000000000
--- a/drivers/mmc/host/sdhci-pci.c
+++ b/drivers/mmc/host/sdhci-pci.c
@@@ -271,17 -294,24 +271,36 @@@ static int byt_sd_probe_slot(struct sdh
  static const struct sdhci_pci_fixes sdhci_intel_byt_emmc = {
  	.allow_runtime_pm = true,
  	.probe_slot	= byt_emmc_probe_slot,
++<<<<<<< HEAD
 +	.quirks2	= SDHCI_QUIRK2_PRESET_VALUE_BROKEN,
 +};
 +
 +static const struct sdhci_pci_fixes sdhci_intel_byt_sdio = {
 +	.quirks2	= SDHCI_QUIRK2_HOST_OFF_CARD_ON,
++=======
+ 	.quirks		= SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC,
+ 	.quirks2	= SDHCI_QUIRK2_PRESET_VALUE_BROKEN |
+ 			  SDHCI_QUIRK2_STOP_WITH_TC,
+ };
+ 
+ static const struct sdhci_pci_fixes sdhci_intel_byt_sdio = {
+ 	.quirks		= SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC,
+ 	.quirks2	= SDHCI_QUIRK2_HOST_OFF_CARD_ON |
+ 			SDHCI_QUIRK2_PRESET_VALUE_BROKEN,
++>>>>>>> db6e8cdfcde8 (mmc: sdhci-pci: Add SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC to BYT)
  	.allow_runtime_pm = true,
  	.probe_slot	= byt_sdio_probe_slot,
  };
  
  static const struct sdhci_pci_fixes sdhci_intel_byt_sd = {
++<<<<<<< HEAD
 +	.quirks2	= SDHCI_QUIRK2_CARD_ON_NEEDS_BUS_ON,
++=======
+ 	.quirks		= SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC,
+ 	.quirks2	= SDHCI_QUIRK2_CARD_ON_NEEDS_BUS_ON |
+ 			  SDHCI_QUIRK2_PRESET_VALUE_BROKEN |
+ 			  SDHCI_QUIRK2_STOP_WITH_TC,
++>>>>>>> db6e8cdfcde8 (mmc: sdhci-pci: Add SDHCI_QUIRK_NO_ENDATTR_IN_NOPDESC to BYT)
  	.allow_runtime_pm = true,
  	.own_cd_for_runtime_pm = true,
  	.probe_slot	= byt_sd_probe_slot,
* Unmerged path drivers/mmc/host/sdhci-pci.c
