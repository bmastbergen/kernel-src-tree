libnvdimm, pmem: move pmem to drivers/nvdimm/

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Dan Williams <dan.j.williams@intel.com>
commit 18da2c9ee41a036bf470dbad73c18a815725d36e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/18da2c9e.failed

Prepare the pmem driver to consume PMEM namespaces emitted by regions of
an nvdimm_bus instance.  No functional change.

	Acked-by: Christoph Hellwig <hch@lst.de>
	Tested-by: Toshi Kani <toshi.kani@hp.com>
	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
(cherry picked from commit 18da2c9ee41a036bf470dbad73c18a815725d36e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvdimm/Kconfig
#	drivers/nvdimm/Makefile
* Unmerged path drivers/nvdimm/Kconfig
* Unmerged path drivers/nvdimm/Makefile
diff --git a/drivers/block/Kconfig b/drivers/block/Kconfig
index 72d8649a508e..eeaa58747372 100644
--- a/drivers/block/Kconfig
+++ b/drivers/block/Kconfig
@@ -393,17 +393,6 @@ config BLK_DEV_RAM_DAX
 	  and will prevent RAM block device backing store memory from being
 	  allocated from highmem (only a problem for highmem systems).
 
-config BLK_DEV_PMEM
-	tristate "Persistent memory block device support"
-	help
-	  Saying Y here will allow you to use a contiguous range of reserved
-	  memory as one or more persistent block devices.
-
-	  To compile this driver as a module, choose M here: the module will be
-	  called 'pmem'.
-
-	  If unsure, say N.
-
 config CDROM_PKTCDVD
 	tristate "Packet writing on CD/DVD media"
 	depends on !UML
diff --git a/drivers/block/Makefile b/drivers/block/Makefile
index 179b1d37b521..ee7f36c63316 100644
--- a/drivers/block/Makefile
+++ b/drivers/block/Makefile
@@ -14,7 +14,6 @@ obj-$(CONFIG_PS3_VRAM)		+= ps3vram.o
 obj-$(CONFIG_ATARI_FLOPPY)	+= ataflop.o
 obj-$(CONFIG_AMIGA_Z2RAM)	+= z2ram.o
 obj-$(CONFIG_BLK_DEV_RAM)	+= brd.o
-obj-$(CONFIG_BLK_DEV_PMEM)	+= pmem.o
 obj-$(CONFIG_BLK_DEV_LOOP)	+= loop.o
 obj-$(CONFIG_BLK_CPQ_DA)	+= cpqarray.o
 obj-$(CONFIG_BLK_CPQ_CISS_DA)  += cciss.o
* Unmerged path drivers/nvdimm/Kconfig
* Unmerged path drivers/nvdimm/Makefile
diff --git a/drivers/block/pmem.c b/drivers/nvdimm/pmem.c
similarity index 100%
rename from drivers/block/pmem.c
rename to drivers/nvdimm/pmem.c
