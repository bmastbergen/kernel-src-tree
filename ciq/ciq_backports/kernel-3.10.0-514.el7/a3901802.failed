libnvdimm, pfn: fix nvdimm_namespace_add_poison() vs section alignment

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Dan Williams <dan.j.williams@intel.com>
commit a390180291dd9a2392bbab4242cde712c326efc6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/a3901802.failed

When section alignment padding is in effect we need to shift / truncate
the range that is queried for poison by the 'start_pad' or 'end_trunc'
reservations.

It's easiest if we just pass in an adjusted resource range rather than
deriving it from the passed in namespace.  With the resource range
resolution pushed out to the caller we can also push the
namespace-to-region lookup to the caller and drop the implicit pmem-type
assumption about the passed in namespace object.

	Cc: Vishal Verma <vishal.l.verma@intel.com>
	Signed-off-by: Dan Williams <dan.j.williams@intel.com>
(cherry picked from commit a390180291dd9a2392bbab4242cde712c326efc6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvdimm/core.c
#	drivers/nvdimm/nd.h
#	drivers/nvdimm/pmem.c
* Unmerged path drivers/nvdimm/core.c
* Unmerged path drivers/nvdimm/nd.h
* Unmerged path drivers/nvdimm/pmem.c
* Unmerged path drivers/nvdimm/core.c
* Unmerged path drivers/nvdimm/nd.h
* Unmerged path drivers/nvdimm/pmem.c
