ixgbe: fix default mac->ops.setup_link for X550EM

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Emil Tantilov <emil.s.tantilov@intel.com>
commit 4695886c644e48a02ca9d4c146a7ec4de8f2d2d8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/4695886c.failed

X550EM_a/x did not have a default value for mac->ops.setup_link which
was causing link issues for backplane devices.

This patch sets mac->ops.setup_link to ixgbe_setup_mac_link_X540 for
X550EM_a/x which is also default for X550. This will result in
mac->ops.setup_link calling the link setup function for the respective
PHY type in case we do not need a special function to deal with it.

	Reported-by: Ken Cox <jkc@redhat.com>
	Signed-off-by: Emil Tantilov <emil.s.tantilov@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 4695886c644e48a02ca9d4c146a7ec4de8f2d2d8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c
diff --cc drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c
index 98d6e51de236,ea25f001f3bb..000000000000
--- a/drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c
+++ b/drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c
@@@ -2497,6 -2920,23 +2497,26 @@@ static struct ixgbe_mac_operations mac_
  	.write_iosf_sb_reg	= ixgbe_write_iosf_sb_reg_x550,
  };
  
++<<<<<<< HEAD
++=======
+ static struct ixgbe_mac_operations mac_ops_x550em_a = {
+ 	X550_COMMON_MAC
+ 	.reset_hw		= ixgbe_reset_hw_X550em,
+ 	.get_media_type		= ixgbe_get_media_type_X550em,
+ 	.get_san_mac_addr	= NULL,
+ 	.get_wwn_prefix		= NULL,
+ 	.setup_link		= &ixgbe_setup_mac_link_X540,
+ 	.get_link_capabilities	= ixgbe_get_link_capabilities_X550em,
+ 	.get_bus_info		= ixgbe_get_bus_info_X550em,
+ 	.setup_sfp		= ixgbe_setup_sfp_modules_X550em,
+ 	.acquire_swfw_sync	= ixgbe_acquire_swfw_sync_x550em_a,
+ 	.release_swfw_sync	= ixgbe_release_swfw_sync_x550em_a,
+ 	.setup_fc		= ixgbe_setup_fc_generic,
+ 	.read_iosf_sb_reg	= ixgbe_read_iosf_sb_reg_x550a,
+ 	.write_iosf_sb_reg	= ixgbe_write_iosf_sb_reg_x550a,
+ };
+ 
++>>>>>>> 4695886c644e (ixgbe: fix default mac->ops.setup_link for X550EM)
  #define X550_COMMON_EEP \
  	.read			= &ixgbe_read_ee_hostif_X550, \
  	.read_buffer		= &ixgbe_read_ee_hostif_buffer_X550, \
* Unmerged path drivers/net/ethernet/intel/ixgbe/ixgbe_x550.c
