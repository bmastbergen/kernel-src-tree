cdc_mbim: apply "NDP to end" quirk to all Huawei devices

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Bjørn Mork <bjorn@mork.no>
commit c5b5343cfbc9f46af65033fa4f407d7b7d98371d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/c5b5343c.failed

We now have a positive report of another Huawei device needing
this quirk: The ME906s-158 (12d1:15c1).  This is an m.2 form
factor modem with no obvious relationship to the E3372 (12d1:157d)
we already have a quirk entry for.  This is reason enough to
believe the quirk might be necessary for any number of current
and future Huawei devices.

Applying the quirk to all Huawei devices, since it is crucial
to any device affected by the firmware bug, while the impact
on non-affected devices is negligible.

The quirk can if necessary be disabled per-device by writing
N to /sys/class/net/<iface>/cdc_ncm/ndp_to_end

	Reported-by: Andreas Fett <andreas.fett@secunet.com>
	Signed-off-by: Bjørn Mork <bjorn@mork.no>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit c5b5343cfbc9f46af65033fa4f407d7b7d98371d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/cdc_mbim.c
diff --cc drivers/net/usb/cdc_mbim.c
index a164dab06678,96a5028621c8..000000000000
--- a/drivers/net/usb/cdc_mbim.c
+++ b/drivers/net/usb/cdc_mbim.c
@@@ -591,6 -617,15 +591,18 @@@ static const struct usb_device_id mbim_
  	{ USB_VENDOR_AND_INTERFACE_INFO(0x0bdb, USB_CLASS_COMM, USB_CDC_SUBCLASS_MBIM, USB_CDC_PROTO_NONE),
  	  .driver_info = (unsigned long)&cdc_mbim_info,
  	},
++<<<<<<< HEAD
++=======
+ 
+ 	/* Some Huawei devices, ME906s-158 (12d1:15c1) and E3372
+ 	 * (12d1:157d), are known to fail unless the NDP is placed
+ 	 * after the IP packets.  Applying the quirk to all Huawei
+ 	 * devices is broader than necessary, but harmless.
+ 	 */
+ 	{ USB_VENDOR_AND_INTERFACE_INFO(0x12d1, USB_CLASS_COMM, USB_CDC_SUBCLASS_MBIM, USB_CDC_PROTO_NONE),
+ 	  .driver_info = (unsigned long)&cdc_mbim_info_ndp_to_end,
+ 	},
++>>>>>>> c5b5343cfbc9 (cdc_mbim: apply "NDP to end" quirk to all Huawei devices)
  	/* default entry */
  	{ USB_INTERFACE_INFO(USB_CLASS_COMM, USB_CDC_SUBCLASS_MBIM, USB_CDC_PROTO_NONE),
  	  .driver_info = (unsigned long)&cdc_mbim_info_zlp,
* Unmerged path drivers/net/usb/cdc_mbim.c
