perf tools: Unexport some methods unused outside strbuf.c

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Arnaldo Carvalho de Melo <acme@redhat.com>
commit 0741208a7cd4fc651316f1f861ad9e83495765fc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0741208a.failed

	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Jiri Olsa <jolsa@kernel.org>
	Cc: Namhyung Kim <namhyung@kernel.org>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/n/tip-nq1wvtky4mpu0nupjyar7sbw@git.kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 0741208a7cd4fc651316f1f861ad9e83495765fc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/util/strbuf.c
#	tools/perf/util/strbuf.h
diff --cc tools/perf/util/strbuf.c
index 7298b6af7c3f,8fb73295ec34..000000000000
--- a/tools/perf/util/strbuf.c
+++ b/tools/perf/util/strbuf.c
@@@ -58,10 -65,10 +65,14 @@@ void strbuf_add(struct strbuf *sb, cons
  	strbuf_setlen(sb, sb->len + len);
  }
  
++<<<<<<< HEAD
 +void strbuf_addf(struct strbuf *sb, const char *fmt, ...)
++=======
+ static void strbuf_addv(struct strbuf *sb, const char *fmt, va_list ap)
++>>>>>>> 0741208a7cd4 (perf tools: Unexport some methods unused outside strbuf.c)
  {
  	int len;
 -	va_list ap_saved;
 +	va_list ap;
  
  	if (!strbuf_avail(sb))
  		strbuf_grow(sb, 64);
diff --cc tools/perf/util/strbuf.h
index 63fb0247ca4d,ab9be0fbbd40..000000000000
--- a/tools/perf/util/strbuf.h
+++ b/tools/perf/util/strbuf.h
@@@ -70,21 -71,17 +70,21 @@@ static inline void strbuf_setlen(struc
  }
  
  /*----- add data in your buffer -----*/
- static inline void strbuf_addch(struct strbuf *sb, int c) {
- 	strbuf_grow(sb, 1);
- 	sb->buf[sb->len++] = c;
- 	sb->buf[sb->len] = '\0';
- }
+ void strbuf_addch(struct strbuf *sb, int c);
  
 -void strbuf_add(struct strbuf *buf, const void *, size_t);
 +extern void strbuf_add(struct strbuf *, const void *, size_t);
  static inline void strbuf_addstr(struct strbuf *sb, const char *s) {
  	strbuf_add(sb, s, strlen(s));
  }
  
  __attribute__((format(printf,2,3)))
++<<<<<<< HEAD
 +extern void strbuf_addf(struct strbuf *sb, const char *fmt, ...);
++=======
+ void strbuf_addf(struct strbuf *sb, const char *fmt, ...);
++>>>>>>> 0741208a7cd4 (perf tools: Unexport some methods unused outside strbuf.c)
  
  /* XXX: if read fails, any partial read is undone */
 -ssize_t strbuf_read(struct strbuf *, int fd, ssize_t hint);
 +extern ssize_t strbuf_read(struct strbuf *, int fd, ssize_t hint);
  
  #endif /* __PERF_STRBUF_H */
* Unmerged path tools/perf/util/strbuf.c
* Unmerged path tools/perf/util/strbuf.h
