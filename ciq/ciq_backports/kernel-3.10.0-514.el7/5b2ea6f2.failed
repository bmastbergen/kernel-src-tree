perf report: Check error during report__collapse_hists()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Namhyung Kim <namhyung@kernel.org>
commit 5b2ea6f2f6ac81a230e6cc68e1473e796a583f00
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/5b2ea6f2.failed

If it returns an error, warn user and bail out instead of silently
ignoring it.

	Signed-off-by: Namhyung Kim <namhyung@kernel.org>
	Acked-by: Jiri Olsa <jolsa@kernel.org>
	Cc: Andi Kleen <andi@firstfloor.org>
	Cc: David Ahern <dsahern@gmail.com>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Stephane Eranian <eranian@google.com>
	Cc: Wang Nan <wangnan0@huawei.com>
Link: http://lkml.kernel.org/r/1455631723-17345-9-git-send-email-namhyung@kernel.org
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 5b2ea6f2f6ac81a230e6cc68e1473e796a583f00)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/builtin-report.c
diff --cc tools/perf/builtin-report.c
index e590d35fd08a,760e886ca9d9..000000000000
--- a/tools/perf/builtin-report.c
+++ b/tools/perf/builtin-report.c
@@@ -464,7 -483,11 +465,15 @@@ static int report__collapse_hists(struc
  		if (pos->idx == 0)
  			hists->symbol_filter_str = rep->symbol_filter_str;
  
++<<<<<<< HEAD
 +		hists__collapse_resort(hists, &prog);
++=======
+ 		hists->socket_filter = rep->socket_filter;
+ 
+ 		ret = hists__collapse_resort(hists, &prog);
+ 		if (ret < 0)
+ 			break;
++>>>>>>> 5b2ea6f2f6ac (perf report: Check error during report__collapse_hists())
  
  		/* Non-group events are considered as leader */
  		if (symbol_conf.event_group &&
* Unmerged path tools/perf/builtin-report.c
