openvswitch: correct encoding of set tunnel action attributes

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Simon Horman <simon.horman@netronome.com>
commit e905eabc90a5b787d8708df164543ee295bea5f2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/e905eabc.failed

In a set action tunnel attributes should be encoded in a
nested action.

I noticed this because ovs-dpctl was reporting an error
when dumping flows due to the incorrect encoding of tunnel attributes
in a set action.

Fixes: fc4099f17240 ("openvswitch: Fix egress tunnel info.")
	Signed-off-by: Simon Horman <simon.horman@netronome.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e905eabc90a5b787d8708df164543ee295bea5f2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/openvswitch/flow_netlink.c
diff --cc net/openvswitch/flow_netlink.c
index 7f4707e70b38,d1bd4a45ca2d..000000000000
--- a/net/openvswitch/flow_netlink.c
+++ b/net/openvswitch/flow_netlink.c
@@@ -2285,10 -2434,10 +2285,17 @@@ static int set_action_to_attr(const str
  		if (!start)
  			return -EMSGSIZE;
  
++<<<<<<< HEAD
 +		err = ipv4_tun_to_nlattr(skb, &tun_info->key,
 +					 tun_info->options_len ?
 +						tun_info->options : NULL,
 +					 tun_info->options_len);
++=======
+ 		err =  ip_tun_to_nlattr(skb, &tun_info->key,
+ 					ip_tunnel_info_opts(tun_info),
+ 					tun_info->options_len,
+ 					ip_tunnel_info_af(tun_info));
++>>>>>>> e905eabc90a5 (openvswitch: correct encoding of set tunnel action attributes)
  		if (err)
  			return err;
  		nla_nest_end(skb, start);
* Unmerged path net/openvswitch/flow_netlink.c
