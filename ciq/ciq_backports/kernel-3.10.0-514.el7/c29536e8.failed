mmc: core: Make runtime resume default behavior for MMC/SD

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [mmc] core: Make runtime resume default behavior for MMC/SD (Don Zickus) [1127975 1277866 1280133 1286932 1297039]
Rebuild_FUZZ: 95.50%
commit-author Ulf Hansson <ulf.hansson@linaro.org>
commit c29536e85b5f7cf42b2e761f7ff35bc97de7cf95
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/c29536e8.failed

MMC_CAP_RUNTIME_RESUME was invented to decrease system PM resume time for
systems that particularly needs this. As the feature has matured let's
make it the default behavior for MMC/SD.

	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
(cherry picked from commit c29536e85b5f7cf42b2e761f7ff35bc97de7cf95)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/core/mmc.c
#	drivers/mmc/core/sd.c
diff --cc drivers/mmc/core/mmc.c
index de6bcae94d53,66957addf9e4..000000000000
--- a/drivers/mmc/core/mmc.c
+++ b/drivers/mmc/core/mmc.c
@@@ -1673,12 -1936,9 +1665,13 @@@ static int mmc_runtime_resume(struct mm
  {
  	int err;
  
- 	if (!(host->caps & (MMC_CAP_AGGRESSIVE_PM | MMC_CAP_RUNTIME_RESUME)))
- 		return 0;
- 
  	err = _mmc_resume(host);
  	if (err)
++<<<<<<< HEAD
 +		pr_err("%s: error %d doing aggessive resume\n",
++=======
+ 		pr_err("%s: error %d doing runtime resume\n",
++>>>>>>> c29536e85b5f (mmc: core: Make runtime resume default behavior for MMC/SD)
  			mmc_hostname(host), err);
  
  	return 0;
diff --cc drivers/mmc/core/sd.c
index 0aa8262f3f5e,8f3b46a56b3d..000000000000
--- a/drivers/mmc/core/sd.c
+++ b/drivers/mmc/core/sd.c
@@@ -1187,12 -1157,9 +1179,13 @@@ static int mmc_sd_runtime_resume(struc
  {
  	int err;
  
- 	if (!(host->caps & (MMC_CAP_AGGRESSIVE_PM | MMC_CAP_RUNTIME_RESUME)))
- 		return 0;
- 
  	err = _mmc_sd_resume(host);
  	if (err)
++<<<<<<< HEAD
 +		pr_err("%s: error %d doing aggessive resume\n",
++=======
+ 		pr_err("%s: error %d doing runtime resume\n",
++>>>>>>> c29536e85b5f (mmc: core: Make runtime resume default behavior for MMC/SD)
  			mmc_hostname(host), err);
  
  	return 0;
* Unmerged path drivers/mmc/core/mmc.c
* Unmerged path drivers/mmc/core/sd.c
