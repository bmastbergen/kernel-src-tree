i40e: Limit DCB FW version checks to X710/XL710 devices

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Greg Bowers <gregory.j.bowers@intel.com>
commit 6dfae3892473e91080accdb2da8476481393f769
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/6dfae389.failed

X710/XL710 devices require FW version checks to properly handle DCB
configurations from the FW.  Newer devices do not, so limit these checks
to X710/XL710.

	Signed-off-by: Greg Bowers <gregory.j.bowers@intel.com>
	Acked-by: Shannon Nelson <shannon.nelson@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 6dfae3892473e91080accdb2da8476481393f769)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_dcb.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_dcb.c
index 76e963df9b9f,582daa7ad776..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_dcb.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_dcb.c
@@@ -784,13 -814,15 +784,22 @@@ i40e_status i40e_get_dcb_config(struct 
  	struct i40e_aqc_get_cee_dcb_cfg_resp cee_cfg;
  	struct i40e_aqc_get_cee_dcb_cfg_v1_resp cee_v1_cfg;
  
++<<<<<<< HEAD
 +	/* If Firmware version < v4.33 IEEE only */
 +	if (((hw->aq.fw_maj_ver == 4) && (hw->aq.fw_min_ver < 33)) ||
 +	    (hw->aq.fw_maj_ver < 4))
 +		goto ieee;
- 
- 	/* If Firmware version == v4.33 use old CEE struct */
- 	if ((hw->aq.fw_maj_ver == 4) && (hw->aq.fw_min_ver == 33)) {
++=======
+ 	/* If Firmware version < v4.33 on X710/XL710, IEEE only */
+ 	if ((hw->mac.type == I40E_MAC_XL710) &&
+ 	    (((hw->aq.fw_maj_ver == 4) && (hw->aq.fw_min_ver < 33)) ||
+ 	      (hw->aq.fw_maj_ver < 4)))
+ 		return i40e_get_ieee_dcb_config(hw);
++>>>>>>> 6dfae3892473 (i40e: Limit DCB FW version checks to X710/XL710 devices)
+ 
+ 	/* If Firmware version == v4.33 on X710/XL710, use old CEE struct */
+ 	if ((hw->mac.type == I40E_MAC_XL710) &&
+ 	    ((hw->aq.fw_maj_ver == 4) && (hw->aq.fw_min_ver == 33))) {
  		ret = i40e_aq_get_cee_dcb_config(hw, &cee_v1_cfg,
  						 sizeof(cee_v1_cfg), NULL);
  		if (!ret) {
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_dcb.c
