s390: pass march flag to assembly files as well

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [s390] pass march flag to assembly files as well (Jessica Yu) [1117927]
Rebuild_FUZZ: 93.18%
commit-author Heiko Carstens <heiko.carstens@de.ibm.com>
commit 0f1b1ff54b386926ef1a524e60ef89ae7738bbd5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0f1b1ff5.failed

Currently the march flag gets only passed to C files, but not to
assembler files.
This means that we can't add new instructions like e.g. aghik to asm
files, since the assembler doesn't know of the new instructions if
the appropriate march flag isn't specified.

So also pass the march flag when compiling assembler files as well.

	Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
	Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
(cherry picked from commit 0f1b1ff54b386926ef1a524e60ef89ae7738bbd5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/s390/Makefile
diff --cc arch/s390/Makefile
index 14b18785fe7d,878e67973151..000000000000
--- a/arch/s390/Makefile
+++ b/arch/s390/Makefile
@@@ -35,14 -35,16 +35,27 @@@ endi
  
  export LD_BFD
  
++<<<<<<< HEAD
 +cflags-$(CONFIG_MARCH_G5)   += $(call cc-option,-march=g5)
 +cflags-$(CONFIG_MARCH_Z900) += $(call cc-option,-march=z900)
 +cflags-$(CONFIG_MARCH_Z990) += $(call cc-option,-march=z990)
 +cflags-$(CONFIG_MARCH_Z9_109) += $(call cc-option,-march=z9-109)
 +cflags-$(CONFIG_MARCH_Z10) += $(call cc-option,-march=z10)
 +cflags-$(CONFIG_MARCH_Z196) += $(call cc-option,-march=z196)
 +cflags-$(CONFIG_MARCH_ZEC12) += $(call cc-option,-march=zEC12)
 +cflags-$(CONFIG_MARCH_Z13)   += $(call cc-option,-march=z13)
++=======
+ mflags-$(CONFIG_MARCH_G5)     := -march=g5
+ mflags-$(CONFIG_MARCH_Z900)   := -march=z900
+ mflags-$(CONFIG_MARCH_Z990)   := -march=z990
+ mflags-$(CONFIG_MARCH_Z9_109) := -march=z9-109
+ mflags-$(CONFIG_MARCH_Z10)    := -march=z10
+ mflags-$(CONFIG_MARCH_Z196)   := -march=z196
+ mflags-$(CONFIG_MARCH_ZEC12)  := -march=zEC12
+ 
+ aflags-y += $(mflags-y)
+ cflags-y += $(mflags-y)
++>>>>>>> 0f1b1ff54b38 (s390: pass march flag to assembly files as well)
  
  cflags-$(CONFIG_MARCH_G5_TUNE)		+= -mtune=g5
  cflags-$(CONFIG_MARCH_Z900_TUNE)	+= -mtune=z900
* Unmerged path arch/s390/Makefile
