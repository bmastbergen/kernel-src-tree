HID: hidraw: replace hid_output_raw_report() calls by appropriates ones

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [hid] aw: replace hid_output_raw_report() calls by appropriates ones (Benjamin Tissoires) [1311883]
Rebuild_FUZZ: 93.23%
commit-author Benjamin Tissoires <benjamin.tissoires@redhat.com>
commit 3a75b24949a8d34d2014866006e30dc69dd567c8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/3a75b249.failed

Remove hid_output_raw_report() call as it is not a ll_driver callbacj,
and switch to the hid_hw_* implementation. USB-HID used to fallback
into SET_REPORT when there were no output interrupt endpoint,
so emulating this if hid_hw_output_report() returns -ENOSYS.

	Reviewed-by: David Herrmann <dh.herrmann@gmail.com>
	Signed-off-by: Benjamin Tissoires <benjamin.tissoires@redhat.com>
	Signed-off-by: Jiri Kosina <jkosina@suse.cz>
(cherry picked from commit 3a75b24949a8d34d2014866006e30dc69dd567c8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hid/hidraw.c
diff --cc drivers/hid/hidraw.c
index 9cc86097e507,2cc484c0017b..000000000000
--- a/drivers/hid/hidraw.c
+++ b/drivers/hid/hidraw.c
@@@ -153,7 -149,20 +149,24 @@@ static ssize_t hidraw_send_report(struc
  		goto out_free;
  	}
  
++<<<<<<< HEAD
 +	ret = dev->hid_output_raw_report(dev, buf, count, report_type);
++=======
+ 	if (report_type == HID_OUTPUT_REPORT) {
+ 		ret = hid_hw_output_report(dev, buf, count);
+ 		/*
+ 		 * compatibility with old implementation of USB-HID and I2C-HID:
+ 		 * if the device does not support receiving output reports,
+ 		 * on an interrupt endpoint, fallback to SET_REPORT HID command.
+ 		 */
+ 		if (ret != -ENOSYS)
+ 			goto out_free;
+ 	}
+ 
+ 	ret = hid_hw_raw_request(dev, buf[0], buf, count, report_type,
+ 				HID_REQ_SET_REPORT);
+ 
++>>>>>>> 3a75b24949a8 (HID: hidraw: replace hid_output_raw_report() calls by appropriates ones)
  out_free:
  	kfree(buf);
  out:
* Unmerged path drivers/hid/hidraw.c
