mei: debugfs: display also connectionless clients

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Tomas Winkler <tomas.winkler@intel.com>
commit 4ade435214a59ac1f7b3dc97fb5486c74bd37c79
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/4ade4352.failed

<debugfs>meiX/meclients: display also fixed/connectionless clients

Use better name for fixed client field:
fixed_address is boolean and indicates whether a client
is fixed or dynamic.

	Signed-off-by: Tomas Winkler <tomas.winkler@intel.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 4ade435214a59ac1f7b3dc97fb5486c74bd37c79)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/misc/mei/debugfs.c
diff --cc drivers/misc/mei/debugfs.c
index 85d1d2217fb8,b60b4263cf0f..000000000000
--- a/drivers/misc/mei/debugfs.c
+++ b/drivers/misc/mei/debugfs.c
@@@ -35,11 -34,7 +35,15 @@@ static ssize_t mei_dbgfs_read_meclients
  	int pos = 0;
  	int ret;
  
++<<<<<<< HEAD
 +	if  (!buf)
 +		return -ENOMEM;
 +
 +	pos += scnprintf(buf + pos, bufsz - pos,
 +			"  |id|addr|         UUID                       |con|msg len|\n");
++=======
+ #define HDR "  |id|fix|         UUID                       |con|msg len|sb|\n"
++>>>>>>> 4ade435214a5 (mei: debugfs: display also connectionless clients)
  
  	mutex_lock(&dev->device_lock);
  
@@@ -47,20 -54,16 +51,31 @@@
  	if (dev->dev_state != MEI_DEV_ENABLED)
  		goto out;
  
 -	list_for_each_entry(me_cl, &dev->me_clients, list) {
 +	for (i = 0; i < dev->me_clients_num; i++) {
 +		cl = &dev->me_clients[i];
 +
++<<<<<<< HEAD
 +		/* skip me clients that cannot be connected */
 +		if (cl->props.max_number_of_connections == 0)
 +			continue;
  
 +		pos += scnprintf(buf + pos, bufsz - pos,
 +			"%2d|%2d|%4d|%pUl|%3d|%7d|\n",
 +			i, cl->client_id,
 +			cl->props.fixed_address,
 +			&cl->props.protocol_name,
 +			cl->props.max_number_of_connections,
 +			cl->props.max_msg_length);
++=======
+ 		pos += scnprintf(buf + pos, bufsz - pos,
+ 			"%2d|%2d|%3d|%pUl|%3d|%7d|%2d|\n",
+ 			i++, me_cl->client_id,
+ 			me_cl->props.fixed_address,
+ 			&me_cl->props.protocol_name,
+ 			me_cl->props.max_number_of_connections,
+ 			me_cl->props.max_msg_length,
+ 			me_cl->props.single_recv_buf);
++>>>>>>> 4ade435214a5 (mei: debugfs: display also connectionless clients)
  	}
  out:
  	mutex_unlock(&dev->device_lock);
* Unmerged path drivers/misc/mei/debugfs.c
