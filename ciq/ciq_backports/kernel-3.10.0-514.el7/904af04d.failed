ipv6: route: extend flow representation with tunnel key

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Jiri Benc <jbenc@redhat.com>
commit 904af04d30f303d96902584206457128c3051d8d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/904af04d.failed

Use flowi_tunnel in flowi6 similarly to what is done with IPv4.
This complements commit 1b7179d3adff ("route: Extend flow representation
with tunnel key").

	Signed-off-by: Jiri Benc <jbenc@redhat.com>
	Acked-by: Thomas Graf <tgraf@suug.ch>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 904af04d30f303d96902584206457128c3051d8d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv6/route.c
diff --cc net/ipv6/route.c
index 637dad9bab3f,6c0fe4c7ce8d..000000000000
--- a/net/ipv6/route.c
+++ b/net/ipv6/route.c
@@@ -58,6 -59,8 +59,11 @@@
  #include <net/netevent.h>
  #include <net/netlink.h>
  #include <net/nexthop.h>
++<<<<<<< HEAD
++=======
+ #include <net/lwtunnel.h>
+ #include <net/ip_tunnels.h>
++>>>>>>> 904af04d30f3 (ipv6: route: extend flow representation with tunnel key)
  
  #include <asm/uaccess.h>
  
diff --git a/include/net/flow.h b/include/net/flow.h
index 37ddd080c536..cdef76aa8d2b 100644
--- a/include/net/flow.h
+++ b/include/net/flow.h
@@ -115,6 +115,7 @@ struct flowi6 {
 #define flowi6_proto		__fl_common.flowic_proto
 #define flowi6_flags		__fl_common.flowic_flags
 #define flowi6_secid		__fl_common.flowic_secid
+#define flowi6_tun_key		__fl_common.flowic_tun_key
 	struct in6_addr		daddr;
 	struct in6_addr		saddr;
 	__be32			flowlabel;
* Unmerged path net/ipv6/route.c
