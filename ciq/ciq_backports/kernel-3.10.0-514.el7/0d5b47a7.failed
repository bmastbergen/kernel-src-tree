megaraid_sas: Expose TAPE drives unconditionally

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author sumit.saxena@avagotech.com <sumit.saxena@avagotech.com>
commit 0d5b47a724bab0ebaaa933d6ff5e584957aaa188
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0d5b47a7.failed

Expose non-disk (TAPE drive, CD-ROM) unconditionally.

	Cc: <stable@vger.kernel.org>
	Signed-off-by: Sumit Saxena <sumit.saxena@avagotech.com>
	Signed-off-by: Kashyap Desai <kashyap.desai@avagotech.com>
	Reviewed-by: Tomas Henzl <thenzl@redhat.com>
	Reviewed-by: Martin K. Petersen <martin.petersen@oracle.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 0d5b47a724bab0ebaaa933d6ff5e584957aaa188)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/megaraid/megaraid_sas_base.c
diff --cc drivers/scsi/megaraid/megaraid_sas_base.c
index fd0bcb0565ff,00a360b8f29b..000000000000
--- a/drivers/scsi/megaraid/megaraid_sas_base.c
+++ b/drivers/scsi/megaraid/megaraid_sas_base.c
@@@ -1731,9 -1743,10 +1731,16 @@@ static int megasas_slave_alloc(struct s
  		pd_index =
  			(sdev->channel * MEGASAS_MAX_DEV_PER_CHANNEL) +
  			sdev->id;
++<<<<<<< HEAD
 +		if (instance->pd_list[pd_index].driveState ==
 +					MR_PD_STATE_SYSTEM) {
 +			goto scan_target;
++=======
+ 		if ((instance->pd_list[pd_index].driveState ==
+ 			MR_PD_STATE_SYSTEM) ||
+ 			(instance->pd_list[pd_index].driveType != TYPE_DISK)) {
+ 			return 0;
++>>>>>>> 0d5b47a724ba (megaraid_sas: Expose TAPE drives unconditionally)
  		}
  		return -ENXIO;
  	}
* Unmerged path drivers/scsi/megaraid/megaraid_sas_base.c
