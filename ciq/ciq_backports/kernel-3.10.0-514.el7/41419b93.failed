fm10k: protect fm10k_open in fm10k_io_resume with rtnl_lock

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Hannes Frederic Sowa <hannes@stressinduktion.org>
commit 41419b9303f085e8912406140355e45230fed22f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/41419b93.failed

fm10k_open requires rtnl_lock to be held.

	Cc: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
	Cc: Jesse Brandeburg <jesse.brandeburg@intel.com>
	Cc: Shannon Nelson <shannon.nelson@intel.com>
	Cc: Carolyn Wyborny <carolyn.wyborny@intel.com>
	Cc: Don Skidmore <donald.c.skidmore@intel.com>
	Cc: Bruce Allan <bruce.w.allan@intel.com>
	Cc: John Ronciak <john.ronciak@intel.com>
	Cc: Mitch Williams <mitch.a.williams@intel.com>
	Signed-off-by: Hannes Frederic Sowa <hannes@stressinduktion.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 41419b9303f085e8912406140355e45230fed22f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/fm10k/fm10k_pci.c
diff --cc drivers/net/ethernet/intel/fm10k/fm10k_pci.c
index 19b64b712594,206a466999ed..000000000000
--- a/drivers/net/ethernet/intel/fm10k/fm10k_pci.c
+++ b/drivers/net/ethernet/intel/fm10k/fm10k_pci.c
@@@ -2261,11 -2278,19 +2261,16 @@@ static void fm10k_io_resume(struct pci_
  	/* reassociate interrupts */
  	fm10k_mbx_request_irq(interface);
  
++<<<<<<< HEAD
 +	/* reset clock */
 +	fm10k_ts_reset(interface);
 +
++=======
+ 	rtnl_lock();
++>>>>>>> 41419b9303f0 (fm10k: protect fm10k_open in fm10k_io_resume with rtnl_lock)
  	if (netif_running(netdev))
  		err = fm10k_open(netdev);
+ 	rtnl_unlock();
  
  	/* final check of hardware state before registering the interface */
  	err = err ? : fm10k_hw_ready(interface);
* Unmerged path drivers/net/ethernet/intel/fm10k/fm10k_pci.c
