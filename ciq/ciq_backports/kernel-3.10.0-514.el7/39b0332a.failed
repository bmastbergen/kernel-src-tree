perf/x86: Move perf_event_amd.c ........... => x86/events/amd/core.c

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Borislav Petkov <bp@suse.de>
commit 39b0332a215832ce3a8f8f57344da4a64370e3ca
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/39b0332a.failed

We distribute those in vendor subdirs, starting with .../events/amd/.

	Signed-off-by: Borislav Petkov <bp@suse.de>
	Cc: Arnaldo Carvalho de Melo <acme@redhat.com>
	Cc: Jiri Olsa <jolsa@redhat.com>
	Cc: Linus Torvalds <torvalds@linux-foundation.org>
	Cc: Peter Zijlstra <a.p.zijlstra@chello.nl>
	Cc: Peter Zijlstra <peterz@infradead.org>
	Cc: Stephane Eranian <eranian@google.com>
	Cc: Thomas Gleixner <tglx@linutronix.de>
	Cc: Vince Weaver <vincent.weaver@maine.edu>
Link: http://lkml.kernel.org/r/1454947748-28629-3-git-send-email-bp@alien8.de
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
(cherry picked from commit 39b0332a215832ce3a8f8f57344da4a64370e3ca)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/events/Makefile
#	arch/x86/kernel/cpu/Makefile
diff --cc arch/x86/kernel/cpu/Makefile
index 9edaa8c3b2de,d549b02953ca..000000000000
--- a/arch/x86/kernel/cpu/Makefile
+++ b/arch/x86/kernel/cpu/Makefile
@@@ -27,19 -30,29 +27,26 @@@ obj-$(CONFIG_CPU_SUP_CENTAUR)		+= centa
  obj-$(CONFIG_CPU_SUP_TRANSMETA_32)	+= transmeta.o
  obj-$(CONFIG_CPU_SUP_UMC_32)		+= umc.o
  
 +obj-$(CONFIG_PERF_EVENTS)		+= perf_event.o
 +
  ifdef CONFIG_PERF_EVENTS
++<<<<<<< HEAD
 +obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_amd.o perf_event_amd_uncore.o
++=======
+ obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_amd_uncore.o
+ ifdef CONFIG_AMD_IOMMU
+ obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_amd_iommu.o
+ endif
++>>>>>>> 39b0332a2158 (perf/x86: Move perf_event_amd.c ........... => x86/events/amd/core.c)
  obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_p6.o perf_event_knc.o perf_event_p4.o
  obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_lbr.o perf_event_intel_ds.o perf_event_intel.o
 +obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_uncore.o perf_event_intel_uncore_snb.o
 +obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_uncore_snbep.o perf_event_intel_uncore_nhmex.o
  obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_rapl.o perf_event_intel_cqm.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_pt.o perf_event_intel_bts.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_intel_cstate.o
 -
 -obj-$(CONFIG_PERF_EVENTS_INTEL_UNCORE)	+= perf_event_intel_uncore.o \
 -					   perf_event_intel_uncore_snb.o \
 -					   perf_event_intel_uncore_snbep.o \
 -					   perf_event_intel_uncore_nhmex.o
 -obj-$(CONFIG_CPU_SUP_INTEL)		+= perf_event_msr.o
 -obj-$(CONFIG_CPU_SUP_AMD)		+= perf_event_msr.o
  endif
  
 -
  obj-$(CONFIG_X86_MCE)			+= mcheck/
  obj-$(CONFIG_MTRR)			+= mtrr/
 -obj-$(CONFIG_MICROCODE)			+= microcode/
  
  obj-$(CONFIG_X86_LOCAL_APIC)		+= perfctr-watchdog.o perf_event_amd_ibs.o
  
* Unmerged path arch/x86/events/Makefile
* Unmerged path arch/x86/events/Makefile
diff --git a/arch/x86/kernel/cpu/perf_event_amd.c b/arch/x86/events/amd/core.c
similarity index 99%
rename from arch/x86/kernel/cpu/perf_event_amd.c
rename to arch/x86/events/amd/core.c
index bd9a84c82b46..83f7f4b85be6 100644
--- a/arch/x86/kernel/cpu/perf_event_amd.c
+++ b/arch/x86/events/amd/core.c
@@ -5,7 +5,7 @@
 #include <linux/slab.h>
 #include <asm/apicdef.h>
 
-#include "perf_event.h"
+#include "../../kernel/cpu/perf_event.h"
 
 static __initconst const u64 amd_hw_cache_event_ids
 				[PERF_COUNT_HW_CACHE_MAX]
* Unmerged path arch/x86/kernel/cpu/Makefile
