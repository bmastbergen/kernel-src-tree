crypto: crc32 - Rename generic implementation

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [crypto] crc32 - Rename generic implementation (Herbert Xu) [1314773]
Rebuild_FUZZ: 90.24%
commit-author Herbert Xu <herbert@gondor.apana.org.au>
commit a7c58ac06224b83dba93eaafde88535d5da60aef
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/a7c58ac0.failed

The generic crc32 implementation is currently called crc32.  This
is a problem because it clashes with the lib implementation of crc32.

This patch renames the crypto crc32 to crc32_generic so that it is
consistent with crc32c.  An alias for the driver is also added.

	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit a7c58ac06224b83dba93eaafde88535d5da60aef)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	crypto/Makefile
diff --cc crypto/Makefile
index 5add52e49b9c,059de1bb254b..000000000000
--- a/crypto/Makefile
+++ b/crypto/Makefile
@@@ -90,11 -95,12 +90,16 @@@ obj-$(CONFIG_CRYPTO_KHAZAD) += khazad.
  obj-$(CONFIG_CRYPTO_ANUBIS) += anubis.o
  obj-$(CONFIG_CRYPTO_SEED) += seed.o
  obj-$(CONFIG_CRYPTO_SALSA20) += salsa20_generic.o
 -obj-$(CONFIG_CRYPTO_CHACHA20) += chacha20_generic.o
 -obj-$(CONFIG_CRYPTO_POLY1305) += poly1305_generic.o
  obj-$(CONFIG_CRYPTO_DEFLATE) += deflate.o
 +obj-$(CONFIG_CRYPTO_ZLIB) += zlib.o
  obj-$(CONFIG_CRYPTO_MICHAEL_MIC) += michael_mic.o
++<<<<<<< HEAD
 +obj-$(CONFIG_CRYPTO_CRC32C) += crc32c.o
 +obj-$(CONFIG_CRYPTO_CRC32) += crc32.o
++=======
+ obj-$(CONFIG_CRYPTO_CRC32C) += crc32c_generic.o
+ obj-$(CONFIG_CRYPTO_CRC32) += crc32_generic.o
++>>>>>>> a7c58ac06224 (crypto: crc32 - Rename generic implementation)
  obj-$(CONFIG_CRYPTO_CRCT10DIF) += crct10dif_common.o crct10dif_generic.o
  obj-$(CONFIG_CRYPTO_AUTHENC) += authenc.o authencesn.o
  obj-$(CONFIG_CRYPTO_LZO) += lzo.o
* Unmerged path crypto/Makefile
diff --git a/crypto/crc32.c b/crypto/crc32_generic.c
similarity index 98%
rename from crypto/crc32.c
rename to crypto/crc32_generic.c
index 187ded28cb0b..aa2a25fc7482 100644
--- a/crypto/crc32.c
+++ b/crypto/crc32_generic.c
@@ -131,7 +131,7 @@ static struct shash_alg alg = {
 	.digestsize	= CHKSUM_DIGEST_SIZE,
 	.base		= {
 		.cra_name		= "crc32",
-		.cra_driver_name	= "crc32-table",
+		.cra_driver_name	= "crc32-generic",
 		.cra_priority		= 100,
 		.cra_blocksize		= CHKSUM_BLOCK_SIZE,
 		.cra_ctxsize		= sizeof(u32),
@@ -157,3 +157,4 @@ MODULE_AUTHOR("Alexander Boyko <alexander_boyko@xyratex.com>");
 MODULE_DESCRIPTION("CRC32 calculations wrapper for lib/crc32");
 MODULE_LICENSE("GPL");
 MODULE_ALIAS_CRYPTO("crc32");
+MODULE_ALIAS_CRYPTO("crc32-generic");
