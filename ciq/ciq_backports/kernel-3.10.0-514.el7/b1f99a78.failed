ixgbe: protect vxlan_get_rx_port in ixgbe_service_task with rtnl_lock

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Hannes Frederic Sowa <hannes@stressinduktion.org>
commit b1f99a787e8239da3ea859709f5fb60b3fd02c13
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/b1f99a78.failed

vxlan_get_rx_port requires rtnl_lock to be held.

	Cc: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
	Cc: Jesse Brandeburg <jesse.brandeburg@intel.com>
	Cc: Shannon Nelson <shannon.nelson@intel.com>
	Cc: Carolyn Wyborny <carolyn.wyborny@intel.com>
	Cc: Don Skidmore <donald.c.skidmore@intel.com>
	Cc: Bruce Allan <bruce.w.allan@intel.com>
	Cc: John Ronciak <john.ronciak@intel.com>
	Cc: Mitch Williams <mitch.a.williams@intel.com>
	Signed-off-by: Hannes Frederic Sowa <hannes@stressinduktion.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit b1f99a787e8239da3ea859709f5fb60b3fd02c13)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
diff --cc drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
index c49a5686fdd6,b2f2cf40f06a..000000000000
--- a/drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
+++ b/drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
@@@ -6719,6 -7191,14 +6719,17 @@@ static void ixgbe_service_task(struct w
  		ixgbe_service_event_complete(adapter);
  		return;
  	}
++<<<<<<< HEAD
++=======
+ #ifdef CONFIG_IXGBE_VXLAN
+ 	rtnl_lock();
+ 	if (adapter->flags2 & IXGBE_FLAG2_VXLAN_REREG_NEEDED) {
+ 		adapter->flags2 &= ~IXGBE_FLAG2_VXLAN_REREG_NEEDED;
+ 		vxlan_get_rx_port(adapter->netdev);
+ 	}
+ 	rtnl_unlock();
+ #endif /* CONFIG_IXGBE_VXLAN */
++>>>>>>> b1f99a787e82 (ixgbe: protect vxlan_get_rx_port in ixgbe_service_task with rtnl_lock)
  	ixgbe_reset_subtask(adapter);
  	ixgbe_phy_interrupt_subtask(adapter);
  	ixgbe_sfp_detection_subtask(adapter);
* Unmerged path drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
