crypto: qat - Remove reference to crypto_aead_crt

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [crypto] qat - Remove reference to crypto_aead_crt (Neil Horman) [1274179]
Rebuild_FUZZ: 91.11%
commit-author Herbert Xu <herbert@gondor.apana.org.au>
commit 0a139416eed5f05118cb05aba37470de68c55272
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0a139416.failed

The qat driver uses crypto_aead_crt in order to get the authsize.
This patch replaces it with the crypto_aead_authsize helper instead.

	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit 0a139416eed5f05118cb05aba37470de68c55272)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/crypto/qat/qat_common/qat_algs.c
diff --cc drivers/crypto/qat/qat_common/qat_algs.c
index df427c0e9e7b,b7099f2fea28..000000000000
--- a/drivers/crypto/qat/qat_common/qat_algs.c
+++ b/drivers/crypto/qat/qat_common/qat_algs.c
@@@ -282,8 -273,8 +282,13 @@@ static int qat_alg_aead_init_enc_sessio
  					 int alg,
  					 struct crypto_authenc_keys *keys)
  {
++<<<<<<< HEAD
 +	struct crypto_aead *aead_tfm = __crypto_aead_cast(ctx->tfm);
 +	unsigned int digestsize = crypto_aead_crt(aead_tfm)->authsize;
++=======
+ 	struct qat_alg_aead_ctx *ctx = crypto_aead_ctx(aead_tfm);
+ 	unsigned int digestsize = crypto_aead_authsize(aead_tfm);
++>>>>>>> 0a139416eed5 (crypto: qat - Remove reference to crypto_aead_crt)
  	struct qat_enc *enc_ctx = &ctx->enc_cd->qat_enc_cd;
  	struct icp_qat_hw_cipher_algo_blk *cipher = &enc_ctx->cipher;
  	struct icp_qat_hw_auth_algo_blk *hash =
@@@ -362,8 -353,8 +367,13 @@@ static int qat_alg_aead_init_dec_sessio
  					 int alg,
  					 struct crypto_authenc_keys *keys)
  {
++<<<<<<< HEAD
 +	struct crypto_aead *aead_tfm = __crypto_aead_cast(ctx->tfm);
 +	unsigned int digestsize = crypto_aead_crt(aead_tfm)->authsize;
++=======
+ 	struct qat_alg_aead_ctx *ctx = crypto_aead_ctx(aead_tfm);
+ 	unsigned int digestsize = crypto_aead_authsize(aead_tfm);
++>>>>>>> 0a139416eed5 (crypto: qat - Remove reference to crypto_aead_crt)
  	struct qat_dec *dec_ctx = &ctx->dec_cd->qat_dec_cd;
  	struct icp_qat_hw_auth_algo_blk *hash = &dec_ctx->hash;
  	struct icp_qat_hw_cipher_algo_blk *cipher =
@@@ -849,12 -797,10 +859,12 @@@ static int qat_alg_aead_dec(struct aead
  	struct icp_qat_fw_la_cipher_req_params *cipher_param;
  	struct icp_qat_fw_la_auth_req_params *auth_param;
  	struct icp_qat_fw_la_bulk_req *msg;
- 	int digst_size = crypto_aead_crt(aead_tfm)->authsize;
+ 	int digst_size = crypto_aead_authsize(aead_tfm);
  	int ret, ctr = 0;
  
 -	ret = qat_alg_sgl_to_bufl(ctx->inst, areq->src, areq->dst, qat_req);
 +	ret = qat_alg_sgl_to_bufl(ctx->inst, areq->assoc, areq->assoclen,
 +				  areq->src, areq->dst, areq->iv,
 +				  AES_BLOCK_SIZE, qat_req);
  	if (unlikely(ret))
  		return ret;
  
* Unmerged path drivers/crypto/qat/qat_common/qat_algs.c
