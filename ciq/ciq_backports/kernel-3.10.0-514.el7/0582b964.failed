i40e: move i40e_vsi_config_rss below i40e_get_rss_aq

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
commit-author Jacob Keller <jacob.e.keller@intel.com>
commit 0582b964ece795fa2810eace82bf9b2233403d65
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/0582b964.failed

Move this function below the two functions related to configuring RSS
via the admin queue. This helps co-locate the two functions, and made it
easier to spot a bug in the first i40e_config_rss_aq function as
compared to the i40e_get_rss_aq function.

	Signed-off-by: Jacob Keller <jacob.e.keller@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit 0582b964ece795fa2810eace82bf9b2233403d65)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/i40e/i40e_main.c
diff --cc drivers/net/ethernet/intel/i40e/i40e_main.c
index eb043af61c6d,1692a896c3c0..000000000000
--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@@ -7949,33 -8028,6 +7949,36 @@@ config_rss_aq_out
  }
  
  /**
++<<<<<<< HEAD
 + * i40e_vsi_config_rss - Prepare for VSI(VMDq) RSS if used
 + * @vsi: VSI structure
 + **/
 +static int i40e_vsi_config_rss(struct i40e_vsi *vsi)
 +{
 +	u8 seed[I40E_HKEY_ARRAY_SIZE];
 +	struct i40e_pf *pf = vsi->back;
 +	u8 *lut;
 +	int ret;
 +
 +	if (!(pf->flags & I40E_FLAG_RSS_AQ_CAPABLE))
 +		return 0;
 +
 +	lut = kzalloc(vsi->rss_table_size, GFP_KERNEL);
 +	if (!lut)
 +		return -ENOMEM;
 +
 +	i40e_fill_rss_lut(pf, lut, vsi->rss_table_size, vsi->rss_size);
 +	netdev_rss_key_fill((void *)seed, I40E_HKEY_ARRAY_SIZE);
 +	vsi->rss_size = min_t(int, pf->rss_size, vsi->num_queue_pairs);
 +	ret = i40e_config_rss_aq(vsi, seed, lut, vsi->rss_table_size);
 +	kfree(lut);
 +
 +	return ret;
 +}
 +
 +/**
++=======
++>>>>>>> 0582b964ece7 (i40e: move i40e_vsi_config_rss below i40e_get_rss_aq)
   * i40e_get_rss_aq - Get RSS keys and lut by using AQ commands
   * @vsi: Pointer to vsi structure
   * @seed: Buffter to store the hash keys
* Unmerged path drivers/net/ethernet/intel/i40e/i40e_main.c
