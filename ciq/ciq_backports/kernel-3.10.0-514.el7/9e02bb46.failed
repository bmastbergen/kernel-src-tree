x86/microcode/intel: Simplify generic_load_microcode_early()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-514.el7
Rebuild_CHGLOG: - [x86] microcode/intel: Simplify generic_load_microcode_early() (Prarit Bhargava) [1253762]
Rebuild_FUZZ: 96.55%
commit-author Borislav Petkov <bp@suse.de>
commit 9e02bb46d366b3635da966e29c5a53920ee7fde8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-514.el7/9e02bb46.failed

* remove state variable and out label
* get rid of completely unused mc_size
* shorten variable names
* get rid of local variables
* don't do assignments in local var declarations for less cluttered code
* finally rename it to the shorter and perfectly fine load_microcode_early()

No functionality change.

	Signed-off-by: Borislav Petkov <bp@suse.de>
(cherry picked from commit 9e02bb46d366b3635da966e29c5a53920ee7fde8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kernel/cpu/microcode/intel_early.c
diff --cc arch/x86/kernel/cpu/microcode/intel_early.c
index e82c44063360,d7192124f50b..000000000000
--- a/arch/x86/kernel/cpu/microcode/intel_early.c
+++ b/arch/x86/kernel/cpu/microcode/intel_early.c
@@@ -784,7 -751,29 +781,35 @@@ void load_ucode_intel_ap(void
  		return;
  
  	collect_cpu_info_early(&uci);
++<<<<<<< HEAD
 +	load_microcode(mc_saved_data_p, mc_saved_in_initrd_p,
 +		       initrd_start_addr, &uci);
 +	apply_microcode_early(&uci);
++=======
+ 	ret = load_microcode(mc_saved_data_p, mc_saved_in_initrd_p,
+ 			     initrd_start_addr, &uci);
+ 
+ 	if (ret != UCODE_OK)
+ 		return;
+ 
+ 	apply_microcode_early(&uci, true);
+ }
+ 
+ void reload_ucode_intel(void)
+ {
+ 	struct ucode_cpu_info uci;
+ 	enum ucode_state ret;
+ 
+ 	if (!mc_saved_data.mc_saved_count)
+ 		return;
+ 
+ 	collect_cpu_info_early(&uci);
+ 
+ 	ret = load_microcode_early(mc_saved_data.mc_saved,
+ 				   mc_saved_data.mc_saved_count, &uci);
+ 	if (ret != UCODE_OK)
+ 		return;
+ 
+ 	apply_microcode_early(&uci, false);
++>>>>>>> 9e02bb46d366 (x86/microcode/intel: Simplify generic_load_microcode_early())
  }
* Unmerged path arch/x86/kernel/cpu/microcode/intel_early.c
