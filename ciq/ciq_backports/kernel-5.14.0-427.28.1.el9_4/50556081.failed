wifi: ath11k: thermal: don't try to register multiple times

jira LE-1907
Rebuild_History Non-Buildable kernel-5.14.0-427.28.1.el9_4
commit-author Kalle Valo <quic_kvalo@quicinc.com>
commit 50556081e09b9e2b75a215694dd2d166de611f56
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-5.14.0-427.28.1.el9_4/50556081.failed

Every time the firmware boots we call ath11k_core_qmi_firmware_ready() which
ends up calling ath11k_thermal_register(). So we try to register thermal
devices multiple times. And when we power off the firmware during
suspend/hibernation (implemented in the next patch) we get a warning in resume:

hwmon hwmon4: PM: parent phy0 should not be sleeping

Workaround this similarly like ath11k_mac_register() does by testing
ATH11K_FLAG_REGISTERED.

Tested-on: WCN6855 hw2.0 PCI WLAN.HSP.1.1-03125-QCAHSPSWPL_V1_V2_SILICONZ_LITE-3.6510.30

	Signed-off-by: Kalle Valo <quic_kvalo@quicinc.com>
	Signed-off-by: Baochen Qiang <quic_bqiang@quicinc.com>
Link: https://msgid.link/20240221024725.10057-6-quic_bqiang@quicinc.com
(cherry picked from commit 50556081e09b9e2b75a215694dd2d166de611f56)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/ath/ath11k/thermal.c
diff --cc drivers/net/wireless/ath/ath11k/thermal.c
index c9b012f97ba5,41e7499f075f..000000000000
--- a/drivers/net/wireless/ath/ath11k/thermal.c
+++ b/drivers/net/wireless/ath/ath11k/thermal.c
@@@ -1,6 -1,7 +1,10 @@@
  // SPDX-License-Identifier: BSD-3-Clause-Clear
  /*
   * Copyright (c) 2020 The Linux Foundation. All rights reserved.
++<<<<<<< HEAD
++=======
+  * Copyright (c) 2022-2024 Qualcomm Innovation Center, Inc. All rights reserved.
++>>>>>>> 50556081e09b (wifi: ath11k: thermal: don't try to register multiple times)
   */
  
  #include <linux/device.h>
* Unmerged path drivers/net/wireless/ath/ath11k/thermal.c
