ACPI: scan: Constify acpi_dma_supported() helper function

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit 3d7c821c1d8071e517048c8b4afdf33109441c0f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/3d7c821c.failed

Constify arguments to acpi_dma_supported(). The function doesn't need
to change the content of the passed argument and when it's const it
allows to supply the result of other functions that may return a pointer
to a constant object.

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
[ rjw: Subject edit ]
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 3d7c821c1d8071e517048c8b4afdf33109441c0f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/acpi.h
diff --cc include/linux/acpi.h
index a0043efc90c1,97f1c5588b5a..000000000000
--- a/include/linux/acpi.h
+++ b/include/linux/acpi.h
@@@ -910,7 -904,14 +910,18 @@@ static inline int acpi_device_modalias(
  	return -ENODEV;
  }
  
++<<<<<<< HEAD
 +static inline bool acpi_dma_supported(struct acpi_device *adev)
++=======
+ static inline struct platform_device *
+ acpi_create_platform_device(struct acpi_device *adev,
+ 			    struct property_entry *properties)
+ {
+ 	return NULL;
+ }
+ 
+ static inline bool acpi_dma_supported(const struct acpi_device *adev)
++>>>>>>> 3d7c821c1d80 (ACPI: scan: Constify acpi_dma_supported() helper function)
  {
  	return false;
  }
diff --git a/drivers/acpi/scan.c b/drivers/acpi/scan.c
index b813ab6b3845..66197f91d76b 100644
--- a/drivers/acpi/scan.c
+++ b/drivers/acpi/scan.c
@@ -1386,7 +1386,7 @@ void acpi_free_pnp_ids(struct acpi_device_pnp *pnp)
  *
  * Return false if DMA is not supported. Otherwise, return true
  */
-bool acpi_dma_supported(struct acpi_device *adev)
+bool acpi_dma_supported(const struct acpi_device *adev)
 {
 	if (!adev)
 		return false;
diff --git a/include/acpi/acpi_bus.h b/include/acpi/acpi_bus.h
index 524865b46db1..ff3b040a225e 100644
--- a/include/acpi/acpi_bus.h
+++ b/include/acpi/acpi_bus.h
@@ -598,7 +598,7 @@ struct acpi_pci_root {
 
 /* helper */
 
-bool acpi_dma_supported(struct acpi_device *adev);
+bool acpi_dma_supported(const struct acpi_device *adev);
 enum dev_dma_attr acpi_get_dma_attr(struct acpi_device *adev);
 int acpi_dma_get_range(struct device *dev, u64 *dma_addr, u64 *offset,
 		       u64 *size);
* Unmerged path include/linux/acpi.h
