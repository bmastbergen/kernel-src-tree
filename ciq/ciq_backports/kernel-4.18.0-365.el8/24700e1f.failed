mfd: tps68470: Remove tps68470 MFD driver

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author Daniel Scally <djrscally@gmail.com>
commit 24700e1f41f0dcbe389b8d9e5830aaca2192093c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/24700e1f.failed

This driver only covered one scenario in which ACPI devices with _HID
INT3472 are found, and its functionality has been taken over by the
intel-skl-int3472 module, so remove it.

	Acked-by: Andy Shevchenko <andy.shevchenko@gmail.com>
	Acked-by: Lee Jones <lee.jones@linaro.org>
	Reviewed-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
	Signed-off-by: Daniel Scally <djrscally@gmail.com>
Link: https://lore.kernel.org/r/20210603224007.120560-7-djrscally@gmail.com
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
(cherry picked from commit 24700e1f41f0dcbe389b8d9e5830aaca2192093c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mfd/Kconfig
#	drivers/mfd/tps68470.c
diff --cc drivers/mfd/Kconfig
index 6de1905ef76c,99c4e1a80ae0..000000000000
--- a/drivers/mfd/Kconfig
+++ b/drivers/mfd/Kconfig
@@@ -1360,24 -1499,6 +1360,27 @@@ config MFD_TPS6521
  	  This driver can also be built as a module.  If so, the module
  	  will be called tps65217.
  
++<<<<<<< HEAD
 +config MFD_TPS68470
 +	bool "TI TPS68470 Power Management / LED chips"
 +	depends on ACPI && PCI && I2C=y
 +	select MFD_CORE
 +	select REGMAP_I2C
 +	select I2C_DESIGNWARE_PLATFORM
 +	help
 +	  If you say yes here you get support for the TPS68470 series of
 +	  Power Management / LED chips.
 +
 +	  These include voltage regulators, LEDs and other features
 +	  that are often used in portable devices.
 +
 +	  This option is a bool as it provides an ACPI operation
 +	  region, which must be available before any of the devices
 +	  using this are probed. This option also configures the
 +	  designware-i2c driver to be built-in, for the same reason.
 +
++=======
++>>>>>>> 24700e1f41f0 (mfd: tps68470: Remove tps68470 MFD driver)
  config MFD_TI_LP873X
  	tristate "TI LP873X Power Management IC"
  	depends on I2C
* Unmerged path drivers/mfd/tps68470.c
diff --git a/drivers/acpi/pmic/Kconfig b/drivers/acpi/pmic/Kconfig
index 56bbcb2ce61b..f84b8f6038dc 100644
--- a/drivers/acpi/pmic/Kconfig
+++ b/drivers/acpi/pmic/Kconfig
@@ -52,7 +52,7 @@ endif	# PMIC_OPREGION
 
 config TPS68470_PMIC_OPREGION
 	bool "ACPI operation region support for TPS68470 PMIC"
-	depends on MFD_TPS68470
+	depends on INTEL_SKL_INT3472
 	help
 	  This config adds ACPI operation region support for TI TPS68470 PMIC.
 	  TPS68470 device is an advanced power management unit that powers
diff --git a/drivers/gpio/Kconfig b/drivers/gpio/Kconfig
index 4b724e371e6e..51ab641b9482 100644
--- a/drivers/gpio/Kconfig
+++ b/drivers/gpio/Kconfig
@@ -1129,7 +1129,7 @@ config GPIO_TPS65912
 
 config GPIO_TPS68470
 	bool "TPS68470 GPIO"
-	depends on MFD_TPS68470
+	depends on INTEL_SKL_INT3472
 	help
 	  Select this option to enable GPIO driver for the TPS68470
 	  chip family.
* Unmerged path drivers/mfd/Kconfig
diff --git a/drivers/mfd/Makefile b/drivers/mfd/Makefile
index 89b639094303..b56e64bcfa5c 100644
--- a/drivers/mfd/Makefile
+++ b/drivers/mfd/Makefile
@@ -82,7 +82,6 @@ obj-$(CONFIG_MFD_TPS65910)	+= tps65910.o
 obj-$(CONFIG_MFD_TPS65912)	+= tps65912-core.o
 obj-$(CONFIG_MFD_TPS65912_I2C)	+= tps65912-i2c.o
 obj-$(CONFIG_MFD_TPS65912_SPI)  += tps65912-spi.o
-obj-$(CONFIG_MFD_TPS68470)	+= tps68470.o
 obj-$(CONFIG_MFD_TPS80031)	+= tps80031.o
 obj-$(CONFIG_MENELAUS)		+= menelaus.o
 
* Unmerged path drivers/mfd/tps68470.c
