sunrpc: remove unnecessary test in rpc_task_set_client()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author Thiago Rafael Becker <trbecker@gmail.com>
commit 023859ce6f88f7cfc223752fb56ec453a147b852
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/023859ce.failed

In rpc_task_set_client(), testing for a NULL clnt is not necessary, as
clnt should always be a valid pointer to a rpc_client.

	Signed-off-by: Thiago Rafael Becker <trbecker@gmail.com>
	Signed-off-by: Trond Myklebust <trond.myklebust@hammerspace.com>
(cherry picked from commit 023859ce6f88f7cfc223752fb56ec453a147b852)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sunrpc/clnt.c
diff --cc net/sunrpc/clnt.c
index d18e558806fd,a312ea2bc440..000000000000
--- a/net/sunrpc/clnt.c
+++ b/net/sunrpc/clnt.c
@@@ -1071,24 -1076,21 +1071,42 @@@ void rpc_task_set_transport(struct rpc_
  static
  void rpc_task_set_client(struct rpc_task *task, struct rpc_clnt *clnt)
  {
++<<<<<<< HEAD
 +
 +	if (clnt != NULL) {
 +		rpc_task_set_transport(task, clnt);
 +		task->tk_client = clnt;
 +		atomic_inc(&clnt->cl_count);
 +		if (clnt->cl_softrtry)
 +			task->tk_flags |= RPC_TASK_SOFT;
 +		if (clnt->cl_softerr)
 +			task->tk_flags |= RPC_TASK_TIMEOUT;
 +		if (clnt->cl_noretranstimeo)
 +			task->tk_flags |= RPC_TASK_NO_RETRANS_TIMEOUT;
 +		if (atomic_read(&clnt->cl_swapper))
 +			task->tk_flags |= RPC_TASK_SWAPPER;
 +		/* Add to the client's list of all tasks */
 +		spin_lock(&clnt->cl_lock);
 +		list_add_tail(&task->tk_task, &clnt->cl_tasks);
 +		spin_unlock(&clnt->cl_lock);
 +	}
++=======
+ 	rpc_task_set_transport(task, clnt);
+ 	task->tk_client = clnt;
+ 	refcount_inc(&clnt->cl_count);
+ 	if (clnt->cl_softrtry)
+ 		task->tk_flags |= RPC_TASK_SOFT;
+ 	if (clnt->cl_softerr)
+ 		task->tk_flags |= RPC_TASK_TIMEOUT;
+ 	if (clnt->cl_noretranstimeo)
+ 		task->tk_flags |= RPC_TASK_NO_RETRANS_TIMEOUT;
+ 	if (atomic_read(&clnt->cl_swapper))
+ 		task->tk_flags |= RPC_TASK_SWAPPER;
+ 	/* Add to the client's list of all tasks */
+ 	spin_lock(&clnt->cl_lock);
+ 	list_add_tail(&task->tk_task, &clnt->cl_tasks);
+ 	spin_unlock(&clnt->cl_lock);
++>>>>>>> 023859ce6f88 (sunrpc: remove unnecessary test in rpc_task_set_client())
  }
  
  static void
* Unmerged path net/sunrpc/clnt.c
