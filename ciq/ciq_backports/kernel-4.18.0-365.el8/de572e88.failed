drm/i915/display/adlp: Allow PSR2 to be enabled

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author José Roberto de Souza <jose.souza@intel.com>
commit de572e881b9d7f19da74981dd320699ea796e5a3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/de572e88.failed

With all the recent fixes PSR2 is properly working in Alderlake-P but
due to some issues that don't have software workarounds it will not be
supported in display steppings older than B0.

Even with this patch PSR2 will no be enabled by default in ADL-P, it
still requires enable_psr2_sel_fetch to be set to true, what some
of our tests does.

	Cc: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
	Reviewed-by: Gwan-gyeong Mun <gwan-gyeong.mun@intel.com>
	Signed-off-by: José Roberto de Souza <jose.souza@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20210930001409.254817-7-jose.souza@intel.com
(cherry picked from commit de572e881b9d7f19da74981dd320699ea796e5a3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/display/intel_psr.c
diff --cc drivers/gpu/drm/i915/display/intel_psr.c
index 2c6c4a4f9477,7a205fd5023b..000000000000
--- a/drivers/gpu/drm/i915/display/intel_psr.c
+++ b/drivers/gpu/drm/i915/display/intel_psr.c
@@@ -731,6 -830,11 +731,14 @@@ static bool intel_psr2_config_valid(str
  		return false;
  	}
  
++<<<<<<< HEAD
++=======
+ 	if (IS_ADLP_DISPLAY_STEP(dev_priv, STEP_A0, STEP_B0)) {
+ 		drm_dbg_kms(&dev_priv->drm, "PSR2 not completely functional in this stepping\n");
+ 		return false;
+ 	}
+ 
++>>>>>>> de572e881b9d (drm/i915/display/adlp: Allow PSR2 to be enabled)
  	if (!transcoder_has_psr2(dev_priv, crtc_state->cpu_transcoder)) {
  		drm_dbg_kms(&dev_priv->drm,
  			    "PSR2 not supported in transcoder %s\n",
* Unmerged path drivers/gpu/drm/i915/display/intel_psr.c
