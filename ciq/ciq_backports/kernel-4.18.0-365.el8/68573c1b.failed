swiotlb-xen: drop leftover __ref

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author Jan Beulich <jbeulich@suse.com>
commit 68573c1b5c4d0ebd90c24c6055abb53c474a8fc2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/68573c1b.failed

Commit a98f565462f0 ("xen-swiotlb: split xen_swiotlb_init") should not
only have added __init to the split off function, but also should have
dropped __ref from the one left.

	Signed-off-by: Jan Beulich <jbeulich@suse.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>

Link: https://lore.kernel.org/r/7cd163e1-fe13-270b-384c-2708e8273d34@suse.com
	Signed-off-by: Juergen Gross <jgross@suse.com>
(cherry picked from commit 68573c1b5c4d0ebd90c24c6055abb53c474a8fc2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/xen/swiotlb-xen.c
diff --cc drivers/xen/swiotlb-xen.c
index 8ccd85660984,f3d81b2697b7..000000000000
--- a/drivers/xen/swiotlb-xen.c
+++ b/drivers/xen/swiotlb-xen.c
@@@ -165,20 -154,22 +165,24 @@@ static const char *xen_swiotlb_error(en
  
  #define DEFAULT_NSLABS		ALIGN(SZ_64M >> IO_TLB_SHIFT, IO_TLB_SEGSIZE)
  
++<<<<<<< HEAD
 +int __ref xen_swiotlb_init(int verbose, bool early)
++=======
+ int xen_swiotlb_init(void)
++>>>>>>> 68573c1b5c4d (swiotlb-xen: drop leftover __ref)
  {
 -	enum xen_swiotlb_err m_ret = XEN_SWIOTLB_UNKNOWN;
 -	unsigned long bytes = swiotlb_size_or_default();
 -	unsigned long nslabs = bytes >> IO_TLB_SHIFT;
 -	unsigned int order, repeat = 3;
 +	unsigned long bytes, order;
  	int rc = -ENOMEM;
 +	enum xen_swiotlb_err m_ret = XEN_SWIOTLB_UNKNOWN;
 +	unsigned int repeat = 3;
  	char *start;
 +	unsigned long nslabs;
  
 -	if (io_tlb_default_mem != NULL) {
 -		pr_warn("swiotlb buffer already initialized\n");
 -		return -EEXIST;
 -	}
 -
 +	nslabs = swiotlb_nr_tbl();
  retry:
 -	m_ret = XEN_SWIOTLB_ENOMEM;
 +	if (!nslabs)
 +		nslabs = DEFAULT_NSLABS;
 +	bytes = nslabs << IO_TLB_SHIFT;
  	order = get_order(bytes);
  
  	/*
* Unmerged path drivers/xen/swiotlb-xen.c
