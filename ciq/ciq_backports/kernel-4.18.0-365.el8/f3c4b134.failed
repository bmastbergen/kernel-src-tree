swiotlb: use depends on for DMA_RESTRICTED_POOL

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-365.el8
commit-author Claire Chang <tientzu@chromium.org>
commit f3c4b1341e8320e63f197a554fc5a25686a11d22
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-365.el8/f3c4b134.failed

Use depends on instead of select for DMA_RESTRICTED_POOL; otherwise it
will make SWIOTLB user configurable and cause compile errors for some
arch (e.g. mips).

Fixes: 0b84e4f8b793 ("swiotlb: Add restricted DMA pool initialization")
	Acked-by: Will Deacon <will@kernel.org>
	Reported-by: Guenter Roeck <linux@roeck-us.net>
	Signed-off-by: Claire Chang <tientzu@chromium.org>
	Signed-off-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
(cherry picked from commit f3c4b1341e8320e63f197a554fc5a25686a11d22)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	kernel/dma/Kconfig
diff --cc kernel/dma/Kconfig
index 35c60ac3ee93,d19f9fef4ab9..000000000000
--- a/kernel/dma/Kconfig
+++ b/kernel/dma/Kconfig
@@@ -73,6 -80,19 +73,22 @@@ config SWIOTL
  	bool
  	select NEED_DMA_MAP_STATE
  
++<<<<<<< HEAD
++=======
+ config DMA_RESTRICTED_POOL
+ 	bool "DMA Restricted Pool"
+ 	depends on OF && OF_RESERVED_MEM && SWIOTLB
+ 	help
+ 	  This enables support for restricted DMA pools which provide a level of
+ 	  DMA memory protection on systems with limited hardware protection
+ 	  capabilities, such as those lacking an IOMMU.
+ 
+ 	  For more information see
+ 	  <Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt>
+ 	  and <kernel/dma/swiotlb.c>.
+ 	  If unsure, say "n".
+ 
++>>>>>>> f3c4b1341e83 (swiotlb: use depends on for DMA_RESTRICTED_POOL)
  #
  # Should be selected if we can mmap non-coherent mappings to userspace.
  # The only thing that is really required is a way to set an uncached bit
* Unmerged path kernel/dma/Kconfig
