nvme-pci: Fix controller freeze wait disabling

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author Keith Busch <keith.busch@intel.com>
commit e43269e6e5c49d7fec599e6bba71963935b0e4ba
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/e43269e6.failed

If a controller disabling didn't start a freeze, don't wait for the
operation to complete.

	Reviewed-by: Ming Lei <ming.lei@redhat.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Keith Busch <keith.busch@intel.com>
(cherry picked from commit e43269e6e5c49d7fec599e6bba71963935b0e4ba)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/pci.c
diff --cc drivers/nvme/host/pci.c
index 18a65e686e98,d4e442160048..000000000000
--- a/drivers/nvme/host/pci.c
+++ b/drivers/nvme/host/pci.c
@@@ -1997,8 -2376,7 +1997,12 @@@ static void nvme_pci_disable(struct nvm
  
  static void nvme_dev_disable(struct nvme_dev *dev, bool shutdown)
  {
++<<<<<<< HEAD
 +	int i;
 +	bool dead = true;
++=======
+ 	bool dead = true, freeze = false;
++>>>>>>> e43269e6e5c4 (nvme-pci: Fix controller freeze wait disabling)
  	struct pci_dev *pdev = to_pci_dev(dev->dev);
  
  	mutex_lock(&dev->shutdown_lock);
* Unmerged path drivers/nvme/host/pci.c
