net: sctp: fix warning "NULL check before some freeing functions is not needed"

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
Rebuild_CHGLOG: - [net] sctp: fix warning "NULL check before some freeing functions is not needed" (Xin Long) [1750092]
Rebuild_FUZZ: 96.73%
commit-author Hariprasad Kelam <hariprasad.kelam@gmail.com>
commit 86fda90ab5888d983f7307442ba62978e3504bd3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/86fda90a.failed

This patch removes NULL checks before calling kfree.

fixes below issues reported by coccicheck
net/sctp/sm_make_chunk.c:2586:3-8: WARNING: NULL check before some
freeing functions is not needed.
net/sctp/sm_make_chunk.c:2652:3-8: WARNING: NULL check before some
freeing functions is not needed.
net/sctp/sm_make_chunk.c:2667:3-8: WARNING: NULL check before some
freeing functions is not needed.
net/sctp/sm_make_chunk.c:2684:3-8: WARNING: NULL check before some
freeing functions is not needed.

	Signed-off-by: Hariprasad Kelam <hariprasad.kelam@gmail.com>
	Acked-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>
	Acked-by: Neil Horman <nhorman@tuxdriver.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 86fda90ab5888d983f7307442ba62978e3504bd3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/sctp/sm_make_chunk.c
diff --cc net/sctp/sm_make_chunk.c
index 8fef389dd2fa,36bd8a6e82df..000000000000
--- a/net/sctp/sm_make_chunk.c
+++ b/net/sctp/sm_make_chunk.c
@@@ -2614,8 -2581,11 +2614,16 @@@ do_addr_param
  
  	case SCTP_PARAM_STATE_COOKIE:
  		asoc->peer.cookie_len =
++<<<<<<< HEAD
 +			ntohs(param.p->length) - sizeof(sctp_paramhdr_t);
 +		asoc->peer.cookie = param.cookie->body;
++=======
+ 			ntohs(param.p->length) - sizeof(struct sctp_paramhdr);
+ 		kfree(asoc->peer.cookie);
+ 		asoc->peer.cookie = kmemdup(param.cookie->body, asoc->peer.cookie_len, gfp);
+ 		if (!asoc->peer.cookie)
+ 			retval = 0;
++>>>>>>> 86fda90ab588 (net: sctp: fix warning "NULL check before some freeing functions is not needed")
  		break;
  
  	case SCTP_PARAM_HEARTBEAT_INFO:
@@@ -2677,6 -2647,7 +2685,10 @@@
  			goto fall_through;
  
  		/* Save peer's random parameter */
++<<<<<<< HEAD
++=======
+ 		kfree(asoc->peer.peer_random);
++>>>>>>> 86fda90ab588 (net: sctp: fix warning "NULL check before some freeing functions is not needed")
  		asoc->peer.peer_random = kmemdup(param.p,
  					    ntohs(param.p->length), gfp);
  		if (!asoc->peer.peer_random) {
@@@ -2690,6 -2661,7 +2702,10 @@@
  			goto fall_through;
  
  		/* Save peer's HMAC list */
++<<<<<<< HEAD
++=======
+ 		kfree(asoc->peer.peer_hmacs);
++>>>>>>> 86fda90ab588 (net: sctp: fix warning "NULL check before some freeing functions is not needed")
  		asoc->peer.peer_hmacs = kmemdup(param.p,
  					    ntohs(param.p->length), gfp);
  		if (!asoc->peer.peer_hmacs) {
@@@ -2705,6 -2677,7 +2721,10 @@@
  		if (!ep->auth_enable)
  			goto fall_through;
  
++<<<<<<< HEAD
++=======
+ 		kfree(asoc->peer.peer_chunks);
++>>>>>>> 86fda90ab588 (net: sctp: fix warning "NULL check before some freeing functions is not needed")
  		asoc->peer.peer_chunks = kmemdup(param.p,
  					    ntohs(param.p->length), gfp);
  		if (!asoc->peer.peer_chunks)
* Unmerged path net/sctp/sm_make_chunk.c
