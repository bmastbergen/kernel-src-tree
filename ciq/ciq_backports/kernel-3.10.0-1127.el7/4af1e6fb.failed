percpu: remove has_reserved from pcpu_chunk

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author Dennis Zhou (Facebook) <dennisszhou@gmail.com>
commit 4af1e6fbd8e46dc44a89edf215207fd7c8d5cdda
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/4af1e6fb.failed

Prior this variable was used to manage statistics when the first chunk
had a reserved region. The previous patch introduced start_offset to
keep track of the offset by value rather than boolean. Therefore,
has_reserved can be removed.

	Signed-off-by: Dennis Zhou <dennisszhou@gmail.com>
	Reviewed-by: Josef Bacik <jbacik@fb.com>
	Signed-off-by: Tejun Heo <tj@kernel.org>
(cherry picked from commit 4af1e6fbd8e46dc44a89edf215207fd7c8d5cdda)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	mm/percpu-internal.h
#	mm/percpu-stats.c
#	mm/percpu.c
diff --cc mm/percpu.c
index 3c1f6f694380,470e1a084a7c..000000000000
--- a/mm/percpu.c
+++ b/mm/percpu.c
@@@ -1689,14 -1697,12 +1689,20 @@@ int __init pcpu_setup_first_chunk(cons
  		schunk->free_size = dyn_size;
  		dyn_size = 0;			/* dynamic area covered */
  	}
 -
  	schunk->contig_hint = schunk->free_size;
 +
  	schunk->map[0] = 1;
++<<<<<<< HEAD
 +	schunk->map[1] = ai->static_size;
 +	schunk->map_used = 1;
 +	if (schunk->free_size)
 +		schunk->map[++schunk->map_used] = ai->static_size + schunk->free_size;
 +	schunk->map[schunk->map_used] |= 1;
++=======
+ 	schunk->map[1] = schunk->start_offset;
+ 	schunk->map[2] = (ai->static_size + schunk->free_size) | 1;
+ 	schunk->map_used = 2;
++>>>>>>> 4af1e6fbd8e4 (percpu: remove has_reserved from pcpu_chunk)
  
  	/* init dynamic chunk if necessary */
  	if (dyn_size) {
* Unmerged path mm/percpu-internal.h
* Unmerged path mm/percpu-stats.c
* Unmerged path mm/percpu-internal.h
* Unmerged path mm/percpu-stats.c
* Unmerged path mm/percpu.c
