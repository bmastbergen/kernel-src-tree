scsi: qla2xxx: Further limit FLASH region write access from SysFS

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author Andrew Vasquez <andrewv@marvell.com>
commit e81d1bcbde06ad2b6413b1d75630a1a8c19175d0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/e81d1bcb.failed

Recent ISPs have larger and more complex flash-write semantics
(secure-access and signing). The BSG interfaces support these semantics for
all ISPs and is exclusively used by QLogic user-space tools. Limit
flash-write operations to ISPs <= 25xx.

	Signed-off-by: Andrew Vasquez <andrewv@marvell.com>
	Signed-off-by: Himanshu Madhani <hmadhani@marvell.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit e81d1bcbde06ad2b6413b1d75630a1a8c19175d0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qla2xxx/qla_attr.c
diff --cc drivers/scsi/qla2xxx/qla_attr.c
index 46f9e424a301,b2520e49971d..000000000000
--- a/drivers/scsi/qla2xxx/qla_attr.c
+++ b/drivers/scsi/qla2xxx/qla_attr.c
@@@ -425,9 -441,7 +429,13 @@@ qla2x00_sysfs_write_optrom_ctl(struct f
  		else if (start == (ha->flt_region_boot * 4) ||
  		    start == (ha->flt_region_fw * 4))
  			valid = 1;
++<<<<<<< HEAD
 +		else if (IS_QLA24XX_TYPE(ha) || IS_QLA25XX(ha)
 +			|| IS_CNA_CAPABLE(ha) || IS_QLA2031(ha)
 +			|| IS_QLA27XX(ha))
++=======
+ 		else if (IS_QLA24XX_TYPE(ha) || IS_QLA25XX(ha))
++>>>>>>> e81d1bcbde06 (scsi: qla2xxx: Further limit FLASH region write access from SysFS)
  			valid = 1;
  		if (!valid) {
  			ql_log(ql_log_warn, vha, 0x7065,
* Unmerged path drivers/scsi/qla2xxx/qla_attr.c
