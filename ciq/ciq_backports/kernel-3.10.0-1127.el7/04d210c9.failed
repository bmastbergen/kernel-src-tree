scsi: lpfc: Fix memory leak in abnormal exit path from lpfc_eq_create

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author James Smart <jsmart2021@gmail.com>
commit 04d210c98e11d863ebe38a7e482e40fb90d9ad82
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/04d210c9.failed

eq create is leaking mailbox memory if it encounters an error.

rework error path to free the memory.

	Signed-off-by: Dick Kennedy <dick.kennedy@broadcom.com>
	Signed-off-by: James Smart <jsmart2021@gmail.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 04d210c98e11d863ebe38a7e482e40fb90d9ad82)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/lpfc/lpfc_sli.c
diff --cc drivers/scsi/lpfc/lpfc_sli.c
index 2f006f914f24,4432060f7315..000000000000
--- a/drivers/scsi/lpfc/lpfc_sli.c
+++ b/drivers/scsi/lpfc/lpfc_sli.c
@@@ -14915,9 -14694,9 +14917,15 @@@ lpfc_eq_create(struct lpfc_hba *phba, s
  	if (eq->queue_id == 0xFFFF)
  		status = -ENXIO;
  	eq->host_index = 0;
++<<<<<<< HEAD
 +	eq->hba_index = 0;
 +	eq->entry_repost = LPFC_EQ_REPOST;
 +
++=======
+ 	eq->notify_interval = LPFC_EQ_NOTIFY_INTRVL;
+ 	eq->max_proc_limit = LPFC_EQ_MAX_PROC_LIMIT;
+ out:
++>>>>>>> 04d210c98e11 (scsi: lpfc: Fix memory leak in abnormal exit path from lpfc_eq_create)
  	mempool_free(mbox, phba->mbox_mem_pool);
  	return status;
  }
* Unmerged path drivers/scsi/lpfc/lpfc_sli.c
