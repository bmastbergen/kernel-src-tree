hv_netvsc: set master device

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author Stephen Hemminger <stephen@networkplumber.org>
commit 97f3efb64323beb0690576e9d74e94998ad6e82a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/97f3efb6.failed

The hyper-v transparent bonding should have used master_dev_link.
The netvsc device should look like a master bond device not
like the upper side of a tunnel.

This makes the semantics the same so that userspace applications
looking at network devices see the correct master relationshipship.

Fixes: 0c195567a8f6 ("netvsc: transparent VF management")
	Signed-off-by: Stephen Hemminger <stephen@networkplumber.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 97f3efb64323beb0690576e9d74e94998ad6e82a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/hyperv/netvsc_drv.c
diff --cc drivers/net/hyperv/netvsc_drv.c
index c4765a6d0b96,da07ccdf84bf..000000000000
--- a/drivers/net/hyperv/netvsc_drv.c
+++ b/drivers/net/hyperv/netvsc_drv.c
@@@ -1865,7 -1840,8 +1865,12 @@@ static int netvsc_vf_join(struct net_de
  		goto rx_handler_failed;
  	}
  
++<<<<<<< HEAD
 +	ret = netdev_upper_dev_link(vf_netdev, ndev);
++=======
+ 	ret = netdev_master_upper_dev_link(vf_netdev, ndev,
+ 					   NULL, NULL, NULL);
++>>>>>>> 97f3efb64323 (hv_netvsc: set master device)
  	if (ret != 0) {
  		netdev_err(vf_netdev,
  			   "can not set master device %s (err = %d)\n",
* Unmerged path drivers/net/hyperv/netvsc_drv.c
