intel_th: Update scratchpad bits according to enabled output activity

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1127.el7
commit-author Alexander Shishkin <alexander.shishkin@linux.intel.com>
commit 4d02ceff32f35f3ea745be6114503c2d2505da99
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1127.el7/4d02ceff.failed

Intel TH implements a scratchpad register to indicate to the firmware
and external debuggers what trace configuration is enabled so that
everybody plays nicely together. The register is a bit field and the
bit assignment convention is described in the developer's manual.

This patch enables the driver to automatically set scratchpad register
bits according to the output configuration that's enabled.

Based on work by Yann Fouassier.

	Signed-off-by: Yann Fouassier <yann.fouassier@intel.com>
	Signed-off-by: Alexander Shishkin <alexander.shishkin@linux.intel.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 4d02ceff32f35f3ea745be6114503c2d2505da99)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/hwtracing/intel_th/core.c
#	drivers/hwtracing/intel_th/gth.c
#	drivers/hwtracing/intel_th/gth.h
#	drivers/hwtracing/intel_th/intel_th.h
* Unmerged path drivers/hwtracing/intel_th/core.c
* Unmerged path drivers/hwtracing/intel_th/gth.c
* Unmerged path drivers/hwtracing/intel_th/gth.h
* Unmerged path drivers/hwtracing/intel_th/intel_th.h
* Unmerged path drivers/hwtracing/intel_th/core.c
* Unmerged path drivers/hwtracing/intel_th/gth.c
* Unmerged path drivers/hwtracing/intel_th/gth.h
* Unmerged path drivers/hwtracing/intel_th/intel_th.h
