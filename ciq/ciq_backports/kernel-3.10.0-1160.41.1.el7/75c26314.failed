netfilter: nf_nat: don't bug when mapping already exists

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.41.1.el7
commit-author Florian Westphal <fw@strlen.de>
commit 75c2631468e8af554057246b2413e738dd96af3d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.41.1.el7/75c26314.failed

It seems preferrable to limp along if we have a conflicting mapping,
its certainly better than a BUG().

	Signed-off-by: Florian Westphal <fw@strlen.de>
	Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
(cherry picked from commit 75c2631468e8af554057246b2413e738dd96af3d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/netfilter/nf_nat_core.c
diff --cc net/netfilter/nf_nat_core.c
index 311258841899,dc3519cc7209..000000000000
--- a/net/netfilter/nf_nat_core.c
+++ b/net/netfilter/nf_nat_core.c
@@@ -398,9 -414,11 +398,17 @@@ nf_nat_setup_info(struct nf_conn *ct
  	if (nf_ct_is_confirmed(ct))
  		return NF_ACCEPT;
  
++<<<<<<< HEAD
 +	NF_CT_ASSERT(maniptype == NF_NAT_MANIP_SRC ||
 +		     maniptype == NF_NAT_MANIP_DST);
 +	BUG_ON(nf_nat_initialized(ct, maniptype));
++=======
+ 	WARN_ON(maniptype != NF_NAT_MANIP_SRC &&
+ 		maniptype != NF_NAT_MANIP_DST);
+ 
+ 	if (WARN_ON(nf_nat_initialized(ct, maniptype)))
+ 		return NF_DROP;
++>>>>>>> 75c2631468e8 (netfilter: nf_nat: don't bug when mapping already exists)
  
  	/* What we've got will look like inverse of reply. Normally
  	 * this is what is in the conntrack, except for prior
* Unmerged path net/netfilter/nf_nat_core.c
