ASoC: simple-scu-card: add dai-link support

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
Rebuild_CHGLOG: - [sound] ALSA: ASoC: simple-scu-card: add dai-link support (Jaroslav Kysela) [1683051]
Rebuild_FUZZ: 93.48%
commit-author Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
commit da32d6537802a257879e9ba91a5e351a24ada889
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/da32d653.failed

simple-card is supporting dai-link support, but simple-scu-card
doesn't have it.
This patch support it. This is prepare for merging simple-card
and simple-scu-card.

	Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit da32d6537802a257879e9ba91a5e351a24ada889)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/generic/simple-scu-card.c
diff --cc sound/soc/generic/simple-scu-card.c
index 77c1efb0d7d4,666ace6175be..000000000000
--- a/sound/soc/generic/simple-scu-card.c
+++ b/sound/soc/generic/simple-scu-card.c
@@@ -220,25 -221,34 +221,51 @@@ static int asoc_simple_card_parse_of(st
  	if (ret < 0)
  		return ret;
  
- 	asoc_simple_card_parse_convert(dev, node, PREFIX, &priv->adata);
+ 	asoc_simple_card_parse_convert(dev, top, PREFIX, &priv->adata);
  
+ 	loop = 1;
  	i = 0;
++<<<<<<< HEAD
 +	codec = of_get_child_by_name(node, PREFIX "codec");
 +	if (!codec)
 +		return -ENODEV;
 +
 +	for_each_child_of_node(node, np) {
 +		is_fe = false;
 +		if (strcmp(np->name, PREFIX "cpu") == 0)
 +			is_fe = true;
 +
 +		ret = asoc_simple_card_dai_link_of(node, np, codec, priv,
 +						   i, is_fe, true);
 +		if (ret < 0)
 +			return ret;
 +		i++;
++=======
+ 	node = of_get_child_by_name(top, PREFIX "dai-link");
+ 	if (!node) {
+ 		node = dev->of_node;
+ 		loop = 0;
++>>>>>>> da32d6537802 (ASoC: simple-scu-card: add dai-link support)
  	}
  
+ 	do  {
+ 		codec = of_get_child_by_name(node,
+ 					     loop ? "codec" : PREFIX "codec");
+ 		if (!codec)
+ 			return -ENODEV;
+ 
+ 		for_each_child_of_node(node, np) {
+ 			is_fe = (np != codec);
+ 
+ 			ret = asoc_simple_card_dai_link_of(node, np, codec, priv,
+ 							   i, is_fe, !loop);
+ 			if (ret < 0)
+ 				return ret;
+ 			i++;
+ 		}
+ 		node = of_get_next_child(top, node);
+ 	} while (loop && node);
+ 
  	ret = asoc_simple_card_parse_card_name(card, PREFIX);
  	if (ret < 0)
  		return ret;
* Unmerged path sound/soc/generic/simple-scu-card.c
