selftests: net: fix/improve ip_defrag selftest

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Peter Oskolkov <posk@google.com>
commit 3271a4821882a64214acc1bd7b173900ec70c9bf
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/3271a482.failed

Commit ade446403bfb ("net: ipv4: do not handle duplicate fragments as
overlapping") changed IPv4 defragmentation so that duplicate fragments,
as well as _some_ fragments completely covered by previously delivered
fragments, do not lead to the whole frag queue being discarded. This
makes the existing ip_defrag selftest flaky.

This patch
* makes sure that negative IPv4 defrag tests generate truly overlapping
  fragments that trigger defrag queue drops;
* tests that duplicate IPv4 fragments do not trigger defrag queue drops;
* makes a couple of minor tweaks to the test aimed at increasing its code
  coverage and reduce flakiness.

	Signed-off-by: Peter Oskolkov <posk@google.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 3271a4821882a64214acc1bd7b173900ec70c9bf)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/net/ip_defrag.c
#	tools/testing/selftests/net/ip_defrag.sh
* Unmerged path tools/testing/selftests/net/ip_defrag.c
* Unmerged path tools/testing/selftests/net/ip_defrag.sh
* Unmerged path tools/testing/selftests/net/ip_defrag.c
* Unmerged path tools/testing/selftests/net/ip_defrag.sh
