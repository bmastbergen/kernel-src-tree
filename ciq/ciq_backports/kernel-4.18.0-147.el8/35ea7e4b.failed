perf script python: Add Python3 support to tests/attr.py

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Tony Jones <tonyj@suse.de>
commit 35ea7e4bbb89ecd32057f5f6a2a8feb0d7224e51
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/35ea7e4b.failed

Support both Python 2 and Python 3 in tests/attr.py

The use of "except as" syntax implies the minimum supported Python2 version is
now v2.6

Committer testing:

  $ make -C tools/perf PYTHON3=python install-bin

Before:

  # perf test attr
  16: Setup struct perf_event_attr                          : FAILED!
  48: Synthesize attr update                                : Ok
  [root@quaco ~]# perf test -v attr
  16: Setup struct perf_event_attr                          :
  --- start ---
  test child forked, pid 3121
    File "/home/acme/libexec/perf-core/tests/attr.py", line 324
      except Unsup, obj:
                ^
  SyntaxError: invalid syntax
  test child finished with -1
  ---- end ----
  Setup struct perf_event_attr: FAILED!
  48: Synthesize attr update                                :
  --- start ---
  test child forked, pid 3124
  test child finished with 0
  ---- end ----
  Synthesize attr update: Ok
  #

After:

   # perf test attr
  16: Setup struct perf_event_attr                          : Ok
  48: Synthesize attr update                                : Ok
  #

	Signed-off-by: Tony Jones <tonyj@suse.de>
	Acked-by: Jiri Olsa <jolsa@kernel.org>
	Tested-by: Arnaldo Carvalho de Melo <acme@redhat.com>
	Cc: Jonathan Corbet <corbet@lwn.net>
	Cc: Ravi Bangoria <ravi.bangoria@linux.ibm.com>
	Cc: Seeteena Thoufeek <s1seetee@linux.vnet.ibm.com>
Link: http://lkml.kernel.org/r/20190124005229.16146-7-tonyj@suse.de
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit 35ea7e4bbb89ecd32057f5f6a2a8feb0d7224e51)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/tests/attr.py
diff --cc tools/perf/tests/attr.py
index 7d0a94bd1b8a,cb39ac46bc73..000000000000
--- a/tools/perf/tests/attr.py
+++ b/tools/perf/tests/attr.py
@@@ -10,11 -9,11 +10,19 @@@ import optpars
  import tempfile
  import logging
  import shutil
++<<<<<<< HEAD
 +try:
 +    import ConfigParser as configparser
 +except ImportError:
 +    # Python 3 renamed ConfigParser to configparser
 +    import configparser
++=======
+ 
+ try:
+     import configparser
+ except ImportError:
+     import ConfigParser as configparser
++>>>>>>> 35ea7e4bbb89 (perf script python: Add Python3 support to tests/attr.py)
  
  def data_equal(a, b):
      # Allow multiple values in assignment separated by '|'
* Unmerged path tools/perf/tests/attr.py
