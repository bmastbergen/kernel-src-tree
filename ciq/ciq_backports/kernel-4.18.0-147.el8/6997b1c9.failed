net/mlx5: Emit port affinity event for multipath offloads

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Roi Dayan <roid@mellanox.com>
commit 6997b1c9cace95c0e67de620a94ab6ba88d044fe
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/6997b1c9.failed

Under multipath offload scheme, as part of handling fib events, emit
mlx5 port affinity event on the enabled ports which will be handled by
the tc offloads code.

	Signed-off-by: Roi Dayan <roid@mellanox.com>
	Reviewed-by: Or Gerlitz <ogerlitz@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 6997b1c9cace95c0e67de620a94ab6ba88d044fe)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/lag_mp.c
#	include/linux/mlx5/driver.h
diff --cc include/linux/mlx5/driver.h
index 90e47adfa1f1,5ffb5df1a2c2..000000000000
--- a/include/linux/mlx5/driver.h
+++ b/include/linux/mlx5/driver.h
@@@ -202,15 -195,7 +202,19 @@@ struct mlx5_rsc_debug 
  
  enum mlx5_dev_event {
  	MLX5_DEV_EVENT_SYS_ERROR = 128, /* 0 - 127 are FW events */
++<<<<<<< HEAD
 +	MLX5_DEV_EVENT_PORT_UP,
 +	MLX5_DEV_EVENT_PORT_DOWN,
 +	MLX5_DEV_EVENT_PORT_INITIALIZED,
 +	MLX5_DEV_EVENT_LID_CHANGE,
 +	MLX5_DEV_EVENT_PKEY_CHANGE,
 +	MLX5_DEV_EVENT_GUID_CHANGE,
 +	MLX5_DEV_EVENT_CLIENT_REREG,
 +	MLX5_DEV_EVENT_PPS,
 +	MLX5_DEV_EVENT_DELAY_DROP_TIMEOUT,
++=======
+ 	MLX5_DEV_EVENT_PORT_AFFINITY = 129,
++>>>>>>> 6997b1c9cace (net/mlx5: Emit port affinity event for multipath offloads)
  };
  
  enum mlx5_port_status {
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/lag_mp.c
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/lag_mp.c
* Unmerged path include/linux/mlx5/driver.h
