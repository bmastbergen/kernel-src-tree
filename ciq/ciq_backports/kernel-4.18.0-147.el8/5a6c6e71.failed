RDMA/nes: Initialize ib_device_ops struct

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Kamal Heib <kamalheib1@gmail.com>
commit 5a6c6e71acb069f0d7707fbc9b29a93cbe241d46
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/5a6c6e71.failed

Initialize ib_device_ops with the supported operations using
ib_set_device_ops().

	Signed-off-by: Kamal Heib <kamalheib1@gmail.com>
	Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
(cherry picked from commit 5a6c6e71acb069f0d7707fbc9b29a93cbe241d46)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/hw/nes/nes_verbs.c
diff --cc drivers/infiniband/hw/nes/nes_verbs.c
index 00080dc29bf1,f9d510431900..000000000000
--- a/drivers/infiniband/hw/nes/nes_verbs.c
+++ b/drivers/infiniband/hw/nes/nes_verbs.c
@@@ -3728,42 -3706,6 +3761,45 @@@ struct nes_ib_device *nes_init_ofa_devi
  	nesibdev->ibdev.phys_port_cnt = 1;
  	nesibdev->ibdev.num_comp_vectors = 1;
  	nesibdev->ibdev.dev.parent = &nesdev->pcidev->dev;
++<<<<<<< HEAD
 +	nesibdev->ibdev.query_device = nes_query_device;
 +	nesibdev->ibdev.query_port = nes_query_port;
 +	nesibdev->ibdev.query_pkey = nes_query_pkey;
 +	nesibdev->ibdev.query_gid = nes_query_gid;
 +	nesibdev->ibdev.alloc_ucontext = nes_alloc_ucontext;
 +	nesibdev->ibdev.dealloc_ucontext = nes_dealloc_ucontext;
 +	nesibdev->ibdev.mmap = nes_mmap;
 +	nesibdev->ibdev.alloc_pd = nes_alloc_pd;
 +	nesibdev->ibdev.dealloc_pd = nes_dealloc_pd;
 +	nesibdev->ibdev.create_ah = nes_create_ah;
 +	nesibdev->ibdev.destroy_ah = nes_destroy_ah;
 +	nesibdev->ibdev.create_qp = nes_create_qp;
 +	nesibdev->ibdev.modify_qp = nes_modify_qp;
 +	nesibdev->ibdev.query_qp = nes_query_qp;
 +	nesibdev->ibdev.destroy_qp = nes_destroy_qp;
 +	nesibdev->ibdev.create_cq = nes_create_cq;
 +	nesibdev->ibdev.destroy_cq = nes_destroy_cq;
 +	nesibdev->ibdev.poll_cq = nes_poll_cq;
 +	nesibdev->ibdev.get_dma_mr = nes_get_dma_mr;
 +	nesibdev->ibdev.reg_user_mr = nes_reg_user_mr;
 +	nesibdev->ibdev.dereg_mr = nes_dereg_mr;
 +	nesibdev->ibdev.alloc_mw = nes_alloc_mw;
 +	nesibdev->ibdev.dealloc_mw = nes_dealloc_mw;
 +
 +	nesibdev->ibdev.alloc_mr = nes_alloc_mr;
 +	nesibdev->ibdev.map_mr_sg = nes_map_mr_sg;
 +
 +	nesibdev->ibdev.attach_mcast = nes_multicast_attach;
 +	nesibdev->ibdev.detach_mcast = nes_multicast_detach;
 +	nesibdev->ibdev.process_mad = nes_process_mad;
 +
 +	nesibdev->ibdev.req_notify_cq = nes_req_notify_cq;
 +	nesibdev->ibdev.post_send = nes_post_send;
 +	nesibdev->ibdev.post_recv = nes_post_recv;
 +	nesibdev->ibdev.drain_sq = nes_drain_sq;
 +	nesibdev->ibdev.drain_rq = nes_drain_rq;
++=======
++>>>>>>> 5a6c6e71acb0 (RDMA/nes: Initialize ib_device_ops struct)
  
  	nesibdev->ibdev.iwcm = kzalloc(sizeof(*nesibdev->ibdev.iwcm), GFP_KERNEL);
  	if (nesibdev->ibdev.iwcm == NULL) {
* Unmerged path drivers/infiniband/hw/nes/nes_verbs.c
