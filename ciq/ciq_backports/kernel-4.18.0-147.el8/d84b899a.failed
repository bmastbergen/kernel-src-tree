ice: Don't let VF know that it is untrusted

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Akeem G Abodunrin <akeem.g.abodunrin@intel.com>
commit d84b899a946ea590355ab5f9ce13f56767ec312d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/d84b899a.failed

Don't let the VF know it's not trusted when it tries to add more than
permitted additional MAC addresses.

	Signed-off-by: Akeem G Abodunrin <akeem.g.abodunrin@intel.com>
	Signed-off-by: Anirudh Venkataramanan <anirudh.venkataramanan@intel.com>
	Tested-by: Andrew Bowers <andrewx.bowers@intel.com>
	Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
(cherry picked from commit d84b899a946ea590355ab5f9ce13f56767ec312d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ice/ice_virtchnl_pf.c
diff --cc drivers/net/ethernet/intel/ice/ice_virtchnl_pf.c
index 0bac5793a746,fe218e62e83e..000000000000
--- a/drivers/net/ethernet/intel/ice/ice_virtchnl_pf.c
+++ b/drivers/net/ethernet/intel/ice/ice_virtchnl_pf.c
@@@ -2207,8 -2273,11 +2210,16 @@@ static int ice_vc_process_vlan_msg(stru
  	if (add_v && !ice_is_vf_trusted(vf) &&
  	    vf->num_vlan >= ICE_MAX_VLAN_PER_VF) {
  		dev_info(&pf->pdev->dev,
++<<<<<<< HEAD
 +			 "VF is not trusted, switch the VF to trusted mode, in order to add more VLAN addresses\n");
 +		aq_ret = ICE_ERR_PARAM;
++=======
+ 			 "VF-%d is not trusted, switch the VF to trusted mode, in order to add more VLAN addresses\n",
+ 			 vf->vf_id);
+ 		/* There is no need to let VF know about being not trusted,
+ 		 * so we can just return success message here
+ 		 */
++>>>>>>> d84b899a946e (ice: Don't let VF know that it is untrusted)
  		goto error_param;
  	}
  
* Unmerged path drivers/net/ethernet/intel/ice/ice_virtchnl_pf.c
