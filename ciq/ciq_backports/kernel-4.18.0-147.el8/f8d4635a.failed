KVM: arm64/sve: Miscellaneous tidyups in guest.c

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Dave Martin <Dave.Martin@arm.com>
commit f8d4635aff7e2e46beedaf61517a1caa4a06ee42
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/f8d4635a.failed

 * Remove a few redundant blank lines that are stylistically
   inconsistent with code already in guest.c and are just taking up
   space.

 * Delete a couple of pointless empty default cases from switch
   statements whose behaviour is otherwise obvious anyway.

 * Fix some typos and consolidate some redundantly duplicated
   comments.

 * Respell the slice index check in sve_reg_to_region() as "> 0"
   to be more consistent with what is logically being checked here
   (i.e., "is the slice index too large"), even though we don't try
   to cope with multiple slices yet.

No functional change.

	Suggested-by: Andrew Jones <drjones@redhat.com>
	Signed-off-by: Dave Martin <Dave.Martin@arm.com>
	Reviewed-by: Andrew Jones <drjones@redhat.com>
	Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>
(cherry picked from commit f8d4635aff7e2e46beedaf61517a1caa4a06ee42)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/kvm/guest.c
diff --cc arch/arm64/kvm/guest.c
index 61e28cc5ed6d,f5ff7aea25aa..000000000000
--- a/arch/arm64/kvm/guest.c
+++ b/arch/arm64/kvm/guest.c
@@@ -450,6 -543,18 +448,21 @@@ static int copy_sve_reg_indices(const s
  	if (!vcpu_has_sve(vcpu))
  		return 0;
  
++<<<<<<< HEAD
++=======
+ 	/* Policed by KVM_GET_REG_LIST: */
+ 	WARN_ON(!kvm_arm_vcpu_sve_finalized(vcpu));
+ 
+ 	/*
+ 	 * Enumerate this first, so that userspace can save/restore in
+ 	 * the order reported by KVM_GET_REG_LIST:
+ 	 */
+ 	reg = KVM_REG_ARM64_SVE_VLS;
+ 	if (put_user(reg, uindices++))
+ 		return -EFAULT;
+ 	++num_regs;
+ 
++>>>>>>> f8d4635aff7e (KVM: arm64/sve: Miscellaneous tidyups in guest.c)
  	for (i = 0; i < slices; i++) {
  		for (n = 0; n < SVE_NUM_ZREGS; n++) {
  			reg = KVM_REG_ARM64_SVE_ZREG(n, i);
* Unmerged path arch/arm64/kvm/guest.c
