ravb: Disable Pause Advertisement

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Andrew Lunn <andrew@lunn.ch>
commit 65c5877f64623dcb603082e7b3533a25a2601f1b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/65c5877f.failed

The previous commit to ravb had the side effect of making the PHY
advertise Pause and Asym Pause, which previously did not happen.  By
default, phydev->supported has both forms of pause enabled, but
phydev->advertising does not. The new phy_remove_link_mode() copies
phydev->supported to phydev->advertising after removing the requested
link mode. These Pause configuration bits appears it stops the PHY
from completing Auto-Neg and the link remains down.  Be explicit and
remove the Pause and Asym Pause modes, so restoring the old behavior.

Fixes: 41124fa64d4b ("net: ethernet: Add helper to remove a supported link mode")
	Reported-by: Simon Horman <horms@verge.net.au>
	Signed-off-by: Andrew Lunn <andrew@lunn.ch>
	Reviewed-by: Sergei Shtylyov <sergei.shtylyov@cogentembedded.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 65c5877f64623dcb603082e7b3533a25a2601f1b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/renesas/ravb_main.c
diff --cc drivers/net/ethernet/renesas/ravb_main.c
index ca64362e54a9,61d125750db9..000000000000
--- a/drivers/net/ethernet/renesas/ravb_main.c
+++ b/drivers/net/ethernet/renesas/ravb_main.c
@@@ -1076,8 -1081,11 +1076,16 @@@ static int ravb_phy_init(struct net_dev
  		netdev_info(ndev, "limited PHY to 100Mbit/s\n");
  	}
  
++<<<<<<< HEAD
 +	/* 10BASE is not supported */
 +	phydev->supported &= ~PHY_10BT_FEATURES;
++=======
+ 	/* 10BASE, Pause and Asym Pause is not supported */
+ 	phy_remove_link_mode(phydev, ETHTOOL_LINK_MODE_10baseT_Half_BIT);
+ 	phy_remove_link_mode(phydev, ETHTOOL_LINK_MODE_10baseT_Full_BIT);
+ 	phy_remove_link_mode(phydev, ETHTOOL_LINK_MODE_Pause_BIT);
+ 	phy_remove_link_mode(phydev, ETHTOOL_LINK_MODE_Asym_Pause_BIT);
++>>>>>>> 65c5877f6462 (ravb: Disable Pause Advertisement)
  
  	phy_attached_info(phydev);
  
* Unmerged path drivers/net/ethernet/renesas/ravb_main.c
