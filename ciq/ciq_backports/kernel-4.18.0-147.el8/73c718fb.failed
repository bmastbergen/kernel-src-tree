net/mlx5e: Remove wrong and superfluous tc pedit header type check

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Vlad Buslov <vladbu@mellanox.com>
commit 73c718fbb32adc2df8a7ee00c1a880b97d547d24
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/73c718fb.failed

With recent introduction of flow_rule infrastructure drivers no longer
directly include action headers, so it is no longer possible to use
constants defined in them. Instead, one of flow_rule patches substituted
pedit action header constant with hardcoded value '2' in mlx5
set_pedit_val() function conditional which verifies that header type is in
range of values allowed by pedit action. That conditional is now both
wrong (hardcoded value is '2' but __PEDIT_HDR_TYPE_MAX is 6 in current
version) and superfluous (pedit action already verifies that header type is
in allowed range during init). Remove the described check from mlx5 code.

Fixes: 738678817573 ("drivers: net: use flow action infrastructure")
	Signed-off-by: Vlad Buslov <vladbu@mellanox.com>
	Reviewed-by: Roi Dayan <roid@mellanox.com>
	Reviewed-by: Dmytro Linkin <dmitrolin@mellanox.com>
	Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
(cherry picked from commit 73c718fbb32adc2df8a7ee00c1a880b97d547d24)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index 06543506a2d4,43b7191e94b2..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -1663,11 -1827,8 +1663,16 @@@ static int set_pedit_val(u8 hdr_type, u
  {
  	u32 *curr_pmask, *curr_pval;
  
++<<<<<<< HEAD
 +	if (hdr_type >= __PEDIT_HDR_TYPE_MAX)
 +		goto out_err;
 +
 +	curr_pmask = (u32 *)(pedit_header(masks, hdr_type) + offset);
 +	curr_pval  = (u32 *)(pedit_header(vals, hdr_type) + offset);
++=======
+ 	curr_pmask = (u32 *)(pedit_header(&hdrs->masks, hdr_type) + offset);
+ 	curr_pval  = (u32 *)(pedit_header(&hdrs->vals, hdr_type) + offset);
++>>>>>>> 73c718fbb32a (net/mlx5e: Remove wrong and superfluous tc pedit header type check)
  
  	if (*curr_pmask & mask)  /* disallow acting twice on the same location */
  		goto out_err;
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
