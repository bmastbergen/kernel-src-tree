netfilter: ipset: Fix the last missing check of nla_parse_deprecated()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
commit 13c6ba1f855415cf3b9c58ea926ae8858050ec1c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/13c6ba1f.failed

In dump_init() the outdated comment was incorrect and we had a missing
validation check of nla_parse_deprecated().

	Signed-off-by: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
(cherry picked from commit 13c6ba1f855415cf3b9c58ea926ae8858050ec1c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/netfilter/ipset/ip_set_core.c
diff --cc net/netfilter/ipset/ip_set_core.c
index 45a257695bef,039892cd2b7d..000000000000
--- a/net/netfilter/ipset/ip_set_core.c
+++ b/net/netfilter/ipset/ip_set_core.c
@@@ -1296,10 -1293,13 +1296,19 @@@ dump_init(struct netlink_callback *cb, 
  	struct nlattr *attr = (void *)nlh + min_len;
  	u32 dump_type;
  	ip_set_id_t index;
+ 	int ret;
  
++<<<<<<< HEAD
 +	/* Second pass, so parser can't fail */
 +	nla_parse(cda, IPSET_ATTR_CMD_MAX, attr, nlh->nlmsg_len - min_len,
 +		  ip_set_setname_policy, NULL);
++=======
+ 	ret = nla_parse_deprecated(cda, IPSET_ATTR_CMD_MAX, attr,
+ 				   nlh->nlmsg_len - min_len,
+ 				   ip_set_setname_policy, NULL);
+ 	if (ret)
+ 		return ret;
++>>>>>>> 13c6ba1f8554 (netfilter: ipset: Fix the last missing check of nla_parse_deprecated())
  
  	cb->args[IPSET_CB_PROTO] = nla_get_u8(cda[IPSET_ATTR_PROTOCOL]);
  	if (cda[IPSET_ATTR_SETNAME]) {
* Unmerged path net/netfilter/ipset/ip_set_core.c
