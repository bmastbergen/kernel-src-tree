perf script python: Remove explicit shebang from Python scripts

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Tony Jones <tonyj@suse.de>
commit a38352de4495a6a4662609a560b2db4b03d6b352
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/a38352de.failed

The scripts in scripts/python are intended to be run from 'perf script'
and the Python version used is dictated by how perf was built (PYTHON=).

Also most distros follow pep-0394 which recommends that /usr/bin/python
refer to Python2 and so may not exist on the system (if PYTHON=python3).

- Remove the explicit shebang
- Install the scripts as mode 644

	Signed-off-by: Tony Jones <tonyj@suse.de>
	Acked-by: Jiri Olsa <jolsa@kernel.org>
	Cc: Adrian Hunter <adrian.hunter@intel.com>
	Cc: Frederic Weisbecker <fweisbec@gmail.com>
	Cc: Jonathan Corbet <corbet@lwn.net>
	Cc: Ravi Bangoria <ravi.bangoria@linux.ibm.com>
	Cc: Seeteena Thoufeek <s1seetee@linux.vnet.ibm.com>
Link: http://lkml.kernel.org/r/20190124005229.16146-6-tonyj@suse.de
	Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
(cherry picked from commit a38352de4495a6a4662609a560b2db4b03d6b352)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/perf/scripts/python/sched-migration.py
#	tools/perf/scripts/python/stat-cpi.py
diff --cc tools/perf/scripts/python/sched-migration.py
index e2782ab65baf,3984bf51f3c5..000000000000
--- a/tools/perf/scripts/python/sched-migration.py
+++ b/tools/perf/scripts/python/sched-migration.py
@@@ -1,5 -1,3 +1,8 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
 +#
++=======
++>>>>>>> a38352de4495 (perf script python: Remove explicit shebang from Python scripts)
  # Cpu task migration overview toy
  #
  # Copyright (C) 2010 Frederic Weisbecker <fweisbec@gmail.com>
diff --cc tools/perf/scripts/python/stat-cpi.py
index 158f08b001e3,a81ad8835a74..000000000000
--- a/tools/perf/scripts/python/stat-cpi.py
+++ b/tools/perf/scripts/python/stat-cpi.py
@@@ -1,8 -1,5 +1,11 @@@
++<<<<<<< HEAD
 +#! /usr/bin/python3
++=======
++>>>>>>> a38352de4495 (perf script python: Remove explicit shebang from Python scripts)
  # SPDX-License-Identifier: GPL-2.0
  
 +from __future__ import print_function
 +
  data    = {}
  times   = []
  threads = []
diff --git a/tools/perf/Makefile.perf b/tools/perf/Makefile.perf
index 0ee6795d82cc..09df1c8a4ec9 100644
--- a/tools/perf/Makefile.perf
+++ b/tools/perf/Makefile.perf
@@ -863,8 +863,8 @@ ifndef NO_LIBPYTHON
 	$(call QUIET_INSTALL, python-scripts) \
 		$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python/Perf-Trace-Util/lib/Perf/Trace'; \
 		$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python/bin'; \
-		$(INSTALL) scripts/python/Perf-Trace-Util/lib/Perf/Trace/* -t '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python/Perf-Trace-Util/lib/Perf/Trace'; \
-		$(INSTALL) scripts/python/*.py -t '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python'; \
+		$(INSTALL) scripts/python/Perf-Trace-Util/lib/Perf/Trace/* -m 644 -t '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python/Perf-Trace-Util/lib/Perf/Trace'; \
+		$(INSTALL) scripts/python/*.py -m 644 -t '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python'; \
 		$(INSTALL) scripts/python/bin/* -t '$(DESTDIR_SQ)$(perfexec_instdir_SQ)/scripts/python/bin'
 endif
 	$(call QUIET_INSTALL, perf_completion-script) \
diff --git a/tools/perf/scripts/python/exported-sql-viewer.py b/tools/perf/scripts/python/exported-sql-viewer.py
index 52e4a9d7b0bb..57afe5e7af50 100755
--- a/tools/perf/scripts/python/exported-sql-viewer.py
+++ b/tools/perf/scripts/python/exported-sql-viewer.py
@@ -1,4 +1,3 @@
-#!/usr/bin/python2
 # SPDX-License-Identifier: GPL-2.0
 # exported-sql-viewer.py: view data from sql database
 # Copyright (c) 2014-2018, Intel Corporation.
* Unmerged path tools/perf/scripts/python/sched-migration.py
* Unmerged path tools/perf/scripts/python/stat-cpi.py
