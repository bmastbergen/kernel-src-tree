drm/i915: Support flags in whitlist WAs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author John Harrison <John.C.Harrison@Intel.com>
commit 5380d0b781c491d94b4f4690ecf9762c1946c4ec
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/5380d0b7.failed

Newer hardware adds flags to the whitelist work-around register. These
allow per access direction privileges and ranges.

	Signed-off-by: John Harrison <John.C.Harrison@Intel.com>
	Signed-off-by: Robert M. Fosha <robert.m.fosha@intel.com>
	Cc: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
	Cc: Chris Wilson <chris@chris-wilson.co.uk>
	Reviewed-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
	Reviewed-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
	Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20190618010108.27499-2-John.C.Harrison@Intel.com
(cherry picked from commit 5380d0b781c491d94b4f4690ecf9762c1946c4ec)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/i915/gt/intel_workarounds.c
#	drivers/gpu/drm/i915/i915_reg.h
diff --cc drivers/gpu/drm/i915/i915_reg.h
index a78c6ef1f608,a408886adb47..000000000000
--- a/drivers/gpu/drm/i915/i915_reg.h
+++ b/drivers/gpu/drm/i915/i915_reg.h
@@@ -2290,11 -2508,18 +2290,22 @@@ enum i915_power_well_id 
  #define   RING_VALID_MASK	0x00000001
  #define   RING_VALID		0x00000001
  #define   RING_INVALID		0x00000000
 -#define   RING_WAIT_I8XX	(1 << 0) /* gen2, PRBx_HEAD */
 -#define   RING_WAIT		(1 << 11) /* gen3+, PRBx_CTL */
 -#define   RING_WAIT_SEMAPHORE	(1 << 10) /* gen6+ */
 +#define   RING_WAIT_I8XX	(1<<0) /* gen2, PRBx_HEAD */
 +#define   RING_WAIT		(1<<11) /* gen3+, PRBx_CTL */
 +#define   RING_WAIT_SEMAPHORE	(1<<10) /* gen6+ */
  
++<<<<<<< HEAD
 +#define RING_FORCE_TO_NONPRIV(base, i) _MMIO(((base)+0x4D0) + (i)*4)
++=======
+ #define RING_FORCE_TO_NONPRIV(base, i) _MMIO(((base) + 0x4D0) + (i) * 4)
+ #define   RING_FORCE_TO_NONPRIV_RW		(0 << 28)    /* CFL+ & Gen11+ */
+ #define   RING_FORCE_TO_NONPRIV_RD		(1 << 28)
+ #define   RING_FORCE_TO_NONPRIV_WR		(2 << 28)
+ #define   RING_FORCE_TO_NONPRIV_RANGE_1		(0 << 0)     /* CFL+ & Gen11+ */
+ #define   RING_FORCE_TO_NONPRIV_RANGE_4		(1 << 0)
+ #define   RING_FORCE_TO_NONPRIV_RANGE_16	(2 << 0)
+ #define   RING_FORCE_TO_NONPRIV_RANGE_64	(3 << 0)
++>>>>>>> 5380d0b781c4 (drm/i915: Support flags in whitlist WAs)
  #define   RING_MAX_NONPRIV_SLOTS  12
  
  #define GEN7_TLB_RD_ADDR	_MMIO(0x4700)
* Unmerged path drivers/gpu/drm/i915/gt/intel_workarounds.c
* Unmerged path drivers/gpu/drm/i915/gt/intel_workarounds.c
* Unmerged path drivers/gpu/drm/i915/i915_reg.h
