kvm: nVMX: NMI-window and interrupt-window exiting should wake L2 from HLT

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Jim Mattson <jmattson@google.com>
commit 9ebdfe5230f2e50e3ba05c57723a06e90946815a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/9ebdfe52.failed

According to the SDM, "NMI-window exiting" VM-exits wake a logical
processor from the same inactive states as would an NMI and
"interrupt-window exiting" VM-exits wake a logical processor from the
same inactive states as would an external interrupt. Specifically, they
wake a logical processor from the shutdown state and from the states
entered using the HLT and MWAIT instructions.

Fixes: 6dfacadd5858 ("KVM: nVMX: Add support for activity state HLT")
	Signed-off-by: Jim Mattson <jmattson@google.com>
	Reviewed-by: Peter Shier <pshier@google.com>
	Suggested-by: Sean Christopherson <sean.j.christopherson@intel.com>
[Squashed comments of two Jim's patches and used the simplified code
 hunk provided by Sean. - Radim]
	Signed-off-by: Radim Krčmář <rkrcmar@redhat.com>
(cherry picked from commit 9ebdfe5230f2e50e3ba05c57723a06e90946815a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/kvm/vmx/nested.c
* Unmerged path arch/x86/kvm/vmx/nested.c
* Unmerged path arch/x86/kvm/vmx/nested.c
