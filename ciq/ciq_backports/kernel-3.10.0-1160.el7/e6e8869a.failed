net: tcp: remove BUG_ON from tcp_v4_err

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.el7
Rebuild_CHGLOG: - [net] tcp: remove BUG_ON from tcp_v4_err (Marcelo Leitner) [1749964]
Rebuild_FUZZ: 93.15%
commit-author Li RongQing <lirongqing@baidu.com>
commit e6e8869aed897a021fafa6f412e9e4b7e2ea6cd3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.el7/e6e8869a.failed

if skb is NULL pointer, and the following access of skb's
skb_mstamp_ns will trigger panic, which is same as BUG_ON

	Signed-off-by: Li RongQing <lirongqing@baidu.com>
	Signed-off-by: Eric Dumazet <edumazet@google.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit e6e8869aed897a021fafa6f412e9e4b7e2ea6cd3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv4/tcp_ipv4.c
diff --cc net/ipv4/tcp_ipv4.c
index 4a638d050147,5424a4077c27..000000000000
--- a/net/ipv4/tcp_ipv4.c
+++ b/net/ipv4/tcp_ipv4.c
@@@ -434,14 -541,14 +434,18 @@@ void tcp_v4_err(struct sk_buff *icmp_sk
  					       TCP_TIMEOUT_INIT;
  		icsk->icsk_rto = inet_csk_rto_backoff(icsk, TCP_RTO_MAX);
  
++<<<<<<< HEAD
 +		skb = tcp_write_queue_head(sk);
 +		BUG_ON(!skb);
++=======
+ 		skb = tcp_rtx_queue_head(sk);
++>>>>>>> e6e8869aed89 (net: tcp: remove BUG_ON from tcp_v4_err)
  
 -		tcp_mstamp_refresh(tp);
 -		delta_us = (u32)(tp->tcp_mstamp - tcp_skb_timestamp_us(skb));
  		remaining = icsk->icsk_rto -
 -			    usecs_to_jiffies(delta_us);
 +			    min(icsk->icsk_rto,
 +				tcp_time_stamp - tcp_skb_timestamp(skb));
  
 -		if (remaining > 0) {
 +		if (remaining) {
  			inet_csk_reset_xmit_timer(sk, ICSK_TIME_RETRANS,
  						  remaining, TCP_RTO_MAX);
  		} else {
* Unmerged path net/ipv4/tcp_ipv4.c
