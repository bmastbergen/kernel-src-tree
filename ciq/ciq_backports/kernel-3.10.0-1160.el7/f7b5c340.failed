NFS: Cleanup nfs_direct_complete()

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.el7
commit-author Trond Myklebust <trond.myklebust@primarydata.com>
commit f7b5c340aca87d736a6b15aa40bf135f1baab011
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.el7/f7b5c340.failed

There is only one caller that sets the "write" argument to true,
so just move the call to nfs_zap_mapping() and get rid of the
now redundant argument.

	Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
(cherry picked from commit f7b5c340aca87d736a6b15aa40bf135f1baab011)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfs/direct.c
diff --cc fs/nfs/direct.c
index 245296715330,c16d33eb1ddf..000000000000
--- a/fs/nfs/direct.c
+++ b/fs/nfs/direct.c
@@@ -378,18 -376,6 +378,21 @@@ static void nfs_direct_complete(struct 
  {
  	struct inode *inode = dreq->inode;
  
++<<<<<<< HEAD
 +	if (dreq->iocb && write) {
 +		loff_t pos = dreq->iocb->ki_pos + dreq->count;
 +
 +		spin_lock(&inode->i_lock);
 +		if (i_size_read(inode) < pos)
 +			i_size_write(inode, pos);
 +		spin_unlock(&inode->i_lock);
 +	}
 +
 +	if (write)
 +		nfs_zap_mapping(inode, inode->i_mapping);
 +
++=======
++>>>>>>> f7b5c340aca8 (NFS: Cleanup nfs_direct_complete())
  	inode_dio_end(inode);
  
  	if (dreq->iocb) {
* Unmerged path fs/nfs/direct.c
