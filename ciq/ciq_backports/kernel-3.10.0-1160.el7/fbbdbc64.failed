bnxt_en: Fix allocation of zero statistics block size regression.

jira LE-1907
Rebuild_History Non-Buildable kernel-3.10.0-1160.el7
Rebuild_CHGLOG: - [netdrv] bnxt_en: Fix allocation of zero statistics block size regression (Jonathan Toppins) [1824438]
Rebuild_FUZZ: 99.22%
commit-author Michael Chan <michael.chan@broadcom.com>
commit fbbdbc6473070dcb3ee1d69cf1c49ff78677d716
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-3.10.0-1160.el7/fbbdbc64.failed

Recent commit added logic to determine the appropriate statistics block
size to allocate and the size is stored in bp->hw_ring_stats_size.  But
if the firmware spec is older than 1.6.0, it is 0 and not initialized.
This causes the allocation to fail with size 0 and bnxt_open() to
abort.  Fix it by always initializing bp->hw_ring_stats_size to the
legacy default size value.

Fixes: 4e7485066373 ("bnxt_en: Allocate the larger per-ring statistics block for 57500 chips.")
	Reported-by: Jonathan Lemon <jonathan.lemon@gmail.com>
	Signed-off-by: Michael Chan <michael.chan@broadcom.com>
	Tested-by: Jonathan Lemon <jonathan.lemon@gmail.com>
	Acked-by: Jonathan Lemon <jonathan.lemon@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit fbbdbc6473070dcb3ee1d69cf1c49ff78677d716)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/broadcom/bnxt/bnxt.c
diff --cc drivers/net/ethernet/broadcom/bnxt/bnxt.c
index d0557d84bac5,b9ad43d3dc51..000000000000
--- a/drivers/net/ethernet/broadcom/bnxt/bnxt.c
+++ b/drivers/net/ethernet/broadcom/bnxt/bnxt.c
@@@ -4740,6 -5001,10 +4741,13 @@@ static int bnxt_hwrm_vnic_qcaps(struct 
  		if (flags &
  		    VNIC_QCAPS_RESP_FLAGS_ROCE_MIRRORING_CAPABLE_VNIC_CAP)
  			bp->flags |= BNXT_FLAG_ROCE_MIRROR_CAP;
++<<<<<<< HEAD
++=======
+ 		bp->max_tpa_v2 = le16_to_cpu(resp->max_aggs_supported);
+ 		if (bp->max_tpa_v2)
+ 			bp->hw_ring_stats_size =
+ 				sizeof(struct ctx_hw_stats_ext);
++>>>>>>> fbbdbc647307 (bnxt_en: Fix allocation of zero statistics block size regression.)
  	}
  	mutex_unlock(&bp->hwrm_cmd_lock);
  	return rc;
* Unmerged path drivers/net/ethernet/broadcom/bnxt/bnxt.c
